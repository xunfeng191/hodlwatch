(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"++kv":function(e){e.exports=JSON.parse('{"name":"dao","comment":"DAO rescue hardfork","eip":{"url":"https://eips.ethereum.org/EIPS/eip-779","status":"Final"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},"+C5w":function(e,t,i){var r=i("xFKm");e.exports=function(e){return"string"!==typeof e?e:r(e)?e.slice(2):e}},"+Ci3":function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s,InvalidOrder:a,OrderNotFound:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kkex",name:"KKEX",countries:["CN","US","JP"],version:"v2",has:{CORS:!1,fetchBalance:!0,fetchTickers:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!0,fetchOrder:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47401462-2e59f800-d74a-11e8-814f-e4ae17b4968a.jpg",api:{public:"https://kkex.com/api/v1",private:"https://kkex.com/api/v2",v1:"https://kkex.com/api/v1"},www:"https://kkex.com",doc:"https://kkex.com/api_wiki/cn/",fees:"https://intercom.help/kkex/fee"},api:{public:{get:["exchange_rate","products","assets","tickers","ticker","depth","trades","kline"]},private:{post:["profile","trade","batch_trade","cancel_order","cancel_all_orders","order_history","userinfo","order_info","orders_info"]},v1:{post:["process_strategy"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},options:{lastNonceTimestamp:0}})}async fetchMarkets(e={}){let t=await this.publicGetTickers(e);t=t.tickers;let i=await this.publicGetProducts(e);i=i.products;const r=[];for(let a=0;a<t.length;a++){const e=Object.keys(t[a]);r.push(e[0])}const s=[];for(let a=0;a<r.length;a++){const e=r[a],t=r[a];let n="",o="",c={},d={};for(let r=0;r<i.length;r++){const e=i[r];if(e.mark_asset+e.base_asset===t){o=e.base_asset,n=e.mark_asset;const t=e.price_scale.toString().length-1;c={price:t,amount:t},d={amount:{min:Math.max(this.safeFloat(e,"min_bid_size"),this.safeFloat(e,"min_ask_size")),max:Math.min(this.safeFloat(e,"max_bid_size"),this.safeFloat(e,"max_ask_size"))},price:{min:this.safeFloat(e,"min_price"),max:this.safeFloat(e,"max_price")}},d.cost={min:this.safeFloat(e,"min_bid_amount"),max:this.safeFloat(e,"max_bid_amount")}}}const h=this.safeCurrencyCode(n),u=this.safeCurrencyCode(o),l=h+"/"+u;s.push({id:e,symbol:l,base:h,quote:u,baseId:n,quoteId:o,active:!0,precision:c,limits:d,info:t})}return s}parseTicker(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.markets[e],r={symbol:i.id},s=await this.publicGetTicker(this.extend(r,t)),a=this.extend(s.ticker,this.omit(s,"ticker"));return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.safeValue(i,"tickers"),s={};for(let a=0;a<r.length;a++){const e=Object.keys(r[a])[0],t=this.safeValue(this.markets_by_id,e);if(void 0!==t){const n=t.symbol,o=this.extend(r[a][e],this.omit(i,"tickers"));s[n]=this.parseTicker(o,t)}}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.size=t);const s=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(s)}parseTrade(e,t){const i=this.safeInteger(e,"date_ms"),r=this.iso8601(i),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=a*s);let o=void 0;void 0!==t&&(o=t.symbol);return{info:e,id:this.safeString(e,"tid"),timestamp:i,datetime:r,symbol:o,order:void 0,type:void 0,side:this.safeString(e,"type"),takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserinfo(e),i=this.safeValue(t,"info"),r={info:t},s=this.safeValue(i,"funds"),a=this.safeValue(s,"free",{}),n=this.safeValue(s,"freezed",{}),o=Object.keys(a);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),i=this.account();i.free=this.safeFloat(a,e),i.used=this.safeFloat(n,e),r[t]=i}return this.parseBalance(r)}async fetchOrder(e,t,i={}){if(!t)throw new s(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),a={order_id:e,symbol:r.id},o=await this.privatePostOrderInfo(this.extend(a,i));if(o.result)return this.parseOrder(o.order,r);throw new n(this.id+" order "+e+" not found")}parseOHLCV(e,t,i="1m",r,s){return[parseInt(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,type:this.timeframes[t]};void 0!==i&&(n.since=parseInt(i/1e3)),void 0!==r&&(n.size=r);const o=await this.publicGetKline(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){return this.safeString({"-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrder(e,t){let i=void 0;void 0!==t&&(i=t.symbol);let r=this.safeString(e,"side");void 0===r&&(r=this.safeString(e,"type"));const s=this.safeInteger(e,"create_date"),a=this.safeString2(e,"order_id","id"),n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount"),d=this.safeFloat(e,"deal_amount");let h=this.safeFloat(e,"avg_price");h=this.safeFloat(e,"price_avg",h);let u=void 0,l=void 0;return void 0!==d&&(void 0!==c&&(u=c-d),void 0!==h&&(l=h*d)),{id:a,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:n,symbol:i,average:h,type:"limit",side:r,price:o,cost:l,amount:c,filled:d,remaining:u,fee:void 0,info:e}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o={symbol:this.market(e).id,type:i};if("market"===t){if("buy"===i){if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new a(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");o.amount=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}o.price=this.costToPrecision(e,r)}else o.amount=this.amountToPrecision(e,r);o.type+="_"+t}else o.amount=this.amountToPrecision(e,r),o.price=this.priceToPrecision(e,s);const c=await this.privatePostTrade(this.extend(o,n));return{info:c,id:this.safeString(c,"order_id"),datetime:void 0,timestamp:void 0,lastTradeTimestamp:void 0,status:"open",symbol:e,type:t,side:i,price:s,cost:void 0,amount:r,filled:void 0,remaining:void 0,trades:void 0,fee:void 0}}async cancelOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={order_id:e,symbol:this.market(t).id};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.page_length=i);const n=await this.privatePostOrderHistory(this.extend(a,r));return this.parseOrders(n.orders,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:0},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:1},r))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("public"===t)n+="?"+this.urlencode(r),s={"Content-Type":"application/json"};else{this.checkRequiredCredentials();const e=this.nonce();let t=this.extend({nonce:e,api_key:this.apiKey},r);t=this.urlencode(this.keysort(t)),t+="&secret_key="+this.secret,t=this.hash(this.encode(t),"md5"),t=t.toUpperCase(),a=this.extend({api_key:this.apiKey,sign:t,nonce:e},r),a=this.urlencode(a),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}}},"+Gs+":function(e,t,i){var r=t;r.bignum=i("8kJ5"),r.define=i("uH4/").define,r.base=i("45vN"),r.constants=i("Xr9Y"),r.decoders=i("uaRH"),r.encoders=i("5wZK")},"+JpX":function(e,t,i){"use strict";const r=i("OjXq"),{TICK_SIZE:s}=i("rwG2"),{ExchangeError:a,InvalidOrder:n,BadRequest:o,InsufficientFunds:c,OrderNotFound:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ftx",name:"FTX",countries:["HK"],rateLimit:100,certified:!0,urls:{logo:"https://user-images.githubusercontent.com/1294454/67149189-df896480-f2b0-11e9-8816-41593e17f9ec.jpg",www:"https://ftx.com",api:"https://ftx.com",doc:"https://github.com/ftexchange/ftx",fees:"https://ftexchange.zendesk.com/hc/en-us/articles/360024479432-Fees",referral:"https://ftx.com/#a=1623029"},has:{cancelAllOrders:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFees:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"15s":"15","1m":"60","5m":"300","15m":"900","1h":"3600","4h":"14400","1d":"86400"},api:{public:{get:["coins","markets","markets/{market_name}","markets/{market_name}/orderbook","markets/{market_name}/trades","markets/{market_name}/candles","futures","futures/{future_name}","futures/{future_name}/stats","funding_rates","lt/tokens","lt/{token_name}"]},private:{get:["account","positions","wallet/coins","wallet/balances","wallet/deposit_address/{coin}","wallet/deposits","wallet/withdrawals","orders","orders/history","orders/{order_id}","orders/by_client_id/{client_order_id}","conditional_orders","conditional_orders/history","fills","funding_payments","lt/balances","lt/creations","lt/redemptions","subaccounts","subaccounts/{nickname}/balances"],post:["account/leverage","wallet/withdrawals","orders","conditional_orders","lt/{token_name}/create","lt/{token_name}/redeem","subaccounts","subaccounts/update_name","subaccounts/transfer"],delete:["orders/{order_id}","orders/by_client_id/{client_order_id}","orders","conditional_orders/{order_id}","subaccounts"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:2e-4,taker:.07/100,tiers:{taker:[[0,.07/100],[1e6,6e-4],[5e6,55e-5],[1e7,5e-4],[15e6,45e-5],[35e6,4e-4]],maker:[[0,2e-4],[1e6,2e-4],[5e6,15e-5],[1e7,15e-5],[15e6,1e-4],[35e6,1e-4]]}},funding:{withdraw:{}}},exceptions:{exact:{"Not enough balances":c,InvalidPrice:n,"Size too small":n,"Missing parameter price":n,"Order not found":d},broad:{"Invalid parameter":o,"The requested URL was not found on the server":o,"No such coin":o,"No such market":o,"An unexpected error occurred":a}},precisionMode:s})}async fetchCurrencies(e={}){const t=await this.publicGetCoins(e),i=this.safeValue(t,"result",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.safeString(e,"name");r[a]={id:t,code:a,info:e,type:void 0,name:n,active:void 0,fee:void 0,precision:void 0,limits:{withdraw:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}return r}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[],r=this.safeValue(t,"result",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"name"),a=this.safeString2(e,"baseCurrency","underlying"),n=this.safeString(e,"quoteCurrency","USD"),o=this.safeString(e,"type"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n),h="future"===o?this.safeString(e,"name"):c+"/"+d,u=this.safeValue(e,"enabled"),l=this.safeFloat(e,"sizeIncrement"),f=this.safeFloat(e,"priceIncrement"),p={id:t,symbol:h,base:c,quote:d,baseId:a,quoteId:n,type:o,future:"future"===o,spot:"spot"===o,active:u,precision:{amount:l,price:f},limits:{amount:{min:l,max:void 0},price:{min:f,max:void 0},cost:{min:void 0,max:void 0}},info:e};i.push(p)}return i}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"name");if(r in this.markets_by_id)t=this.markets_by_id[r];else{if("future"===this.safeString(e,"type"))i=r;else{i=this.safeCurrencyCode(this.safeString(e,"baseCurrency"))+"/"+this.safeCurrencyCode(this.safeString(e,"quoteCurrency"))}}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.safeFloat(e,"last"),a=this.milliseconds();return{symbol:i,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"change24h"),average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"quoteVolume24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market_name:i.id},s=await this.publicGetMarketsMarketName(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseTicker(a,i)}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"result",[]);return this.parseTickers(r,e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market_name:this.market(e).id};void 0!==t&&(r.depth=t);const s=await this.publicGetMarketsMarketNameOrderbook(this.extend(r,i)),a=this.safeValue(s,"result",{});return this.parseOrderBook(a)}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market_name:a.id,resolution:this.timeframes[t]};void 0!==r&&(n.limit=r),void 0!==i&&(n.start_time=parseInt(i/1e3));const o=await this.publicGetMarketsMarketNameCandles(this.extend(n,s)),c=this.safeValue(o,"result",[]);return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"liquidity"),s=this.safeString(e,"market");let a=void 0;if(void 0!==s)if(s in this.markets_by_id)a=(t=this.markets_by_id[s]).symbol;else{const t=this.safeCurrencyCode(this.safeString(e,"baseCurrency")),i=this.safeCurrencyCode(this.safeString(e,"quoteCurrency"));a=void 0!==t&&void 0!==i?t+"/"+i:s}const n=this.parse8601(this.safeString(e,"time")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"size");void 0===a&&void 0!==t&&(a=t.symbol);const d=this.safeString(e,"side");let h=void 0;void 0!==o&&void 0!==c&&(h=o*c);let u=void 0;const l=this.safeFloat(e,"fee");void 0!==l&&(u={cost:l,rate:this.safeFloat(e,"feeRate")});const f=this.safeString(e,"orderId");return{info:e,timestamp:n,datetime:this.iso8601(n),symbol:a,id:i,order:f,type:void 0,takerOrMaker:r,side:d,price:o,amount:c,cost:h,fee:u}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market_name:s.id};void 0!==t&&(a.start_time=parseInt(t/1e3),a.end_time=this.seconds()),void 0!==i&&(a.limit=i);const n=await this.publicGetMarketsMarketNameTrades(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e),i=this.safeValue(t,"result",{});return{info:t,maker:this.safeFloat(i,"makerFee"),taker:this.safeFloat(i,"takerFee")}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i={info:t},r=this.safeValue(t,"result",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(this.safeString(e,"coin")),a=this.account();a.free=this.safeFloat(e,"free"),a.total=this.safeFloat(e,"total"),i[t]=a}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({new:"open",open:"open",closed:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt")),s=this.safeFloat(e,"filledSize"),a=this.safeFloat(e,"remainingSize");let n=void 0;const o=this.safeString(e,"market");o in this.markets_by_id&&(n=(t=this.markets_by_id[o]).symbol),void 0===n&&void 0!==t&&(n=t.symbol);const c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString(e,"side"),h=this.safeString(e,"type"),u=this.safeFloat(e,"size");let l=void 0;void 0!==s&&void 0!==u&&(l=s*u);const f=this.safeFloat2(e,"price","triggerPrice"),p=this.parse8601(this.safeString(e,"triggeredAt"));return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:p,symbol:n,type:h,side:d,price:f,amount:u,cost:l,average:void 0,filled:s,remaining:a,status:c,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o=this.market(e),c={market:o.id,side:i,type:t,size:parseFloat(this.amountToPrecision(e,r))};let d=void 0;void 0!==s&&(d=parseFloat(this.priceToPrecision(e,s)));let h="privatePostConditionalOrders";if("limit"===t)h="privatePostOrders",c.price=d;else if("market"===t)h="privatePostOrders",c.price=null;else if("stop"===t||"takeProfit"===t)c.triggerPrice=d;else{if("trailingStop"!==t)throw new n(this.id+" createOrder () does not support order type "+t+", only limit, market, stop, trailingStop, or takeProfit orders are supported");c.trailValue=d}const u=await this[h](this.extend(c,a)),l=this.safeValue(u,"result",[]);return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privateDeleteOrdersOrderId(this.extend(r,i));return this.safeValue(s,"result",{})}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={conditionalOrdersOnly:!1,limitOrdersOnly:!1};let r=void 0;void 0!==e&&(r=this.market(e),i.market=r.id);const s=await this.privateDeleteOrders(this.extend(i,t));return this.safeValue(s,"result",{})}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i)),a=this.safeValue(s,"result",{});return this.parseOrder(a)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.privateGetOrders(this.extend(s,r)),o=this.safeValue(n,"result",[]);return this.parseOrders(o,a,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.market=a.id),void 0!==i&&(s.limit=i),void 0!==t&&(s.start_time=parseInt(t/1e3));const n=await this.privateGetOrdersHistory(this.extend(s,r)),o=this.safeValue(n,"result",[]);return this.parseOrders(o,a,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.start_time=parseInt(t/1e3));const n=await this.privateGetFills(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const a=this.currency(e),n={coin:a.id,size:t,address:i};void 0!==r&&(n.tag=r);const o=await this.privatePostWalletWithdrawals(this.extend(n,s)),c=this.safeValue(o,"result",{});return this.parseTransaction(c,a)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={coin:this.currency(e).id},r=await this.privateGetWalletDepositAddressCoin(this.extend(i,t)),s=this.safeValue(r,"result",{}),a=this.safeString(s,"address"),n=this.safeString(s,"tag");return this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}parseTransactionStatus(e){return this.safeString({confirmed:"ok",complete:"ok"},e,e)}parseTransaction(e){const t=this.safeCurrencyCode(this.safeString(e,"coin")),i=this.safeInteger(e,"id"),r=this.safeFloat(e,"size"),s=this.parseTransactionStatus(this.safeString(e,"status")),a=this.parse8601(this.safeString(e,"time")),n=this.safeString(e,"txid"),o=this.safeString(e,"address"),c=this.safeString(e,"tag"),d=this.safeFloat(e,"fee");return{info:e,id:i,txid:n,timestamp:a,datetime:this.iso8601(a),addressFrom:void 0,address:void 0,addressTo:o,tagFrom:void 0,tag:c,tagTo:void 0,type:void 0,amount:r,currency:t,status:s,updated:void 0,fee:{currency:t,cost:d,rate:void 0}}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletDeposits(r),a=this.safeValue(s,"result",[]);return this.parseTransactions(a)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetWalletWithdrawals(r),a=this.safeValue(s,"result",[]);return this.parseTransactions(a)}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));let c=this.urls.api+n;if("POST"!==i&&Object.keys(o).length){const e="?"+this.urlencode(o);c+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.milliseconds().toString();let t=e+i+n;s={"FTX-KEY":this.apiKey,"FTX-TS":e},"POST"===i&&(t+=a=this.json(o),s["Content-Type"]="application/json");const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256");s["FTX-SIGN"]=r}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0===o)return;if(!this.safeValue(o,"success")){const e=this.id+" "+n,t=this.safeString(o,"error");throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new a(e)}}}},"+MGR":function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},"+csr":function(e,t,i){"use strict";e.exports=function(e,t){var i,r,s,a,n,o,c,d,h,u,l,f,p,m,y,b,v,g,w,k,_,T,S,x,O;i=e.state,r=e.next_in,x=e.input,s=r+(e.avail_in-5),a=e.next_out,O=e.output,n=a-(t-e.avail_out),o=a+(e.avail_out-257),c=i.dmax,d=i.wsize,h=i.whave,u=i.wnext,l=i.window,f=i.hold,p=i.bits,m=i.lencode,y=i.distcode,b=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),g=m[f&b];t:for(;;){if(f>>>=w=g>>>24,p-=w,0===(w=g>>>16&255))O[a++]=65535&g;else{if(!(16&w)){if(0===(64&w)){g=m[(65535&g)+(f&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}k=65535&g,(w&=15)&&(p<w&&(f+=x[r++]<<p,p+=8),k+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),g=y[f&v];i:for(;;){if(f>>>=w=g>>>24,p-=w,!(16&(w=g>>>16&255))){if(0===(64&w)){g=y[(65535&g)+(f&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(_=65535&g,p<(w&=15)&&(f+=x[r++]<<p,(p+=8)<w&&(f+=x[r++]<<p,p+=8)),(_+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=w,p-=w,_>(w=a-n)){if((w=_-w)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(T=0,S=l,0===u){if(T+=d-w,w<k){k-=w;do{O[a++]=l[T++]}while(--w);T=a-_,S=O}}else if(u<w){if(T+=d+u-w,(w-=u)<k){k-=w;do{O[a++]=l[T++]}while(--w);if(T=0,u<k){k-=w=u;do{O[a++]=l[T++]}while(--w);T=a-_,S=O}}}else if(T+=u-w,w<k){k-=w;do{O[a++]=l[T++]}while(--w);T=a-_,S=O}for(;k>2;)O[a++]=S[T++],O[a++]=S[T++],O[a++]=S[T++],k-=3;k&&(O[a++]=S[T++],k>1&&(O[a++]=S[T++]))}else{T=a-_;do{O[a++]=O[T++],O[a++]=O[T++],O[a++]=O[T++],k-=3}while(k>2);k&&(O[a++]=O[T++],k>1&&(O[a++]=O[T++]))}break}}break}}while(r<s&&a<o);r-=k=p>>3,f&=(1<<(p-=k<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=a<o?o-a+257:257-(a-o),i.hold=f,i.bits=p}},"+fA7":function(e,t,i){"use strict";var r=i("vHoy"),s=i("M60r"),a=i("E2hD"),n=i("1hwd");function o(e,t,i){var r=e;return s(t)?(i=t,"string"===typeof e&&(r={uri:e})):r=n(t,{uri:e}),r.callback=i,r}function c(e,t,i){return d(t=o(e,t,i))}function d(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,i=function(i,r,s){t||(t=!0,e.callback(i,r,s))};function r(){var e=void 0;if(e=h.response?h.response:h.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(i){}return null}(h),b)try{e=JSON.parse(e)}catch(t){}return e}function s(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,v)}function n(){if(!d){var t;clearTimeout(u),t=e.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var s=v,n=null;return 0!==t?(s={body:r(),statusCode:t,method:f,headers:{},url:l,rawRequest:h},h.getAllResponseHeaders&&(s.headers=a(h.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),i(n,s,s.body)}}var o,d,h=e.xhr||null;h||(h=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var u,l=h.url=e.uri||e.url,f=h.method=e.method||"GET",p=e.body||e.data,m=h.headers=e.headers||{},y=!!e.sync,b=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:l,rawRequest:h};if("json"in e&&!1!==e.json&&(b=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),h.onreadystatechange=function(){4===h.readyState&&setTimeout(n,0)},h.onload=n,h.onerror=s,h.onprogress=function(){},h.onabort=function(){d=!0},h.ontimeout=s,h.open(f,l,!y,e.username,e.password),y||(h.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(u=setTimeout((function(){if(!d){d=!0,h.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),h.setRequestHeader)for(o in m)m.hasOwnProperty(o)&&h.setRequestHeader(o,m[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(h),h.send(p||null),h}e.exports=c,e.exports.default=c,c.XMLHttpRequest=r.XMLHttpRequest||function(){},c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],(function(e){c["delete"===e?"del":e]=function(t,i,r){return(i=o(t,i,r)).method=e.toUpperCase(),d(i)}}))},"+oaW":function(e,t,i){"use strict";var r=i("wfEq"),s=i("cq1r"),a=i("Olfb"),n=i("thXI"),o=i("ql4I");function c(e){o.call(this,"digest"),this._hash=e}r(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new s:"rmd160"===e||"ripemd160"===e?new a:new c(n(e))}},"+rti":function(e){e.exports=JSON.parse('{"name":"petersburg","comment":"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople","eip":{"url":"https://github.com/ethereum/EIPs/pull/1716","status":"Draft"},"gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreInitGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreCleanGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreDirtyGas":{"v":null,"d":"Removed along EIP-1283"},"netSstoreClearRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetRefund":{"v":null,"d":"Removed along EIP-1283"},"netSstoreResetClearRefund":{"v":null,"d":"Removed along EIP-1283"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},"+t3Y":function(e,t,i){"use strict";e.exports=n;var r=i("A/eZ"),s=Object.create(i("nrnY"));function a(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function n(e){if(!(this instanceof n))return new n(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,i){c(e,t,i)})):c(this,null,null)}function c(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}s.inherits=i("wfEq"),s.inherits(n,r),n.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},n.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},n.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var s=this._readableState;(r.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},n.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},n.prototype._destroy=function(e,t){var i=this;r.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},"+un8":function(e,t,i){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!==typeof i)throw new TypeError(i+"must be non-object");for(var r in i)s(i,r)&&(e[r]=i[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),s);else for(var a=0;a<r;a++)e[s+a]=t[i+a]},flattenChunks:function(e){var t,i,r,s,a,n;for(r=0,t=0,i=e.length;t<i;t++)r+=e[t].length;for(n=new Uint8Array(r),s=0,t=0,i=e.length;t<i;t++)a=e[t],n.set(a,s),s+=a.length;return n}},n={arraySet:function(e,t,i,r,s){for(var a=0;a<r;a++)e[s+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,n))},t.setTyped(r)},"+vak":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InvalidNonce:o,InsufficientFunds:c,OrderNotFound:d,DDoSProtection:h,InvalidOrder:u,AuthenticationError:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"yobit",name:"YoBit",countries:["RU"],rateLimit:3e3,version:"3",has:{CORS:!1,createDepositAddress:!0,createMarketOrder:!1,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchDeposits:!1,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBooks:!0,fetchOrders:"emulated",fetchTickers:!0,fetchTransactions:!1,fetchWithdrawals:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766910-cdcbfdae-5eea-11e7-9859-03fea873272d.jpg",api:{public:"https://yobit.net/api",private:"https://yobit.net/tapi"},www:"https://www.yobit.net",doc:"https://www.yobit.net/en/api/",fees:"https://www.yobit.net/en/fees/"},api:{public:{get:["depth/{pair}","info","ticker/{pair}","trades/{pair}"]},private:{post:["ActiveOrders","CancelOrder","GetDepositAddress","getInfo","OrderInfo","Trade","TradeHistory","WithdrawCoinsToAddress"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{}}},commonCurrencies:{AIR:"AirCoin",ANI:"ANICoin",ANT:"AntsCoin",ATMCHA:"ATM",ASN:"Ascension",AST:"Astral",ATM:"Autumncoin",BCC:"BCH",BCS:"BitcoinStake",BLN:"Bulleon",BOT:"BOTcoin",BON:"BONES",BPC:"BitcoinPremium",BTS:"Bitshares2",CAT:"BitClave",CMT:"CometCoin",COV:"Coven Coin",COVX:"COV",CPC:"Capricoin",CS:"CryptoSpots",DCT:"Discount",DFT:"DraftCoin",DGD:"DarkGoldCoin",DIRT:"DIRTY",DROP:"FaucetCoin",DSH:"DASH",EKO:"EkoCoin",ENTER:"ENTRC",EPC:"ExperienceCoin",ESC:"EdwardSnowden",EUROPE:"EUROP",EXT:"LifeExtension",FUNK:"FUNKCoin",GCC:"GlobalCryptocurrency",GEN:"Genstake",GENE:"Genesiscoin",GOLD:"GoldMint",GOT:"Giotto Coin",HTML5:"HTML",HYPERX:"HYPER",ICN:"iCoin",INSANE:"INSN",JNT:"JointCoin",JPC:"JupiterCoin",KNC:"KingN Coin",LBTCX:"LiteBitcoin",LIZI:"LiZi",LOC:"LocoCoin",LOCX:"LOC",LUNYR:"LUN",LUN:"LunarCoin",MDT:"Midnight",NAV:"NavajoCoin",NBT:"NiceBytes",OMG:"OMGame",PAC:"$PAC",PLAY:"PlayCoin",PIVX:"Darknet",PRS:"PRE",PUTIN:"PUT",STK:"StakeCoin",SUB:"Subscriptio",PAY:"EPAY",PLC:"Platin Coin",RCN:"RCoin",REP:"Republicoin",RUR:"RUB",TTC:"TittieCoin",XIN:"XINCoin"},options:{fetchOrdersRequiresSymbol:!0,fetchTickersMaxLength:512},exceptions:{exact:{803:u,804:u,805:u,806:u,807:u,831:c,832:c,833:d},broad:{"Invalid pair name":s,"invalid api key":l,"invalid sign":l,"api key dont have trade permission":l,"invalid parameter":u,"invalid order":u,"Requests too often":h,"not available":n,"data unavailable":n,"external service unavailable":n,"Total transaction amount":s,"Insufficient funds":c,"invalid key":l,"invalid nonce":o}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r={info:t},s=this.safeValue(i,"funds",{}),a=this.safeValue(i,"funds_incl_orders",{}),n=Object.keys(this.extend(s,a));for(let o=0;o<n.length;o++){const e=n[o],t=this.safeCurrencyCode(e),i=this.account();i.free=this.safeFloat(s,e),i.total=this.safeFloat(a,e),r[t]=i}return this.parseBalance(r)}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=this.safeValue(t,"pairs"),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a],t=i[e],[n,o]=e.split("_");let c=n.toUpperCase(),d=o.toUpperCase();c=this.safeCurrencyCode(c),d=this.safeCurrencyCode(d);const h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},l={amount:{min:this.safeFloat(t,"min_amount"),max:this.safeFloat(t,"max_amount")},price:{min:this.safeFloat(t,"min_price"),max:this.safeFloat(t,"max_price")},cost:{min:this.safeFloat(t,"min_total")}},f=0===this.safeInteger(t,"hidden");s.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:f,taker:t.fee/100,precision:u,limits:l,info:t})}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),a={pair:r.id};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i));if(!(r.id in n))throw new s(this.id+" "+r.symbol+" order book is empty or not available");const o=n[r.id];return this.parseOrderBook(o)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const a={pair:r};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};r=Object.keys(n);for(let s=0;s<r.length;s++){const e=r[s];let t=e;if(e in this.markets_by_id){t=this.markets_by_id[e].symbol}o[t]=this.parseOrderBook(n[e])}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;i=i.join("-");const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);if(i.length>this.options.fetchTickersMaxLength)throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),n={},o=Object.keys(s);for(let a=0;a<o.length;a++){const e=o[a],t=s[e];let i=e,r=void 0;e in this.markets_by_id&&(r=this.markets_by_id[e],i=r.symbol),n[i]=this.parseTicker(t,r)}return n}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeFloat2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id");if("pair"in e){const i=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,i,t)}let o=void 0;void 0!==t&&(o=t.symbol);const c=this.safeFloat(e,"amount");let d=void 0,h=void 0;const u=this.safeFloat(e,"commission");if(void 0!==u){const t=this.safeString(e,"commissionCurrency");h={cost:u,currency:this.safeCurrencyCode(t)}}const l=this.safeValue(e,"is_your_order");void 0!==l&&(d="taker",l&&(d="maker"),void 0===h&&(h=this.calculateFee(o,"limit",r,c,s,d)));let f=void 0;return void 0!==c&&void 0!==s&&(f=c*s),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:o,type:"limit",side:r,takerOrMaker:d,price:s,amount:c,cost:f,fee:h,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTradesPair(this.extend(a,r));if(Array.isArray(n)){if(0===n.length)return[]}return this.parseTrades(n[s.id],s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o={pair:this.market(e).id,type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,a)};a=parseFloat(a),r=parseFloat(r);const c=await this.privatePostTrade(this.extend(o,n));let d=void 0,h="open",u=0,l=r;"return"in c&&(d=this.safeString(c.return,"order_id"),"0"===d&&(d=this.safeString(c.return,"init_order_id"),h="closed"),u=this.safeFloat(c.return,"received",0),l=this.safeFloat(c.return,"remains",r));const f=this.milliseconds(),p={id:d,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,status:h,symbol:e,type:t,side:i,price:a,cost:a*u,amount:r,remaining:l,filled:u,fee:void 0};return this.orders[d]=p,this.extend({info:c},p)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostCancelOrder(this.extend(r,i));return e in this.orders&&(this.orders[e].status="canceled"),s}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created");let a=void 0;if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(a=t.symbol);const n=this.safeFloat(e,"amount");let o=void 0;const c=this.safeFloat(e,"rate");let d=void 0,h=void 0;"start_amount"in e?o=this.safeFloat(e,"start_amount"):i in this.orders&&(o=this.orders[i].amount),void 0!==o&&void 0!==n&&(d=o-n,h=c*d);const u=this.safeString(e,"type");return{info:e,id:i,symbol:a,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",side:u,price:c,cost:h,amount:o,remaining:n,filled:d,status:r,fee:void 0}}parseOrders(e,t,i,r,s={}){const a=[],n=Object.keys(e);let o=void 0;void 0!==t&&(o=t.symbol);for(let c=0;c<n.length;c++){const i=n[c],r=this.extend({id:i},e[i]);a.push(this.extend(this.parseOrder(r,t),s))}return this.filterBySymbolSinceLimit(a,o,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const a=this.parseOrder(this.extend({id:e},s.return[e])),n=e in this.orders?this.orders[e]:{};return this.orders[e]=this.extend(n,a),this.orders[e]}updateCachedOrders(e,t){for(let s=0;s<e.length;s++){const t=e[s].id;this.orders[t]=e[s]}const i=this.indexBy(e,"id"),r=Object.keys(this.orders);for(let s=0;s<r.length;s++){const e=r[s];let a=this.orders[e];if(!(e in i)){if(void 0!==t&&t!==a.symbol)continue;"open"===a.status&&(a=this.extend(a,{status:"closed",cost:void 0,filled:a.amount,remaining:0}),void 0===a.cost&&void 0!==a.filled&&(a.cost=a.filled*a.price),this.orders[e]=a)}}return this.toArray(this.orders)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s.pair=t.id}const n=await this.privatePostActiveOrders(this.extend(s,r));let o=[];"return"in n&&(o=this.parseOrders(n.return,void 0));const c=this.updateCachedOrders(o,e),d=this.filterBySymbol(c,e);return this.filterBySinceLimit(d,t,i)}async fetchOpenOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","open")}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={pair:s.id};void 0!==i&&(n.count=parseInt(i)),void 0!==t&&(n.since=parseInt(t/1e3));const o=await this.privatePostTradeHistory(this.extend(n,r)),c=this.safeValue(o,"return",{}),d=Object.keys(c),h=[];for(let a=0;a<d.length;a++){const e=d[a],t=this.parseTrade(this.extend(c[e],{trade_id:e}),s);h.push(t)}return this.filterBySymbolSinceLimit(h,e,t,i)}async createDepositAddress(e,t={}){const i=await this.fetchDepositAddress(e,this.extend({need_new:1},t)),r=this.safeString(i,"address");return this.checkAddress(r),{currency:e,address:r,tag:void 0,info:i.info}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={coinName:this.currency(e).id,need_new:0},r=await this.privatePostGetDepositAddress(this.extend(i,t)),s=this.safeString(r.return,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r}}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n={coinName:this.currency(e).id,amount:t,address:i};if(void 0!==r)throw new s(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");return{info:await this.privatePostWithdrawCoinsToAddress(this.extend(n,a)),id:void 0}}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=parseFloat(this.costToPrecision(e,r*d));return"sell"===i?h*=s:c="base",{type:a,currency:o[c],rate:d,cost:h}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.version+"/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}}},"+zI4":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,NullResponse:n,InvalidOrder:o,NotSupported:c,InsufficientFunds:d,InvalidNonce:h,OrderNotFound:u,RateLimitExceeded:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cex",name:"CEX.IO",countries:["GB","EU","CY","RU"],rateLimit:1500,has:{CORS:!0,fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchOrders:!0},timeframes:{"1m":"1m"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766442-8ddc33b0-5ed8-11e7-8b98-f786aef0f3c9.jpg",api:"https://cex.io/api",www:"https://cex.io",doc:"https://cex.io/cex-api",fees:["https://cex.io/fee-schedule","https://cex.io/limits-commissions"],referral:"https://cex.io/r/0/up105393824/0/"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency_profile","currency_limits/","last_price/{pair}/","last_prices/{currencies}/","ohlcv/hd/{yyyymmdd}/{pair}","order_book/{pair}/","ticker/{pair}/","tickers/{currencies}/","trade_history/{pair}/"],post:["convert/{pair}","price_stats/{pair}"]},private:{post:["active_orders_status/","archived_orders/{pair}/","balance/","cancel_order/","cancel_orders/{pair}/","cancel_replace_order/{pair}/","close_position/{pair}/","get_address/","get_myfee/","get_order/","get_order_tx/","open_orders/{pair}/","open_orders/","open_position/{pair}/","open_positions/{pair}/","place_order/{pair}/"]}},fees:{trading:{maker:.0016,taker:.0025},funding:{withdraw:{BTC:.001,ETH:.01,BCH:.001,DASH:.01,BTG:.001,ZEC:.001,XRP:.02},deposit:{BTC:0,ETH:0,BCH:0,DASH:0,BTG:0,ZEC:0,XRP:0,XLM:0}}},exceptions:{exact:{},broad:{"Insufficient funds":d,"Nonce must be incremented":h,"Invalid Order":o,"Order not found":u,"Rate limit exceeded":l}},options:{fetchOHLCVWarning:!0,createMarketBuyOrderRequiresPrice:!0,order:{status:{c:"canceled",d:"closed",cd:"closed",a:"open"}}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencyProfile(e);this.options.fetchCurrencies=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchCurrencies,"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options.currencies={timestamp:this.milliseconds(),response:t};const i=this.safeValue(t,"data",[]),r=this.safeValue(i,"symbols",[]),s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"code"),i=this.safeCurrencyCode(t),n=this.safeInteger(e,"precision"),o=!0;s[i]={id:t,code:i,name:t,active:o,precision:n,fee:void 0,limits:{amount:{min:this.safeFloat(e,"minimumCurrencyAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(e,"minimalWithdrawalAmount"),max:void 0}},info:e}}return s}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",[]),s=this.indexBy(r,"code"),a=this.safeValue(i,"pairs",[]),n=await this.publicGetCurrencyLimits(e),o=[],c=this.safeValue(n.data,"pairs");for(let d=0;d<c.length;d++){const e=c[d],t=this.safeString(e,"symbol1"),i=this.safeString(e,"symbol2"),r=t+"/"+i,n=this.safeCurrencyCode(t),h=this.safeCurrencyCode(i),u=n+"/"+h,l=this.safeValue(s,t,{}),f=this.safeValue(s,i,{});let p=this.safeInteger(f,"precision",8);for(let s=0;s<a.length;s++){const e=a[s];e.symbol1===t&&e.symbol2===i&&(p=this.safeInteger(e,"pricePrecision",p))}const m={amount:this.safeInteger(l,"precision",8)-this.safeInteger(l,"scale",0),price:p};o.push({id:r,info:e,symbol:u,base:n,quote:h,baseId:t,quoteId:i,precision:m,limits:{amount:{min:this.safeFloat(e,"minLotSize"),max:this.safeFloat(e,"maxLotSize")},price:{min:this.safeFloat(e,"minPrice"),max:this.safeFloat(e,"maxPrice")},cost:{min:this.safeFloat(e,"minLotSizeS2"),max:void 0}}})}return o}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.omit(t,["username","timestamp"]),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeValue(r,e,{}),n=this.account();n.free=this.safeFloat(t,"available"),n.used=this.safeFloat(t,"orders",0),i[this.safeCurrencyCode(e)]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetOrderBookPair(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}async fetchOHLCV(e,t="1m",i,r,a={}){await this.loadMarkets();const o=this.market(e);if(void 0===i)i=this.milliseconds()-864e5;else if(this.options.fetchOHLCVWarning)throw new s(this.id+" fetchOHLCV warning: CEX can return historical candles for a certain date only, this might produce an empty or null reply. Set exchange.options['fetchOHLCVWarning'] = false or add ({ 'options': { 'fetchOHLCVWarning': false }}) to constructor params to suppress this warning message.");let c=this.ymd(i);c=c.split("-"),c=c.join("");const d={pair:o.id,yyyymmdd:c};try{const e=await this.publicGetOhlcvHdYyyymmddPair(this.extend(d,a)),s="data"+this.timeframes[t],n=JSON.parse(e[s]);return this.parseOHLCVs(n,o,t,i,r)}catch(h){if(h instanceof n)return[]}}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeFloat(e,"volume"),s=this.safeFloat(e,"high"),a=this.safeFloat(e,"low"),n=this.safeFloat(e,"bid"),o=this.safeFloat(e,"ask"),c=this.safeFloat(e,"last");let d=void 0;return t&&(d=t.symbol),{symbol:d,timestamp:i,datetime:this.iso8601(i),high:s,low:a,bid:n,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:r,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={currencies:Object.keys(this.currencies).join("/")},r=(await this.publicGetTickersCurrencies(this.extend(i,t))).data,s={};for(let a=0;a<r.length;a++){const e=r[a],t=e.pair.replace(":","/"),i=this.markets[t];s[t]=this.parseTicker(e,i)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTickerPair(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeString(e,"type"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);let c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:c,type:void 0,side:s,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetTradeHistoryPair(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){if("market"===t&&"buy"===i&&this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}await this.loadMarkets();const n={pair:this.marketId(e),type:i,amount:r};"limit"===t?n.price=s:n.order_type=t;const c=await this.privatePostPlaceOrderPair(this.extend(n,a));return{info:c,id:c.id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i=this.safeValue(e,"time");i="string"===typeof i&&i.indexOf("T")>=0?this.parse8601(i):parseInt(i);let r=void 0;if(void 0===t){const i=this.safeString(e,"symbol1"),s=this.safeString(e,"symbol2");r=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s),r in this.markets&&(t=this.market(r))}const s=this.parseOrderStatus(this.safeString(e,"status")),a=this.safeFloat(e,"price");let n=this.safeFloat(e,"amount");void 0!==n&&(n=Math.abs(n));const o=this.safeFloat2(e,"pending","remains"),c=n-o;let d=void 0,h=void 0;if(void 0!==t){r=t.symbol,h=this.safeFloat(e,"ta:"+t.quote),void 0===h&&(h=this.safeFloat(e,"tta:"+t.quote));const i="fa:"+t.base,s="tfa:"+t.base,a="fa:"+t.quote,n="tfa:"+t.quote;let o=this.safeFloat(e,"tradingFeeMaker");if(o||(o=this.safeFloat(e,"tradingFeeTaker",o)),o&&(o/=100),i in e||s in e){const r=this.safeFloat2(e,i,s);d={currency:t.base,rate:o,cost:r}}else if(a in e||n in e){const i=this.safeFloat2(e,a,n);d={currency:t.quote,rate:o,cost:i}}}h||(h=a*c);const u=e.type;let l=void 0;const f=e.id;if("vtx"in e){l=[];for(let i=0;i<e.vtx.length;i++){const s=e.vtx[i],a=this.safeString(s,"type");if("cancel"===a)continue;const n=this.safeFloat(s,"price");if(void 0===n)continue;if("costsNothing"===a)continue;const o=this.parse8601(this.safeString(s,"time")),c=this.safeFloat(s,"amount"),d=this.safeFloat(s,"fee_amount");let h=c<0?-c:c,u=void 0;"sell"===a?(u=h,h=this.sum(d,u)/n):u=h*n,l.push({id:this.safeString(s,"id"),timestamp:o,datetime:this.iso8601(o),order:f,symbol:r,price:n,amount:h,cost:u,side:a,fee:{cost:d,currency:t.quote},info:s})}}return{id:f,datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:s,symbol:r,type:void 0===a?"market":"limit",side:u,price:a,cost:h,amount:n,filled:c,remaining:o,trades:l,fee:d,info:e}}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a="privatePostOpenOrders",n=void 0;void 0!==e&&(n=this.market(e),s.pair=n.id,a+="Pair");const o=await this[a](this.extend(s,r));for(let c=0;c<o.length;c++)o[c]=this.extend(o[c],{status:"open"});return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();if(void 0===e)throw new a(this.id+" fetchClosedOrders requires a symbol argument");const s=this.market(e),n={pair:s.id},o=await this.privatePostArchivedOrdersPair(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString()},s=await this.privatePostGetOrderTx(this.extend(r,i));return this.parseOrder(s.data)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={limit:i,pair:this.market(e).id,dateFrom:t},a=await this.privatePostArchivedOrdersPair(this.extend(s,r)),n=[];for(let o=0;o<a.length;o++){const e=a[o],t=this.parseOrderStatus(this.safeString(e,"status")),i=this.safeString(e,"symbol1"),r=this.safeString(e,"symbol2"),s=this.safeCurrencyCode(i),c=this.safeCurrencyCode(r),d=s+"/"+c,h=this.safeString(e,"type"),u=this.safeFloat(e,"a:"+i+":cds"),l=this.safeFloat(e,"a:"+r+":cds"),f=this.safeFloat(e,"f:"+r+":cds"),p=this.safeFloat(e,"amount"),m=this.safeFloat(e,"price"),y=this.safeFloat(e,"remains"),b=p-y;let v=void 0,g=void 0,w=void 0,k=void 0;if(m){const t=this.safeFloat(e,"ta:"+r,0),i=this.safeFloat(e,"tta:"+r,0),s=this.safeFloat(e,"fa:"+r,0),a=this.safeFloat(e,"tfa:"+r,0);g="sell"===h?this.sum(this.sum(t,i),this.sum(s,a)):this.sum(t,i)-this.sum(s,a),k="limit",v=p,w=g/b}else k="market",v=u,g=l,w=v/g;const _=this.safeString(e,"time"),T=this.safeString(e,"lastTxTime"),S=this.parse8601(_);n.push({id:this.safeString(e,"id"),timestamp:S,datetime:this.iso8601(S),lastUpdated:this.parse8601(T),status:t,symbol:d,side:h,price:m,amount:v,average:w,type:k,filled:b,cost:g,remaining:y,fee:{cost:f,currency:c},info:e})}return n}parseOrderStatus(e){return this.safeString(this.options.order.status,e,e)}async editOrder(e,t,i,r,s,n,o={}){if(void 0===s)throw new a(this.id+" editOrder requires a amount argument");if(void 0===n)throw new a(this.id+" editOrder requires a price argument");await this.loadMarkets();const c=this.market(t),d={pair:c.id,type:r,amount:s,price:n,order_id:e},h=await this.privatePostCancelReplaceOrderPair(this.extend(d,o));return this.parseOrder(h,c)}async fetchDepositAddress(e,t={}){if("XRP"===e||"XLM"===e)throw new c(this.id+" fetchDepositAddress does not support XRP and XLM addresses yet (awaiting docs from CEX.io)");await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostGetAddress(this.extend(i,t)),s=this.safeString(r,"data");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o)),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,o,c,d,h){if(Array.isArray(c))return c;if(void 0===c)throw new n(this.id+" returned "+this.json(c));if(!0!==c&&"true"!==c&&!("e"in c&&"ok"in c&&"ok"===c.ok)&&"error"in c){const e=this.safeString(c,"error"),t=this.id+" "+o;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(t)}}}},"/QGi":function(e,t,i){"use strict";var r=i("HpGB"),s=i("DDMh"),a=r.rotl32,n=r.sum32,o=r.sum32_3,c=r.sum32_4,d=s.BlockHash;function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(h,d),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],s=this.h[2],d=this.h[3],h=this.h[4],v=i,g=r,w=s,k=d,_=h,T=0;T<80;T++){var S=n(a(c(i,u(T,r,s,d),e[p[T]+t],l(T)),y[T]),h);i=h,h=d,d=a(s,10),s=r,r=S,S=n(a(c(v,u(79-T,g,w,k),e[m[T]+t],f(T)),b[T]),_),v=_,_=k,k=a(w,10),w=g,g=S}S=o(this.h[1],s,k),this.h[1]=o(this.h[2],d,_),this.h[2]=o(this.h[3],h,v),this.h[3]=o(this.h[4],i,g),this.h[4]=o(this.h[0],r,w),this.h[0]=S},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"/bHG":function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcchina",name:"BTCChina",countries:["CN"],rateLimit:1500,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766368-465b3286-5ed6-11e7-9a11-0f6467e1d82b.jpg",api:{plus:"https://plus-api.btcchina.com/market",public:"https://data.btcchina.com/data",private:"https://api.btcchina.com/api_trade_v1.php"},www:"https://www.btcchina.com",doc:"https://www.btcchina.com/apidocs"},api:{plus:{get:["orderbook","ticker","trade"]},public:{get:["historydata","orderbook","ticker","trades"]},private:{post:["BuyIcebergOrder","BuyOrder","BuyOrder2","BuyStopOrder","CancelIcebergOrder","CancelOrder","CancelStopOrder","GetAccountInfo","getArchivedOrder","getArchivedOrders","GetDeposits","GetIcebergOrder","GetIcebergOrders","GetMarketDepth","GetMarketDepth2","GetOrder","GetOrders","GetStopOrder","GetStopOrders","GetTransactions","GetWithdrawal","GetWithdrawals","RequestWithdrawal","SellIcebergOrder","SellOrder","SellOrder2","SellStopOrder"]}},markets:{"BTC/CNY":{id:"btccny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",api:"public",plus:!1},"LTC/CNY":{id:"ltccny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",api:"public",plus:!1},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",api:"public",plus:!1},"BCH/CNY":{id:"bcccny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",api:"plus",plus:!0},"ETH/CNY":{id:"ethcny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",api:"plus",plus:!0}}})}async fetchMarkets(e={}){const t=await this.publicGetTicker(this.extend({market:"all"},e)),i=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],a=t[e],n=e.split("_")[1],o=n.slice(0,3),c=n.slice(3,6);let d=o.toUpperCase(),h=c.toUpperCase();d=this.safeCurrencyCode(d),h=this.safeCurrencyCode(h);const u=d+"/"+h;i.push({id:n,symbol:u,base:d,quote:h,baseId:o,quoteId:c,info:a})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"result"),r={info:i},s=Object.keys(this.currencies);for(let a=0;a<s.length;a++){const e=s[a],t=this.currency(e),n=this.account(),o=t.id;o in i.balance&&(n.total=parseFloat(i.balance[o].amount)),o in i.frozen&&(n.used=parseFloat(i.frozen[o].amount)),r[e]=n}return this.parseBalance(r)}createMarketRequest(e){const t={};return t[e.plus?"symbol":"market"]=e.id,t}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s=r.api+"GetOrderbook",a=this.createMarketRequest(r),n=await this[s](this.extend(a,i)),o=this.safeTimestamp(n,"date");return this.parseOrderBook(n,o)}parseTicker(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeFloat(e,"last");return{timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),vwap:this.safeFloat(e,"vwap"),open:this.safeFloat(e,"open"),close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}parseTickerPlus(e,t){const i=this.safeInteger(e,"Timestamp");let r=void 0;return void 0!==t&&(r=t.symbol),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"BidPrice"),ask:this.safeFloat(e,"AskPrice"),vwap:void 0,open:this.safeFloat(e,"Open"),last:this.safeFloat(e,"Last"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"Volume24H"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=i.api+"GetTicker",s=this.createMarketRequest(i),a=await this[r](this.extend(s,t)),n=this.safeValue(a,"ticker");return i.plus?this.parseTickerPlus(n,i):this.parseTicker(n,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");let a=void 0;return void 0!==s&&void 0!==r&&(a=s*r),{id:this.safeString(e,"tid"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,type:void 0,side:void 0,price:r,amount:s,cost:a}}parseTradePlus(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"size");let a=void 0;void 0!==s&&void 0!==r&&(a=s*r);const n=this.safeStringLower(e,"side");return{id:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,type:void 0,side:n,price:r,amount:s,cost:a}}parseTradesPlus(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTradePlus(e[r],t));return i}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let a=s.api+"GetTrade";const n=this.createMarketRequest(s);if(s.plus){const e=this.milliseconds();n.start_time=e-864e5,n.end_time=e}else a+="s";const o=await this[a](this.extend(n,r));return s.plus?this.parseTradesPlus(o.trades,s):this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o="privatePost"+this.capitalize(i)+"Order2",c={},d=n.id.toUpperCase();c.params="market"===t?[void 0,r,d]:[s,r,d];const h=await this[o](this.extend(c,a));return{info:h,id:this.safeString(h,"id")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={params:[e,i.market]};return await this.privatePostCancelOrder(this.extend(r,i))}nonce(){return this.microseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();let t=[];"params"in r&&(t=r.params);const n=this.nonce(),o={method:e,id:n,params:t};t=t.join(","),a=this.json(o);const c=["tonce="+n,"accesskey="+this.apiKey,"requestmethod="+i.toLowerCase(),"id="+n,"method="+e,"params="+t].join("&"),d=this.hmac(this.encode(c),this.encode(this.secret),"sha1"),h=this.encode(this.apiKey+":"+d);s={Authorization:"Basic "+this.stringToBase64(h),"Json-Rpc-Tonce":n}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}}},"/bNh":function(e,t){!function(){"use strict";function e(t,i,r,s){return this instanceof e?(this.domain=t||void 0,this.path=i||"/",this.secure=!!r,this.script=!!s,this):new e(t,i,r,s)}function i(e,t,r){return e instanceof i?e:this instanceof i?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(r||"/"),this.explicit_path=!1,this.domain=t||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,e&&this.parse(e,t,r),this):new i(e,t,r)}e.All=Object.freeze(Object.create(null)),t.CookieAccessInfo=e,t.Cookie=i,i.prototype.toString=function(){var e=[this.name+"="+this.value];return this.expiration_date!==1/0&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},i.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;function s(){var e,t;return this instanceof s?(e=Object.create(null),this.setCookie=function(r,s,a){var n,o;if(n=(r=new i(r,s,a)).expiration_date<=Date.now(),void 0!==e[r.name]){for(t=e[r.name],o=0;o<t.length;o+=1)if(t[o].collidesWith(r))return n?(t.splice(o,1),0===t.length&&delete e[r.name],!1):(t[o]=r,r);return!n&&(t.push(r),r)}return!n&&(e[r.name]=[r],e[r.name])},this.getCookie=function(i,r){var s,a;if(t=e[i])for(a=0;a<t.length;a+=1)if((s=t[a]).expiration_date<=Date.now())0===t.length&&delete e[s.name];else if(s.matches(r))return s},this.getCookies=function(t){var i,r,s=[];for(i in e)(r=this.getCookie(i,t))&&s.push(r);return s.toString=function(){return s.join(":")},s.toValueString=function(){return s.map((function(e){return e.toValueString()})).join(";")},s},this):new s}i.prototype.parse=function(e,t,r){if(this instanceof i){var s,a=e.split(";").filter((function(e){return!!e})),n=a[0].match(/([^=]+)=([\s\S]*)/);if(!n)return void console.warn("Invalid cookie header encountered. Header: '"+e+"'");var o=n[1],c=n[2];if("string"!==typeof o||0===o.length||"string"!==typeof c)return void console.warn("Unable to extract values from cookie header. Cookie: '"+e+"'");for(this.name=o,this.value=c,s=1;s<a.length;s+=1)switch(o=(n=a[s].match(/([^=]+)(?:=([\s\S]*))?/))[1].trim().toLowerCase(),c=n[2],o){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=c?Number(Date.parse(c)):1/0;break;case"path":this.path=c?c.trim():"",this.explicit_path=!0;break;case"domain":this.domain=c?c.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=r||"/"),this.explicit_domain||(this.domain=t),this}return(new i).parse(e,t,r)},i.prototype.matches=function(t){return t===e.All||!(this.noscript&&t.script||this.secure&&!t.secure||!this.collidesWith(t))},i.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==e.path.indexOf(this.path))return!1;var t=e.domain&&e.domain.replace(/^[\.]/,""),i=this.domain&&this.domain.replace(/^[\.]/,"");if(i===t)return!0;if(i){if(!this.explicit_domain)return!1;var r=t.indexOf(i);return-1!==r&&r===t.length-i.length}return!0},t.CookieJar=s,s.prototype.setCookies=function(e,t,s){var a,n,o=[];for(e=(e=Array.isArray(e)?e:e.split(r)).map((function(e){return new i(e,t,s)})),a=0;a<e.length;a+=1)n=e[a],this.setCookie(n,t,s)&&o.push(n);return o}}()},"/cFS":function(e,t,i){"use strict";(function(t){const r="undefined"!==typeof window,s="undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.electron,a="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,n="undefined"!==typeof t&&"win32"===t.platform,o=!(r||a),c="undefined"===typeof fetch?i("9Uy0")().fetch:fetch;e.exports={isBrowser:r,isElectron:s,isWebWorker:a,isNode:o,isWindows:n,defaultFetch:c}}).call(this,i("5IsQ"))},"/ePp":function(e,t,i){var r;void 0===(r=function(){return function(){var e=[new Uint32Array([2157250,2157314,2157378,2157442,2157506,2157570,2157634,0,2157698,2157762,2157826,2157890,2157954,0,2158018,0]),new Uint32Array([2179041,6291456,2179073,6291456,2179105,6291456,2179137,6291456,2179169,6291456,2179201,6291456,2179233,6291456,2179265,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([0,2113729,2197345,2197377,2113825,2197409,2197441,2113921,2197473,2114017,2197505,2197537,2197569,2197601,2197633,2197665]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,23068672,23068672,23068672,0,0,0,0,23068672]),new Uint32Array([14680064,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064]),new Uint32Array([2196001,2196033,2196065,2196097,2196129,2196161,2196193,2196225,2196257,2196289,2196321,2196353,2196385,2196417,2196449,2196481]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,6291456,0,0,0,0,0]),new Uint32Array([2097281,2105921,2097729,2106081,0,2097601,2162337,2106017,2133281,2097505,2105889,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([2177025,6291456,2177057,6291456,2177089,6291456,2177121,6291456,2177153,6291456,2177185,6291456,2177217,6291456,2177249,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,0,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456]),new Uint32Array([2134435,2134531,2134627,2134723,2134723,2134819,2134819,2134915,2134915,2135011,2105987,2135107,2135203,2135299,2131587,2135395]),new Uint32Array([0,0,0,0,0,0,0,6291456,2168673,2169249,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2147906,2147970,2148034,2148098,2148162,2148226,2148290,2148354,2147906,2147970,2148034,2148098,2148162,2148226,2148290,2148354]),new Uint32Array([2125219,2125315,2152834,2152898,2125411,2152962,2153026,2125506,2125507,2125603,2153090,2153154,2153218,2153282,2153346,2105348]),new Uint32Array([2203393,6291456,2203425,6291456,2203457,6291456,2203489,6291456,6291456,6291456,6291456,2203521,6291456,2181281,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,6291456,2145538,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,6291456]),new Uint32Array([2139426,2160834,2160898,2160962,2134242,2161026,2161090,2161154,2161218,2161282,2161346,2161410,2138658,2161474,2161538,2134722]),new Uint32Array([2119939,2124930,2125026,2106658,2125218,2128962,2129058,2129154,2129250,2129346,2129442,2108866,2108770,2150466,2150530,2150594]),new Uint32Array([2201601,6291456,2201633,6291456,2201665,6291456,2201697,6291456,2201729,6291456,2201761,6291456,2201793,6291456,2201825,6291456]),new Uint32Array([2193537,2193569,2193601,2193633,2193665,2193697,2193729,2193761,2193793,2193825,2193857,2193889,2193921,2193953,2193985,2194017]),new Uint32Array([6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2190561,6291456,2190593,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2190625,6291456,2190657,6291456,23068672]),new Uint32Array([2215905,2215937,2215969,2216001,2216033,2216065,2216097,2216129,2216161,2216193,2216225,2216257,2105441,2216289,2216321,2216353]),new Uint32Array([23068672,18884130,23068672,23068672,23068672,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2191233,2191265,2191297,2191329,2191361,2191393,2191425,2117377,2191457,2191489,2191521,2191553,2191585,2191617,2191649,2117953]),new Uint32Array([2132227,2132323,2132419,2132419,2132515,2132515,2132611,2132707,2132707,2132803,2132899,2132899,2132995,2132995,2133091,2133187]),new Uint32Array([0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,0,0]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,10609889,10610785,10609921,10610817,2222241]),new Uint32Array([6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0]),new Uint32Array([2219969,2157121,2157441,2157505,2157889,2157953,2220001,2158465,2158529,10575617,2156994,2157058,2129923,2130019,2157122,2157186]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2185249,6291456,2185281,6291456,2185313,6291456,2185345,6291456,2185377,6291456,2185409,6291456,2185441,6291456,2185473,6291456]),new Uint32Array([0,0,0,0,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,0,0,23068672,23068672,23068672,6291456,0]),new Uint32Array([2183361,6291456,2183393,6291456,2183425,6291456,2183457,6291456,2183489,6291456,2183521,6291456,2183553,6291456,2183585,6291456]),new Uint32Array([2192161,2192193,2192225,2192257,2192289,2192321,2192353,2192385,2192417,2192449,2192481,2192513,2192545,2192577,2192609,2192641]),new Uint32Array([2212001,2212033,2212065,2212097,2212129,2212161,2212193,2212225,2212257,2212289,2212321,2212353,2212385,2212417,2212449,2207265]),new Uint32Array([2249825,2249857,2249889,2249921,2249954,2250018,2250082,2250145,2250177,2250209,2250241,2250274,2250337,2250370,2250433,2250465]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2147905,2147969,2148033,2148097,2148161,2148225,2148289,2148353]),new Uint32Array([10485857,6291456,2197217,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,23068672,23068672]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2180353,2180385,2144033,2180417,2180449,2180481,2180513,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,10610209,10610465,10610241,10610753,10609857]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0,0]),new Uint32Array([2223842,2223906,2223970,2224034,2224098,2224162,2224226,2224290,2224354,2224418,2224482,2224546,2224610,2224674,2224738,2224802]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([23068672,23068672,23068672,18923650,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,18923714,23068672,23068672]),new Uint32Array([2126179,2125538,2126275,2126371,2126467,2125634,2126563,2105603,2105604,2125346,2126659,2126755,2126851,2098179,2098181,2098182]),new Uint32Array([2227426,2227490,2227554,2227618,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2192353,2240642,2240642,2240705,2240737,2240737,2240769,2240802,2240866,2240929,2240961,2240993,2241025,2241057,2241089,2241121]),new Uint32Array([6291456,2170881,2170913,2170945,6291456,2170977,6291456,2171009,2171041,6291456,6291456,6291456,2171073,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2132226,2132514,2163586,2132610,2160386,2133090,2133186,2160450,2160514,2160578,2133570,2106178,2160642,2133858,2160706,2160770]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10532162,10532226,10532290,10532354,10532418,10532482,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672]),new Uint32Array([2098209,2108353,2108193,2108481,2170241,2111713,2105473,2105569,2105601,2112289,2112481,2098305,2108321,0,0,0]),new Uint32Array([2209121,2209153,2209185,2209217,2209249,2209281,2209313,2209345,2209377,2209409,2209441,2209473,2207265,2209505,2209537,2209569]),new Uint32Array([2189025,6291456,2189057,6291456,2189089,6291456,2189121,6291456,2189153,6291456,2189185,6291456,2189217,6291456,2189249,6291456]),new Uint32Array([2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2165764,2140004]),new Uint32Array([2215105,6291456,2215137,6291456,6291456,2215169,2215201,6291456,6291456,6291456,2215233,2215265,2215297,2215329,2215361,2215393]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,23068672,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([10505091,10505187,10505283,10505379,10505475,10505571,10505667,10505763,10505859,10505955,10506051,10506147,10506243,10506339,10506435,10506531]),new Uint32Array([2229730,2229794,2229858,2229922,2229986,2230050,2230114,2230178,2230242,2230306,2230370,2230434,2230498,2230562,2230626,2230690]),new Uint32Array([2105505,2098241,2108353,2108417,2105825,0,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177]),new Uint32Array([6291456,6291456,6291456,6291456,10502115,10502178,10502211,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2190305,6291456,2190337,6291456,2190369,6291456,2190401,6291456,2190433,6291456,2190465,6291456,2190497,6291456,2190529,6291456]),new Uint32Array([2173793,2173985,2174017,6291456,2173761,2173697,6291456,2174689,6291456,2174017,2174721,6291456,6291456,2174753,2174785,2174817]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2099521,2099105,2120705,2098369,2120801,2103361,2097985,2098433,2121377,2121473,2099169,2099873,2098401,2099393,2152609,2100033]),new Uint32Array([2132898,2163842,2163906,2133282,2132034,2131938,2137410,2132802,2132706,2164866,2133282,2160578,2165186,2165186,6291456,6291456]),new Uint32Array([10500003,10500099,10500195,10500291,10500387,10500483,10500579,10500675,10500771,10500867,10500963,10501059,10501155,10501251,10501347,10501443]),new Uint32Array([2163458,2130978,2131074,2131266,2131362,2163522,2160130,2132066,2131010,2131106,2106018,2131618,2131298,2132034,2131938,2137410]),new Uint32Array([2212961,2116993,2212993,2213025,2213057,2213089,2213121,2213153,2213185,2213217,2213249,2209633,2213281,2213313,2213345,2213377]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2113729,2113825,2113921,2114017,2114113,2114209,2114305,2114401,2114497,2114593,2114689,2114785,2114881,2114977,2115073,2115169]),new Uint32Array([2238177,2238209,2238241,2238273,2238305,2238337,2238337,2217537,2238369,2238401,2238433,2238465,2215649,2238497,2238529,2238561]),new Uint32Array([2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905]),new Uint32Array([6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,0]),new Uint32Array([6291456,0,6291456,2145026,0,6291456,2145090,0,6291456,6291456,0,0,23068672,0,23068672,23068672]),new Uint32Array([2099233,2122017,2200673,2098113,2121537,2103201,2200705,2104033,2121857,2121953,2122401,2099649,2099969,2123009,2100129,2100289]),new Uint32Array([6291456,23068672,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0]),new Uint32Array([2187681,2187713,2187745,2187777,2187809,2187841,2187873,2187905,2187937,2187969,2188001,2188033,2188065,2188097,2188129,2188161]),new Uint32Array([0,10554498,10554562,10554626,10554690,10554754,10554818,10554882,10554946,10555010,10555074,6291456,6291456,0,0,0]),new Uint32Array([2235170,2235234,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0]),new Uint32Array([2181153,6291456,2188897,6291456,6291456,2188929,6291456,6291456,6291456,6291456,6291456,6291456,2111905,2100865,2188961,2188993]),new Uint32Array([2100833,2100897,0,0,2101569,2101697,2101825,2101953,2102081,2102209,10575617,2187041,10502177,10489601,10489697,2112289]),new Uint32Array([6291456,2172833,6291456,2172865,2172897,2172929,2172961,6291456,2172993,6291456,2173025,6291456,2173057,6291456,2173089,6291456]),new Uint32Array([6291456,0,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,2190721]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,6291456,6291456]),new Uint32Array([2184993,6291456,2185025,6291456,2185057,6291456,2185089,6291456,2185121,6291456,2185153,6291456,2185185,6291456,2185217,6291456]),new Uint32Array([2115265,2115361,2115457,2115553,2115649,2115745,2115841,2115937,2116033,2116129,2116225,2116321,2150658,2150722,2200225,6291456]),new Uint32Array([2168321,6291456,2168353,6291456,2168385,6291456,2168417,6291456,2168449,6291456,2168481,6291456,2168513,6291456,2168545,6291456]),new Uint32Array([23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,0,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,2186625,0,0,6291456,6291456,2186657,2186689,2186721,2173505,0,10496067,10496163,10496259]),new Uint32Array([2178785,6291456,2178817,6291456,2178849,6291456,2178881,6291456,2178913,6291456,2178945,6291456,2178977,6291456,2179009,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2097152,0,0,0,2097152,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,2197857,2197889,2197921,2197953,2197985,2198017,0,0,2198049,2198081,2198113,2198145,2198177,2198209]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2098209,2167297,2111137,6291456]),new Uint32Array([2171393,6291456,2171425,6291456,2171457,6291456,2171489,6291456,2171521,6291456,2171553,6291456,2171585,6291456,2171617,6291456]),new Uint32Array([2206753,2206785,2195457,2206817,2206849,2206881,2206913,2197153,2197153,2206945,2117857,2206977,2207009,2207041,2207073,2207105]),new Uint32Array([0,0,0,0,0,0,0,23068672,0,0,0,0,2144834,2144898,0,2144962]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672]),new Uint32Array([2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,0,2105505,2098241]),new Uint32Array([6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,2202049,6291456,2202081,6291456,2202113,6291456,2202145,6291456,2202177,6291456,2202209,6291456,2202241,6291456]),new Uint32Array([10501155,10501251,10501347,10501443,10501539,10501635,10501731,10501827,10501923,10502019,2141731,2105505,2098177,2155586,2166530,0]),new Uint32Array([2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441]),new Uint32Array([2146882,2146946,2147010,2147074,2147138,2147202,2147266,2147330,2146882,2146946,2147010,2147074,2147138,2147202,2147266,2147330]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([10502307,10502403,10502499,10502595,10502691,10502787,10502883,10502979,10503075,10503171,10503267,10503363,10503459,10503555,10503651,10503747]),new Uint32Array([2179937,2179969,2180001,2180033,2156545,2180065,2156577,2180097,2180129,2180161,2180193,2180225,2180257,2180289,2156737,2180321]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,0,0,0,6291456,0,0,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0]),new Uint32Array([2227682,2227746,2227810,2227874,2227938,2228002,2228066,2228130,2228194,2228258,2228322,2228386,2228450,2228514,2228578,2228642]),new Uint32Array([2105601,2169121,2108193,2170049,2181025,2181057,2112481,2108321,2108289,2181089,2170497,2100865,2181121,2173601,2173633,2173665]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2180641,6291456,6291456,6291456]),new Uint32Array([0,6291456,6291456,6291456,0,6291456,0,6291456,0,0,6291456,6291456,0,6291456,6291456,6291456]),new Uint32Array([2178273,6291456,2178305,6291456,2178337,6291456,2178369,6291456,2178401,6291456,2178433,6291456,2178465,6291456,2178497,6291456]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,14680064,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456]),new Uint32Array([2237377,2237409,2236225,2237441,2237473,2217441,2215521,2215553,2217473,2237505,2237537,2209697,2237569,2215585,2237601,2237633]),new Uint32Array([2221985,2165601,2165601,2165665,2165665,2222017,2222017,2165729,2165729,2158913,2158913,2158913,2158913,2097281,2097281,2105921]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2149634,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2176897,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,2176929,6291456,2176961,6291456,2176993,6291456]),new Uint32Array([2172641,6291456,2172673,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2172705,2172737,6291456,2172769,2172801,6291456]),new Uint32Array([2099173,2104196,2121667,2099395,2121763,2152258,2152322,2098946,2152386,2121859,2121955,2099333,2122051,2104324,2099493,2122147]),new Uint32Array([6291456,6291456,6291456,2145794,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,2145858,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,0,0,6291456,0]),new Uint32Array([0,2105921,2097729,0,2097377,0,0,2106017,0,2097505,2105889,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2239074,2239138,2239201,2239233,2239265,2239297,2239329,2239361,0,2239393,2239425,2239425,2239458,2239521,2239553,2209569]),new Uint32Array([14680064,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,6291456,23068672]),new Uint32Array([2108321,2108289,2113153,2098209,2180897,2180929,2180961,2111137,2098241,2108353,2170241,2170273,2180993,2105825,6291456,2105473]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2146114,6291456,6291456,6291456,0,0,0]),new Uint32Array([2105921,2105921,2105921,2222049,2222049,2130977,2130977,2130977,2130977,2160065,2160065,2160065,2160065,2097729,2097729,2097729]),new Uint32Array([2218145,2214785,2207937,2218177,2218209,2192993,2210113,2212769,2218241,2218273,2216129,2218305,2216161,2218337,2218369,2218401]),new Uint32Array([0,0,0,2156546,2156610,2156674,2156738,2156802,0,0,0,0,0,2156866,23068672,2156930]),new Uint32Array([23068672,23068672,23068672,0,0,0,0,23068672,23068672,0,0,23068672,23068672,23068672,0,0]),new Uint32Array([2213409,2213441,2213473,2213505,2213537,2213569,2213601,2213633,2213665,2195681,2213697,2213729,2213761,2213793,2213825,2213857]),new Uint32Array([2100033,2099233,2122017,2200673,2098113,2121537,2103201,2200705,2104033,2121857,2121953,2122401,2099649,2099969,2123009,2100129]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2201857,6291456,2201889,6291456,2201921,6291456,2201953,6291456,2201985,6291456,2202017,6291456,2176193,2176257,23068672,23068672]),new Uint32Array([6291456,6291456,23068672,23068672,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2188193,2188225,2188257,2188289,2188321,2188353,2188385,2188417,2188449,2188481,2188513,2188545,2188577,2188609,2188641,0]),new Uint32Array([10554529,2221089,0,10502113,10562017,10537921,10538049,2221121,2221153,0,0,0,0,0,0,0]),new Uint32Array([2213889,2213921,2213953,2213985,2214017,2214049,2214081,2194177,2214113,2214145,2214177,2214209,2214241,2214273,2214305,2214337]),new Uint32Array([2166978,2167042,2099169,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2180545,6291456,6291456,6291456]),new Uint32Array([10518915,10519011,10519107,10519203,2162242,2162306,2159554,2162370,2159362,2159618,2105922,2162434,2159746,2162498,2159810,2159874]),new Uint32Array([2161730,2161794,2135586,2161858,2161922,2137186,2131810,2160290,2135170,2161986,2137954,2162050,2162114,2162178,10518723,10518819]),new Uint32Array([10506627,10506723,10506819,10506915,10507011,10507107,10507203,10507299,10507395,10507491,10507587,10507683,10507779,10507875,10507971,10508067]),new Uint32Array([6291456,23068672,23068672,23068672,0,23068672,23068672,0,0,0,0,0,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2175873,2175905,2175937,2175969,2176001,2176033,2176065,2176097,2176129,2176161,2176193,2176225,2176257,2176289,2176321,2176353]),new Uint32Array([2140006,2140198,2140390,2140582,2140774,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,23068672,23068672,23068672]),new Uint32Array([2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241]),new Uint32Array([0,23068672,0,0,0,0,0,0,0,2145154,2145218,2145282,6291456,0,2145346,0]),new Uint32Array([0,0,0,0,10531458,10495395,2148545,2143201,2173473,2148865,2173505,0,2173537,0,2173569,2149121]),new Uint32Array([10537282,10495683,2148738,2148802,2148866,0,6291456,2148930,2186593,2173473,2148737,2148865,2148802,10495779,10495875,10495971]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2215425,2215457,2215489,2215521,2215553,2215585,2215617,2215649,2215681,2215713,2215745,2215777,2192033,2215809,2215841,2215873]),new Uint32Array([2242049,2242081,2242113,2242145,2242177,2242209,2242241,2242273,2215937,2242305,2242338,2242401,2242433,2242465,2242497,2216001]),new Uint32Array([10554529,2221089,0,0,10562017,10502113,10538049,10537921,2221185,10489601,10489697,10609889,10609921,2141729,2141793,10610273]),new Uint32Array([2141923,2142019,2142115,2142211,2142307,2142403,2142499,2142595,2142691,0,0,0,0,0,0,0]),new Uint32Array([0,2221185,2221217,10609857,10609857,10489601,10489697,10609889,10609921,2141729,2141793,2221345,2221377,2221409,2221441,2187105]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,18923970,23068672,23068672,23068672,0,6291456,6291456]),new Uint32Array([2183105,6291456,2183137,6291456,2183169,6291456,2183201,6291456,2183233,6291456,2183265,6291456,2183297,6291456,2183329,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2134434,2134818,2097666,2097186,2097474,2097698,2105986,2131586,2132450,2131874,2131778,2135970,2135778,2161602,2136162,2161666]),new Uint32Array([2236865,2236897,2236930,2236993,2237025,2235681,2237058,2237121,2237153,2237185,2237217,2217281,2237250,2191233,2237313,2237345]),new Uint32Array([2190049,6291456,2190081,6291456,2190113,6291456,2190145,6291456,2190177,6291456,2190209,6291456,2190241,6291456,2190273,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2101922,2102050,2102178,2102306,10498755,10498851,10498947,10499043,10499139,10499235,10499331,10499427,10499523,10489604,10489732,10489860]),new Uint32Array([2166914,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2181601,2170561,2181633,2181665,2170753,2181697,2172897,2170881,2181729,2170913,2172929,2113441,2181761,2181793,2171009,2173761]),new Uint32Array([0,2105921,2097729,2106081,0,2097601,2162337,2106017,2133281,2097505,0,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2248001,2248033,2248066,2248130,2248193,2248226,2248289,2248322,2248385,2248417,2216673,2248450,2248514,2248577,2248610,2248673]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([2169729,6291456,2169761,6291456,2169793,6291456,2169825,6291456,2169857,2169889,6291456,2169921,6291456,2143329,6291456,2098305]),new Uint32Array([2162178,2163202,2163266,2135170,2136226,2161986,2137954,2159426,2159490,2163330,2159554,2163394,2159682,2139522,2136450,2159746]),new Uint32Array([2173953,2173985,0,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2174209,2174241,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,4271169,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2174273]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,6291456,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,2190785,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2189793,6291456,2189825,6291456,2189857,6291456,2189889,6291456,2189921,6291456,2189953,6291456,2189985,6291456,2190017,6291456]),new Uint32Array([2105601,2112289,2108193,2112481,2112577,0,2098305,2108321,2108289,2100865,2113153,2108481,2113345,0,2098209,2111137]),new Uint32Array([2172129,6291456,2172161,6291456,2172193,6291456,2172225,6291456,2172257,6291456,2172289,6291456,2172321,6291456,2172353,6291456]),new Uint32Array([2214753,6291456,2214785,6291456,6291456,2214817,2214849,2214881,2214913,2214945,2214977,2215009,2215041,2215073,2194401,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,0,0,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([10610305,10610337,10575617,2221761,10610401,10610433,10502177,0,10610465,10610497,10610529,10610561,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,23068672,0,0,0,0,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2187105,2187137,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2199393,2199425,2199457,2199489,2199521,2199553,2199585,2199617,2199649,2199681,2199713,2199745,2199777,2199809,2199841,0]),new Uint32Array([2217249,2217281,2217313,2217345,2217377,2217409,2217441,2217473,2215617,2217505,2217537,2217569,2214753,2217601,2217633,2217665]),new Uint32Array([2170273,2170305,6291456,2170337,2170369,6291456,2170401,2170433,2170465,6291456,6291456,6291456,2170497,2170529,6291456,2170561]),new Uint32Array([2188673,6291456,2188705,2188737,2188769,6291456,6291456,2188801,6291456,2188833,6291456,2188865,6291456,2180929,2181505,2180897]),new Uint32Array([10489988,10490116,10490244,10490372,10490500,10490628,10490756,10490884,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2147393,2147457,2147521,2147585,2147649,2147713,2147777,2147841]),new Uint32Array([23068672,23068672,0,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2241153,2241185,2241217,2215809,2241250,2241313,2241345,2241377,2217921,2241377,2241409,2215873,2241441,2241473,2241505,2241537]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220417,2220417,2220449,2220449,2220481,2220481,2220513,2220513,2220545,2220545,2220577,2220577,2220609,2220609,2220641,2220641]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,2144002,0,6291456,6291456,0,0,6291456,6291456,6291456]),new Uint32Array([2167105,2167137,2167169,2167201,2167233,2167265,2167297,2167329,2167361,2167393,2167425,2167457,2167489,2167521,2167553,2167585]),new Uint32Array([10575521,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([2234146,2234210,2234274,2234338,2234402,2234466,2234530,2234594,2234658,2234722,2234786,2234850,2234914,2234978,2235042,2235106]),new Uint32Array([0,0,0,0,0,0,0,2180577,0,0,0,0,0,2180609,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,0,0,6291456,6291456]),new Uint32Array([2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2242529,2242561,2242593,2242625,2242657,2242689,2242721,2242753,2207937,2218177,2242785,2242817,2242849,2242882,2242945,2242977]),new Uint32Array([2118049,2105345,2118241,2105441,2118433,2118529,2118625,2118721,2118817,2200257,2200289,2191809,2200321,2200353,2200385,2200417]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2185505,6291456,2185537,6291456,2185569,6291456,2185601,6291456,2185633,6291456,2185665,6291456,2185697,6291456,2185729,6291456]),new Uint32Array([2231970,2232034,2232098,2232162,2232226,2232290,2232354,2232418,2232482,2232546,2232610,2232674,2232738,2232802,2232866,2232930]),new Uint32Array([2218625,2246402,2246466,2246530,2246594,2246657,2246689,2246689,2218657,2219681,2246721,2246753,2246785,2246818,2246881,2208481]),new Uint32Array([2197025,2197057,2197089,2197121,2197153,2197185,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2219137,2216961,2219169,2219201,2219233,2219265,2219297,2217025,2215041,2219329,2217057,2219361,2217089,2219393,2197153,2219426]),new Uint32Array([23068672,23068672,23068672,0,0,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713]),new Uint32Array([2243522,2243585,2243617,2243649,2243681,2210113,2243713,2243746,2243810,2243874,2243937,2243970,2244033,2244065,2244097,2244129]),new Uint32Array([2178017,6291456,2178049,6291456,2178081,6291456,2178113,6291456,2178145,6291456,2178177,6291456,2178209,6291456,2178241,6291456]),new Uint32Array([10553858,2165314,10518722,6291456,10518818,0,10518914,2130690,10519010,2130786,10519106,2130882,10519202,2165378,10554050,2165506]),new Uint32Array([0,0,2135491,2135587,2135683,2135779,2135875,2135971,2135971,2136067,2136163,2136259,2136355,2136355,2136451,2136547]),new Uint32Array([23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2220033,2220033,2220065,2220065,2220065,2220065,2220097,2220097,2220097,2220097,2220129,2220129,2220129,2220129,2220161,2220161]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2100897,2100898,2100899,2150018,2100865,2100866,2100867,2100868,2150082,2108481,2109858,2109859,2105569,2105505,2098241,2105601]),new Uint32Array([2097217,2097505,2097505,2097505,2097505,2165570,2165570,2165634,2165634,2165698,2165698,2097858,2097858,0,0,2097152]),new Uint32Array([23068672,6291456,23068672,23068672,23068672,6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([10503843,10503939,10504035,10504131,10504227,10504323,10504419,10504515,10504611,10504707,10504803,10504899,10504995,10491140,10491268,0]),new Uint32Array([2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2134145,2097153,2134241,2105953,2132705,2130977,2160065,2131297,2162049,2133089,2160577,2133857,2235297,2220769,2235329,2235361]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2222401,2222433,2222465,10531394,2222497,2222529,2222561,0,2222593,2222625,2222657,2222689,2222721,2222753,2222785,0]),new Uint32Array([2184481,6291456,2184513,6291456,2184545,6291456,2184577,6291456,2184609,6291456,2184641,6291456,2184673,6291456,2184705,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0,0,0,0,0,0,0,0]),new Uint32Array([2105570,2156034,2126947,2156098,2153666,2127043,2127139,2156162,0,2127235,2156226,2156290,2156354,2156418,2127331,2127427]),new Uint32Array([2215905,2207041,2153185,2241569,2241601,2241633,2241665,2241697,2241730,2241793,2241825,2241857,2241889,2241921,2241954,2242017]),new Uint32Array([2203777,6291456,2203809,6291456,2203841,6291456,2203873,6291456,2203905,6291456,2173121,2180993,2181249,2203937,2181313,0]),new Uint32Array([2168577,6291456,2168609,6291456,2168641,6291456,2168673,6291456,2168705,6291456,2168737,6291456,2168769,6291456,2168801,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,23068672,23068672,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,0,0]),new Uint32Array([2210113,2195521,2210145,2210177,2210209,2210241,2210273,2210305,2210337,2210369,2210401,2210433,2210465,2210497,2210529,2210561]),new Uint32Array([6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([2228706,2228770,2228834,2228898,2228962,2229026,2229090,2229154,2229218,2229282,2229346,2229410,2229474,2229538,2229602,2229666]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,18874368,18874368,18874368,0,0]),new Uint32Array([2133089,2133281,2133281,2133281,2133281,2160577,2160577,2160577,2160577,2097441,2097441,2097441,2097441,2133857,2133857,2133857]),new Uint32Array([6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089]),new Uint32Array([2178529,6291456,2178561,6291456,2178593,6291456,2178625,6291456,2178657,6291456,2178689,6291456,2178721,6291456,2178753,6291456]),new Uint32Array([2221025,2221025,2221057,2221057,2159329,2159329,2159329,2159329,2097217,2097217,2158914,2158914,2158978,2158978,2159042,2159042]),new Uint32Array([2208161,2208193,2208225,2208257,2194433,2208289,2208321,2208353,2208385,2208417,2208449,2208481,2208513,2208545,2208577,2208609]),new Uint32Array([2169217,6291456,2169249,6291456,2169281,6291456,2169313,6291456,2169345,6291456,2169377,6291456,2169409,6291456,2169441,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2133187,2133283,2133283,2133379,2133475,2133571,2133667,2133667,2133763,2133859,2133955,2134051,2134147,2134147,2134243,2134339]),new Uint32Array([2197697,2114113,2114209,2197729,2197761,2114305,2197793,2114401,2114497,2197825,2114593,2114689,2114785,2114881,2114977,0]),new Uint32Array([2193089,2193121,2193153,2193185,2117665,2117569,2193217,2193249,2193281,2193313,2193345,2193377,2193409,2193441,2193473,2193505]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2184225,6291456,2184257,6291456,2184289,6291456,2184321,6291456,2184353,6291456,2184385,6291456,2184417,6291456,2184449,6291456]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2100833,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2098657,2098049,2200737,2123489,2123681,2200769,2098625,2100321,2098145,2100449,2098017,2098753,2200801,2200833,2200865,0]),new Uint32Array([23068672,23068672,23068672,0,0,0,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0]),new Uint32Array([2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,0,2098241,2108353,2108417,2105825,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2181153,2105505,2181185,2167617,2180993]),new Uint32Array([2160002,2160066,2160130,2160194,2160258,2132066,2131010,2131106,2106018,2131618,2160322,2131298,2132034,2131938,2137410,2132226]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([2183617,6291456,2183649,6291456,2183681,6291456,2183713,6291456,2183745,6291456,2183777,6291456,2183809,6291456,2183841,6291456]),new Uint32Array([0,6291456,6291456,0,6291456,0,0,6291456,6291456,0,6291456,0,0,6291456,0,0]),new Uint32Array([2250977,2251009,2251041,2251073,2195009,2251106,2251169,2251201,2251233,2251265,2251297,2251330,2251394,2251457,2251489,2251521]),new Uint32Array([2205729,2205761,2205793,2205825,2205857,2205889,2205921,2205953,2205985,2206017,2206049,2206081,2206113,2206145,2206177,2206209]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2143170,2168993,6291456,2169025,6291456,2169057,6291456,2169089,6291456,2143234,2169121,6291456,2169153,6291456,2169185,6291456]),new Uint32Array([23068672,23068672,2190689,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2248706,2248769,2248801,2248833,2248865,2248897,2248929,2248962,2249026,2249090,2249154,2240705,2249217,2249249,2249281,2249313]),new Uint32Array([10485857,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10495394,6291456,2098209,6291456,6291456,2097152,6291456,10531394]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([14680064,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2173985,2173953,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889]),new Uint32Array([6291456,2186977,6291456,6291456,6291456,6291456,6291456,10537858,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2209601,2209633,2209665,2209697,2209729,2209761,2209793,2209825,2209857,2209889,2209921,2209953,2209985,2210017,2210049,2210081]),new Uint32Array([10501539,10501635,10501731,10501827,10501923,10502019,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905]),new Uint32Array([2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2194561,2194593,2194625,2119777,2119873,2194657,2194689,2194721,2194753,2194785,2194817,2194849,2194881,2194913,2194945,2194977]),new Uint32Array([2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569]),new Uint32Array([2222818,2222882,2222946,2223010,2223074,2223138,2223202,2223266,2223330,2223394,2223458,2223522,2223586,2223650,2223714,2223778]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672]),new Uint32Array([0,2179553,2179585,2179617,2179649,2144001,2179681,2179713,2179745,2179777,2179809,2156705,2179841,2156833,2179873,2179905]),new Uint32Array([6291456,23068672,6291456,2145602,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,6291456,0,0]),new Uint32Array([2196513,2196545,2196577,2196609,2196641,2196673,2196705,2196737,2196769,2196801,2196833,2196865,2196897,2196929,2196961,2196993]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2177281,6291456,2177313,6291456,2177345,6291456,2177377,6291456,2177409,6291456,2177441,6291456,2177473,6291456,2177505,6291456]),new Uint32Array([2187137,2221473,2221505,2221537,2221569,6291456,6291456,10610209,10610241,10537986,10537986,10537986,10537986,10609857,10609857,10609857]),new Uint32Array([2243009,2243041,2216033,2243074,2243137,2243169,2243201,2219617,2243233,2243265,2243297,2243329,2243362,2243425,2243457,2243489]),new Uint32Array([10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,10485857,2097152,4194304,4194304,0,0]),new Uint32Array([2143042,6291456,2143106,2143106,2168833,6291456,2168865,6291456,6291456,2168897,6291456,2168929,6291456,2168961,6291456,2143170]),new Uint32Array([6291456,6291456,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2204193,2204225,2204257,2204289,2204321,2204353,2204385,2204417,2204449,2204481,2204513,2204545,2204577,2204609,2204641,2204673]),new Uint32Array([2202753,6291456,2202785,6291456,2202817,6291456,2202849,6291456,2202881,6291456,2202913,6291456,2202945,6291456,2202977,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321]),new Uint32Array([2147394,2147458,2147522,2147586,2147650,2147714,2147778,2147842,2147394,2147458,2147522,2147586,2147650,2147714,2147778,2147842]),new Uint32Array([2253313,2253346,2253409,2253441,2253473,2253505,2253537,2253569,2253601,2253634,2219393,2253697,2253729,2253761,2253793,2253825]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([2162562,2162626,2131362,2162690,2159938,2160002,2162754,2162818,2160130,2162882,2160194,2160258,2160834,2160898,2161026,2161090]),new Uint32Array([2175361,2175393,2175425,2175457,2175489,2175521,2175553,2175585,2175617,2175649,2175681,2175713,2175745,2175777,2175809,2175841]),new Uint32Array([2253858,2253921,2253954,2254018,2254082,2196737,2254145,2196865,2254177,2254209,2254241,2254273,2197025,2254306,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2202113,2204129,2188705,2204161]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953]),new Uint32Array([2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209]),new Uint32Array([2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,0,2108417,0,2111713,2100897,2111905]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([2175425,2175489,2175809,2175905,2175937,2175937,2176193,2176417,2180865,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,2143298,2143298,2143298,2143362,2143362,2143362,2143426,2143426,2143426,2171105,6291456,2171137]),new Uint32Array([2120162,2120258,2151618,2151682,2151746,2151810,2151874,2151938,2152002,2120035,2120131,2120227,2152066,2120323,2152130,2120419]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2195361,2142433,2236065,2236097,2236129,2236161,2118241,2117473,2236193,2236225,2236257,2236289,0,0,0,0]),new Uint32Array([2189281,6291456,2189313,6291456,2189345,6291456,2189377,6291456,2189409,6291456,2189441,6291456,2189473,6291456,2189505,6291456]),new Uint32Array([6291456,6291456,2145922,6291456,6291456,6291456,6291456,2145986,6291456,6291456,6291456,6291456,2146050,6291456,6291456,6291456]),new Uint32Array([2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,10502113,10562017,10610401,10502177,10610433,10538049]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,2186401,0,2186433,0,2186465,0,2186497]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,23068672,23068672,23068672]),new Uint32Array([0,0,2198241,2198273,2198305,2198337,2198369,2198401,0,0,2198433,2198465,2198497,0,0,0]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,6291456,0,23068672,23068672,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([0,2105921,2097729,0,2097377,0,0,2106017,2133281,2097505,2105889,0,2097697,2135777,2097633,2097441]),new Uint32Array([2197889,2197921,2197953,2197985,2198017,2198049,2198081,2198113,2198145,2198177,2198209,2198241,2198273,2198305,2198337,2198369]),new Uint32Array([2132514,2132610,2160386,2133090,2133186,2160450,2160514,2133282,2160578,2133570,2106178,2160642,2133858,2160706,2160770,2134146]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,6291456,23068672,23068672,6291456,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([2184737,6291456,2184769,6291456,2184801,6291456,2184833,6291456,2184865,6291456,2184897,6291456,2184929,6291456,2184961,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,23068672,23068672,23068672,6291456,23068672,23068672,23068672,23068672,23068672,0,0]),new Uint32Array([6291456,6291456,6291456,2186753,6291456,6291456,6291456,6291456,2186785,2186817,2186849,2173569,2186881,10496355,10495395,10575521]),new Uint32Array([0,0,2097729,0,0,0,0,2106017,0,2097505,0,2097185,0,2135777,2097633,2097441]),new Uint32Array([2189537,6291456,2189569,6291456,2189601,6291456,2189633,6291456,2189665,6291456,2189697,6291456,2189729,6291456,2189761,6291456]),new Uint32Array([2202497,6291456,2202529,6291456,2202561,6291456,2202593,6291456,2202625,6291456,2202657,6291456,2202689,6291456,2202721,6291456]),new Uint32Array([2245217,2218369,2245249,2245282,2245345,2245377,2245410,2245474,2245537,2245569,2245601,2245633,2245665,2245665,2245697,2245729]),new Uint32Array([6291456,0,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,0,0,0,0,0,0,23068672,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,6291456,23068672,6291456,23068672,6291456,6291456,6291456,6291456,23068672,23068672]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2097281,2105921,2097729,2106081,2097377,2097601,2162337,2106017,2133281,2097505,0,2097185,2097697,2135777,2097633,2097441]),new Uint32Array([2176641,6291456,2176673,6291456,2176705,6291456,2176737,6291456,2176769,6291456,2176801,6291456,2176833,6291456,2176865,6291456]),new Uint32Array([2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953,2174369,2174369,0,0,2100833,2100737]),new Uint32Array([2116513,2190817,2190849,2190881,2190913,2190945,2116609,2190977,2191009,2191041,2191073,2117185,2191105,2191137,2191169,2191201]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456]),new Uint32Array([2167617,2167649,2167681,2167713,2167745,2167777,2167809,6291456,2167841,2167873,2167905,2167937,2167969,2168001,2168033,4240130]),new Uint32Array([2165122,2163970,2164034,2164098,2164162,2164226,2164290,2164354,2164418,2164482,2164546,2133122,2134562,2132162,2132834,2136866]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2186209,2186241,2186273,2186305,2186337,2186369,0,0]),new Uint32Array([2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([0,0,23068672,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([0,10537921,10610689,10610273,10610497,10610529,10610305,10610721,10489601,10489697,10610337,10575617,10554529,2221761,2197217,10496577]),new Uint32Array([2105473,2105569,2105601,2112289,0,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441]),new Uint32Array([2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481]),new Uint32Array([2125346,2153410,2153474,2127394,2153538,2153602,2153666,2153730,2105507,2105476,2153794,2153858,2153922,2153986,2154050,2105794]),new Uint32Array([2200449,2119681,2200481,2153313,2199873,2199905,2199937,2200513,2200545,2200577,2200609,2119105,2119201,2119297,2119393,2119489]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2175777,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2222273,2197217,2221473,2221505,2221089,2222305,2200865,2099681,2104481,2222337,2099905,2120737,2222369,2103713,2100225,2098785]),new Uint32Array([2201377,6291456,2201409,6291456,2201441,6291456,2201473,6291456,2201505,6291456,2201537,6291456,2201569,6291456,6291456,23068672]),new Uint32Array([2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793]),new Uint32Array([2200897,6291456,2200929,6291456,2200961,6291456,2200993,6291456,2201025,6291456,2180865,6291456,2201057,6291456,2201089,6291456]),new Uint32Array([0,0,0,0,0,23068672,23068672,0,6291456,6291456,6291456,0,0,0,0,0]),new Uint32Array([2161154,2161410,2138658,2161474,2161538,2097666,2097186,2097474,2162946,2132450,2163010,2163074,2136162,2163138,2161666,2161730]),new Uint32Array([2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953]),new Uint32Array([0,0,0,0,0,0,23068672,23068672,0,0,0,0,2145410,2145474,0,6291456]),new Uint32Array([2244161,2216065,2212769,2244193,2244225,2244257,2244290,2244353,2244385,2244417,2244449,2218273,2244481,2244514,2244577,2244609]),new Uint32Array([2125730,2125699,2125795,2125891,2125987,2154114,2154178,2154242,2154306,2154370,2154434,2154498,2126082,2126178,2126274,2126083]),new Uint32Array([2237665,2237697,2237697,2237697,2237730,2237793,2237825,2237857,2237890,2237953,2237985,2238017,2238049,2238081,2238113,2238145]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2150146,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,0,0,23068672,23068672,23068672,0,0]),new Uint32Array([2214369,2238593,2238625,2238657,2238689,2238721,2238753,2238785,2238817,2238850,2238913,2238945,2238977,2235457,2239009,2239041]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([2252066,2252130,2252193,2252225,2252257,2252290,2252353,2252385,2252417,2252449,2252481,2252513,2252545,2252578,2252641,2252673]),new Uint32Array([2197697,2114113,2114209,2197729,2197761,2114305,2197793,2114401,2114497,2197825,2114593,2114689,2114785,2114881,2114977,2197857]),new Uint32Array([2224866,2224930,2224994,2225058,2225122,2225186,2225250,2225314,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2219490,2219554,2219617,2219649,2219681,2219714,2219778,2219842,2219905,2219937,0,0,0,0,0,0]),new Uint32Array([6291456,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289]),new Uint32Array([2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113,2173985,2173953,2148481,2173601,2173633,2173665]),new Uint32Array([2220161,2220161,2220193,2220193,2220193,2220193,2220225,2220225,2220225,2220225,2220257,2220257,2220257,2220257,2220289,2220289]),new Uint32Array([2192673,2192705,2192737,2192769,2192801,2192833,2192865,2118049,2192897,2117473,2117761,2192929,2192961,2192993,2193025,2193057]),new Uint32Array([2179297,6291456,2179329,6291456,2179361,6291456,2179393,6291456,2179425,6291456,2179457,6291456,2179489,6291456,2179521,6291456]),new Uint32Array([6291456,6291456,6291456,23068672,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2235745,2235777,2193633,2235809,2235841,2235873,2235905,2235937,2235969,2116513,2116705,2236001,2200513,2199905,2200545,2236033]),new Uint32Array([2113153,2108481,2113345,2113441,2232993,2233025,0,0,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761]),new Uint32Array([2170593,6291456,2170625,6291456,2170657,6291456,2170689,2170721,6291456,2170753,6291456,6291456,2170785,6291456,2170817,2170849]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2166786,2166850,0,0,0,0]),new Uint32Array([23068672,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,10575617,2187041,10502177,10489601,10489697,0]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2134562,2132162,2132834,2136866,2136482,2164610,2164674,2164738,2164802,2132802,2132706,2164866,2132898,2164930,2164994,2165058]),new Uint32Array([6291456,6291456,2098337,2101441,10531458,2153473,6291456,6291456,10531522,2100737,2108193,6291456,2106499,2106595,2106691,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0]),new Uint32Array([2233122,2233186,2233250,2233314,2233378,2233442,2233506,2233570,2233634,2233698,2233762,2233826,2233890,2233954,2234018,2234082]),new Uint32Array([23068672,6291456,23068672,23068672,23068672,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2205217,2205249,2205281,2205313,2205345,2205377,2205409,2205441,2205473,2205505,2205537,2205569,2205601,2205633,2205665,2205697]),new Uint32Array([6291456,0,6291456,0,0,0,6291456,6291456,6291456,6291456,0,0,23068672,6291456,23068672,23068672]),new Uint32Array([2173601,2173761,2174081,2173569,2174241,2174113,2173953,6291456,2174305,6291456,2174337,6291456,2174369,6291456,2174401,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([2152450,2152514,2099653,2104452,2099813,2122243,2099973,2152578,2122339,2122435,2122531,2122627,2122723,2104580,2122819,2152642]),new Uint32Array([2236385,2236417,2236449,2236482,2236545,2215425,2236577,2236609,2236641,2236673,2215457,2236705,2236737,2236770,2215489,2236833]),new Uint32Array([2163394,2159746,2163458,2131362,2163522,2160130,2163778,2132226,2163842,2132898,2163906,2161410,2138658,2097666,2136162,2163650]),new Uint32Array([2218721,2246913,2246946,2216385,2247010,2247074,2215009,2247137,2247169,2216481,2247201,2247233,2247266,2247330,2247330,0]),new Uint32Array([2129730,2129762,2129858,2129731,2129827,2156482,2156482,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,0,0,0,0,6291456,0,0]),new Uint32Array([2203969,2204001,2181377,2204033,2204065,6291456,2204097,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2169473,6291456,2169505,6291456,2169537,6291456,2169569,6291456,2169601,6291456,2169633,6291456,2169665,6291456,2169697,6291456]),new Uint32Array([2141542,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220801,2220801,2220801,2220801,2220833,2220833,2220865,2220865,2220865,2220865,2220897,2220897,2220897,2220897,2139873,2139873]),new Uint32Array([0,0,0,0,0,23068672,23068672,0,0,0,0,0,0,0,6291456,0]),new Uint32Array([2214849,2218433,2218465,2218497,2218529,2218561,2214881,2218593,2218625,2218657,2218689,2218721,2218753,2216545,2218785,2218817]),new Uint32Array([23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,0,0,0,6291456]),new Uint32Array([2136482,2164610,2164674,2164738,2164802,2132802,2132706,2164866,2132898,2164930,2164994,2165058,2165122,2132802,2132706,2164866]),new Uint32Array([2207649,2207681,2207713,2207745,2207777,2207809,2207841,2207873,2207905,2207937,2207969,2208001,2208033,2208065,2208097,2208129]),new Uint32Array([2123683,2105092,2152706,2123779,2105220,2152770,2100453,2098755,2123906,2124002,2124098,2124194,2124290,2124386,2124482,2124578]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,6291456,0,0,0,0,0,0,0,10485857]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([10508163,10508259,10508355,10508451,2200129,2200161,2192737,2200193,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2203553,6291456,2203585,6291456,6291456,6291456,2203617,6291456,2203649,6291456,2203681,6291456,2203713,6291456,2203745,6291456]),new Uint32Array([18884449,18884065,23068672,18884417,18884034,18921185,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,18874368]),new Uint32Array([2247393,2247426,2247489,2247521,2247553,2247586,2247649,2247681,2247713,2247745,2247777,2247810,2247873,2247905,2247937,2247969]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,23068672]),new Uint32Array([2134145,2097153,2134241,0,2132705,2130977,2160065,2131297,0,2133089,2160577,2133857,2235297,0,2235329,0]),new Uint32Array([2182593,6291456,2182625,6291456,2182657,6291456,2182689,6291456,2182721,6291456,2182753,6291456,2182785,6291456,2182817,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2102402,2102403,6291456,2110050]),new Uint32Array([2149890,2108323,2149954,6291456,2113441,6291456,2149057,6291456,2113441,6291456,2105473,2167265,2111137,2105505,6291456,2108353]),new Uint32Array([2219105,2219137,2195233,2251554,2251617,2251649,2251681,2251713,2251746,2251810,2251873,2251905,2251937,2251970,2252033,2219169]),new Uint32Array([2203009,6291456,2203041,6291456,2203073,6291456,2203105,6291456,2203137,6291456,2203169,6291456,2203201,6291456,2203233,6291456]),new Uint32Array([2128195,2128291,2128387,2128483,2128579,2128675,2128771,2128867,2128963,2129059,2129155,2129251,2129347,2129443,2129539,2129635]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2140964,2141156,2140966,2141158,2141350]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2225378,2225442,2225506,2225570,2225634,2225698,2225762,2225826,2225890,2225954,2226018,2226082,2226146,2226210,2226274,2226338]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137,2105505,2098241,2108353,2108417]),new Uint32Array([2108353,2108417,0,2105601,2108193,2157121,2157313,2157377,2157441,2100897,6291456,2108419,2173953,2173633,2173633,2173953]),new Uint32Array([2111713,2173121,2111905,2098177,2173153,2173185,2173217,2113153,2113345,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,2190753]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,2197249,6291456,2117377,2197281,2197313,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,0,0,0,0,0,0,23068672,0,0,0,0,0,6291456,6291456,6291456]),new Uint32Array([2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100833,2100737,2098337,2101441,2101569,2101697,2101825,2101953]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0]),new Uint32Array([0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,23068672,23068672,23068672]),new Uint32Array([2173281,6291456,2173313,6291456,2173345,6291456,2173377,6291456,0,0,10532546,6291456,6291456,6291456,10562017,2173441]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,0,0]),new Uint32Array([23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2159426,2159490,2159554,2159362,2159618,2159682,2139522,2136450,2159746,2159810,2159874,2130978,2131074,2131266,2131362,2159938]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2203233,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2203265,6291456,2203297,6291456,2203329,2203361,6291456]),new Uint32Array([6291456,6291456,2148418,2148482,2148546,0,6291456,2148610,2186529,2186561,2148417,2148545,2148482,10495778,2143969,10495778]),new Uint32Array([2134146,2139426,2160962,2134242,2161218,2161282,2161346,2161410,2138658,2134722,2134434,2134818,2097666,2097346,2097698,2105986]),new Uint32Array([2198881,2198913,2198945,2198977,2199009,2199041,2199073,2199105,2199137,2199169,2199201,2199233,2199265,2199297,2199329,2199361]),new Uint32Array([0,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([10610561,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193]),new Uint32Array([2183873,6291456,2183905,6291456,2183937,6291456,2183969,6291456,2184001,6291456,2184033,6291456,2184065,6291456,2184097,6291456]),new Uint32Array([2244642,2244706,2244769,2244801,2218305,2244833,2244865,2244897,2244929,2244961,2244993,2245026,2245089,2245122,2245185,0]),new Uint32Array([6291456,6291456,2116513,2116609,2116705,2116801,2199873,2199905,2199937,2199969,2190913,2200001,2200033,2200065,2200097,2191009]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2180673,2180705,2180737,2180769,2180801,2180833,0,0]),new Uint32Array([2098081,2099521,2099105,2120705,2098369,2120801,2103361,2097985,2098433,2121377,2121473,2099169,2099873,2098401,2099393,2152609]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2150402]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,2145666,2145730,6291456,6291456]),new Uint32Array([2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665]),new Uint32Array([2187073,6291456,6291456,6291456,6291456,2098241,2098241,2108353,2100897,2111905,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2102404,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,2100612,6291456,6291456,6291456,6291456,6291456,6291456,6291456,10485857]),new Uint32Array([2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889]),new Uint32Array([2217697,2217729,2217761,2217793,2217825,2217857,2217889,2217921,2217953,2215873,2217985,2215905,2218017,2218049,2218081,2218113]),new Uint32Array([2211233,2218849,2216673,2218881,2218913,2218945,2218977,2219009,2216833,2219041,2215137,2219073,2216865,2209505,2219105,2216897]),new Uint32Array([2240097,2240129,2240161,2240193,2240225,2240257,2240289,2240321,2240353,2240386,2240449,2240481,2240513,2240545,2207905,2240578]),new Uint32Array([6291456,6291456,2202273,6291456,2202305,6291456,2202337,6291456,2202369,6291456,2202401,6291456,2202433,6291456,2202465,6291456]),new Uint32Array([0,23068672,23068672,18923394,23068672,18923458,18923522,18884099,18923586,18884195,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2201121,6291456,2201153,6291456,2201185,6291456,2201217,6291456,2201249,6291456,2201281,6291456,2201313,6291456,2201345,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([2211041,2211073,2211105,2211137,2211169,2211201,2211233,2211265,2211297,2211329,2211361,2211393,2211425,2211457,2211489,2211521]),new Uint32Array([2181825,6291456,2181857,6291456,2181889,6291456,2181921,6291456,2181953,6291456,2181985,6291456,2182017,6291456,2182049,6291456]),new Uint32Array([2162337,2097633,2097633,2097633,2097633,2132705,2132705,2132705,2132705,2097153,2097153,2097153,2097153,2133089,2133089,2133089]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,2148545,6291456,2173473,6291456,2148865,6291456,2173505,6291456,2173537,6291456,2173569,6291456,2149121,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,0,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2207137,2207169,2207201,2207233,2207265,2207297,2207329,2207361,2207393,2207425,2207457,2207489,2207521,2207553,2207585,2207617]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,6291456,0,23068672,23068672,0,0,0,0,0,0]),new Uint32Array([2198401,2198433,2198465,2198497,0,2198529,2198561,2198593,2198625,2198657,2198689,2198721,2198753,2198785,2198817,2198849]),new Uint32Array([2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0,0]),new Uint32Array([2216385,2118721,2216417,2216449,2216481,2216513,2216545,2211233,2216577,2216609,2216641,2216673,2216705,2216737,2216737,2216769]),new Uint32Array([2216801,2216833,2216865,2216897,2216929,2216961,2216993,2215169,2217025,2217057,2217089,2217121,2217154,2217217,0,0]),new Uint32Array([2210593,2191809,2210625,2210657,2210689,2210721,2210753,2210785,2210817,2210849,2191297,2210881,2210913,2210945,2210977,2211009]),new Uint32Array([0,0,2105825,0,0,2111905,2105473,0,0,2112289,2108193,2112481,2112577,0,2098305,2108321]),new Uint32Array([0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,2097153,2134241,0,2132705,0,0,2131297,0,2133089,0,2133857,0,2220769,0,2235361]),new Uint32Array([14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,6291456,6291456,14680064]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2171873,6291456,2171905,6291456,2171937,6291456,2171969,6291456,2172001,6291456,2172033,6291456,2172065,6291456,2172097,6291456]),new Uint32Array([2220929,2220929,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2133857,2134145,2134145,2134145,2134145,2134241,2134241,2134241,2134241,2105889,2105889,2105889,2105889,2097185,2097185,2097185]),new Uint32Array([2173697,2173761,2173793,2174113,2173985,2173953,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,10499619,10499715,10499811,10499907]),new Uint32Array([0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,0,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,0,23068672,23068672,23068672,0,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,6291456,23068672,23068672]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,2144322,2144386,2144450,2144514,2144578,2144642,2144706,2144770]),new Uint32Array([23068672,23068672,23068672,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456]),new Uint32Array([2113153,2108481,2113345,2113441,2098209,2111137,0,2098241,2108353,2108417,2105825,0,0,2111905,2105473,2105569]),new Uint32Array([2236321,2236353,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2152194,2121283,2103684,2103812,2097986,2098533,2097990,2098693,2098595,2098853,2099013,2103940,2121379,2121475,2121571,2104068]),new Uint32Array([2206241,2206273,2206305,2206337,2206369,2206401,2206433,2206465,2206497,2206529,2206561,2206593,2206625,2206657,2206689,2206721]),new Uint32Array([6291456,6291456,6291456,6291456,16777216,16777216,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,23068672,23068672,10538818,10538882,6291456,6291456,2150338]),new Uint32Array([6291456,6291456,6291456,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2214369,2214401,2214433,2214465,2214497,2214529,2214561,2214593,2194977,2214625,2195073,2214657,2214689,2214721,6291456,6291456]),new Uint32Array([2097152,2097152,2097152,2097152,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2182081,6291456,2182113,6291456,2182145,6291456,2182177,6291456,2182209,6291456,2182241,6291456,2182273,6291456,2182305,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2146881,2146945,2147009,2147073,2147137,2147201,2147265,2147329]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,23068672,23068672]),new Uint32Array([0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2122915,2123011,2123107,2104708,2123203,2123299,2123395,2100133,2104836,2100290,2100293,2104962,2104964,2098052,2123491,2123587]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456]),new Uint32Array([6291456,2171169,6291456,2171201,6291456,2171233,6291456,2171265,6291456,2171297,6291456,2171329,6291456,6291456,2171361,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,2148994,2149058,2149122,0,6291456,2149186,2186945,2173537,2148993,2149121,2149058,10531458,10496066,0]),new Uint32Array([2195009,2195041,2195073,2195105,2195137,2195169,2195201,2195233,2195265,2195297,2195329,2195361,2195393,2195425,2195457,2195489]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,0,0,6291456,6291456]),new Uint32Array([2182849,6291456,2182881,6291456,2182913,6291456,2182945,6291456,2182977,6291456,2183009,6291456,2183041,6291456,2183073,6291456]),new Uint32Array([2211553,2210081,2211585,2211617,2211649,2211681,2211713,2211745,2211777,2211809,2209569,2211841,2211873,2211905,2211937,2211969]),new Uint32Array([2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2166594,2127298,2166658,2142978,2141827,2166722]),new Uint32Array([2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233057,2148481,2173601,2173633,2173665,2173697,2173729]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,0,0,2185761,2185793,2185825,2185857,2185889,2185921,0,0]),new Uint32Array([6291456,2148481,2173601,2173633,2173665,2173697,2173729,2148801,2173761,2143969,2173793,2173825,2153473,2173857,2173889,2173921]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,6291456]),new Uint32Array([0,0,0,2220961,2220961,2220961,2220961,2144193,2144193,2159201,2159201,2159265,2159265,2144194,2220993,2220993]),new Uint32Array([2192641,2235393,2235425,2152257,2116609,2235457,2235489,2200065,2235521,2235553,2235585,2212449,2235617,2235649,2235681,2235713]),new Uint32Array([2194049,2194081,2194113,2194145,2194177,2194209,2194241,2194273,2194305,2194337,2194369,2194401,2194433,2194465,2194497,2194529]),new Uint32Array([2196673,2208641,2208673,2208705,2208737,2208769,2208801,2208833,2208865,2208897,2208929,2208961,2208993,2209025,2209057,2209089]),new Uint32Array([2191681,2191713,2191745,2191777,2153281,2191809,2191841,2191873,2191905,2191937,2191969,2192001,2192033,2192065,2192097,2192129]),new Uint32Array([2230946,2231010,2231074,2231138,2231202,2231266,2231330,2231394,2231458,2231522,2231586,2231650,2231714,2231778,2231842,2231906]),new Uint32Array([14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064,14680064]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,2185953,2185985,2186017,2186049,2186081,2186113,2186145,2186177]),new Uint32Array([2139811,2139907,2097284,2105860,2105988,2106116,2106244,2097444,2097604,2097155,10485778,10486344,2106372,6291456,0,0]),new Uint32Array([2110051,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2172385,6291456,2172417,6291456,2172449,6291456,2172481,6291456,2172513,6291456,2172545,6291456,2172577,6291456,2172609,6291456]),new Uint32Array([0,0,23068672,23068672,6291456,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2249345,2249377,2249409,2249441,2249473,2249505,2249537,2249570,2210209,2249633,2249665,2249697,2249729,2249761,2249793,2216769]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,6291456,6291456,6291456,6291456]),new Uint32Array([2187169,2187201,2187233,2187265,2187297,2187329,2187361,2187393,2187425,2187457,2187489,2187521,2187553,2187585,2187617,2187649]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([0,0,0,6291456,6291456,0,0,0,6291456,6291456,6291456,0,0,0,6291456,6291456]),new Uint32Array([2182337,6291456,2182369,6291456,2182401,6291456,2182433,6291456,2182465,6291456,2182497,6291456,2182529,6291456,2182561,6291456]),new Uint32Array([2138179,2138275,2138371,2138467,2134243,2134435,2138563,2138659,2138755,2138851,2138947,2139043,2138947,2138755,2139139,2139235]),new Uint32Array([23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2250498,2250562,2250625,2250657,2208321,2250689,2250721,2250753,2250785,2250817,2250849,2218945,2250881,2250913,2250945,0]),new Uint32Array([2170369,2105569,2098305,2108481,2173249,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456]),new Uint32Array([2100897,2111905,2105473,2105569,2105601,0,2108193,0,0,0,2098305,2108321,2108289,2100865,2113153,2108481]),new Uint32Array([2100897,2100897,2105569,2105569,6291456,2112289,2149826,6291456,6291456,2112481,2112577,2098177,2098177,2098177,6291456,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,6291456,6291456,6291456]),new Uint32Array([6291456,2169953,2169985,6291456,2170017,6291456,2170049,2170081,6291456,2170113,2170145,2170177,6291456,6291456,2170209,2170241]),new Uint32Array([6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([0,0,0,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2220641,2220641,2220673,2220673,2220673,2220673,2220705,2220705,2220705,2220705,2220737,2220737,2220737,2220737,2220769,2220769]),new Uint32Array([2127650,2127746,2127842,2127938,2128034,2128130,2128226,2128322,2128418,2127523,2127619,2127715,2127811,2127907,2128003,2128099]),new Uint32Array([2143969,2173793,2173825,2153473,2173857,2173889,2173921,2173953,2173985,2173761,2174017,2174049,2174081,2174113,2174145,2174177]),new Uint32Array([0,0,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([2204705,2204737,2204769,2204801,2204833,2204865,2204897,2204929,2204961,2204993,2205025,2205057,2205089,2205121,2205153,2205185]),new Uint32Array([2176385,6291456,2176417,6291456,2176449,6291456,2176481,6291456,2176513,6291456,2176545,6291456,2176577,6291456,2176609,6291456]),new Uint32Array([2195521,2195553,2195585,2195617,2195649,2195681,2117857,2195713,2195745,2195777,2195809,2195841,2195873,2195905,2195937,2195969]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,6291456,6291456]),new Uint32Array([2173921,2173953,2173985,2174017,2174017,2174049,2174081,2174113,2174145,2174177,2149057,2233089,2173697,2173761,2173793,2174113]),new Uint32Array([2131586,2132450,2135970,2135778,2161602,2136162,2163650,2161794,2135586,2163714,2137186,2131810,2160290,2135170,2097506,2159554]),new Uint32Array([2134145,2097153,2134241,2105953,2132705,2130977,2160065,2131297,2162049,2133089,2160577,2133857,0,0,0,0]),new Uint32Array([2116513,2116609,2116705,2116801,2116897,2116993,2117089,2117185,2117281,2117377,2117473,2117569,2117665,2117761,2117857,2117953]),new Uint32Array([2100737,2098337,2101441,2101569,2101697,2101825,2101953,2102081,2102209,2100802,2101154,2101282,2101410,2101538,2101666,2101794]),new Uint32Array([2100289,2098657,2098049,2200737,2123489,2123681,2200769,2098625,2100321,2098145,2100449,2098017,2098753,2098977,2150241,2150305]),new Uint32Array([6291456,6291456,6291456,0,6291456,6291456,6291456,6291456,6291456,2109955,6291456,6291456,0,0,0,0]),new Uint32Array([18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368,18874368]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,6291456,0,6291456,0,0]),new Uint32Array([2130979,2131075,2131075,2131171,2131267,2131363,2131459,2131555,2131651,2131651,2131747,2131843,2131939,2132035,2132131,2132227]),new Uint32Array([0,2177793,6291456,2177825,6291456,2177857,6291456,2177889,6291456,2177921,6291456,2177953,6291456,2177985,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672]),new Uint32Array([6291456,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2113345,0,2098209,2111137,2105505,2098241,2108353,2108417,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289]),new Uint32Array([2136643,2136739,2136835,2136931,2137027,2137123,2137219,2137315,2137411,2137507,2137603,2137699,2137795,2137891,2137987,2138083]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0]),new Uint32Array([2174433,6291456,2174465,6291456,2174497,6291456,2174529,6291456,2174561,6291456,2174593,6291456,2174625,6291456,2174657,6291456]),new Uint32Array([0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441]),new Uint32Array([10496547,10496643,2105505,2149698,6291456,10496739,10496835,2170273,6291456,2149762,2105825,2111713,2111713,2111713,2111713,2168673]),new Uint32Array([6291456,2143490,2143490,2143490,2171649,6291456,2171681,2171713,2171745,6291456,2171777,6291456,2171809,6291456,2171841,6291456]),new Uint32Array([2159106,2159106,2159170,2159170,2159234,2159234,2159298,2159298,2159298,2159362,2159362,2159362,2106401,2106401,2106401,2106401]),new Uint32Array([2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865,2113153,2108481,2113345,2113441,2098209,2111137]),new Uint32Array([2108417,2181217,2181249,2181281,2170433,2170401,2181313,2181345,2181377,2181409,2181441,2181473,2181505,2181537,2170529,2181569]),new Uint32Array([2218433,2245761,2245793,2245825,2245857,2245890,2245953,2245986,2209665,2246050,2246113,2246146,2246210,2246274,2246337,2246369]),new Uint32Array([2230754,2230818,2230882,0,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([6291456,0,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,0,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2184129,6291456,2184161,6291456,2184193,6291456,6291456,6291456,6291456,6291456,2146818,2183361,6291456,6291456,2142978,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2135170,2097506,2130691,2130787,2130883,2163970,2164034,2164098,2164162,2164226,2164290,2164354,2164418,2164482,2164546,2133122]),new Uint32Array([2108515,2108611,2100740,2108707,2108803,2108899,2108995,2109091,2109187,2109283,2109379,2109475,2109571,2109667,2109763,2100738]),new Uint32Array([2102788,2102916,2103044,2120515,2103172,2120611,2120707,2098373,2103300,2120803,2120899,2120995,2103428,2103556,2121091,2121187]),new Uint32Array([2158082,2158146,0,2158210,2158274,0,2158338,2158402,2158466,2129922,2158530,2158594,2158658,2158722,2158786,2158850]),new Uint32Array([10499619,10499715,10499811,10499907,10500003,10500099,10500195,10500291,10500387,10500483,10500579,10500675,10500771,10500867,10500963,10501059]),new Uint32Array([2239585,2239618,2239681,2239713,0,2191969,2239745,2239777,2192033,2239809,2239841,2239874,2239937,2239970,2240033,2240065]),new Uint32Array([2252705,2252738,2252801,2252833,2252865,2252897,2252930,2252994,2253057,2253089,2253121,2253154,2253217,2253250,2219361,2219361]),new Uint32Array([2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,2108193,2112481,2112577,2098177,2098305,2108321,2108289,2100865]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,10538050,10538114,10538178,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([2226402,2226466,2226530,2226594,2226658,2226722,2226786,2226850,2226914,2226978,2227042,2227106,2227170,2227234,2227298,2227362]),new Uint32Array([23068672,6291456,6291456,6291456,6291456,2144066,2144130,2144194,2144258,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,23068672,23068672,23068672,6291456,23068672,23068672]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0]),new Uint32Array([2124674,2124770,2123875,2123971,2124067,2124163,2124259,2124355,2124451,2124547,2124643,2124739,2124835,2124931,2125027,2125123]),new Uint32Array([2168065,6291456,2168097,6291456,2168129,6291456,2168161,6291456,2168193,6291456,2168225,6291456,2168257,6291456,2168289,6291456]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0]),new Uint32Array([23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,2100610,2100611,6291456,2107842,2107843,6291456,6291456,6291456,6291456,10537922,6291456,10537986,6291456]),new Uint32Array([2174849,2174881,2174913,2174945,2174977,2175009,2175041,2175073,2175105,2175137,2175169,2175201,2175233,2175265,2175297,2175329]),new Uint32Array([2154562,2154626,2154690,2154754,2141858,2154818,2154882,2127298,2154946,2127298,2155010,2155074,2155138,2155202,2155266,2155202]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456,6291456,6291456,6291456,6291456,23068672,0]),new Uint32Array([2200641,2150786,2150850,2150914,2150978,2151042,2106562,2151106,2150562,2151170,2151234,2151298,2151362,2151426,2151490,2151554]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,23068672,0,0,0,0,0,0,0,0,6291456,6291456]),new Uint32Array([2220289,2220289,2220321,2220321,2220321,2220321,2220353,2220353,2220353,2220353,2220385,2220385,2220385,2220385,2220417,2220417]),new Uint32Array([2155330,2155394,0,2155458,2155522,2155586,2105732,0,2155650,2155714,2155778,2125314,2155842,2155906,2126274,2155970]),new Uint32Array([23068672,23068672,23068672,23068672,23068672,6291456,6291456,23068672,23068672,6291456,23068672,23068672,23068672,23068672,6291456,6291456]),new Uint32Array([6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,6291456,0,0,0,0,0,0]),new Uint32Array([2097729,2106017,2106017,2106017,2106017,2131297,2131297,2131297,2131297,2106081,2106081,2162049,2162049,2105953,2105953,2162337]),new Uint32Array([2097185,2097697,2097697,2097697,2097697,2135777,2135777,2135777,2135777,2097377,2097377,2097377,2097377,2097601,2097601,2097217]),new Uint32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23068672]),new Uint32Array([2139331,2139427,2139523,2139043,2133571,2132611,2139619,2139715,0,0,0,0,0,0,0,0]),new Uint32Array([2174113,2174145,2100897,2098177,2108289,2100865,2173601,2173633,2173985,2174113,2174145,6291456,6291456,6291456,6291456,6291456]),new Uint32Array([6291456,6291456,23068672,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456,23068672,6291456,6291456,6291456,6291456]),new Uint32Array([23068672,23068672,18923778,23068672,23068672,23068672,23068672,18923842,23068672,23068672,23068672,23068672,18923906,23068672,23068672,23068672]),new Uint32Array([2134145,2097153,2134241,0,2132705,2130977,2160065,2131297,0,2133089,0,2133857,0,0,0,0]),new Uint32Array([6291456,6291456,6291456,6291456,0,0,0,0,0,0,0,0,0,0,0,0]),new Uint32Array([2177537,6291456,2177569,6291456,2177601,6291456,2177633,6291456,2177665,6291456,2177697,6291456,2177729,6291456,2177761,6291456]),new Uint32Array([2212481,2212513,2212545,2212577,2197121,2212609,2212641,2212673,2212705,2212737,2212769,2212801,2212833,2212865,2212897,2212929]),new Uint32Array([6291456,6291456,23068672,23068672,23068672,6291456,6291456,0,0,0,0,0,0,0,0,0]),new Uint32Array([2098241,2108353,2170209,2105825,2111713,2100897,2111905,2105473,2105569,2105601,2112289,6291456,2108193,2172417,2112481,2098177]),new Uint32Array([6291456,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,23068672,6291456,6291456])],t=new Uint16Array([616,616,565,147,161,411,330,2,131,131,328,454,241,408,86,86,696,113,285,350,325,301,473,214,639,232,447,64,369,598,124,672,567,223,621,154,107,86,86,86,86,86,86,505,86,68,634,86,218,218,218,218,486,218,218,513,188,608,216,86,217,463,668,85,700,360,184,86,86,86,647,402,153,10,346,718,662,260,145,298,117,1,443,342,138,54,563,86,240,572,218,70,387,86,118,460,641,602,86,86,306,218,86,692,86,86,86,86,86,162,707,86,458,26,86,218,638,86,86,86,86,86,65,449,86,86,306,183,86,58,391,667,86,157,131,131,131,131,86,433,131,406,31,218,247,86,86,693,218,581,351,86,438,295,69,462,45,126,173,650,14,295,69,97,168,187,641,78,523,390,69,108,287,664,173,219,83,295,69,108,431,426,173,694,412,115,628,52,257,398,641,118,501,121,69,579,151,423,173,620,464,121,69,382,151,476,173,27,53,121,86,594,578,226,173,86,632,130,86,96,228,268,641,622,563,86,86,21,148,650,131,131,321,43,144,343,381,531,131,131,178,20,86,399,156,375,164,541,30,60,715,198,92,118,131,131,86,86,306,407,86,280,457,196,488,358,131,131,244,86,86,143,86,86,86,86,86,667,563,86,86,86,86,86,86,86,86,86,86,86,86,86,336,363,86,86,336,86,86,380,678,67,86,86,86,678,86,86,86,512,86,307,86,708,86,86,86,86,86,528,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,563,307,86,86,86,86,86,104,450,337,86,720,86,32,450,397,86,86,86,587,218,558,708,708,293,708,86,86,86,86,86,694,205,86,8,86,86,86,86,549,86,667,697,697,679,86,458,460,86,86,650,86,708,543,86,86,86,245,86,86,86,140,218,127,708,708,458,197,131,131,131,131,500,86,86,483,251,86,306,510,515,86,722,86,86,86,65,201,86,86,483,580,470,86,86,86,368,131,131,131,694,114,110,555,86,86,123,721,163,142,713,418,86,317,675,209,218,218,218,371,545,592,629,490,603,199,46,320,525,680,310,279,388,111,42,252,593,607,235,617,410,377,50,548,135,356,17,520,189,116,392,600,349,332,482,699,690,535,119,106,451,71,152,667,131,218,218,265,671,637,492,504,533,683,269,269,658,86,86,86,86,86,86,86,86,86,491,619,86,86,6,86,86,86,86,86,86,86,86,86,86,86,229,86,86,86,86,86,86,86,86,86,86,86,86,667,86,86,171,131,118,131,656,206,234,571,89,334,670,246,311,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,534,86,86,86,86,86,86,82,86,86,86,86,86,430,86,86,86,86,86,86,86,86,86,599,86,324,86,470,69,640,264,131,626,101,174,86,86,667,233,105,73,374,394,221,204,84,28,326,86,86,471,86,86,86,109,573,86,171,200,200,200,200,218,218,86,86,86,86,460,131,131,131,86,506,86,86,86,86,86,220,404,34,614,47,442,305,25,612,338,601,648,7,344,255,131,131,51,86,312,507,563,86,86,86,86,588,86,86,86,86,86,530,511,86,458,3,435,384,556,522,230,527,86,118,86,86,717,86,137,273,79,181,484,23,93,112,655,249,417,703,370,87,98,313,684,585,155,465,596,481,695,18,416,428,61,701,706,282,643,495,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,307,86,86,86,171,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,650,131,422,542,420,263,24,172,86,86,86,86,86,566,86,86,132,540,395,353,494,519,19,485,284,472,131,131,131,16,714,86,211,708,86,86,86,694,698,86,86,483,704,708,218,272,86,86,120,86,159,478,86,307,247,86,86,663,597,459,627,667,86,86,277,455,39,302,86,250,86,86,86,271,99,452,306,281,329,400,200,86,86,362,549,352,646,461,323,586,86,86,4,708,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,717,86,518,86,86,650,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,125,554,480,300,613,72,333,288,561,544,604,48,719,91,169,176,590,224,76,191,29,559,560,231,537,166,477,538,256,437,131,131,469,167,40,0,685,266,441,705,239,642,475,568,640,610,299,673,517,318,385,22,202,180,179,359,424,215,90,66,521,653,467,682,453,409,479,88,131,661,35,303,15,262,666,630,712,131,131,618,659,175,218,195,347,193,227,261,150,165,709,546,294,569,710,270,413,376,524,55,242,38,419,529,170,657,3,304,122,379,278,131,651,86,67,576,458,458,131,131,86,86,86,86,86,86,86,118,309,86,86,547,86,86,86,86,667,650,664,131,131,86,86,56,131,131,131,131,131,131,131,131,86,307,86,86,86,664,238,650,86,86,717,86,118,86,86,315,86,59,86,86,574,549,131,131,340,57,436,86,86,86,86,86,86,458,708,499,691,62,86,650,86,86,694,86,86,86,319,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,86,549,694,131,131,131,131,131,131,131,131,131,77,86,86,139,86,502,86,86,86,667,595,131,131,131,86,12,86,13,86,609,131,131,131,131,86,86,86,625,86,669,86,86,182,129,86,5,694,104,86,86,86,86,131,131,86,86,386,171,86,86,86,345,86,324,86,589,86,213,36,131,131,131,131,131,86,86,86,86,104,131,131,131,141,290,80,677,86,86,86,267,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,667,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,515,86,86,33,136,669,86,711,515,86,86,550,640,86,104,708,515,86,159,372,717,86,86,444,515,86,86,663,37,86,563,460,86,390,624,702,131,131,131,131,389,59,708,86,86,341,208,708,635,295,69,108,431,508,100,190,131,131,131,131,131,131,131,131,86,86,86,649,516,660,131,131,86,86,86,218,631,708,131,131,131,131,131,131,131,131,131,131,86,86,341,575,238,514,131,131,86,86,86,218,291,708,307,131,86,86,306,367,708,131,131,131,86,378,697,86,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,615,253,86,86,86,292,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,104,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,69,86,341,553,549,86,307,86,86,645,275,455,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,708,131,131,131,131,131,131,86,86,86,86,86,86,667,460,86,86,86,86,86,86,86,86,86,86,86,86,717,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,667,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,104,86,667,459,131,131,131,131,131,131,86,458,225,86,86,86,516,549,11,390,405,86,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,460,44,218,197,711,515,131,131,131,131,664,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,307,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,308,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,118,307,104,286,591,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,549,86,86,681,86,86,75,185,314,582,86,358,496,474,86,104,131,86,86,86,86,146,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,171,86,640,131,131,131,131,131,131,131,131,246,503,689,339,674,81,258,415,439,128,562,366,414,246,503,689,583,222,557,316,636,665,186,355,95,670,246,503,689,339,674,557,258,415,439,186,355,95,670,246,503,689,446,644,536,652,331,532,335,440,274,421,297,570,74,425,364,425,606,552,403,509,134,365,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,218,218,218,498,218,218,577,627,551,497,572,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,553,354,236,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,296,455,131,131,456,243,103,86,41,459,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,9,276,158,716,393,564,383,489,401,654,210,654,131,131,131,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,650,86,86,86,86,86,86,717,667,563,563,563,86,549,102,686,133,246,605,86,448,86,86,207,307,131,131,131,641,86,177,611,445,373,194,584,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,308,307,171,86,86,86,86,86,86,86,717,86,86,86,86,86,460,131,131,650,86,86,86,694,708,86,86,694,86,458,131,131,131,131,131,131,667,694,289,650,667,131,131,86,640,131,131,664,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,171,131,131,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,460,86,86,86,86,86,86,86,86,86,86,86,86,86,458,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,86,640,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,466,203,149,429,94,432,160,687,539,63,237,283,192,248,348,259,427,526,396,676,254,468,487,212,327,623,49,633,322,493,434,688,357,361,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131]);return{mapStr:"\u0635\u0644\u0649 \u0627\u0644\u0644\u0647 \u0639\u0644\u064a\u0647 \u0648\u0633\u0644\u0645\u062c\u0644 \u062c\u0644\u0627\u0644\u0647\u30ad\u30ed\u30e1\u30fc\u30c8\u30ebrad\u2215s2\u30a8\u30b9\u30af\u30fc\u30c9\u30ad\u30ed\u30b0\u30e9\u30e0\u30ad\u30ed\u30ef\u30c3\u30c8\u30b0\u30e9\u30e0\u30c8\u30f3\u30af\u30eb\u30bc\u30a4\u30ed\u30b5\u30f3\u30c1\u30fc\u30e0\u30d1\u30fc\u30bb\u30f3\u30c8\u30d4\u30a2\u30b9\u30c8\u30eb\u30d5\u30a1\u30e9\u30c3\u30c9\u30d6\u30c3\u30b7\u30a7\u30eb\u30d8\u30af\u30bf\u30fc\u30eb\u30de\u30f3\u30b7\u30e7\u30f3\u30df\u30ea\u30d0\u30fc\u30eb\u30ec\u30f3\u30c8\u30b2\u30f3\u2032\u2032\u2032\u20321\u204410viii(10)(11)(12)(13)(14)(15)(16)(17)(18)(19)(20)\u222b\u222b\u222b\u222b(\uc624\uc804)(\uc624\ud6c4)\u30a2\u30d1\u30fc\u30c8\u30a2\u30eb\u30d5\u30a1\u30a2\u30f3\u30da\u30a2\u30a4\u30cb\u30f3\u30b0\u30a8\u30fc\u30ab\u30fc\u30ab\u30e9\u30c3\u30c8\u30ab\u30ed\u30ea\u30fc\u30ad\u30e5\u30ea\u30fc\u30ae\u30eb\u30c0\u30fc\u30af\u30ed\u30fc\u30cd\u30b5\u30a4\u30af\u30eb\u30b7\u30ea\u30f3\u30b0\u30d0\u30fc\u30ec\u30eb\u30d5\u30a3\u30fc\u30c8\u30dd\u30a4\u30f3\u30c8\u30de\u30a4\u30af\u30ed\u30df\u30af\u30ed\u30f3\u30e1\u30ac\u30c8\u30f3\u30ea\u30c3\u30c8\u30eb\u30eb\u30fc\u30d6\u30eb\u682a\u5f0f\u4f1a\u793ekcalm\u2215s2c\u2215kg\u0627\u0643\u0628\u0631\u0645\u062d\u0645\u062f\u0635\u0644\u0639\u0645\u0631\u0633\u0648\u0644\u0631\u06cc\u0627\u06441\u204441\u204423\u20444 \u0308\u0301\u0fb2\u0f71\u0f80\u0fb3\u0f71\u0f80 \u0308\u0342 \u0313\u0300 \u0313\u0301 \u0313\u0342 \u0314\u0300 \u0314\u0301 \u0314\u0342 \u0308\u0300\u2035\u2035\u2035a/ca/sc/oc/utelfax1\u204471\u204491\u204432\u204431\u204452\u204453\u204454\u204451\u204465\u204461\u204483\u204485\u204487\u20448xii0\u20443\u222e\u222e\u222e(1)(2)(3)(4)(5)(6)(7)(8)(9)(a)(b)(c)(d)(e)(f)(g)(h)(i)(j)(k)(l)(m)(n)(o)(p)(q)(r)(s)(t)(u)(v)(w)(x)(y)(z)::====(\u1100)(\u1102)(\u1103)(\u1105)(\u1106)(\u1107)(\u1109)(\u110b)(\u110c)(\u110e)(\u110f)(\u1110)(\u1111)(\u1112)(\uac00)(\ub098)(\ub2e4)(\ub77c)(\ub9c8)(\ubc14)(\uc0ac)(\uc544)(\uc790)(\ucc28)(\uce74)(\ud0c0)(\ud30c)(\ud558)(\uc8fc)(\u4e00)(\u4e8c)(\u4e09)(\u56db)(\u4e94)(\u516d)(\u4e03)(\u516b)(\u4e5d)(\u5341)(\u6708)(\u706b)(\u6c34)(\u6728)(\u91d1)(\u571f)(\u65e5)(\u682a)(\u6709)(\u793e)(\u540d)(\u7279)(\u8ca1)(\u795d)(\u52b4)(\u4ee3)(\u547c)(\u5b66)(\u76e3)(\u4f01)(\u8cc7)(\u5354)(\u796d)(\u4f11)(\u81ea)(\u81f3)pte10\u670811\u670812\u6708ergltd\u30a2\u30fc\u30eb\u30a4\u30f3\u30c1\u30a6\u30a9\u30f3\u30aa\u30f3\u30b9\u30aa\u30fc\u30e0\u30ab\u30a4\u30ea\u30ac\u30ed\u30f3\u30ac\u30f3\u30de\u30ae\u30cb\u30fc\u30b1\u30fc\u30b9\u30b3\u30eb\u30ca\u30b3\u30fc\u30dd\u30bb\u30f3\u30c1\u30c0\u30fc\u30b9\u30ce\u30c3\u30c8\u30cf\u30a4\u30c4\u30d1\u30fc\u30c4\u30d4\u30af\u30eb\u30d5\u30e9\u30f3\u30da\u30cb\u30d2\u30d8\u30eb\u30c4\u30da\u30f3\u30b9\u30da\u30fc\u30b8\u30d9\u30fc\u30bf\u30dc\u30eb\u30c8\u30dd\u30f3\u30c9\u30db\u30fc\u30eb\u30db\u30fc\u30f3\u30de\u30a4\u30eb\u30de\u30c3\u30cf\u30de\u30eb\u30af\u30e4\u30fc\u30c9\u30e4\u30fc\u30eb\u30e6\u30a2\u30f3\u30eb\u30d4\u30fc10\u70b911\u70b912\u70b913\u70b914\u70b915\u70b916\u70b917\u70b918\u70b919\u70b920\u70b921\u70b922\u70b923\u70b924\u70b9hpabardm2dm3khzmhzghzthzmm2cm2km2mm3cm3km3kpampagpalogmilmolppmv\u2215ma\u2215m10\u65e511\u65e512\u65e513\u65e514\u65e515\u65e516\u65e517\u65e518\u65e519\u65e520\u65e521\u65e522\u65e523\u65e524\u65e525\u65e526\u65e527\u65e528\u65e529\u65e530\u65e531\u65e5galffiffl\u05e9\u05bc\u05c1\u05e9\u05bc\u05c2 \u064c\u0651 \u064d\u0651 \u064e\u0651 \u064f\u0651 \u0650\u0651 \u0651\u0670\u0640\u064e\u0651\u0640\u064f\u0651\u0640\u0650\u0651\u062a\u062c\u0645\u062a\u062d\u062c\u062a\u062d\u0645\u062a\u062e\u0645\u062a\u0645\u062c\u062a\u0645\u062d\u062a\u0645\u062e\u062c\u0645\u062d\u062d\u0645\u064a\u062d\u0645\u0649\u0633\u062d\u062c\u0633\u062c\u062d\u0633\u062c\u0649\u0633\u0645\u062d\u0633\u0645\u062c\u0633\u0645\u0645\u0635\u062d\u062d\u0635\u0645\u0645\u0634\u062d\u0645\u0634\u062c\u064a\u0634\u0645\u062e\u0634\u0645\u0645\u0636\u062d\u0649\u0636\u062e\u0645\u0637\u0645\u062d\u0637\u0645\u0645\u0637\u0645\u064a\u0639\u062c\u0645\u0639\u0645\u0645\u0639\u0645\u0649\u063a\u0645\u0645\u063a\u0645\u064a\u063a\u0645\u0649\u0641\u062e\u0645\u0642\u0645\u062d\u0642\u0645\u0645\u0644\u062d\u0645\u0644\u062d\u064a\u0644\u062d\u0649\u0644\u062c\u062c\u0644\u062e\u0645\u0644\u0645\u062d\u0645\u062d\u062c\u0645\u062d\u064a\u0645\u062c\u062d\u0645\u062c\u0645\u0645\u062e\u0645\u0645\u062c\u062e\u0647\u0645\u062c\u0647\u0645\u0645\u0646\u062d\u0645\u0646\u062d\u0649\u0646\u062c\u0645\u0646\u062c\u0649\u0646\u0645\u064a\u0646\u0645\u0649\u064a\u0645\u0645\u0628\u062e\u064a\u062a\u062c\u064a\u062a\u062c\u0649\u062a\u062e\u064a\u062a\u062e\u0649\u062a\u0645\u064a\u062a\u0645\u0649\u062c\u0645\u064a\u062c\u062d\u0649\u062c\u0645\u0649\u0633\u062e\u0649\u0635\u062d\u064a\u0634\u062d\u064a\u0636\u062d\u064a\u0644\u062c\u064a\u0644\u0645\u064a\u064a\u062d\u064a\u064a\u062c\u064a\u064a\u0645\u064a\u0645\u0645\u064a\u0642\u0645\u064a\u0646\u062d\u064a\u0639\u0645\u064a\u0643\u0645\u064a\u0646\u062c\u062d\u0645\u062e\u064a\u0644\u062c\u0645\u0643\u0645\u0645\u062c\u062d\u064a\u062d\u062c\u064a\u0645\u062c\u064a\u0641\u0645\u064a\u0628\u062d\u064a\u0633\u062e\u064a\u0646\u062c\u064a\u0635\u0644\u06d2\u0642\u0644\u06d2\ud834\udd58\ud834\udd65\ud834\udd6e\ud834\udd58\ud834\udd65\ud834\udd6f\ud834\udd58\ud834\udd65\ud834\udd70\ud834\udd58\ud834\udd65\ud834\udd71\ud834\udd58\ud834\udd65\ud834\udd72\ud834\uddb9\ud834\udd65\ud834\udd6e\ud834\uddba\ud834\udd65\ud834\udd6e\ud834\uddb9\ud834\udd65\ud834\udd6f\ud834\uddba\ud834\udd65\ud834\udd6f\u3014s\u3015ppv\u3014\u672c\u3015\u3014\u4e09\u3015\u3014\u4e8c\u3015\u3014\u5b89\u3015\u3014\u70b9\u3015\u3014\u6253\u3015\u3014\u76d7\u3015\u3014\u52dd\u3015\u3014\u6557\u3015 \u0304 \u0301 \u0327ssi\u0307ijl\xb7\u02bcnd\u017eljnjdz \u0306 \u0307 \u030a \u0328 \u0303 \u030b \u03b9\u0565\u0582\u0627\u0674\u0648\u0674\u06c7\u0674\u064a\u0674\u0915\u093c\u0916\u093c\u0917\u093c\u091c\u093c\u0921\u093c\u0922\u093c\u092b\u093c\u092f\u093c\u09a1\u09bc\u09a2\u09bc\u09af\u09bc\u0a32\u0a3c\u0a38\u0a3c\u0a16\u0a3c\u0a17\u0a3c\u0a1c\u0a3c\u0a2b\u0a3c\u0b21\u0b3c\u0b22\u0b3c\u0e4d\u0e32\u0ecd\u0eb2\u0eab\u0e99\u0eab\u0ea1\u0f42\u0fb7\u0f4c\u0fb7\u0f51\u0fb7\u0f56\u0fb7\u0f5b\u0fb7\u0f40\u0fb5\u0f71\u0f72\u0f71\u0f74\u0fb2\u0f80\u0fb3\u0f80\u0f92\u0fb7\u0f9c\u0fb7\u0fa1\u0fb7\u0fa6\u0fb7\u0fab\u0fb7\u0f90\u0fb5a\u02be\u1f00\u03b9\u1f01\u03b9\u1f02\u03b9\u1f03\u03b9\u1f04\u03b9\u1f05\u03b9\u1f06\u03b9\u1f07\u03b9\u1f20\u03b9\u1f21\u03b9\u1f22\u03b9\u1f23\u03b9\u1f24\u03b9\u1f25\u03b9\u1f26\u03b9\u1f27\u03b9\u1f60\u03b9\u1f61\u03b9\u1f62\u03b9\u1f63\u03b9\u1f64\u03b9\u1f65\u03b9\u1f66\u03b9\u1f67\u03b9\u1f70\u03b9\u03b1\u03b9\u03ac\u03b9\u1fb6\u03b9 \u0342\u1f74\u03b9\u03b7\u03b9\u03ae\u03b9\u1fc6\u03b9\u1f7c\u03b9\u03c9\u03b9\u03ce\u03b9\u1ff6\u03b9 \u0333!! \u0305???!!?rs\xb0c\xb0fnosmtmivix\u2add\u0338 \u3099 \u309a\u3088\u308a\u30b3\u30c8333435\ucc38\uace0\uc8fc\uc758363738394042444546474849503\u67084\u67085\u67086\u67087\u67088\u67089\u6708hgev\u30ae\u30ac\u30c7\u30b7\u30c9\u30eb\u30ca\u30ce\u30d4\u30b3\u30d3\u30eb\u30da\u30bd\u30db\u30f3\u30ea\u30e9\u30ec\u30e0daauovpciu\u5e73\u6210\u662d\u548c\u5927\u6b63\u660e\u6cbbna\u03bcakakbmbgbpfnf\u03bcf\u03bcgmg\u03bclmldlklfmnm\u03bcmpsns\u03bcsmsnv\u03bcvkvpwnw\u03bcwmwkwk\u03c9m\u03c9bqcccddbgyhainkkktlnlxphprsrsvwbst\u0574\u0576\u0574\u0565\u0574\u056b\u057e\u0576\u0574\u056d\u05d9\u05b4\u05f2\u05b7\u05e9\u05c1\u05e9\u05c2\u05d0\u05b7\u05d0\u05b8\u05d0\u05bc\u05d1\u05bc\u05d2\u05bc\u05d3\u05bc\u05d4\u05bc\u05d5\u05bc\u05d6\u05bc\u05d8\u05bc\u05d9\u05bc\u05da\u05bc\u05db\u05bc\u05dc\u05bc\u05de\u05bc\u05e0\u05bc\u05e1\u05bc\u05e3\u05bc\u05e4\u05bc\u05e6\u05bc\u05e7\u05bc\u05e8\u05bc\u05ea\u05bc\u05d5\u05b9\u05d1\u05bf\u05db\u05bf\u05e4\u05bf\u05d0\u05dc\u0626\u0627\u0626\u06d5\u0626\u0648\u0626\u06c7\u0626\u06c6\u0626\u06c8\u0626\u06d0\u0626\u0649\u0626\u062c\u0626\u062d\u0626\u0645\u0626\u064a\u0628\u062c\u0628\u0645\u0628\u0649\u0628\u064a\u062a\u0649\u062a\u064a\u062b\u062c\u062b\u0645\u062b\u0649\u062b\u064a\u062e\u062d\u0636\u062c\u0636\u0645\u0637\u062d\u0638\u0645\u063a\u062c\u0641\u062c\u0641\u062d\u0641\u0649\u0641\u064a\u0642\u062d\u0642\u0649\u0642\u064a\u0643\u0627\u0643\u062c\u0643\u062d\u0643\u062e\u0643\u0644\u0643\u0649\u0643\u064a\u0646\u062e\u0646\u0649\u0646\u064a\u0647\u062c\u0647\u0649\u0647\u064a\u064a\u0649\u0630\u0670\u0631\u0670\u0649\u0670\u0626\u0631\u0626\u0632\u0626\u0646\u0628\u0632\u0628\u0646\u062a\u0631\u062a\u0632\u062a\u0646\u062b\u0631\u062b\u0632\u062b\u0646\u0645\u0627\u0646\u0631\u0646\u0632\u0646\u0646\u064a\u0631\u064a\u0632\u0626\u062e\u0626\u0647\u0628\u0647\u062a\u0647\u0635\u062e\u0646\u0647\u0647\u0670\u062b\u0647\u0633\u0647\u0634\u0647\u0637\u0649\u0637\u064a\u0639\u0649\u0639\u064a\u063a\u0649\u063a\u064a\u0633\u0649\u0633\u064a\u0634\u0649\u0634\u064a\u0635\u0649\u0635\u064a\u0636\u0649\u0636\u064a\u0634\u062e\u0634\u0631\u0633\u0631\u0635\u0631\u0636\u0631\u0627\u064b \u064b\u0640\u064b\u0640\u0651 \u0652\u0640\u0652\u0644\u0622\u0644\u0623\u0644\u0625\ud834\udd57\ud834\udd650,1,2,3,4,5,6,7,8,9,wzhvsdwcmcmddj\u307b\u304b\u30b3\u30b3\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xfe\u0101\u0103\u0105\u0107\u0109\u010b\u010d\u010f\u0111\u0113\u0115\u0117\u0119\u011b\u011d\u011f\u0121\u0123\u0125\u0127\u0129\u012b\u012d\u012f\u0135\u0137\u013a\u013c\u013e\u0142\u0144\u0146\u0148\u014b\u014d\u014f\u0151\u0153\u0155\u0157\u0159\u015b\u015d\u015f\u0161\u0163\u0165\u0167\u0169\u016b\u016d\u016f\u0171\u0173\u0175\u0177\xff\u017a\u017c\u0253\u0183\u0185\u0254\u0188\u0256\u0257\u018c\u01dd\u0259\u025b\u0192\u0260\u0263\u0269\u0268\u0199\u026f\u0272\u0275\u01a1\u01a3\u01a5\u0280\u01a8\u0283\u01ad\u0288\u01b0\u028a\u028b\u01b4\u01b6\u0292\u01b9\u01bd\u01ce\u01d0\u01d2\u01d4\u01d6\u01d8\u01da\u01dc\u01df\u01e1\u01e3\u01e5\u01e7\u01e9\u01eb\u01ed\u01ef\u01f5\u0195\u01bf\u01f9\u01fb\u01fd\u01ff\u0201\u0203\u0205\u0207\u0209\u020b\u020d\u020f\u0211\u0213\u0215\u0217\u0219\u021b\u021d\u021f\u019e\u0223\u0225\u0227\u0229\u022b\u022d\u022f\u0231\u0233\u2c65\u023c\u019a\u2c66\u0242\u0180\u0289\u028c\u0247\u0249\u024b\u024d\u024f\u0266\u0279\u027b\u0281\u0295\u0371\u0373\u02b9\u0377;\u03f3\u03ad\u03af\u03cc\u03cd\u03b2\u03b3\u03b4\u03b5\u03b6\u03b8\u03ba\u03bb\u03bd\u03be\u03bf\u03c0\u03c1\u03c3\u03c4\u03c5\u03c6\u03c7\u03c8\u03ca\u03cb\u03d7\u03d9\u03db\u03dd\u03df\u03e1\u03e3\u03e5\u03e7\u03e9\u03eb\u03ed\u03ef\u03f8\u03fb\u037b\u037c\u037d\u0450\u0451\u0452\u0453\u0454\u0455\u0456\u0457\u0458\u0459\u045a\u045b\u045c\u045d\u045e\u045f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e\u044f\u0461\u0463\u0465\u0467\u0469\u046b\u046d\u046f\u0471\u0473\u0475\u0477\u0479\u047b\u047d\u047f\u0481\u048b\u048d\u048f\u0491\u0493\u0495\u0497\u0499\u049b\u049d\u049f\u04a1\u04a3\u04a5\u04a7\u04a9\u04ab\u04ad\u04af\u04b1\u04b3\u04b5\u04b7\u04b9\u04bb\u04bd\u04bf\u04c2\u04c4\u04c6\u04c8\u04ca\u04cc\u04ce\u04d1\u04d3\u04d5\u04d7\u04d9\u04db\u04dd\u04df\u04e1\u04e3\u04e5\u04e7\u04e9\u04eb\u04ed\u04ef\u04f1\u04f3\u04f5\u04f7\u04f9\u04fb\u04fd\u04ff\u0501\u0503\u0505\u0507\u0509\u050b\u050d\u050f\u0511\u0513\u0515\u0517\u0519\u051b\u051d\u051f\u0521\u0523\u0525\u0527\u0529\u052b\u052d\u052f\u0561\u0562\u0563\u0564\u0566\u0567\u0568\u0569\u056a\u056c\u056e\u056f\u0570\u0571\u0572\u0573\u0575\u0577\u0578\u0579\u057a\u057b\u057c\u057d\u057f\u0580\u0581\u0583\u0584\u0585\u0586\u0f0b\u2d27\u2d2d\u10dc\u13f0\u13f1\u13f2\u13f3\u13f4\u13f5\ua64b\u0250\u0251\u1d02\u025c\u1d16\u1d17\u1d1d\u1d25\u0252\u0255\u025f\u0261\u0265\u026a\u1d7b\u029d\u026d\u1d85\u029f\u0271\u0270\u0273\u0274\u0278\u0282\u01ab\u1d1c\u0290\u0291\u1e01\u1e03\u1e05\u1e07\u1e09\u1e0b\u1e0d\u1e0f\u1e11\u1e13\u1e15\u1e17\u1e19\u1e1b\u1e1d\u1e1f\u1e21\u1e23\u1e25\u1e27\u1e29\u1e2b\u1e2d\u1e2f\u1e31\u1e33\u1e35\u1e37\u1e39\u1e3b\u1e3d\u1e3f\u1e41\u1e43\u1e45\u1e47\u1e49\u1e4b\u1e4d\u1e4f\u1e51\u1e53\u1e55\u1e57\u1e59\u1e5b\u1e5d\u1e5f\u1e61\u1e63\u1e65\u1e67\u1e69\u1e6b\u1e6d\u1e6f\u1e71\u1e73\u1e75\u1e77\u1e79\u1e7b\u1e7d\u1e7f\u1e81\u1e83\u1e85\u1e87\u1e89\u1e8b\u1e8d\u1e8f\u1e91\u1e93\u1e95\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\u1efb\u1efd\u1eff\u1f10\u1f11\u1f12\u1f13\u1f14\u1f15\u1f30\u1f31\u1f32\u1f33\u1f34\u1f35\u1f36\u1f37\u1f40\u1f41\u1f42\u1f43\u1f44\u1f45\u1f51\u1f53\u1f55\u1f57\u1fb0\u1fb1\u1f72\u0390\u1fd0\u1fd1\u1f76\u03b0\u1fe0\u1fe1\u1f7a\u1fe5`\u1f78\u2010+\u2212\u2211\u3008\u3009\u2c30\u2c31\u2c32\u2c33\u2c34\u2c35\u2c36\u2c37\u2c38\u2c39\u2c3a\u2c3b\u2c3c\u2c3d\u2c3e\u2c3f\u2c40\u2c41\u2c42\u2c43\u2c44\u2c45\u2c46\u2c47\u2c48\u2c49\u2c4a\u2c4b\u2c4c\u2c4d\u2c4e\u2c4f\u2c50\u2c51\u2c52\u2c53\u2c54\u2c55\u2c56\u2c57\u2c58\u2c59\u2c5a\u2c5b\u2c5c\u2c5d\u2c5e\u2c61\u026b\u1d7d\u027d\u2c68\u2c6a\u2c6c\u2c73\u2c76\u023f\u0240\u2c81\u2c83\u2c85\u2c87\u2c89\u2c8b\u2c8d\u2c8f\u2c91\u2c93\u2c95\u2c97\u2c99\u2c9b\u2c9d\u2c9f\u2ca1\u2ca3\u2ca5\u2ca7\u2ca9\u2cab\u2cad\u2caf\u2cb1\u2cb3\u2cb5\u2cb7\u2cb9\u2cbb\u2cbd\u2cbf\u2cc1\u2cc3\u2cc5\u2cc7\u2cc9\u2ccb\u2ccd\u2ccf\u2cd1\u2cd3\u2cd5\u2cd7\u2cd9\u2cdb\u2cdd\u2cdf\u2ce1\u2ce3\u2cec\u2cee\u2cf3\u2d61\u6bcd\u9f9f\u4e28\u4e36\u4e3f\u4e59\u4e85\u4ea0\u4eba\u513f\u5165\u5182\u5196\u51ab\u51e0\u51f5\u5200\u529b\u52f9\u5315\u531a\u5338\u535c\u5369\u5382\u53b6\u53c8\u53e3\u56d7\u58eb\u5902\u590a\u5915\u5973\u5b50\u5b80\u5bf8\u5c0f\u5c22\u5c38\u5c6e\u5c71\u5ddb\u5de5\u5df1\u5dfe\u5e72\u5e7a\u5e7f\u5ef4\u5efe\u5f0b\u5f13\u5f50\u5f61\u5f73\u5fc3\u6208\u6236\u624b\u652f\u6534\u6587\u6597\u65a4\u65b9\u65e0\u66f0\u6b20\u6b62\u6b79\u6bb3\u6bcb\u6bd4\u6bdb\u6c0f\u6c14\u722a\u7236\u723b\u723f\u7247\u7259\u725b\u72ac\u7384\u7389\u74dc\u74e6\u7518\u751f\u7528\u7530\u758b\u7592\u7676\u767d\u76ae\u76bf\u76ee\u77db\u77e2\u77f3\u793a\u79b8\u79be\u7a74\u7acb\u7af9\u7c73\u7cf8\u7f36\u7f51\u7f8a\u7fbd\u8001\u800c\u8012\u8033\u807f\u8089\u81e3\u81fc\u820c\u821b\u821f\u826e\u8272\u8278\u864d\u866b\u8840\u884c\u8863\u897e\u898b\u89d2\u8a00\u8c37\u8c46\u8c55\u8c78\u8c9d\u8d64\u8d70\u8db3\u8eab\u8eca\u8f9b\u8fb0\u8fb5\u9091\u9149\u91c6\u91cc\u9577\u9580\u961c\u96b6\u96b9\u96e8\u9751\u975e\u9762\u9769\u97cb\u97ed\u97f3\u9801\u98a8\u98db\u98df\u9996\u9999\u99ac\u9aa8\u9ad8\u9adf\u9b25\u9b2f\u9b32\u9b3c\u9b5a\u9ce5\u9e75\u9e7f\u9ea5\u9ebb\u9ec3\u9ecd\u9ed1\u9ef9\u9efd\u9f0e\u9f13\u9f20\u9f3b\u9f4a\u9f52\u9f8d\u9f9c\u9fa0.\u3012\u5344\u5345\u1101\u11aa\u11ac\u11ad\u1104\u11b0\u11b1\u11b2\u11b3\u11b4\u11b5\u111a\u1108\u1121\u110a\u110d\u1161\u1162\u1163\u1164\u1165\u1166\u1167\u1168\u1169\u116a\u116b\u116c\u116d\u116e\u116f\u1170\u1171\u1172\u1173\u1174\u1175\u1114\u1115\u11c7\u11c8\u11cc\u11ce\u11d3\u11d7\u11d9\u111c\u11dd\u11df\u111d\u111e\u1120\u1122\u1123\u1127\u1129\u112b\u112c\u112d\u112e\u112f\u1132\u1136\u1140\u1147\u114c\u11f1\u11f2\u1157\u1158\u1159\u1184\u1185\u1188\u1191\u1192\u1194\u119e\u11a1\u4e0a\u4e2d\u4e0b\u7532\u4e19\u4e01\u5929\u5730\u554f\u5e7c\u7b8f\uc6b0\u79d8\u7537\u9069\u512a\u5370\u6ce8\u9805\u5199\u5de6\u53f3\u533b\u5b97\u591c\u30c6\u30cc\u30e2\u30e8\u30f0\u30f1\u30f2\ua641\ua643\ua645\ua647\ua649\ua64d\ua64f\ua651\ua653\ua655\ua657\ua659\ua65b\ua65d\ua65f\ua661\ua663\ua665\ua667\ua669\ua66b\ua66d\ua681\ua683\ua685\ua687\ua689\ua68b\ua68d\ua68f\ua691\ua693\ua695\ua697\ua699\ua69b\ua723\ua725\ua727\ua729\ua72b\ua72d\ua72f\ua733\ua735\ua737\ua739\ua73b\ua73d\ua73f\ua741\ua743\ua745\ua747\ua749\ua74b\ua74d\ua74f\ua751\ua753\ua755\ua757\ua759\ua75b\ua75d\ua75f\ua761\ua763\ua765\ua767\ua769\ua76b\ua76d\ua76f\ua77a\ua77c\u1d79\ua77f\ua781\ua783\ua785\ua787\ua78c\ua791\ua793\ua797\ua799\ua79b\ua79d\ua79f\ua7a1\ua7a3\ua7a5\ua7a7\ua7a9\u026c\u029e\u0287\uab53\ua7b5\ua7b7\uab37\uab52\u13a0\u13a1\u13a2\u13a3\u13a4\u13a5\u13a6\u13a7\u13a8\u13a9\u13aa\u13ab\u13ac\u13ad\u13ae\u13af\u13b0\u13b1\u13b2\u13b3\u13b4\u13b5\u13b6\u13b7\u13b8\u13b9\u13ba\u13bb\u13bc\u13bd\u13be\u13bf\u13c0\u13c1\u13c2\u13c3\u13c4\u13c5\u13c6\u13c7\u13c8\u13c9\u13ca\u13cb\u13cc\u13cd\u13ce\u13cf\u13d0\u13d1\u13d2\u13d3\u13d4\u13d5\u13d6\u13d7\u13d8\u13d9\u13da\u13db\u13dc\u13dd\u13de\u13df\u13e0\u13e1\u13e2\u13e3\u13e4\u13e5\u13e6\u13e7\u13e8\u13e9\u13ea\u13eb\u13ec\u13ed\u13ee\u13ef\u8c48\u66f4\u8cc8\u6ed1\u4e32\u53e5\u5951\u5587\u5948\u61f6\u7669\u7f85\u863f\u87ba\u88f8\u908f\u6a02\u6d1b\u70d9\u73de\u843d\u916a\u99f1\u4e82\u5375\u6b04\u721b\u862d\u9e1e\u5d50\u6feb\u85cd\u8964\u62c9\u81d8\u881f\u5eca\u6717\u6d6a\u72fc\u90ce\u4f86\u51b7\u52de\u64c4\u6ad3\u7210\u76e7\u8606\u865c\u8def\u9732\u9b6f\u9dfa\u788c\u797f\u7da0\u83c9\u9304\u8ad6\u58df\u5f04\u7c60\u807e\u7262\u78ca\u8cc2\u96f7\u58d8\u5c62\u6a13\u6dda\u6f0f\u7d2f\u7e37\u964b\u52d2\u808b\u51dc\u51cc\u7a1c\u7dbe\u83f1\u9675\u8b80\u62cf\u8afe\u4e39\u5be7\u6012\u7387\u7570\u5317\u78fb\u4fbf\u5fa9\u4e0d\u6ccc\u6578\u7d22\u53c3\u585e\u7701\u8449\u8aaa\u6bba\u6c88\u62fe\u82e5\u63a0\u7565\u4eae\u5169\u51c9\u6881\u7ce7\u826f\u8ad2\u91cf\u52f5\u5442\u5eec\u65c5\u6ffe\u792a\u95ad\u9a6a\u9e97\u9ece\u66c6\u6b77\u8f62\u5e74\u6190\u6200\u649a\u6f23\u7149\u7489\u79ca\u7df4\u806f\u8f26\u84ee\u9023\u934a\u5217\u52a3\u54bd\u70c8\u88c2\u5ec9\u5ff5\u637b\u6bae\u7c3e\u7375\u4ee4\u56f9\u5dba\u601c\u73b2\u7469\u7f9a\u8046\u9234\u96f6\u9748\u9818\u4f8b\u79ae\u91b4\u96b8\u60e1\u4e86\u50da\u5bee\u5c3f\u6599\u71ce\u7642\u84fc\u907c\u6688\u962e\u5289\u677b\u67f3\u6d41\u6e9c\u7409\u7559\u786b\u7d10\u985e\u622e\u9678\u502b\u5d19\u6dea\u8f2a\u5f8b\u6144\u6817\u9686\u5229\u540f\u5c65\u6613\u674e\u68a8\u6ce5\u7406\u75e2\u7f79\u88cf\u88e1\u96e2\u533f\u6eba\u541d\u71d0\u7498\u85fa\u96a3\u9c57\u9e9f\u6797\u6dcb\u81e8\u7b20\u7c92\u72c0\u7099\u8b58\u4ec0\u8336\u523a\u5207\u5ea6\u62d3\u7cd6\u5b85\u6d1e\u66b4\u8f3b\u964d\u5ed3\u5140\u55c0\u585a\u6674\u51de\u732a\u76ca\u793c\u795e\u7965\u798f\u9756\u7cbe\u8612\u8af8\u9038\u90fd\u98ef\u98fc\u9928\u9db4\u90de\u96b7\u4fae\u50e7\u514d\u52c9\u52e4\u5351\u559d\u5606\u5668\u5840\u58a8\u5c64\u6094\u6168\u618e\u61f2\u654f\u65e2\u6691\u6885\u6d77\u6e1a\u6f22\u716e\u722b\u7422\u7891\u7949\u7948\u7950\u7956\u798d\u798e\u7a40\u7a81\u7bc0\u7e09\u7e41\u7f72\u8005\u81ed\u8279\u8457\u8910\u8996\u8b01\u8b39\u8cd3\u8d08\u8fb6\u96e3\u97ff\u983b\u6075\ud850\udeee\u8218\u4e26\u51b5\u5168\u4f80\u5145\u5180\u52c7\u52fa\u5555\u5599\u55e2\u58b3\u5944\u5954\u5a62\u5b28\u5ed2\u5ed9\u5f69\u5fad\u60d8\u614e\u6108\u6160\u6234\u63c4\u641c\u6452\u6556\u671b\u6756\u6edb\u6ecb\u701e\u77a7\u7235\u72af\u7471\u7506\u753b\u761d\u761f\u76db\u76f4\u774a\u7740\u78cc\u7ab1\u7c7b\u7d5b\u7f3e\u8352\u83ef\u8779\u8941\u8986\u8abf\u8acb\u8aed\u8b8a\u8f38\u9072\u9199\u9276\u967c\u97db\u980b\u9b12\ud84a\udc4a\ud84a\udc44\ud84c\udfd5\u3b9d\u4018\u4039\ud854\ude49\ud857\udcd0\ud85f\uded3\u9f43\u9f8e\u05e2\u05dd\u0671\u067b\u067e\u0680\u067a\u067f\u0679\u06a4\u06a6\u0684\u0683\u0686\u0687\u068d\u068c\u068e\u0688\u0698\u0691\u06a9\u06af\u06b3\u06b1\u06ba\u06bb\u06c0\u06c1\u06be\u06d3\u06ad\u06cb\u06c5\u06c9\u3001\u3016\u3017\u2014\u2013_{}\u3010\u3011\u300a\u300b\u300c\u300d\u300e\u300f[]#&*-<>\\$%@\u0621\u0624\u0629\"'^|~\u2985\u2986\u30fb\u30a5\u30e3\xa2\xa3\xac\xa6\xa5\u20a9\u2502\u2190\u2191\u2192\u2193\u25a0\u25cb\ud801\udc28\ud801\udc29\ud801\udc2a\ud801\udc2b\ud801\udc2c\ud801\udc2d\ud801\udc2e\ud801\udc2f\ud801\udc30\ud801\udc31\ud801\udc32\ud801\udc33\ud801\udc34\ud801\udc35\ud801\udc36\ud801\udc37\ud801\udc38\ud801\udc39\ud801\udc3a\ud801\udc3b\ud801\udc3c\ud801\udc3d\ud801\udc3e\ud801\udc3f\ud801\udc40\ud801\udc41\ud801\udc42\ud801\udc43\ud801\udc44\ud801\udc45\ud801\udc46\ud801\udc47\ud801\udc48\ud801\udc49\ud801\udc4a\ud801\udc4b\ud801\udc4c\ud801\udc4d\ud801\udc4e\ud801\udc4f\ud801\udcd8\ud801\udcd9\ud801\udcda\ud801\udcdb\ud801\udcdc\ud801\udcdd\ud801\udcde\ud801\udcdf\ud801\udce0\ud801\udce1\ud801\udce2\ud801\udce3\ud801\udce4\ud801\udce5\ud801\udce6\ud801\udce7\ud801\udce8\ud801\udce9\ud801\udcea\ud801\udceb\ud801\udcec\ud801\udced\ud801\udcee\ud801\udcef\ud801\udcf0\ud801\udcf1\ud801\udcf2\ud801\udcf3\ud801\udcf4\ud801\udcf5\ud801\udcf6\ud801\udcf7\ud801\udcf8\ud801\udcf9\ud801\udcfa\ud801\udcfb\ud803\udcc0\ud803\udcc1\ud803\udcc2\ud803\udcc3\ud803\udcc4\ud803\udcc5\ud803\udcc6\ud803\udcc7\ud803\udcc8\ud803\udcc9\ud803\udcca\ud803\udccb\ud803\udccc\ud803\udccd\ud803\udcce\ud803\udccf\ud803\udcd0\ud803\udcd1\ud803\udcd2\ud803\udcd3\ud803\udcd4\ud803\udcd5\ud803\udcd6\ud803\udcd7\ud803\udcd8\ud803\udcd9\ud803\udcda\ud803\udcdb\ud803\udcdc\ud803\udcdd\ud803\udcde\ud803\udcdf\ud803\udce0\ud803\udce1\ud803\udce2\ud803\udce3\ud803\udce4\ud803\udce5\ud803\udce6\ud803\udce7\ud803\udce8\ud803\udce9\ud803\udcea\ud803\udceb\ud803\udcec\ud803\udced\ud803\udcee\ud803\udcef\ud803\udcf0\ud803\udcf1\ud803\udcf2\ud806\udcc0\ud806\udcc1\ud806\udcc2\ud806\udcc3\ud806\udcc4\ud806\udcc5\ud806\udcc6\ud806\udcc7\ud806\udcc8\ud806\udcc9\ud806\udcca\ud806\udccb\ud806\udccc\ud806\udccd\ud806\udcce\ud806\udccf\ud806\udcd0\ud806\udcd1\ud806\udcd2\ud806\udcd3\ud806\udcd4\ud806\udcd5\ud806\udcd6\ud806\udcd7\ud806\udcd8\ud806\udcd9\ud806\udcda\ud806\udcdb\ud806\udcdc\ud806\udcdd\ud806\udcde\ud806\udcdf\u0131\u0237\u2207\u2202\ud83a\udd22\ud83a\udd23\ud83a\udd24\ud83a\udd25\ud83a\udd26\ud83a\udd27\ud83a\udd28\ud83a\udd29\ud83a\udd2a\ud83a\udd2b\ud83a\udd2c\ud83a\udd2d\ud83a\udd2e\ud83a\udd2f\ud83a\udd30\ud83a\udd31\ud83a\udd32\ud83a\udd33\ud83a\udd34\ud83a\udd35\ud83a\udd36\ud83a\udd37\ud83a\udd38\ud83a\udd39\ud83a\udd3a\ud83a\udd3b\ud83a\udd3c\ud83a\udd3d\ud83a\udd3e\ud83a\udd3f\ud83a\udd40\ud83a\udd41\ud83a\udd42\ud83a\udd43\u066e\u06a1\u066f\u5b57\u53cc\u591a\u89e3\u4ea4\u6620\u7121\u524d\u5f8c\u518d\u65b0\u521d\u7d42\u8ca9\u58f0\u5439\u6f14\u6295\u6355\u904a\u6307\u7981\u7a7a\u5408\u6e80\u7533\u5272\u55b6\u914d\u5f97\u53ef\u4e3d\u4e38\u4e41\ud840\udd22\u4f60\u4fbb\u5002\u507a\u5099\u50cf\u349e\ud841\ude3a\u5154\u5164\u5177\ud841\udd1c\u34b9\u5167\ud841\udd4b\u5197\u51a4\u4ecc\u51ac\ud864\udddf\u5203\u34df\u523b\u5246\u5277\u3515\u5305\u5306\u5349\u535a\u5373\u537d\u537f\ud842\ude2c\u7070\u53ca\u53df\ud842\udf63\u53eb\u53f1\u5406\u549e\u5438\u5448\u5468\u54a2\u54f6\u5510\u5553\u5563\u5584\u55ab\u55b3\u55c2\u5716\u5717\u5651\u5674\u58ee\u57ce\u57f4\u580d\u578b\u5832\u5831\u58ac\ud845\udce4\u58f2\u58f7\u5906\u5922\u5962\ud845\udea8\ud845\udeea\u59ec\u5a1b\u5a27\u59d8\u5a66\u36ee\u5b08\u5b3e\ud846\uddc8\u5bc3\u5bd8\u5bf3\ud846\udf18\u5bff\u5c06\u3781\u5c60\u5cc0\u5c8d\ud847\udde4\u5d43\ud847\udde6\u5d6e\u5d6b\u5d7c\u5de1\u5de2\u382f\u5dfd\u5e28\u5e3d\u5e69\u3862\ud848\udd83\u387c\u5eb0\u5eb3\u5eb6\ud868\udf92\ud848\udf31\u8201\u5f22\u38c7\ud84c\udeb8\ud858\uddda\u5f62\u5f6b\u38e3\u5f9a\u5fcd\u5fd7\u5ff9\u6081\u393a\u391c\ud849\uded4\u60c7\u6148\u614c\u617a\u61b2\u61a4\u61af\u61de\u621b\u625d\u62b1\u62d4\u6350\ud84a\udf0c\u633d\u62fc\u6368\u6383\u63e4\ud84a\udff1\u6422\u63c5\u63a9\u3a2e\u6469\u647e\u649d\u6477\u3a6c\u656c\ud84c\udc0a\u65e3\u66f8\u6649\u3b19\u3b08\u3ae4\u5192\u5195\u6700\u669c\u80ad\u43d9\u6721\u675e\u6753\ud84c\udfc3\u3b49\u67fa\u6785\u6852\ud84d\udc6d\u688e\u681f\u6914\u6942\u69a3\u69ea\u6aa8\ud84d\udea3\u6adb\u3c18\u6b21\ud84e\udca7\u6b54\u3c4e\u6b72\u6b9f\u6bbb\ud84e\ude8d\ud847\udd0b\ud84e\udefa\u6c4e\ud84f\udcbc\u6cbf\u6ccd\u6c67\u6d16\u6d3e\u6d69\u6d78\u6d85\ud84f\udd1e\u6d34\u6e2f\u6e6e\u3d33\u6ec7\ud84f\uded1\u6df9\u6f6e\ud84f\udf5e\ud84f\udf8e\u6fc6\u7039\u701b\u3d96\u704a\u707d\u7077\u70ad\ud841\udd25\u7145\ud850\ude63\u719c\u7228\u7250\ud851\ude08\u7280\u7295\ud851\udf35\ud852\udc14\u737a\u738b\u3eac\u73a5\u3eb8\u7447\u745c\u7485\u74ca\u3f1b\u7524\ud853\udc36\u753e\ud853\udc92\ud848\udd9f\u7610\ud853\udfa1\ud853\udfb8\ud854\udc44\u3ffc\u4008\ud854\udcf3\ud854\udcf2\ud854\udd19\ud854\udd33\u771e\u771f\u778b\u4046\u4096\ud855\udc1d\u784e\u40e3\ud855\ude26\ud855\ude9a\ud855\udec5\u79eb\u412f\u7a4a\u7a4f\ud856\udd7c\ud856\udea7\u4202\ud856\udfab\u7bc6\u7bc9\u4227\ud857\udc80\u7cd2\u42a0\u7ce8\u7ce3\u7d00\ud857\udf86\u7d63\u4301\u7dc7\u7e02\u7e45\u4334\ud858\ude28\ud858\ude47\u4359\ud858\uded9\u7f7a\ud858\udf3e\u7f95\u7ffa\ud859\udcda\ud859\udd23\u8060\ud859\udda8\u8070\ud84c\udf5f\u43d5\u80b2\u8103\u440b\u813e\u5ab5\ud859\udfa7\ud859\udfb5\ud84c\udf93\ud84c\udf9c\u8204\u8f9e\u446b\u8291\u828b\u829d\u52b3\u82b1\u82b3\u82bd\u82e6\ud85a\udf3c\u831d\u8363\u83ad\u8323\u83bd\u83e7\u8353\u83ca\u83cc\u83dc\ud85b\udc36\ud85b\udd6b\ud85b\udcd5\u452b\u84f1\u84f3\u8516\ud85c\udfca\u8564\ud85b\udf2c\u455d\u4561\ud85b\udfb1\ud85c\udcd2\u456b\u8650\u8667\u8669\u86a9\u8688\u870e\u86e2\u8728\u876b\u8786\u87e1\u8801\u45f9\u8860\ud85d\ude67\u88d7\u88de\u4635\u88fa\u34bb\ud85e\udcae\ud85e\udd66\u46be\u46c7\u8aa0\ud85f\udca8\u8cab\u8cc1\u8d1b\u8d77\ud85f\udf2f\ud842\udc04\u8dcb\u8dbc\u8df0\ud842\udcde\u8ed4\ud861\uddd2\ud861\udded\u9094\u90f1\u9111\ud861\udf2e\u911b\u9238\u92d7\u92d8\u927c\u93f9\u9415\ud862\udffa\u958b\u4995\u95b7\ud863\udd77\u49e6\u96c3\u5db2\u9723\ud864\udd45\ud864\ude1a\u4a6e\u4a76\u97e0\ud865\udc0a\u4ab2\ud865\udc96\u9829\ud865\uddb6\u98e2\u4b33\u9929\u99a7\u99c2\u99fe\u4bce\ud866\udf30\u9c40\u9cfd\u4cce\u4ced\u9d67\ud868\udcce\u4cf8\ud868\udd05\ud868\ude0e\ud868\ude91\u4d56\u9efe\u9f05\u9f0f\u9f16\ud869\ude00",mapChar:function(i){return i>=196608?i>=917760&&i<=917999?18874368:0:e[t[i>>4]][15&i]}}}()}.apply(t,[]))||(e.exports=r)},"/ieh":function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty,s="~";function a(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function o(e,t,i,r,a){if("function"!==typeof i)throw new TypeError("The listener must be a function");var o=new n(i,r||e,a),c=s?s+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function d(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(s=!1)),d.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)r.call(e,t)&&i.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},d.prototype.listeners=function(e){var t=s?s+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,n=new Array(a);r<a;r++)n[r]=i[r].fn;return n},d.prototype.listenerCount=function(e){var t=s?s+e:e,i=this._events[t];return i?i.fn?1:i.length:0},d.prototype.emit=function(e,t,i,r,a,n){var o=s?s+e:e;if(!this._events[o])return!1;var c,d,h=this._events[o],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,i),!0;case 4:return h.fn.call(h.context,t,i,r),!0;case 5:return h.fn.call(h.context,t,i,r,a),!0;case 6:return h.fn.call(h.context,t,i,r,a,n),!0}for(d=1,c=new Array(u-1);d<u;d++)c[d-1]=arguments[d];h.fn.apply(h.context,c)}else{var l,f=h.length;for(d=0;d<f;d++)switch(h[d].once&&this.removeListener(e,h[d].fn,void 0,!0),u){case 1:h[d].fn.call(h[d].context);break;case 2:h[d].fn.call(h[d].context,t);break;case 3:h[d].fn.call(h[d].context,t,i);break;case 4:h[d].fn.call(h[d].context,t,i,r);break;default:if(!c)for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];h[d].fn.apply(h[d].context,c)}}return!0},d.prototype.on=function(e,t,i){return o(this,e,t,i,!1)},d.prototype.once=function(e,t,i){return o(this,e,t,i,!0)},d.prototype.removeListener=function(e,t,i,r){var a=s?s+e:e;if(!this._events[a])return this;if(!t)return c(this,a),this;var n=this._events[a];if(n.fn)n.fn!==t||r&&!n.once||i&&n.context!==i||c(this,a);else{for(var o=0,d=[],h=n.length;o<h;o++)(n[o].fn!==t||r&&!n[o].once||i&&n[o].context!==i)&&d.push(n[o]);d.length?this._events[a]=1===d.length?d[0]:d:c(this,a)}return this},d.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&c(this,t)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=s,d.EventEmitter=d,e.exports=d},"/j+a":function(e,t){var i="0123456789abcdef".split(""),r=[1,256,65536,16777216],s=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],n=function(e){var t,i,r,s,n,o,c,d,h,u,l,f,p,m,y,b,v,g,w,k,_,T,S,x,O,C,M,A,E,I,B,F,P,R,q,L,D,N,U,V,G,j,H,K,z,W,X,Y,Z,J,Q,$,ee,te,ie,re,se,ae,ne,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),i=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(d<<1|h>>>31),i=n^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=o^(u<<1|l>>>31),i=c^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(s<<1|n>>>31),i=l^(n<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,A=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,q=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,F=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,N=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&g,e[1]=y^~v&w,e[10]=x^~C&A,e[11]=O^~M&E,e[20]=R^~L&N,e[21]=q^~D&U,e[30]=K^~W&Y,e[31]=z^~X&Z,e[40]=te^~re&ae,e[41]=ie^~se&ne,e[2]=b^~g&k,e[3]=v^~w&_,e[12]=C^~A&I,e[13]=M^~E&B,e[22]=L^~N&V,e[23]=D^~U&G,e[32]=W^~Y&J,e[33]=X^~Z&Q,e[42]=re^~ae&oe,e[43]=se^~ne&ce,e[4]=g^~k&T,e[5]=w^~_&S,e[14]=A^~I&F,e[15]=E^~B&P,e[24]=N^~V&j,e[25]=U^~G&H,e[34]=Y^~J&$,e[35]=Z^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~T&m,e[7]=_^~S&y,e[16]=I^~F&x,e[17]=B^~P&O,e[26]=V^~j&R,e[27]=G^~H&q,e[36]=J^~$&K,e[37]=Q^~ee&z,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=T^~m&b,e[9]=S^~y&v,e[18]=F^~x&C,e[19]=P^~O&M,e[28]=j^~R&L,e[29]=H^~q&D,e[38]=$^~K&W,e[39]=ee^~z&X,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=a[r],e[1]^=a[r+1]},o=function(e){return function(t){var a;if("0x"===t.slice(0,2)){a=[];for(var o=2,c=t.length;o<c;o+=2)a.push(parseInt(t.slice(o,o+2),16))}else a=t;return function(e,t){for(var a,o=t.length,c=e.blocks,d=e.blockCount<<2,h=e.blockCount,u=e.outputBlocks,l=e.s,f=0;f<o;){if(e.reset)for(e.reset=!1,c[0]=e.block,y=1;y<h+1;++y)c[y]=0;if("string"!==typeof t)for(y=e.start;f<o&&y<d;++f)c[y>>2]|=t[f]<<s[3&y++];else for(y=e.start;f<o&&y<d;++f)(a=t.charCodeAt(f))<128?c[y>>2]|=a<<s[3&y++]:a<2048?(c[y>>2]|=(192|a>>6)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):a<55296||a>=57344?(c[y>>2]|=(224|a>>12)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++f)),c[y>>2]|=(240|a>>18)<<s[3&y++],c[y>>2]|=(128|a>>12&63)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]);if(e.lastByteIndex=y,y>=d){for(e.start=y-d,e.block=c[h],y=0;y<h;++y)l[y]^=c[y];n(l),e.reset=!0}else e.start=y}if(c[(y=e.lastByteIndex)>>2]|=r[3&y],e.lastByteIndex===d)for(c[0]=c[h],y=1;y<h+1;++y)c[y]=0;for(c[h-1]|=2147483648,y=0;y<h;++y)l[y]^=c[y];n(l);for(var p,m="",y=0,b=0;b<u;){for(y=0;y<h&&b<u;++y,++b)p=l[y],m+=i[p>>4&15]+i[15&p]+i[p>>12&15]+i[p>>8&15]+i[p>>20&15]+i[p>>16&15]+i[p>>28&15]+i[p>>24&15];b%h===0&&(n(l),y=0)}return"0x"+m}(function(e){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t}(e),a)}};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},"/jvT":function(e,t,i){"use strict";const r=i("GiW5");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceje",name:"Binance Jersey",countries:["JE"],certified:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/54874009-d526eb00-4df3-11e9-928c-ce6a2b914cd1.jpg",api:{web:"https://www.binance.je",wapi:"https://api.binance.je/wapi/v3",public:"https://api.binance.je/api/v1",private:"https://api.binance.je/api/v3",v3:"https://api.binance.je/api/v3",v1:"https://api.binance.je/api/v1"},www:"https://www.binance.je",referral:"https://www.binance.je/?ref=35047921",doc:"https://github.com/binance-exchange/binance-official-api-docs/blob/master/rest-api.md",fees:"https://www.binance.je/fees.html"},fees:{trading:{tierBased:!1,percentage:!0,taker:5e-4,maker:5e-4},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,ETH:.01},deposit:{}}}})}}},"/mWR":function(e,t,i){"use strict";var r=i("i3BT"),s=i("EDSC");e.exports={errors:r,formatters:s}},"02Wl":function(e,t,i){"use strict";var r=i("/IoK"),s=i("Y/HJ").assert,a=i("Y/HJ"),{byteArrayToWordArray:n}=i("BtsK");const o=r.enc.Utf8.parse("\x01"),c=r.enc.Utf8.parse("\0");function d(e){if(!(this instanceof d))return new d(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.slice(3,6),this.minEntropy=e.minEntropy||192,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=e.entropy,i=e.nonce;s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,[])}e.exports=d,d.prototype._init=function(e,t,i){var s=e.concat(t).concat(i);this.K=new r.lib.WordArray.init,this.V=new r.lib.WordArray.init;this.V.words=Array(this.outLen/32).fill(16843009),this.V.sigBytes=32,this._update(s),this._reseed=1,this.reseedInterval=281474976710656},d.prototype._hmac=function(){return new r.lib.WordArray.init},d.prototype._update=function(e){var t=this._hmac();t.concat(this.V),t.concat(c),e&&t.concat(n(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K),e&&((t=this._hmac()).concat(this.V),t.concat(o),t.concat(n(e)),this.K=r["Hmac"+this.hash](t,this.K),this.V=r["Hmac"+this.hash](this.V,this.K))},d.prototype.reseed=function(e,t,i,r){"string"!==typeof t&&(i,i=t,t=null),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},d.prototype.generate=function(e,t,i,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(i,i=t,t=null),i&&(i=r.enc.Utf8.parse(i),this._update(i));for(var n=new r.lib.WordArray.init;n.sigBytes<e;)this.V=r["Hmac"+this.hash](this.V,this.K),n.concat(this.V);return this._update(i),this._reseed++,a.wordArrayToBuffer(n)}},"06z4":function(e,t,i){(function(e){var r=i("1sp3").keccak_256,s=i("FFxs");function a(e){return e?s.toUnicode(e,{useStd3ASCII:!0,transitional:!1}):e}t.hash=function(t){for(var i="",s=0;s<32;s++)i+="00";if(name=a(t),name){var n=name.split(".");for(s=n.length-1;s>=0;s--){var o=r(n[s]);i=r(new e(i+o,"hex"))}}return"0x"+i},t.normalize=a}).call(this,i("qykS").Buffer)},"0MHh":function(e){e.exports=JSON.parse('{"name":"byzantium","comment":"Hardfork with new precompiles, instructions and other protocol changes","eip":{"url":"https://eips.ethereum.org/EIPS/eip-609","status":"Final"},"gasConfig":{},"gasPrices":{"modexpGquaddivisor":{"v":20,"d":"Gquaddivisor from modexp precompile for gas calculation"},"ecAdd":{"v":500,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":40000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":100000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":80000,"d":"Gas costs regarding curve pairing precompile input length"}},"vm":{},"pow":{"minerReward":{"v":"3000000000000000000","d":"the amount a miner get rewarded for mining a block"}},"casper":{},"sharding":{}}')},"0TTc":function(e,t,i){"use strict";const r=i("OjXq"),s=i("cdDq"),a=i("ucJe");r.ccxtVersion="1.22.28";const n={_1btcxe:i("MzSH"),acx:i("F33t"),adara:i("r6xz"),anxpro:i("hIzy"),bcex:i("a4pT"),bequant:i("Jix9"),bibox:i("U63y"),bigone:i("sqcK"),binance:i("GiW5"),binanceje:i("/jvT"),binanceus:i("Vf3q"),bit2c:i("eRx0"),bitbank:i("a9qU"),bitbay:i("fGCF"),bitfinex:i("mZ7+"),bitfinex2:i("5Kmp"),bitflyer:i("p23d"),bitforex:i("dn2v"),bithumb:i("hTj0"),bitkk:i("HntW"),bitlish:i("aFfd"),bitmart:i("6u4I"),bitmax:i("g94P"),bitmex:i("YEj7"),bitso:i("m2R+"),bitstamp:i("98kT"),bitstamp1:i("p0dA"),bittrex:i("ubNZ"),bitz:i("HB8x"),bl3p:i("eebJ"),bleutrade:i("COu+"),braziliex:i("M+3o"),btcalpha:i("PPJh"),btcbox:i("fR7u"),btcchina:i("/bHG"),btcmarkets:i("dl7Y"),btctradeim:i("BG8/"),btctradeua:i("bf7n"),btcturk:i("MP7T"),buda:i("mdIA"),bw:i("tXvY"),bytetrade:i("VGMt"),cex:i("+zI4"),chilebit:i("rSxa"),cobinhood:i("njSN"),coinbase:i("SY6p"),coinbaseprime:i("a9C4"),coinbasepro:i("TGNe"),coincheck:i("NCIG"),coinegg:i("NQdM"),coinex:i("8DMd"),coinfalcon:i("bAGH"),coinfloor:i("otB0"),coingi:i("oWik"),coinmarketcap:i("cuLj"),coinmate:i("qBa0"),coinone:i("X3hn"),coinspot:i("T24p"),coolcoin:i("eYCJ"),coss:i("rBLd"),crex24:i("xYmC"),deribit:i("zl+m"),digifinex:i("3QcU"),dsx:i("7aZo"),exmo:i("nUeX"),exx:i("BVgh"),fcoin:i("BVIH"),fcoinjp:i("9SAk"),flowbtc:i("fobv"),foxbit:i("uS8B"),ftx:i("+JpX"),fybse:i("TPo/"),gateio:i("wLqY"),gemini:i("N4x7"),hitbtc:i("6IP2"),hitbtc2:i("sLEj"),huobipro:i("6kI6"),huobiru:i("iWax"),ice3x:i("WfKs"),idex:i("Pvdy"),independentreserve:i("FIEc"),indodax:i("QpdZ"),itbit:i("kJEJ"),kkex:i("+Ci3"),kraken:i("wIgF"),kucoin:i("jh01"),kuna:i("sGFv"),lakebtc:i("p8kp"),latoken:i("wJrE"),lbank:i("lWi4"),liquid:i("JMNx"),livecoin:i("PlM5"),luno:i("uyLk"),lykke:i("BupB"),mercado:i("kbH8"),mixcoins:i("DiNA"),oceanex:i("srjw"),okcoincny:i("2K4m"),okcoinusd:i("t5I8"),okex:i("oAua"),okex3:i("YZb9"),paymium:i("jzP+"),poloniex:i("XrIg"),rightbtc:i("WmoY"),southxchange:i("HNHa"),stex:i("d3wi"),stronghold:i("l6ZL"),surbitcoin:i("svUv"),theocean:i("aIci"),therock:i("Wrnp"),tidebit:i("tb2N"),tidex:i("CGOH"),timex:i("WZ+2"),upbit:i("Bqph"),vaultoro:i("1HAH"),vbtc:i("Rcnz"),whitebit:i("Bu4C"),xbtce:i("OacK"),yobit:i("+vak"),zaif:i("3Icy"),zb:i("YBGL")};e.exports=Object.assign({version:"1.22.28",Exchange:r,exchanges:Object.keys(n)},n,s,a)},"0gAC":function(e,t,i){i("PD4I");var r=function(e,t){return parseInt(e.slice(2*t+2,2*t+4),16)},s=function(e){return(e.length-2)/2},a=function(e){for(var t=[],i=2,r=e.length;i<r;i+=2)t.push(parseInt(e.slice(i,i+2),16));return t},n=function(e){for(var t="0x",i=0,r=e.length;i<r;++i){var s=e[i];t+=(s<16?"0":"")+s.toString(16)}return t};e.exports={random:function(e){var t=void 0;t="undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):i("9dER").randomBytes(e);for(var r="0x",s=0;s<e;++s)r+=("00"+t[s].toString(16)).slice(-2);return r},length:s,concat:function(e,t){return e.concat(t.slice(2))},flatten:function(e){return"0x"+e.reduce((function(e,t){return e+t.slice(2)}),"")},slice:function(e,t,i){return"0x"+i.slice(2*e+2,2*t+2)},reverse:function(e){for(var t="0x",i=0,r=s(e);i<r;++i)t+=e.slice(2*(r-i),2*(r-i+1));return t},pad:function e(t,i){return i.length===2*t+2?i:e(t,"0x0"+i.slice(2))},padRight:function e(t,i){return i.length===2*t+2?i:e(t,i+"0")},fromAscii:function(e){for(var t="0x",i=0;i<e.length;++i)t+=("00"+e.charCodeAt(i).toString(16)).slice(-2);return t},toAscii:function(e){for(var t="",i=2;i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.slice(i,i+2),16));return t},fromString:function(e){for(var t=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},i="0x",r=0;r!=e.length;r++){var s=e.charCodeAt(r);if(s<128)i+=t(s);else{if(s<2048)i+=t(s>>6|192);else{if(s>55295&&s<56320){if(++r==e.length)return null;var a=e.charCodeAt(r);if(a<56320||a>57343)return null;i+=t((s=65536+((1023&s)<<10)+(1023&a))>>18|240),i+=t(s>>12&63|128)}else i+=t(s>>12|224);i+=t(s>>6&63|128)}i+=t(63&s|128)}}return i},toString:function(e){for(var t="",i=0,a=s(e);i<a;){var n=r(e,i++);if(n>127){if(n>191&&n<224){if(i>=a)return null;n=(31&n)<<6|63&r(e,i)}else if(n>223&&n<240){if(i+1>=a)return null;n=(15&n)<<12|(63&r(e,i))<<6|63&r(e,++i)}else{if(!(n>239&&n<248))return null;if(i+2>=a)return null;n=(7&n)<<18|(63&r(e,i))<<12|(63&r(e,++i))<<6|63&r(e,++i)}++i}if(n<=65535)t+=String.fromCharCode(n);else{if(!(n<=1114111))return null;n-=65536,t+=String.fromCharCode(n>>10|55296),t+=String.fromCharCode(1023&n|56320)}}return t},fromNumber:function(e){var t=e.toString(16);return t.length%2===0?"0x"+t:"0x0"+t},toNumber:function(e){return parseInt(e.slice(2),16)},fromNat:function(e){return"0x0"===e?"0x":e.length%2===0?e:"0x0"+e.slice(2)},toNat:function(e){return"0"===e[2]?"0x"+e.slice(3):e},fromArray:n,toArray:a,fromUint8Array:function(e){return n([].slice.call(e,0))},toUint8Array:function(e){return new Uint8Array(a(e))}}},"19XG":function(e,t,i){(function(t){var r=i("Te/i"),s=i("/IoK"),a=3;i("YkuB");var n={md2:t.from("3020300c06082a864886f70d020205000410","hex"),md5:t.from("3020300c06082a864886f70d020505000410","hex"),sha1:t.from("3021300906052b0e03021a05000414","hex"),sha224:t.from("302d300d06096086480165030402040500041c","hex"),sha256:t.from("3031300d060960864801650304020105000420","hex"),sha384:t.from("3041300d060960864801650304020205000430","hex"),sha512:t.from("3051300d060960864801650304020305000440","hex"),ripemd160:t.from("3021300906052b2403020105000414","hex"),rmd160:t.from("3021300906052b2403020105000414","hex")},o={ripemd160:"rmd160"};function c(e,t){var i=[];return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&255),t>2&&i.push(e>>>8&255),t>3&&i.push(255&e),i}e.exports={isEncryption:!0,isSignature:!0},e.exports.makeScheme=function(e,i){function d(e,t){this.key=e,this.options=t}return d.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==a?this.key.encryptedDataLength:this.key.encryptedDataLength-11},d.prototype.encUnPad=function(e,t){t=t||{};var i=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==a)return"function"==typeof e.lastIndexOf?e.slice(e.lastIndexOf("\0")+1,e.length):e.slice(String.prototype.lastIndexOf.call(e,"\0")+1,e.length);if(e.length<4)return null;if(1===t.type){if(0!==e[0]&&1!==e[1])return null;for(i=3;0!==e[i];)if(255!=e[i]||++i>=e.length)return null}else{if(0!==e[0]&&2!==e[1])return null;for(i=3;0!==e[i];)if(++i>=e.length)return null}return e.slice(i+1,e.length)},d.prototype.sign=function(e){var i=this.options.signingSchemeOptions.hash||"sha256";if("browser"===this.options.environment){var a=function(e){let i=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");i=e.sigBytes,e=e.words;const r=[];let s=[],a=0;for(;i>0;)s=c(e[a],Math.min(4,i)),i-=s.length,r.push(s),a++;return new t.from([].concat.apply([],r),"hex")}(s[(i=o[i]||i).toUpperCase()](e.toString())),n=this.pkcs1pad(a,i);return this.key.$doPrivate(new r(n)).toBuffer(this.key.encryptedDataLength)}throw new Error("CCXT only supports browser mode :P")},d.prototype.pkcs1pad=function(e,i){var r=n[i];if(!r)throw Error("Unsupported hash algorithm");var s=t.concat([r,e]);if(s.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+i+")");var a=t.alloc(this.key.encryptedDataLength-s.length-1);return a.fill(255,0,a.length-1),a[0]=1,a[a.length-1]=0,t.concat([a,s])},new d(e,i)}}).call(this,i("qykS").Buffer)},"1HAH":function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"vaultoro",name:"Vaultoro",countries:["CH"],rateLimit:1e3,version:"1",has:{CORS:!0,fetchMarkets:!0,fetchOrderBook:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,fetchTrades:!0,fetchTicker:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766880-f205e870-5ee9-11e7-8fe2-0d5b15880752.jpg",api:"https://api.vaultoro.com",www:"https://www.vaultoro.com",doc:"https://api.vaultoro.com"},commonCurrencies:{GLD:"Gold"},api:{public:{get:["bidandask","buyorders","latest","latesttrades","markets","orderbook","sellorders","transactions/day","transactions/hour","transactions/month"]},private:{get:["balance","mytrades","orders"],post:["buy/{symbol}/{type}","cancel/{id}","sell/{symbol}/{type}","withdraw"]}}})}async fetchMarkets(e={}){const t=[],i=await this.publicGetMarkets(e),r=this.safeValue(i,"data"),s=this.safeString(r,"MarketCurrency"),a=this.safeString(r,"BaseCurrency"),n=this.safeCurrencyCode(s),o=this.safeCurrencyCode(a),c=n+"/"+o,d=this.safeString(r,"MarketName");return t.push({id:d,symbol:c,base:n,quote:o,baseId:s,quoteId:a,info:r}),t}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"data"),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"cash"),n.used=this.safeFloat(e,"reserved"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderbook(i),s={bids:r.data[0].b,asks:r.data[1].s};return this.parseOrderBook(s,void 0,"bids","asks","Gold_Price","Gold_Amount")}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"Time"));let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"Gold_Price"),a=this.safeFloat(e,"Gold_Amount");let n=void 0;return void 0!==s&&void 0!==a&&(n=a*s),{id:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=await this.publicGetTransactionsDay(r);return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o="privatePost"+this.capitalize(i)+"SymbolType",c={symbol:n.quoteId.toLowerCase(),type:t,gld:r,price:s||1},d=await this[o](this.extend(c,a));return{info:d,id:d.data.Order_ID}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelId(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/";if("public"===t)n+=e;else{this.checkRequiredCredentials();const t=this.nonce();n+=this.version+"/"+this.implodeParams(e,r);const i=this.extend({nonce:t,apikey:this.apiKey},this.omit(r,this.extractParams(e)));n+="?"+this.urlencode(i),s={"Content-Type":"application/json","X-Signature":this.hmac(this.encode(n),this.encode(this.secret))}}return{url:n,method:i,body:a,headers:s}}}},"1JWd":function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var r=new Uint8Array(16);e.exports=function(){return i(r),r}}else{var s=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},"1hwd":function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var s in r)i.call(r,s)&&(e[s]=r[s])}return e};var i=Object.prototype.hasOwnProperty},"1qNd":function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},"1sp3":function(e,t,i){(function(t,i){!function(){"use strict";var r="object"===typeof window?window:{};!r.JS_SHA3_NO_NODE_JS&&"object"===typeof t&&t.versions&&t.versions.node&&(r=i);for(var s=!r.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,a="0123456789abcdef".split(""),n=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],d=["hex","buffer","arrayBuffer","array"],h=function(e,t,i){return function(r){return new k(e,t,e).update(r)[i]()}},u=function(e,t,i){return function(r,s){return new k(e,t,s).update(r)[i]()}},l=function(e,t){var i=h(e,t,"hex");i.create=function(){return new k(e,t,e)},i.update=function(e){return i.create().update(e)};for(var r=0;r<d.length;++r){var s=d[r];i[s]=h(e,t,s)}return i},f=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:l},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:l},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var i=u(e,t,"hex");i.create=function(i){return new k(e,t,i)},i.update=function(e,t){return i.create(t).update(e)};for(var r=0;r<d.length;++r){var s=d[r];i[s]=u(e,t,s)}return i}}],p={},m=[],y=0;y<f.length;++y)for(var b=f[y],v=b.bits,g=0;g<v.length;++g){var w=b.name+"_"+v[g];m.push(w),p[w]=b.createMethod(v[g],b.padding)}function k(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var r=0;r<50;++r)this.s[r]=0}k.prototype.update=function(e){var t="string"!==typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var i,r,s=e.length,a=this.blocks,o=this.byteCount,c=this.blockCount,d=0,h=this.s;d<s;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<c+1;++i)a[i]=0;if(t)for(i=this.start;d<s&&i<o;++d)a[i>>2]|=e[d]<<n[3&i++];else for(i=this.start;d<s&&i<o;++d)(r=e.charCodeAt(d))<128?a[i>>2]|=r<<n[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<n[3&i++],a[i>>2]|=(128|63&r)<<n[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<n[3&i++],a[i>>2]|=(128|r>>6&63)<<n[3&i++],a[i>>2]|=(128|63&r)<<n[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++d)),a[i>>2]|=(240|r>>18)<<n[3&i++],a[i>>2]|=(128|r>>12&63)<<n[3&i++],a[i>>2]|=(128|r>>6&63)<<n[3&i++],a[i>>2]|=(128|63&r)<<n[3&i++]);if(this.lastByteIndex=i,i>=o){for(this.start=i-o,this.block=a[c],i=0;i<c;++i)h[i]^=a[i];_(h),this.reset=!0}else this.start=i}return this},k.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)r[t]^=e[t];_(r)},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,n=0,o=0,c="";o<r;){for(n=0;n<t&&o<r;++n,++o)e=i[n],c+=a[e>>4&15]+a[15&e]+a[e>>12&15]+a[e>>8&15]+a[e>>20&15]+a[e>>16&15]+a[e>>28&15]+a[e>>24&15];o%t===0&&(_(i),n=0)}return s&&(e=i[n],s>0&&(c+=a[e>>4&15]+a[15&e]),s>1&&(c+=a[e>>12&15]+a[e>>8&15]),s>2&&(c+=a[e>>20&15]+a[e>>16&15])),c},k.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,a=0,n=0,o=this.outputBits>>3;e=s?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);n<r;){for(a=0;a<t&&n<r;++a,++n)c[n]=i[a];n%t===0&&_(i)}return s&&(c[a]=i[a],e=e.slice(0,o)),e},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var e,t,i=this.blockCount,r=this.s,s=this.outputBlocks,a=this.extraBytes,n=0,o=0,c=[];o<s;){for(n=0;n<i&&o<s;++n,++o)e=o<<2,t=r[n],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&_(r)}return a&&(e=o<<2,t=r[n],a>0&&(c[e]=255&t),a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c};var _=function(e){var t,i,r,s,a,n,c,d,h,u,l,f,p,m,y,b,v,g,w,k,_,T,S,x,O,C,M,A,E,I,B,F,P,R,q,L,D,N,U,V,G,j,H,K,z,W,X,Y,Z,J,Q,$,ee,te,ie,re,se,ae,ne,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],n=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(n<<1|c>>>31),i=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|n>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(d<<1|h>>>31),i=a^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=n^(u<<1|l>>>31),i=c^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(s<<1|a>>>31),i=l^(a<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,A=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,q=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,F=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,N=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&g,e[1]=y^~v&w,e[10]=x^~C&A,e[11]=O^~M&E,e[20]=R^~L&N,e[21]=q^~D&U,e[30]=K^~W&Y,e[31]=z^~X&Z,e[40]=te^~re&ae,e[41]=ie^~se&ne,e[2]=b^~g&k,e[3]=v^~w&_,e[12]=C^~A&I,e[13]=M^~E&B,e[22]=L^~N&V,e[23]=D^~U&G,e[32]=W^~Y&J,e[33]=X^~Z&Q,e[42]=re^~ae&oe,e[43]=se^~ne&ce,e[4]=g^~k&T,e[5]=w^~_&S,e[14]=A^~I&F,e[15]=E^~B&P,e[24]=N^~V&j,e[25]=U^~G&H,e[34]=Y^~J&$,e[35]=Z^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~T&m,e[7]=_^~S&y,e[16]=I^~F&x,e[17]=B^~P&O,e[26]=V^~j&R,e[27]=G^~H&q,e[36]=J^~$&K,e[37]=Q^~ee&z,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=T^~m&b,e[9]=S^~y&v,e[18]=F^~x&C,e[19]=P^~O&M,e[28]=j^~R&L,e[29]=H^~q&D,e[38]=$^~K&W,e[39]=ee^~z&X,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=o[r],e[1]^=o[r+1]};if(s)e.exports=p;else for(y=0;y<m.length;++y)r[m[y]]=p[m[y]]}()}).call(this,i("5IsQ"),i("pCvA"))},"1zYm":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("8kJ5");t.MAX_INTEGER=new r("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new r("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=e.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=e.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=e.from(t.KECCAK256_RLP_S,"hex")}).call(this,i("qykS").Buffer)},"2AsB":function(e,t,i){var r=i("pRMk").Buffer;e.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var i=e[5+t];return 0!==i&&(6+t+i===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(i>1&&0===e[t+6]&&!(128&e[t+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var i=e[5+t];if(0===i)throw new Error("S length is zero");if(6+t+i!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(i>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var i=e.length,s=t.length;if(0===i)throw new Error("R length is zero");if(0===s)throw new Error("S length is zero");if(i>33)throw new Error("R length is too long");if(s>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(i>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(s>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var a=r.allocUnsafe(6+i+s);return a[0]=48,a[1]=a.length-2,a[2]=2,a[3]=e.length,e.copy(a,4),a[4+i]=2,a[5+i]=t.length,t.copy(a,6+i),a}}},"2K4m":function(e,t,i){"use strict";const r=i("t5I8");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okcoincny",name:"OKCoin CNY",countries:["CN"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766792-8be9157a-5ee5-11e7-926c-6d69b8d3378d.jpg",api:{web:"https://www.okcoin.cn",public:"https://www.okcoin.cn/api",private:"https://www.okcoin.cn/api"},www:"https://www.okcoin.cn",doc:"https://www.okcoin.cn/rest_getStarted.html",referral:"https://www.okcoin.cn"},markets:{"BTC/CNY":{id:"btc_cny",symbol:"BTC/CNY",base:"BTC",quote:"CNY",type:"spot",spot:!0,future:!1},"LTC/CNY":{id:"ltc_cny",symbol:"LTC/CNY",base:"LTC",quote:"CNY",type:"spot",spot:!0,future:!1},"ETH/CNY":{id:"eth_cny",symbol:"ETH/CNY",base:"ETH",quote:"CNY",type:"spot",spot:!0,future:!1},"ETC/CNY":{id:"etc_cny",symbol:"ETC/CNY",base:"ETC",quote:"CNY",type:"spot",spot:!0,future:!1},"BCH/CNY":{id:"bcc_cny",symbol:"BCH/CNY",base:"BCH",quote:"CNY",type:"spot",spot:!0,future:!1}}})}}},"2Mwr":function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},"2OED":function(e){e.exports=JSON.parse('{"name":"ropsten","chainId":3,"networkId":3,"comment":"PoW test network","url":"https://github.com/ethereum/ropsten","genesis":{"hash":"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d","timestamp":null,"gasLimit":16777216,"difficulty":1048576,"nonce":"0x0000000000000042","extraData":"0x3535353535353535353535353535353535353535353535353535353535353535","stateRoot":"0x217b0bbcfb72e2d57e28f33cb361b9983513177755dc3f33ce3e7022ed62b77b"},"hardforks":[{"name":"chainstart","block":0,"consensus":"pow","finality":null},{"name":"homestead","block":0,"consensus":"pow","finality":null},{"name":"dao","block":null,"consensus":"pow","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"pow","finality":null},{"name":"spuriousDragon","block":10,"consensus":"pow","finality":null},{"name":"byzantium","block":1700000,"consensus":"pow","finality":null},{"name":"constantinople","block":4230000,"consensus":"pow","finality":null},{"name":"petersburg","block":4939394,"consensus":"pow","finality":null},{"name":"istanbul","block":6485846,"consensus":"pow","finality":null},{"name":"muirGlacier","block":7117117,"consensus":"pow","finality":null}],"bootstrapNodes":[{"ip":"52.176.7.10","port":"30303","id":"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606","network":"Ropsten","chainId":3,"location":"US","comment":"US-Azure geth"},{"ip":"52.176.100.77","port":"30303","id":"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c","network":"Ropsten","chainId":3,"location":"US","comment":"US-Azure parity"},{"ip":"52.232.243.152","port":"30303","id":"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f","network":"Ropsten","chainId":3,"location":"US","comment":"Parity"},{"ip":"192.81.208.223","port":"30303","id":"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09","network":"Ropsten","chainId":3,"location":"US","comment":"@gpip"}]}')},"2SZN":function(e,t,i){var r=i("h155");e.exports=function(e,t){return new Promise((function(i,s){r(e,t,(function(e,t){e?s(e):i(t)}))}))}},"2YIc":function(e,t,i){var r=i("uH1V");e.exports={Ber:r,BerReader:r.Reader}},"2aPM":function(e,t,i){var r;!function(s){"use strict";var a,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,c=Math.ceil,d=Math.floor,h="[BigNumber Error] ",u=h+"Number primitive has more than 15 significant digits: ",l=1e14,f=14,p=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,b=1e9;function v(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,i,r=1,s=e.length,a=e[0]+"";r<s;){for(t=e[r++]+"",i=f-t.length;i--;t="0"+t);a+=t}for(s=a.length;48===a.charCodeAt(--s););return a.slice(0,s+1||1)}function w(e,t){var i,r,s=e.c,a=t.c,n=e.s,o=t.s,c=e.e,d=t.e;if(!n||!o)return null;if(i=s&&!s[0],r=a&&!a[0],i||r)return i?r?0:-o:n;if(n!=o)return n;if(i=n<0,r=c==d,!s||!a)return r?0:!s^i?1:-1;if(!r)return c>d^i?1:-1;for(o=(c=s.length)<(d=a.length)?c:d,n=0;n<o;n++)if(s[n]!=a[n])return s[n]>a[n]^i?1:-1;return c==d?0:c>d^i?1:-1}function k(e,t,i,r){if(e<t||e>i||e!==d(e))throw Error(h+(r||"Argument")+("number"==typeof e?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return v(e.e/f)==t&&e.c[t]%2!=0}function T(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function S(e,t,i){var r,s;if(t<0){for(s=i+".";++t;s+=i);e=s+e}else if(++t>(r=e.length)){for(s=i,t-=r;--t;s+=i);e+=s}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(a=function e(t){var i,r,s,a=L.prototype={constructor:L,toString:null,valueOf:null},x=new L(1),O=20,C=4,M=-7,A=21,E=-1e7,I=1e7,B=!1,F=1,P=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz";function L(e,t){var i,a,o,c,h,l,m,y,b=this;if(!(b instanceof L))return new L(e,t);if(null==t){if(e&&!0===e._isBigNumber)return b.s=e.s,void(!e.c||e.e>I?b.c=b.e=null:e.e<E?b.c=[b.e=0]:(b.e=e.e,b.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,h=e;h>=10;h/=10,c++);return void(c>I?b.c=b.e=null:(b.e=c,b.c=[e]))}y=String(e)}else{if(!n.test(y=String(e)))return s(b,y,l);b.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(k(t,2,q.length,"Base"),10==t)return V(b=new L(e),O+b.e+1,C);if(y=String(e),l="number"==typeof e){if(0*e!=0)return s(b,y,l,t);if(b.s=1/e<0?(y=y.slice(1),-1):1,L.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else b.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(i=q.slice(0,t),c=h=0,m=y.length;h<m;h++)if(i.indexOf(a=y.charAt(h))<0){if("."==a){if(h>c){c=m;continue}}else if(!o&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){o=!0,h=-1,c=0;continue}return s(b,String(e),l,t)}l=!1,(c=(y=r(y,t,10,b.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(m=y.length;48===y.charCodeAt(--m););if(y=y.slice(h,++m)){if(m-=h,l&&L.DEBUG&&m>15&&(e>p||e!==d(e)))throw Error(u+b.s*e);if((c=c-h-1)>I)b.c=b.e=null;else if(c<E)b.c=[b.e=0];else{if(b.e=c,b.c=[],h=(c+1)%f,c<0&&(h+=f),h<m){for(h&&b.c.push(+y.slice(0,h)),m-=f;h<m;)b.c.push(+y.slice(h,h+=f));h=f-(y=y.slice(h)).length}else h-=m;for(;h--;y+="0");b.c.push(+y)}}else b.c=[b.e=0]}function D(e,t,i,r){var s,a,n,o,c;if(null==i?i=C:k(i,0,8),!e.c)return e.toString();if(s=e.c[0],n=e.e,null==t)c=g(e.c),c=1==r||2==r&&(n<=M||n>=A)?T(c,n):S(c,n,"0");else if(a=(e=V(new L(e),t,i)).e,o=(c=g(e.c)).length,1==r||2==r&&(t<=a||a<=M)){for(;o<t;c+="0",o++);c=T(c,a)}else if(t-=n,c=S(c,a,"0"),a+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=a-o)>0)for(a+1==o&&(c+=".");t--;c+="0");return e.s<0&&s?"-"+c:c}function N(e,t){for(var i,r=1,s=new L(e[0]);r<e.length;r++){if(!(i=new L(e[r])).s){s=i;break}t.call(s,i)&&(s=i)}return s}function U(e,t,i){for(var r=1,s=t.length;!t[--s];t.pop());for(s=t[0];s>=10;s/=10,r++);return(i=r+i*f-1)>I?e.c=e.e=null:i<E?e.c=[e.e=0]:(e.e=i,e.c=t),e}function V(e,t,i,r){var s,a,n,o,h,u,p,y=e.c,b=m;if(y){e:{for(s=1,o=y[0];o>=10;o/=10,s++);if((a=t-s)<0)a+=f,n=t,p=(h=y[u=0])/b[s-n-1]%10|0;else if((u=c((a+1)/f))>=y.length){if(!r)break e;for(;y.length<=u;y.push(0));h=p=0,s=1,n=(a%=f)-f+1}else{for(h=o=y[u],s=1;o>=10;o/=10,s++);p=(n=(a%=f)-f+s)<0?0:h/b[s-n-1]%10|0}if(r=r||t<0||null!=y[u+1]||(n<0?h:h%b[s-n-1]),r=i<4?(p||r)&&(0==i||i==(e.s<0?3:2)):p>5||5==p&&(4==i||r||6==i&&(a>0?n>0?h/b[s-n]:0:y[u-1])%10&1||i==(e.s<0?8:7)),t<1||!y[0])return y.length=0,r?(t-=e.e+1,y[0]=b[(f-t%f)%f],e.e=-t||0):y[0]=e.e=0,e;if(0==a?(y.length=u,o=1,u--):(y.length=u+1,o=b[f-a],y[u]=n>0?d(h/b[s-n]%b[n])*o:0),r)for(;;){if(0==u){for(a=1,n=y[0];n>=10;n/=10,a++);for(n=y[0]+=o,o=1;n>=10;n/=10,o++);a!=o&&(e.e++,y[0]==l&&(y[0]=1));break}if(y[u]+=o,y[u]!=l)break;y[u--]=0,o=1}for(a=y.length;0===y[--a];y.pop());}e.e>I?e.c=e.e=null:e.e<E&&(e.c=[e.e=0])}return e}function G(e){var t,i=e.e;return null===i?e.toString():(t=g(e.c),t=i<=M||i>=A?T(t,i):S(t,i,"0"),e.s<0?"-"+t:t)}return L.clone=e,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=function(e){var t,i;if(null!=e){if("object"!=typeof e)throw Error(h+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(k(i=e[t],0,b,t),O=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(k(i=e[t],0,8,t),C=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(k(i[0],-b,0,t),k(i[1],0,b,t),M=i[0],A=i[1]):(k(i,-b,b,t),M=-(A=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)k(i[0],-b,-1,t),k(i[1],1,b,t),E=i[0],I=i[1];else{if(k(i,-b,b,t),!i)throw Error(h+t+" cannot be zero: "+i);E=-(I=i<0?-i:i)}if(e.hasOwnProperty(t="CRYPTO")){if((i=e[t])!==!!i)throw Error(h+t+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!i,Error(h+"crypto unavailable");B=i}else B=i}if(e.hasOwnProperty(t="MODULO_MODE")&&(k(i=e[t],0,9,t),F=i),e.hasOwnProperty(t="POW_PRECISION")&&(k(i=e[t],0,b,t),P=i),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(i=e[t]))throw Error(h+t+" not an object: "+i);R=i}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(h+t+" invalid: "+i);q=i}}return{DECIMAL_PLACES:O,ROUNDING_MODE:C,EXPONENTIAL_AT:[M,A],RANGE:[E,I],CRYPTO:B,MODULO_MODE:F,POW_PRECISION:P,FORMAT:R,ALPHABET:q}},L.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!L.DEBUG)return!0;var t,i,r=e.c,s=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===a||-1===a)&&s>=-b&&s<=b&&s===d(s)){if(0===r[0]){if(0===s&&1===r.length)return!0;break e}if((t=(s+1)%f)<1&&(t+=f),String(r[0]).length==t){for(t=0;t<r.length;t++)if((i=r[t])<0||i>=l||i!==d(i))break e;if(0!==i)return!0}}}else if(null===r&&null===s&&(null===a||1===a||-1===a))return!0;throw Error(h+"Invalid BigNumber: "+e)},L.maximum=L.max=function(){return N(arguments,a.lt)},L.minimum=L.min=function(){return N(arguments,a.gt)},L.random=function(){var e=9007199254740992*Math.random()&2097151?function(){return d(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var i,r,s,a,n,o=0,u=[],l=new L(x);if(null==t?t=O:k(t,0,b),a=c(t/f),B)if(crypto.getRandomValues){for(i=crypto.getRandomValues(new Uint32Array(a*=2));o<a;)(n=131072*i[o]+(i[o+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),i[o]=r[0],i[o+1]=r[1]):(u.push(n%1e14),o+=2);o=a/2}else{if(!crypto.randomBytes)throw B=!1,Error(h+"crypto unavailable");for(i=crypto.randomBytes(a*=7);o<a;)(n=281474976710656*(31&i[o])+1099511627776*i[o+1]+4294967296*i[o+2]+16777216*i[o+3]+(i[o+4]<<16)+(i[o+5]<<8)+i[o+6])>=9e15?crypto.randomBytes(7).copy(i,o):(u.push(n%1e14),o+=7);o=a/7}if(!B)for(;o<a;)(n=e())<9e15&&(u[o++]=n%1e14);for(a=u[--o],t%=f,a&&t&&(n=m[f-t],u[o]=d(a/n)*n);0===u[o];u.pop(),o--);if(o<0)u=[s=0];else{for(s=-1;0===u[0];u.splice(0,1),s-=f);for(o=1,n=u[0];n>=10;n/=10,o++);o<f&&(s-=f-o)}return l.e=s,l.c=u,l}}(),L.sum=function(){for(var e=1,t=arguments,i=new L(t[0]);e<t.length;)i=i.plus(t[e++]);return i},r=function(){function e(e,t,i,r){for(var s,a,n=[0],o=0,c=e.length;o<c;){for(a=n.length;a--;n[a]*=t);for(n[0]+=r.indexOf(e.charAt(o++)),s=0;s<n.length;s++)n[s]>i-1&&(null==n[s+1]&&(n[s+1]=0),n[s+1]+=n[s]/i|0,n[s]%=i)}return n.reverse()}return function(t,r,s,a,n){var o,c,d,h,u,l,f,p,m=t.indexOf("."),y=O,b=C;for(m>=0&&(h=P,P=0,t=t.replace(".",""),l=(p=new L(r)).pow(t.length-m),P=h,p.c=e(S(g(l.c),l.e,"0"),10,s,"0123456789"),p.e=p.c.length),d=h=(f=e(t,r,s,n?(o=q,"0123456789"):(o="0123456789",q))).length;0==f[--h];f.pop());if(!f[0])return o.charAt(0);if(m<0?--d:(l.c=f,l.e=d,l.s=a,f=(l=i(l,p,y,b,s)).c,u=l.r,d=l.e),m=f[c=d+y+1],h=s/2,u=u||c<0||null!=f[c+1],u=b<4?(null!=m||u)&&(0==b||b==(l.s<0?3:2)):m>h||m==h&&(4==b||u||6==b&&1&f[c-1]||b==(l.s<0?8:7)),c<1||!f[0])t=u?S(o.charAt(1),-y,o.charAt(0)):o.charAt(0);else{if(f.length=c,u)for(--s;++f[--c]>s;)f[c]=0,c||(++d,f=[1].concat(f));for(h=f.length;!f[--h];);for(m=0,t="";m<=h;t+=o.charAt(f[m++]));t=S(t,d,o.charAt(0))}return t}}(),i=function(){function e(e,t,i){var r,s,a,n,o=0,c=e.length,d=t%y,h=t/y|0;for(e=e.slice();c--;)o=((s=d*(a=e[c]%y)+(r=h*a+(n=e[c]/y|0)*d)%y*y+o)/i|0)+(r/y|0)+h*n,e[c]=s%i;return o&&(e=[o].concat(e)),e}function t(e,t,i,r){var s,a;if(i!=r)a=i>r?1:-1;else for(s=a=0;s<i;s++)if(e[s]!=t[s]){a=e[s]>t[s]?1:-1;break}return a}function i(e,t,i,r){for(var s=0;i--;)e[i]-=s,s=e[i]<t[i]?1:0,e[i]=s*r+e[i]-t[i];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,s,a,n,o){var c,h,u,p,m,y,b,g,w,k,_,T,S,x,O,C,M,A=r.s==s.s?1:-1,E=r.c,I=s.c;if(!E||!E[0]||!I||!I[0])return new L(r.s&&s.s&&(E?!I||E[0]!=I[0]:I)?E&&0==E[0]||!I?0*A:A/0:NaN);for(w=(g=new L(A)).c=[],A=a+(h=r.e-s.e)+1,o||(o=l,h=v(r.e/f)-v(s.e/f),A=A/f|0),u=0;I[u]==(E[u]||0);u++);if(I[u]>(E[u]||0)&&h--,A<0)w.push(1),p=!0;else{for(x=E.length,C=I.length,u=0,A+=2,(m=d(o/(I[0]+1)))>1&&(I=e(I,m,o),E=e(E,m,o),C=I.length,x=E.length),S=C,_=(k=E.slice(0,C)).length;_<C;k[_++]=0);M=I.slice(),M=[0].concat(M),O=I[0],I[1]>=o/2&&O++;do{if(m=0,(c=t(I,k,C,_))<0){if(T=k[0],C!=_&&(T=T*o+(k[1]||0)),(m=d(T/O))>1)for(m>=o&&(m=o-1),b=(y=e(I,m,o)).length,_=k.length;1==t(y,k,b,_);)m--,i(y,C<b?M:I,b,o),b=y.length,c=1;else 0==m&&(c=m=1),b=(y=I.slice()).length;if(b<_&&(y=[0].concat(y)),i(k,y,_,o),_=k.length,-1==c)for(;t(I,k,C,_)<1;)m++,i(k,C<_?M:I,_,o),_=k.length}else 0===c&&(m++,k=[0]);w[u++]=m,k[0]?k[_++]=E[S]||0:(k=[E[S]],_=1)}while((S++<x||null!=k[0])&&A--);p=null!=k[0],w[0]||w.splice(0,1)}if(o==l){for(u=1,A=w[0];A>=10;A/=10,u++);V(g,a+(g.e=u+h*f-1)+1,n,p)}else g.e=h,g.r=+p;return g}}(),s=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,i=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,s=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,n,o,c){var d,u=o?n:n.replace(s,"");if(r.test(u))a.s=isNaN(u)?null:u<0?-1:1;else{if(!o&&(u=u.replace(e,(function(e,t,i){return d="x"==(i=i.toLowerCase())?16:"b"==i?2:8,c&&c!=d?e:t})),c&&(d=c,u=u.replace(t,"$1").replace(i,"0.$1")),n!=u))return new L(u,d);if(L.DEBUG)throw Error(h+"Not a"+(c?" base "+c:"")+" number: "+n);a.s=null}a.c=a.e=null}}(),a.absoluteValue=a.abs=function(){var e=new L(this);return e.s<0&&(e.s=1),e},a.comparedTo=function(e,t){return w(this,new L(e,t))},a.decimalPlaces=a.dp=function(e,t){var i,r,s,a=this;if(null!=e)return k(e,0,b),null==t?t=C:k(t,0,8),V(new L(a),e+a.e+1,t);if(!(i=a.c))return null;if(r=((s=i.length-1)-v(this.e/f))*f,s=i[s])for(;s%10==0;s/=10,r--);return r<0&&(r=0),r},a.dividedBy=a.div=function(e,t){return i(this,new L(e,t),O,C)},a.dividedToIntegerBy=a.idiv=function(e,t){return i(this,new L(e,t),0,1)},a.exponentiatedBy=a.pow=function(e,t){var i,r,s,a,n,o,u,l,p=this;if((e=new L(e)).c&&!e.isInteger())throw Error(h+"Exponent not an integer: "+G(e));if(null!=t&&(t=new L(t)),n=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return l=new L(Math.pow(+G(p),n?2-_(e):+G(e))),t?l.mod(t):l;if(o=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new L(NaN);(r=!o&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||n&&p.c[1]>=24e7:p.c[0]<8e13||n&&p.c[0]<=9999975e7)))return a=p.s<0&&_(e)?-0:0,p.e>-1&&(a=1/a),new L(o?1/a:a);P&&(a=c(P/f+2))}for(n?(i=new L(.5),o&&(e.s=1),u=_(e)):u=(s=Math.abs(+G(e)))%2,l=new L(x);;){if(u){if(!(l=l.times(p)).c)break;a?l.c.length>a&&(l.c.length=a):r&&(l=l.mod(t))}if(s){if(0===(s=d(s/2)))break;u=s%2}else if(V(e=e.times(i),e.e+1,1),e.e>14)u=_(e);else{if(0===(s=+G(e)))break;u=s%2}p=p.times(p),a?p.c&&p.c.length>a&&(p.c.length=a):r&&(p=p.mod(t))}return r?l:(o&&(l=x.div(l)),t?l.mod(t):a?V(l,P,C,void 0):l)},a.integerValue=function(e){var t=new L(this);return null==e?e=C:k(e,0,8),V(t,t.e+1,e)},a.isEqualTo=a.eq=function(e,t){return 0===w(this,new L(e,t))},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(e,t){return w(this,new L(e,t))>0},a.isGreaterThanOrEqualTo=a.gte=function(e,t){return 1===(t=w(this,new L(e,t)))||0===t},a.isInteger=function(){return!!this.c&&v(this.e/f)>this.c.length-2},a.isLessThan=a.lt=function(e,t){return w(this,new L(e,t))<0},a.isLessThanOrEqualTo=a.lte=function(e,t){return-1===(t=w(this,new L(e,t)))||0===t},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&0==this.c[0]},a.minus=function(e,t){var i,r,s,a,n=this,o=n.s;if(t=(e=new L(e,t)).s,!o||!t)return new L(NaN);if(o!=t)return e.s=-t,n.plus(e);var c=n.e/f,d=e.e/f,h=n.c,u=e.c;if(!c||!d){if(!h||!u)return h?(e.s=-t,e):new L(u?n:NaN);if(!h[0]||!u[0])return u[0]?(e.s=-t,e):new L(h[0]?n:3==C?-0:0)}if(c=v(c),d=v(d),h=h.slice(),o=c-d){for((a=o<0)?(o=-o,s=h):(d=c,s=u),s.reverse(),t=o;t--;s.push(0));s.reverse()}else for(r=(a=(o=h.length)<(t=u.length))?o:t,o=t=0;t<r;t++)if(h[t]!=u[t]){a=h[t]<u[t];break}if(a&&(s=h,h=u,u=s,e.s=-e.s),(t=(r=u.length)-(i=h.length))>0)for(;t--;h[i++]=0);for(t=l-1;r>o;){if(h[--r]<u[r]){for(i=r;i&&!h[--i];h[i]=t);--h[i],h[r]+=l}h[r]-=u[r]}for(;0==h[0];h.splice(0,1),--d);return h[0]?U(e,h,d):(e.s=3==C?-1:1,e.c=[e.e=0],e)},a.modulo=a.mod=function(e,t){var r,s,a=this;return e=new L(e,t),!a.c||!e.s||e.c&&!e.c[0]?new L(NaN):!e.c||a.c&&!a.c[0]?new L(a):(9==F?(s=e.s,e.s=1,r=i(a,e,0,3),e.s=s,r.s*=s):r=i(a,e,0,F),(e=a.minus(r.times(e))).c[0]||1!=F||(e.s=a.s),e)},a.multipliedBy=a.times=function(e,t){var i,r,s,a,n,o,c,d,h,u,p,m,b,g,w,k=this,_=k.c,T=(e=new L(e,t)).c;if(!_||!T||!_[0]||!T[0])return!k.s||!e.s||_&&!_[0]&&!T||T&&!T[0]&&!_?e.c=e.e=e.s=null:(e.s*=k.s,_&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=v(k.e/f)+v(e.e/f),e.s*=k.s,(c=_.length)<(u=T.length)&&(b=_,_=T,T=b,s=c,c=u,u=s),s=c+u,b=[];s--;b.push(0));for(g=l,w=y,s=u;--s>=0;){for(i=0,p=T[s]%w,m=T[s]/w|0,a=s+(n=c);a>s;)i=((d=p*(d=_[--n]%w)+(o=m*d+(h=_[n]/w|0)*p)%w*w+b[a]+i)/g|0)+(o/w|0)+m*h,b[a--]=d%g;b[a]=i}return i?++r:b.splice(0,1),U(e,b,r)},a.negated=function(){var e=new L(this);return e.s=-e.s||null,e},a.plus=function(e,t){var i,r=this,s=r.s;if(t=(e=new L(e,t)).s,!s||!t)return new L(NaN);if(s!=t)return e.s=-t,r.minus(e);var a=r.e/f,n=e.e/f,o=r.c,c=e.c;if(!a||!n){if(!o||!c)return new L(s/0);if(!o[0]||!c[0])return c[0]?e:new L(o[0]?r:0*s)}if(a=v(a),n=v(n),o=o.slice(),s=a-n){for(s>0?(n=a,i=c):(s=-s,i=o),i.reverse();s--;i.push(0));i.reverse()}for((s=o.length)-(t=c.length)<0&&(i=c,c=o,o=i,t=s),s=0;t;)s=(o[--t]=o[t]+c[t]+s)/l|0,o[t]=l===o[t]?0:o[t]%l;return s&&(o=[s].concat(o),++n),U(e,o,n)},a.precision=a.sd=function(e,t){var i,r,s,a=this;if(null!=e&&e!==!!e)return k(e,1,b),null==t?t=C:k(t,0,8),V(new L(a),e,t);if(!(i=a.c))return null;if(r=(s=i.length-1)*f+1,s=i[s]){for(;s%10==0;s/=10,r--);for(s=i[0];s>=10;s/=10,r++);}return e&&a.e+1>r&&(r=a.e+1),r},a.shiftedBy=function(e){return k(e,-p,p),this.times("1e"+e)},a.squareRoot=a.sqrt=function(){var e,t,r,s,a,n=this,o=n.c,c=n.s,d=n.e,h=O+4,u=new L("0.5");if(1!==c||!o||!o[0])return new L(!c||c<0&&(!o||o[0])?NaN:o?n:1/0);if(0==(c=Math.sqrt(+G(n)))||c==1/0?(((t=g(o)).length+d)%2==0&&(t+="0"),c=Math.sqrt(+t),d=v((d+1)/2)-(d<0||d%2),r=new L(t=c==1/0?"1e"+d:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+d)):r=new L(c+""),r.c[0])for((c=(d=r.e)+h)<3&&(c=0);;)if(a=r,r=u.times(a.plus(i(n,a,h,1))),g(a.c).slice(0,c)===(t=g(r.c)).slice(0,c)){if(r.e<d&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(s||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(r,r.e+O+2,1),e=!r.times(r).eq(n));break}if(!s&&(V(a,a.e+O+2,0),a.times(a).eq(n))){r=a;break}h+=4,c+=4,s=1}return V(r,r.e+O+1,C,e)},a.toExponential=function(e,t){return null!=e&&(k(e,0,b),e++),D(this,e,t,1)},a.toFixed=function(e,t){return null!=e&&(k(e,0,b),e=e+this.e+1),D(this,e,t)},a.toFormat=function(e,t,i){var r,s=this;if(null==i)null!=e&&t&&"object"==typeof t?(i=t,t=null):e&&"object"==typeof e?(i=e,e=t=null):i=R;else if("object"!=typeof i)throw Error(h+"Argument not an object: "+i);if(r=s.toFixed(e,t),s.c){var a,n=r.split("."),o=+i.groupSize,c=+i.secondaryGroupSize,d=i.groupSeparator||"",u=n[0],l=n[1],f=s.s<0,p=f?u.slice(1):u,m=p.length;if(c&&(a=o,o=c,c=a,m-=a),o>0&&m>0){for(a=m%o||o,u=p.substr(0,a);a<m;a+=o)u+=d+p.substr(a,o);c>0&&(u+=d+p.slice(a)),f&&(u="-"+u)}r=l?u+(i.decimalSeparator||"")+((c=+i.fractionGroupSize)?l.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):l):u}return(i.prefix||"")+r+(i.suffix||"")},a.toFraction=function(e){var t,r,s,a,n,o,c,d,u,l,p,y,b=this,v=b.c;if(null!=e&&(!(c=new L(e)).isInteger()&&(c.c||1!==c.s)||c.lt(x)))throw Error(h+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+G(c));if(!v)return new L(b);for(t=new L(x),u=r=new L(x),s=d=new L(x),y=g(v),n=t.e=y.length-b.e-1,t.c[0]=m[(o=n%f)<0?f+o:o],e=!e||c.comparedTo(t)>0?n>0?t:u:c,o=I,I=1/0,c=new L(y),d.c[0]=0;l=i(c,t,0,1),1!=(a=r.plus(l.times(s))).comparedTo(e);)r=s,s=a,u=d.plus(l.times(a=u)),d=a,t=c.minus(l.times(a=t)),c=a;return a=i(e.minus(r),s,0,1),d=d.plus(a.times(u)),r=r.plus(a.times(s)),d.s=u.s=b.s,p=i(u,s,n*=2,C).minus(b).abs().comparedTo(i(d,r,n,C).minus(b).abs())<1?[u,s]:[d,r],I=o,p},a.toNumber=function(){return+G(this)},a.toPrecision=function(e,t){return null!=e&&k(e,1,b),D(this,e,t,2)},a.toString=function(e){var t,i=this,s=i.s,a=i.e;return null===a?s?(t="Infinity",s<0&&(t="-"+t)):t="NaN":(null==e?t=a<=M||a>=A?T(g(i.c),a):S(g(i.c),a,"0"):10===e?t=S(g((i=V(new L(i),O+a+1,C)).c),i.e,"0"):(k(e,2,q.length,"Base"),t=r(S(g(i.c),a,"0"),10,e,s,!0)),s<0&&i.c[0]&&(t="-"+t)),t},a.valueOf=a.toJSON=function(){return G(this)},a._isBigNumber=!0,o&&(a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf),null!=t&&L.set(t),L}()).default=a.BigNumber=a,void 0===(r=function(){return a}.call(t,i,t,e))||(e.exports=r)}()},"2jjz":function(e,t,i){"use strict";(function(e,r){var s=i("ZERR"),a=i("jt4p"),n=i("M2pJ"),o=i("Fre1"),c=i("C92A");for(var d in c)t[d]=c[d];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function h(e){if("number"!==typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?n.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||o.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},h.prototype.write=function(e,t,i,r,s,a,n){return this._write(!0,e,t,i,r,s,a,n)},h.prototype.writeSync=function(e,t,i,r,s,a,n){return this._write(!1,e,t,i,r,s,a,n)},h.prototype._write=function(i,a,n,o,c,d,h,u){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==t.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==n&&(n=e.alloc(0),c=0,o=0),this.strm.avail_in=c,this.strm.input=n,this.strm.next_in=o,this.strm.avail_out=u,this.strm.output=d,this.strm.next_out=h,this.flush=a,!i)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return r.nextTick((function(){l._process(),l._after()})),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,i,r,a,n){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(e>=8&&e<=15,"invalid windowBits"),s(i>=-1&&i<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(i,e,r,a,n),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,i,r,s,c){switch(this.level=e,this.windowBits=i,this.memLevel=r,this.strategy=s,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=n.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=n.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=n.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=h}).call(this,i("qykS").Buffer,i("5IsQ"))},"2ozp":function(e,t,i){var r=i("wfEq"),s=i("KSsY"),a=i("pRMk").Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,s.call(this,128,112)}function d(e,t,i){return i^e&(t^i)}function h(e,t,i){return e&t|i&(e|t)}function u(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}r(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,s=0|this._ch,a=0|this._dh,o=0|this._eh,c=0|this._fh,v=0|this._gh,g=0|this._hh,w=0|this._al,k=0|this._bl,_=0|this._cl,T=0|this._dl,S=0|this._el,x=0|this._fl,O=0|this._gl,C=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var A=t[M-30],E=t[M-30+1],I=f(A,E),B=p(E,A),F=m(A=t[M-4],E=t[M-4+1]),P=y(E,A),R=t[M-14],q=t[M-14+1],L=t[M-32],D=t[M-32+1],N=B+q|0,U=I+R+b(N,B)|0;U=(U=U+F+b(N=N+P|0,P)|0)+L+b(N=N+D|0,D)|0,t[M]=U,t[M+1]=N}for(var V=0;V<160;V+=2){U=t[V],N=t[V+1];var G=h(i,r,s),j=h(w,k,_),H=u(i,w),K=u(w,i),z=l(o,S),W=l(S,o),X=n[V],Y=n[V+1],Z=d(o,c,v),J=d(S,x,O),Q=C+W|0,$=g+z+b(Q,C)|0;$=($=($=$+Z+b(Q=Q+J|0,J)|0)+X+b(Q=Q+Y|0,Y)|0)+U+b(Q=Q+N|0,N)|0;var ee=K+j|0,te=H+G+b(ee,K)|0;g=v,C=O,v=c,O=x,c=o,x=S,o=a+$+b(S=T+Q|0,T)|0,a=s,T=_,s=r,_=k,r=i,k=w,i=$+te+b(w=Q+ee|0,Q)|0}this._al=this._al+w|0,this._bl=this._bl+k|0,this._cl=this._cl+_|0,this._dl=this._dl+T|0,this._el=this._el+S|0,this._fl=this._fl+x|0,this._gl=this._gl+O|0,this._hl=this._hl+C|0,this._ah=this._ah+i+b(this._al,w)|0,this._bh=this._bh+r+b(this._bl,k)|0,this._ch=this._ch+s+b(this._cl,_)|0,this._dh=this._dh+a+b(this._dl,T)|0,this._eh=this._eh+o+b(this._el,S)|0,this._fh=this._fh+c+b(this._fl,x)|0,this._gh=this._gh+v+b(this._gl,O)|0,this._hh=this._hh+g+b(this._hl,C)|0},c.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},"3Icy":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,BadRequest:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zaif",name:"Zaif",countries:["JP"],rateLimit:2e3,version:"1",has:{CORS:!1,createMarketOrder:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766927-39ca2ada-5eeb-11e7-972f-1b4199518ca6.jpg",api:"https://api.zaif.jp",www:"https://zaif.jp",doc:["https://techbureau-api-document.readthedocs.io/ja/latest/index.html","https://corp.zaif.jp/api-docs","https://corp.zaif.jp/api-docs/api_links","https://www.npmjs.com/package/zaif.jp","https://github.com/you21979/node-zaif"],fees:"https://zaif.jp/fee?lang=en"},fees:{trading:{percentage:!0,taker:.001,maker:0}},api:{public:{get:["depth/{pair}","currencies/{pair}","currencies/all","currency_pairs/{pair}","currency_pairs/all","last_price/{pair}","ticker/{pair}","trades/{pair}"]},private:{post:["active_orders","cancel_order","deposit_history","get_id_info","get_info","get_info2","get_personal_info","trade","trade_history","withdraw","withdraw_history"]},ecapi:{post:["createInvoice","getInvoice","getInvoiceIdsByOrderNumber","cancelInvoice"]},tlapi:{post:["get_positions","position_history","active_positions","create_position","change_position","cancel_position"]},fapi:{get:["groups/{group_id}","last_price/{group_id}/{pair}","ticker/{group_id}/{pair}","trades/{group_id}/{pair}","depth/{group_id}/{pair}"]}},options:{fees:{"BTC/JPY":{maker:0,taker:0},"BCH/JPY":{maker:0,taker:.003},"BCH/BTC":{maker:0,taker:.003},"PEPECASH/JPY":{maker:0,taker:1e-4},"PEPECASH/BT":{maker:0,taker:1e-4}}},exceptions:{exact:{"unsupported currency_pair":a},broad:{}}})}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsAll(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_pair"),a=this.safeString(e,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:-Math.log10(e.item_unit_step),price:e.aux_unit_point},l=this.safeValue(this.options.fees,h,this.fees.trading),f=l.taker,p=l.maker;i.push({id:s,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:u,taker:f,maker:p,limits:{amount:{min:this.safeFloat(e,"item_unit_min"),max:void 0},price:{min:this.safeFloat(e,"aux_unit_min"),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r={info:t},s=this.safeValue(i,"funds",{}),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),o=this.safeValue(s,e),c={free:o,used:0,total:o};"deposit"in i&&e in i.deposit&&(c.total=this.safeFloat(i.deposit,e),c.used=c.total-c.free),r[t]=c}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetDepthPair(this.extend(r,i));return this.parseOrderBook(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.milliseconds(),a=this.safeFloat(r,"vwap"),n=this.safeFloat(r,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeFloat(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:a,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:r}}parseTrade(e,t){let i=this.safeString(e,"trade_type");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"date"),s=this.safeString2(e,"id","tid"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;if(void 0!==a&&void 0!==n&&(o=n*a),void 0===t){const i=this.safeString(e,"currency_pair");i in this.markets_by_id&&(t=this.markets_by_id[i])}let c=void 0;return void 0!==t&&(c=t.symbol),{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:c,type:void 0,side:i,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};let n=await this.publicGetTradesPair(this.extend(a,r));if(1===n.length){const e=n[0];Object.keys(e).length||(n=[])}return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={currency_pair:this.marketId(e),action:"buy"===i?"bid":"ask",amount:r,price:a},c=await this.privatePostTrade(this.extend(o,n));return{info:c,id:c.return.order_id.toString()}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrder(e,t){let i=this.safeString(e,"action");i="bid"===i?"buy":"sell";const r=this.safeTimestamp(e,"timestamp");if(!t){const i=this.safeString(e,"currency_pair");i in this.markets_by_id&&(t=this.markets_by_id[i])}const s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);const o=this.safeString(e,"id");let c=void 0;return void 0!==t&&(c=t.symbol),{id:o,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:"open",symbol:c,type:"limit",side:i,price:s,cost:n,amount:a,filled:void 0,remaining:void 0,trades:void 0,fee:void 0}}parseOrders(e,t,i,r,s={}){const a=[],n=Object.keys(e);let o=void 0;void 0!==t&&(o=t.symbol);for(let c=0;c<n.length;c++){const i=n[c],r=this.extend({id:i},e[i]);a.push(this.extend(this.parseOrder(r,t),s))}return this.filterBySymbolSinceLimit(a,o,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.currency_pair=s.id);const n=await this.privatePostActiveOrders(this.extend(a,r));return this.parseOrders(n.return,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.currency_pair=s.id);const n=await this.privatePostTradeHistory(this.extend(a,r));return this.parseOrders(n.return,s,t,i)}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if("JPY"===e)throw new s(this.id+" withdraw() does not allow "+e+" withdrawals");const o={currency:n.id,amount:t,address:i};void 0!==r&&(o.message=r);const c=await this.privatePostWithdraw(this.extend(o,a));return{info:c,id:c.return.txid,fee:c.return.fee}}nonce(){return parseFloat(this.milliseconds()/1e3).toFixed(8)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/";if("public"===t)n+="api/"+this.version+"/"+this.implodeParams(e,r);else if("fapi"===t)n+="fapi/"+this.version+"/"+this.implodeParams(e,r);else{this.checkRequiredCredentials(),n+="ecapi"===t?"ecapi":"tlapi"===t?"tlapi":"tapi";const i=this.nonce();a=this.urlencode(this.extend({method:e,nonce:i},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.id+" "+n,u=this.safeString(o,"error");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions.exact,u,h),this.throwBroadlyMatchedException(this.exceptions.broad,u,h),new s(h);if(!this.safeValue(o,"success",!0))throw new s(h)}}},"3MSx":function(e,t,i){var r=i("LER9"),s=i("bPso"),a=i("+oaW"),n=i("CsW6"),o=i("F1mQ"),c=i("8kJ5"),d=i("HfSF"),h=i("5Wkw"),u=i("pRMk").Buffer;e.exports=function(e,t,i){var l;l=e.padding?e.padding:i?1:4;var f,p=r(e);if(4===l)f=function(e,t){var i=e.modulus.byteLength(),r=t.length,d=a("sha1").update(u.alloc(0)).digest(),h=d.length,l=2*h;if(r>i-l-2)throw new Error("message too long");var f=u.alloc(i-r-l-2),p=i-h-1,m=s(h),y=o(u.concat([d,f,u.alloc(1,1),t],p),n(m,p)),b=o(m,n(y,h));return new c(u.concat([u.alloc(1),b,y],i))}(p,t);else if(1===l)f=function(e,t,i){var r,a=t.length,n=e.modulus.byteLength();if(a>n-11)throw new Error("message too long");r=i?u.alloc(n-a-3,255):function(e){var t,i=u.allocUnsafe(e),r=0,a=s(2*e),n=0;for(;r<e;)n===a.length&&(a=s(2*e),n=0),(t=a[n++])&&(i[r++]=t);return i}(n-a-3);return new c(u.concat([u.from([0,i?1:2]),r,u.alloc(1),t],n))}(p,t,i);else{if(3!==l)throw new Error("unknown padding");if((f=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return i?h(f,p):d(f,p)}},"3NQs":function(e,t,i){"use strict";var r=t;r.inherits=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e},r.version="6.5.0",r.utils=i("Y/HJ"),r.curve=i("LE+o"),r.curves=i("9kyK"),r.ec=i("IjNm")},"3QcU":function(e,t,i){"use strict";const r=i("OjXq"),{AccountSuspended:s,BadRequest:a,BadResponse:n,NetworkError:o,DDoSProtection:c,AuthenticationError:d,PermissionDenied:h,ArgumentsRequired:u,ExchangeError:l,InsufficientFunds:f,InvalidOrder:p,InvalidNonce:m,OrderNotFound:y}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"digifinex",name:"DigiFinex",countries:["SG"],version:"v3",rateLimit:900,has:{cancelOrders:!0,fetchOrders:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchMyTrades:!0,fetchLedger:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D","1w":"1W"},urls:{logo:"https://user-images.githubusercontent.com/1294454/62184319-304e8880-b366-11e9-99fe-8011d6929195.jpg",api:"https://openapi.digifinex.vip",www:"https://www.digifinex.vip",doc:["https://docs.digifinex.vip"],fees:"https://digifinex.zendesk.com/hc/en-us/articles/360000328482-Fee-Structure-on-DigiFinex",referral:"https://www.digifinex.vip/en-ww/from/DhOzBg/3798****5114"},api:{v2:{get:["ticker"]},public:{get:["{market}/symbols","kline","margin/currencies","margin/symbols","markets","order_book","ping","spot/symbols","time","trades"]},private:{get:["{market}/financelog","{market}/mytrades","{market}/order","{market}/order/current","{market}/order/history","margin/assets","margin/financelog","margin/mytrades","margin/order","margin/order/current","margin/order/history","margin/positions","otc/financelog","spot/assets","spot/financelog","spot/mytrades","spot/order","spot/order/current","spot/order/history"],post:["{market}/order/cancel","{market}/order/new","margin/order/cancel","margin/order/new","margin/position/close","spot/order/cancel","spot/order/new","transfer"]}},exceptions:{exact:{10001:[a,"Wrong request method, please check it's a GET ot POST request"],10002:[d,"Invalid ApiKey"],10003:[d,"Sign doesn't match"],10004:[a,"Illegal request parameters"],10005:[c,"Request frequency exceeds the limit"],10006:[h,"Unauthorized to execute this request"],10007:[h,"IP address Unauthorized"],10008:[m,"Timestamp for this request is invalid, timestamp must within 1 minute"],10009:[o,"Unexist endpoint, please check endpoint URL"],10011:[s,"ApiKey expired. Please go to client side to re-create an ApiKey"],20001:[h,"Trade is not open for this trading pair"],20002:[h,"Trade of this trading pair is suspended"],20003:[p,"Invalid price or amount"],20007:[p,"Price precision error"],20008:[p,"Amount precision error"],20009:[p,"Amount is less than the minimum requirement"],20010:[p,"Cash Amount is less than the minimum requirement"],20011:[f,"Insufficient balance"],20012:[a,"Invalid trade type, valid value: buy/sell)"],20013:[p,"No order info found"],20014:[a,"Invalid date, Valid format: 2018-07-25)"],20015:[a,"Date exceeds the limit"],20018:[h,"Your trading rights have been banned by the system"],20019:[a,'Wrong trading pair symbol. Correct format:"usdt_btc". Quote asset is in the front'],20020:[c,"You have violated the API operation trading rules and temporarily forbid trading. At present, we have certain restrictions on the user's transaction rate and withdrawal rate."],5e4:[l,"Exception error"]},broad:{}},options:{defaultType:"spot",types:["spot","margin","otc"]}})}async fetchMarketsByType(e,t={}){const i="publicGet"+this.capitalize(e)+"Symbols",r=await this[i](t),s=this.safeValue(r,"symbols_list",[]),a=[];for(let n=0;n<s.length;n++){const t=s[n],i=this.safeString(t,"symbol"),r=this.safeString(t,"base_asset"),o=this.safeString(t,"quote_asset"),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(t,"amount_precision"),price:this.safeInteger(t,"price_precision")},l={amount:{min:this.safeFloat(t,"minimum_amount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(t,"minimum_value"),max:void 0}},f=void 0,p="spot"===e,m="margin"===e;a.push({id:i,symbol:h,base:c,quote:d,baseId:r,quoteId:o,active:f,type:e,spot:p,margin:m,precision:u,limits:l,info:t})}return a}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"market"),[a,n]=t.split("_"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeInteger(e,"volume_precision"),price:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeFloat(e,"min_volume"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(e,"min_amount"),max:void 0}},l=void 0;r.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:l,precision:h,limits:u,info:e})}return r}async fetchBalance(e={}){const t=this.safeString(this.options,"defaultType","spot"),i=this.safeString(e,"type",t);e=this.omit(e,"type");const r="privateGet"+this.capitalize(i)+"Assets",s=await this[r](e),a=this.safeValue(s,"list",[]),n={info:s};for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r.used=this.safeFloat(e,"frozen"),r.free=this.safeFloat(e,"free"),r.total=this.safeFloat(e,"total"),n[i]=r}return this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeTimestamp(s,"date");return this.parseOrderBook(s,a)}async fetchTickers(e,t={}){const i=this.safeValue(t,"apiKey",this.apiKey);if(!i)throw new u(this.id+" fetchTicker is a private v2 endpoint that requires an `exchange.apiKey` credential or an `apiKey` extra parameter");await this.loadMarkets();const r={apiKey:i},s=await this.v2GetTicker(this.extend(r,t)),a={},n=this.safeValue(s,"ticker",{}),o=this.safeInteger(s,"date"),c=Object.keys(n);for(let d=0;d<c.length;d++){const e=c[d],t=this.extend({date:o},n[e]),[i,r]=e.split("_"),s=r+"_"+i;let h=void 0,u=void 0;if(s in this.markets_by_id)h=this.markets_by_id[s],u=h.symbol;else{u=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(i)}a[u]=this.parseTicker(t,h)}return a}async fetchTicker(e,t={}){const i=this.safeValue(t,"apiKey",this.apiKey);if(!i)throw new u(this.id+" fetchTicker is a private v2 endpoint that requires an `exchange.apiKey` credential or an `apiKey` extra parameter");await this.loadMarkets();const r=this.market(e),s=r.quoteId+"_"+r.baseId,a={symbol:s,apiKey:i},n=await this.v2GetTicker(this.extend(a,t)),o=this.safeInteger(n,"date"),c=this.safeValue(n,"ticker",{});let d=this.safeValue(c,s,{});return d=this.extend({date:o},d),this.parseTicker(d,r)}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeTimestamp(e,"date"),s=this.safeFloat(e,"last"),a=this.safeFloat(e,"change");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:a,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"base_vol"),info:e}}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_id"),s=this.safeTimestamp2(e,"date","timestamp"),a=this.safeString2(e,"type","side"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;void 0!==n&&void 0!==o&&(c=n*o);let d=void 0;const h=this.safeString(e,"symbol");if(void 0!==h)if(h in this.markets_by_id)d=(t=this.markets_by_id[t]).symbol;else{const[e,t]=h.split("_");d=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===d&&void 0!==t&&(d=t.symbol);const u=this.safeValue(e,"is_maker"),l=this.safeFloat(e,"fee");let f=void 0;if(void 0!==l){const t=this.safeString(e,"fee_currency");f={cost:l,currency:this.safeCurrencyCode(t)}}return{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:d,type:void 0,order:r,side:a,price:n,amount:o,cost:c,takerOrMaker:u,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[5],e[3],e[4],e[2],e[1]]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};if(void 0!==i){const e=parseInt(i/1e3);if(n.start_time=e,void 0!==r){const i=this.parseTimeframe(t);n.end_time=this.sum(e,r*i)}}else if(void 0!==r){const e=this.seconds(),i=this.parseTimeframe(t);n.startTime=this.sum(e,-r*i)}const o=await this.publicGetKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.safeString(this.options,"defaultType","spot"),c=this.safeString(a,"type",o);a=this.omit(a,"type");const d={market:c,symbol:n.id,amount:this.amountToPrecision(e,r)};let h="";"market"===t?h="_market":d.price=this.priceToPrecision(e,s),d.type=i+h;const u=await this.privatePostMarketOrderNew(this.extend(d,a)),l=this.parseOrder(u,n);return this.extend(l,{symbol:e,side:i,type:t,amount:r,price:s})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const a={market:s,order_id:e},n=await this.privatePostMarketOrderCancel(this.extend(a,i));if(1!==this.safeValue(n,"success",[]).length)throw new y(this.id+" cancelOrder "+e+" not found");return n}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type");const a={market:s,order_id:e.join(",")},n=await this.privatePostCancelOrder(this.extend(a,i));if(this.safeValue(n,"success",[]).length<1)throw new y(this.id+" cancelOrders error");return n}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeTimestamp(e,"created_date"),s=this.safeTimestamp(e,"finished_date");let a=this.safeString(e,"type"),n=void 0;if(void 0!==a){const e=a.split("_");e.length>1?(a=e[0],n=e[1]):n="limit"}const o=this.parseOrderStatus(this.safeString(e,"status"));if(void 0===t){const i=e.symbol.toUpperCase();i in this.markets_by_id&&(t=this.markets_by_id[i])}let c=void 0;const d=this.safeString(e,"symbol");if(void 0!==d)if(d in this.markets_by_id)c=(t=this.markets_by_id[d]).symbol;else{const[e,t]=d.split("_");c=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}const h=this.safeFloat(e,"amount"),u=this.safeFloat(e,"executed_amount"),l=this.safeFloat(e,"price"),f=this.safeFloat(e,"avg_price");let p=void 0,m=void 0;return void 0!==u&&(void 0!==f&&(m=u*f),void 0!==h&&(p=Math.max(0,h-u))),{info:e,id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:c,type:n,side:a,price:l,amount:h,filled:u,remaining:p,cost:m,average:f,status:o,fee:void 0}}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id);const c=await this.privateGetMarketOrderCurrent(this.extend(o,r)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,n,t,i)}async fetchOrders(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id),void 0!==t&&(o.start_time=parseInt(t/1e3)),void 0!==i&&(o.limit=i);const c=await this.privateGetMarketOrderHistory(this.extend(o,r)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,n,t,i)}async fetchOrder(e,t,i={}){const r=this.safeString(this.options,"defaultType","spot"),s=this.safeString(i,"type",r);i=this.omit(i,"type"),await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={market:s,order_id:e},o=await this.privateGetMarketOrder(this.extend(n,i)),c=this.safeValue(o,"data",{});return this.parseOrder(c,a)}async fetchMyTrades(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();let n=void 0;const o={market:a};void 0!==e&&(n=this.market(e),o.symbol=n.id),void 0!==t&&(o.start_time=parseInt(t/1e3)),void 0!==i&&(o.limit=i);const c=await this.privateGetMarketMytrades(this.extend(o,r)),d=this.safeValue(c,"list",[]);return this.parseTrades(d,n,t,i)}parseLedgerEntryType(e){return this.safeString({},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"num"),r=this.parseLedgerEntryType(this.safeString(e,"type")),s=this.safeCurrencyCode(this.safeString(e,"currency_mark"),t),a=this.safeTimestamp(e,"time");return{info:e,id:i,direction:void 0,account:void 0,referenceId:void 0,referenceAccount:void 0,type:r,currency:s,amount:void 0,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:a,datetime:this.iso8601(a),fee:void 0}}async fetchLedger(e,t,i,r={}){const s=this.safeString(this.options,"defaultType","spot"),a=this.safeString(r,"type",s);r=this.omit(r,"type"),await this.loadMarkets();const n={market:a};let o=void 0;void 0!==e&&(o=this.currency(e),n.currency_mark=o.id),void 0!==t&&(n.start_time=parseInt(t/1e3)),void 0!==i&&(n.limit=i);const c=await this.privateGetMarketFinancelog(this.extend(n,r)),d=this.safeValue(c,"data",{}),h=this.safeValue(d,"finance",[]);return this.parseLedger(h,o,t,i)}sign(e,t="public",i="GET",r={},s,a){const n="v2"===t?t:this.version;let o=this.urls.api+"/"+n+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e)),d=this.urlencode(this.keysort(c));if("private"===t){const e=this.nonce().toString(),t=d,r=this.hmac(this.encode(t),this.encode(this.secret));"GET"===i?d&&(o+="?"+d):"POST"===i&&(s={"Content-Type":"application/x-www-form-urlencoded"},d&&(a=d)),s={"ACCESS-KEY":this.apiKey,"ACCESS-SIGN":r,"ACCESS-TIMESTAMP":e}}else d&&(o+="?"+d);return{url:o,method:i,body:a,headers:s}}dateUTC8(e){const t=this.safeValue(this.options,"timedelta",288e5);return this.ymd(e+t)}handleErrors(e,t,i,r,s,a,o,c,d){if(!o)return;const h=this.safeString(o,"code");if("0"===h)return;const u=this.id+" "+a;if(void 0===h)throw new n(u);const f=[l,u],[p,m]=this.safeValue(this.exceptions.exact,h,f);throw new p(m)}}},"3SwJ":function(e,t,i){e.exports=i("zH8T")().Promise},"3Wkq":function(e,t,i){(function(t){var r=i("8kJ5"),s=new(i("y9a5")),a=new r(24),n=new r(11),o=new r(10),c=new r(3),d=new r(7),h=i("cyIN"),u=i("bPso");function l(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new r(e),this}function f(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,i){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=l,this.setPrivateKey=f):this._primeCode=8}function y(e,i){var r=new t(e.toArray());return i?r.toString(i):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in p)return p[r];var u,l=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!s.test(e))return l+=1,l+="02"===i||"05"===i?8:4,p[r]=l,l;switch(s.test(e.shrn(1))||(l+=2),i){case"02":e.mod(a).cmp(n)&&(l+=8);break;case"05":(u=e.mod(o)).cmp(c)&&u.cmp(d)&&(l+=8);break;default:l+=4}return p[r]=l,l}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var i=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),s=new t(i.toArray()),a=this.getPrime();if(s.length<a.length){var n=new t(a.length-s.length);n.fill(0),s=t.concat([n,s])}return s},m.prototype.getPublicKey=function(e){return y(this._pub,e)},m.prototype.getPrivateKey=function(e){return y(this._priv,e)},m.prototype.getPrime=function(e){return y(this.__prime,e)},m.prototype.getGenerator=function(e){return y(this._gen,e)},m.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new r(e),this}}).call(this,i("qykS").Buffer)},"3mKH":function(e,t,i){(function(e,r,s){var a=i("eoLT"),n=i("wfEq"),o=i("5Ekh"),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d=t.IncomingMessage=function(t,i,n,c){var d=this;if(o.Readable.call(d),d._mode=n,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",(function(){e.nextTick((function(){d.emit("close")}))})),"fetch"===n){if(d._fetchResponse=i,d.url=i.url,d.statusCode=i.status,d.statusMessage=i.statusText,i.headers.forEach((function(e,t){d.headers[t.toLowerCase()]=e,d.rawHeaders.push(t,e)})),a.writableStream){var h=new WritableStream({write:function(e){return new Promise((function(t,i){d._destroyed?i():d.push(new r(e))?t():d._resumeFetch=t}))},close:function(){s.clearTimeout(c),d._destroyed||d.push(null)},abort:function(e){d._destroyed||d.emit("error",e)}});try{return void i.body.pipeTo(h).catch((function(e){s.clearTimeout(c),d._destroyed||d.emit("error",e)}))}catch(p){}}var u=i.body.getReader();!function e(){u.read().then((function(t){if(!d._destroyed){if(t.done)return s.clearTimeout(c),void d.push(null);d.push(new r(t.value)),e()}})).catch((function(e){s.clearTimeout(c),d._destroyed||d.emit("error",e)}))}()}else{if(d._xhr=t,d._pos=0,d.url=t.responseURL,d.statusCode=t.status,d.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var i=t[1].toLowerCase();"set-cookie"===i?(void 0===d.headers[i]&&(d.headers[i]=[]),d.headers[i].push(t[2])):void 0!==d.headers[i]?d.headers[i]+=", "+t[2]:d.headers[i]=t[2],d.rawHeaders.push(t[1],t[2])}})),d._charset="x-user-defined",!a.overrideMimeType){var l=d.rawHeaders["mime-type"];if(l){var f=l.match(/;\s*charset=([^;])(;|$)/);f&&(d._charset=f[1].toLowerCase())}d._charset||(d._charset="utf-8")}}};n(d,o.Readable),d.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},d.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{i=new s.VBArray(t.responseBody).toArray()}catch(h){}if(null!==i){e.push(new r(i));break}case"text":try{i=t.responseText}catch(h){e._mode="text:vbarray";break}if(i.length>e._pos){var a=i.substr(e._pos);if("x-user-defined"===e._charset){for(var n=new r(a.length),o=0;o<a.length;o++)n[o]=255&a.charCodeAt(o);e.push(n)}else e.push(a,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;i=t.response,e.push(new r(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==c.LOADING||!i)break;e.push(new r(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==c.LOADING)break;var d=new s.MSStreamReader;d.onprogress=function(){d.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(d.result.slice(e._pos)))),e._pos=d.result.byteLength)},d.onload=function(){e.push(null)},d.readAsArrayBuffer(i)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,i("5IsQ"),i("qykS").Buffer,i("pCvA"))},"3qw6":function(e,t){e.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},4:function(e,t){},"4+3C":function(e,t,i){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},r=0;r<t.length;r++)i[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return i},s=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var r=arguments,a=r.length,n=String(e).replace(s,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return e}})),c=r[i];i<a;c=r[++i])m(c)||!w(c)?n+=" "+c:n+=" "+o(c);return n},t.deprecate=function(i,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return i;if("undefined"===typeof e)return function(){return t.deprecate(i,r).apply(this,arguments)};var s=!1;return function(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}};var a,n={};function o(e,i){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(i)?r.showHidden=i:i&&t._extend(r,i),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),h(r,e,r.depth)}function c(e,t){var i=o.styles[t];return i?"\x1b["+o.colors[i][0]+"m"+e+"\x1b["+o.colors[i][1]+"m":e}function d(e,t){return e}function h(e,i,r){if(e.customInspect&&i&&T(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(r,e);return b(s)||(s=h(e,s,r)),s}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,i);if(a)return a;var n=Object.keys(i),o=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(n);if(e.showHidden&&(n=Object.getOwnPropertyNames(i)),_(i)&&(n.indexOf("message")>=0||n.indexOf("description")>=0))return u(i);if(0===n.length){if(T(i)){var c=i.name?": "+i.name:"";return e.stylize("[Function"+c+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(k(i))return e.stylize(Date.prototype.toString.call(i),"date");if(_(i))return u(i)}var d,w="",S=!1,x=["{","}"];(f(i)&&(S=!0,x=["[","]"]),T(i))&&(w=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(w=" "+RegExp.prototype.toString.call(i)),k(i)&&(w=" "+Date.prototype.toUTCString.call(i)),_(i)&&(w=" "+u(i)),0!==n.length||S&&0!=i.length?r<0?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),d=S?function(e,t,i,r,s){for(var a=[],n=0,o=t.length;n<o;++n)M(t,String(n))?a.push(l(e,t,i,r,String(n),!0)):a.push("");return s.forEach((function(s){s.match(/^\d+$/)||a.push(l(e,t,i,r,s,!0))})),a}(e,i,r,o,n):n.map((function(t){return l(e,i,r,o,t,S)})),e.seen.pop(),function(e,t,i){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(d,w,x)):x[0]+w+x[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,i,r,s,a){var n,o,c;if((c=Object.getOwnPropertyDescriptor(t,s)||{value:t[s]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),M(r,s)||(n="["+s+"]"),o||(e.seen.indexOf(c.value)<0?(o=m(i)?h(e,c.value,null):h(e,c.value,i-1)).indexOf("\n")>-1&&(o=a?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),v(n)){if(a&&s.match(/^\d+$/))return o;(n=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=e.stylize(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=e.stylize(n,"string"))}return n+": "+o}function f(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function y(e){return"number"===typeof e}function b(e){return"string"===typeof e}function v(e){return void 0===e}function g(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"===typeof e&&null!==e}function k(e){return w(e)&&"[object Date]"===S(e)}function _(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function T(e){return"function"===typeof e}function S(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(v(a)&&(a=e.env.NODE_DEBUG||""),i=i.toUpperCase(),!n[i])if(new RegExp("\\b"+i+"\\b","i").test(a)){var r=e.pid;n[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,r,e)}}else n[i]=function(){};return n[i]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=b,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=v,t.isRegExp=g,t.isObject=w,t.isDate=k,t.isError=_,t.isFunction=T,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=i("EwJK");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=i("r4FO"),t._extend=function(e,t){if(!t||!w(t))return e;for(var i=Object.keys(t),r=i.length;r--;)e[i[r]]=t[i[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function E(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!==typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,r=new Promise((function(e,r){t=e,i=r})),s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);s.push((function(e,r){e?i(e):t(r)}));try{e.apply(this,s)}catch(n){i(n)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],r=0;r<arguments.length;r++)i.push(arguments[r]);var s=i.pop();if("function"!==typeof s)throw new TypeError("The last argument must be of type Function");var a=this,n=function(){return s.apply(a,arguments)};t.apply(this,i).then((function(t){e.nextTick(n,null,t)}),(function(t){e.nextTick(E,t,n)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,r(t)),i}}).call(this,i("5IsQ"))},"45vN":function(e,t,i){var r=t;r.Reporter=i("E9s0").Reporter,r.DecoderBuffer=i("Imh/").DecoderBuffer,r.EncoderBuffer=i("Imh/").EncoderBuffer,r.Node=i("soaT")},"48B7":function(e,t,i){"use strict";var r=i("fOyB"),s=i("8kJ5"),a=i("wfEq"),n=i("7ZyU"),o=r.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,n.call(this,"edwards",e),this.a=new s(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function d(e,t,i,r,a){n.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(t,16),this.y=new s(i,16),this.z=r?new s(r,16):this.curve.one,this.t=a&&new s(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,n),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},c.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),a=this.one.redSub(this.c2.redMul(this.d).redMul(i)),n=r.redMul(a.redInvm()),o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.c2),a=i.redMul(this.d).redMul(this.c2).redSub(this.a),n=r.redMul(a.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(s)},a(d,n.BasePoint),c.prototype.pointFromJSON=function(e){return d.fromJSON(this,e)},c.prototype.point=function(e,t,i,r){return new d(this,e,t,i,r)},d.fromJSON=function(e,t){return new d(e,t[0],t[1],t[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},d.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),n=a.redSub(i),o=r.redSub(t),c=s.redMul(n),d=a.redMul(o),h=s.redMul(o),u=n.redMul(a);return this.curve.point(c,d,u,h)},d.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var n=(d=this.curve._mulA(s)).redAdd(a);if(this.zOne)e=r.redSub(s).redSub(a).redMul(n.redSub(this.curve.two)),t=n.redMul(d.redSub(a)),i=n.redSqr().redSub(n).redSub(n);else{var o=this.z.redSqr(),c=n.redSub(o).redISub(o);e=r.redSub(s).redISub(a).redMul(c),t=n.redMul(d.redSub(a)),i=n.redMul(c)}}else{var d=s.redAdd(a);o=this.curve._mulC(this.z).redSqr(),c=d.redSub(o).redSub(o);e=this.curve._mulC(r.redISub(d)).redMul(c),t=this.curve._mulC(d).redMul(s.redISub(a)),i=d.redMul(c)}return this.curve.point(e,t,i)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(t),n=s.redSub(r),o=s.redAdd(r),c=i.redAdd(t),d=a.redMul(n),h=o.redMul(c),u=a.redMul(c),l=n.redMul(o);return this.curve.point(d,h,l,u)},d.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),s=r.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(n),c=s.redSub(o),d=s.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),u=r.redMul(c).redMul(h);return this.curve.twisted?(t=r.redMul(d).redMul(n.redSub(this.curve._mulA(a))),i=c.redMul(d)):(t=r.redMul(d).redMul(n.redSub(a)),i=this.curve._mulC(c).redMul(d)),this.curve.point(u,t,i)},d.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},d.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},d.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},d.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},"4kqU":function(e,t,i){"use strict";e.exports=i("z1Oi")(i("Yrgj"))},5:function(e,t){},"5+rW":function(e,t,i){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(s){}if(1===e.length)return e;t=t||1;var i=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(i),a(r))}function n(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(r),i=1;i<t.length;i++)t=(e=a(t,i).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var i={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=s.exec(e);r;){try{i[r[0]]=decodeURIComponent(r[0])}catch(t){var a=n(r[0]);a!==r[0]&&(i[r[0]]=a)}r=s.exec(e)}i["%C2"]="\ufffd";for(var o=Object.keys(i),c=0;c<o.length;c++){var d=o[c];e=e.replace(new RegExp(d,"g"),i[d])}return e}(e)}}},"5EA2":function(e){e.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},"5Ekh":function(e,t,i){(t=e.exports=i("B0Cl")).Stream=t,t.Readable=t,t.Writable=i("g+31"),t.Duplex=i("A/eZ"),t.Transform=i("+t3Y"),t.PassThrough=i("OLMR")},"5Kmp":function(e,t,i){"use strict";const r=i("mZ7+"),{ExchangeError:s,NotSupported:a,InsufficientFunds:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex2",name:"Bitfinex",countries:["VG"],version:"v2",certified:!1,has:{CORS:!0,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchDepositAddress:!1,fetchClosedOrders:!1,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!1,fetchOrder:!0,fetchTickers:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v1:"https://api.bitfinex.com",public:"https://api-pub.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",doc:["https://docs.bitfinex.com/v2/docs/","https://github.com/bitfinexcom/bitfinex-api-node"],fees:"https://www.bitfinex.com/fees"},api:{v1:{get:["symbols","symbols_details"]},public:{get:["conf/pub:map:currency:label","platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"],post:["calc/trade/avg","calc/fx"]},private:{post:["auth/r/wallets","auth/r/orders/{symbol}","auth/r/orders/{symbol}/new","auth/r/orders/{symbol}/hist","auth/r/order/{symbol}:{id}/trades","auth/w/order/submit","auth/r/trades/hist","auth/r/trades/{symbol}/hist","auth/r/positions","auth/r/positions/hist","auth/r/positions/audit","auth/r/funding/offers/{symbol}","auth/r/funding/offers/{symbol}/hist","auth/r/funding/loans/{symbol}","auth/r/funding/loans/{symbol}/hist","auth/r/funding/credits/{symbol}","auth/r/funding/credits/{symbol}/hist","auth/r/funding/trades/{symbol}/hist","auth/r/info/margin/{key}","auth/r/info/funding/{key}","auth/r/ledgers/hist","auth/r/movements/hist","auth/r/movements/{currency}/hist","auth/r/stats/perf:{timeframe}/hist","auth/r/alerts","auth/w/alert/set","auth/w/alert/{type}:{symbol}:{price}/del","auth/calc/order/avail","auth/r/ledgers/{symbol}/hist","auth/r/settings","auth/w/settings/set","auth/w/settings/del","auth/r/info/user"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{BTC:4e-4,BCH:1e-4,ETH:.00135,EOS:0,LTC:.001,OMG:.15097,IOT:0,NEO:0,ETC:.01,XRP:.02,ETP:.01,ZEC:.001,BTG:0,DASH:.01,XMR:1e-4,QTM:.01,EDO:.23687,DAT:9.8858,AVT:1.1251,SAN:.35977,USDT:5,SPK:16.971,BAT:1.1209,GNT:2.8789,SNT:9.0848,QASH:1.726,YYW:7.9464}}},options:{precision:"R0",orderTypes:{MARKET:void 0,"EXCHANGE MARKET":"market",LIMIT:void 0,"EXCHANGE LIMIT":"limit",STOP:void 0,"EXCHANGE STOP":"stopOrLoss","TRAILING STOP":void 0,"EXCHANGE TRAILING STOP":void 0,FOK:void 0,"EXCHANGE FOK":"limit FOK","STOP LIMIT":void 0,"EXCHANGE STOP LIMIT":"limit stop",IOC:void 0,"EXCHANGE IOC":"limit ioc"},fiat:{USD:"USD",EUR:"EUR",JPY:"JPY",GBP:"GBP"}}})}isFiat(e){return e in this.options.fiat}getCurrencyId(e){return"f"+e}async fetchMarkets(e={}){const t=await this.v1GetSymbolsDetails(e),i=[];for(let r=0;r<t.length;r++){const e=t[r];let s=this.safeString(e,"pair");s=s.toUpperCase();let a=void 0,n=void 0;if(s.indexOf(":")>=0){const e=s.split(":");a=e[0],n=e[1]}else a=s.slice(0,3),n=s.slice(3,6);const o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c;s="t"+s,a=this.getCurrencyId(a),n=this.getCurrencyId(n);const h={price:this.safeInteger(e,"price_precision"),amount:this.safeInteger(e,"price_precision")},u={amount:{min:this.safeFloat(e,"minimum_order_size"),max:this.safeFloat(e,"maximum_order_size")},price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)}};u.cost={min:u.amount.min*u.price.min,max:void 0},i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:!0,precision:h,limits:u,info:e,swap:!1,spot:!1,futures:!1})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostAuthRWallets(e),i=this.safeString(e,"type","exchange"),r={info:t};for(let s=0;s<t.length;s++){const e=t[s],a=e[0];let n=e[1];const o=e[2],c=e[4];if(a===i){"t"===n[0]&&(n=n.slice(1));const e=this.safeCurrencyCode(n),t=this.account();t.total=o,c?(t.free=c,t.used=t.total-t.free):0===c?(t.free=0,t.used=o):t.free=o,r[e]=t}}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.safeValue(this.options,"precision","R0"),s={symbol:this.marketId(e),precision:r};void 0!==t&&(s.len=t);const a=this.extend(s,i),n=await this.publicGetBookSymbolPrecision(a),o=this.milliseconds(),c={bids:[],asks:[],timestamp:o,datetime:this.iso8601(o),nonce:void 0},d="R0"===a.precision?1:0;for(let h=0;h<n.length;h++){const e=n[h],t=e[d],i=Math.abs(e[2]);c[e[2]>0?"bids":"asks"].push([t,i])}return c.bids=this.sortBy(c.bids,0,!0),c.asks=this.sortBy(c.asks,0),c}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=e.length,a=e[s-4];return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:e[s-2],low:e[s-1],bid:e[s-10],bidVolume:void 0,ask:e[s-8],askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:e[s-6],percentage:100*e[s-5],average:void 0,baseVolume:e[s-3],quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.symbols=t.join(",")}else i.symbols="ALL";const r=await this.publicGetTickers(this.extend(i,t)),s={};for(let a=0;a<r.length;a++){const e=r[a],t=e[0];if(t in this.markets_by_id){const i=this.markets_by_id[t];s[i.symbol]=this.parseTicker(e,i)}}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=e.length>5,r=e[0].toString();let s=e[i?4:2],a=void 0;const n=e[i?5:3];let o=void 0,c=void 0,d=void 0,h=void 0,u=void 0,l=void 0;const f=e[i?2:1];if(i){const i=e[1];void 0!==i&&(l=i in this.markets_by_id?(t=this.markets_by_id[i]).symbol:i),c=e[3].toString(),d=1===e[8]?"maker":"taker";const r=e[9],s=this.safeCurrencyCode(e[10]);void 0!==r&&(u={cost:Math.abs(r),currency:s});const a=e[6];h=this.safeString(this.options.orderTypes,a)}return void 0===l&&void 0!==t&&(l=t.symbol),void 0!==s&&(o=s<0?"sell":"buy",s=Math.abs(s),void 0===a&&void 0!==n&&(a=s*n)),{id:r,timestamp:f,datetime:this.iso8601(f),symbol:l,order:c,side:o,type:h,takerOrMaker:d,price:n,amount:s,cost:a,fee:u,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let a="-1";const n={symbol:s.id};void 0!==t&&(n.start=t,a="1"),void 0!==i&&(n.limit=i),n.sort=a;const o=await this.publicGetTradesSymbolHist(this.extend(n,r)),c=this.sortBy(o,1);return this.parseTrades(c,s,void 0,i)}async fetchOHLCV(e,t="1m",i,r=100,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=100),void 0===i&&(i=this.milliseconds()-this.parseTimeframe(t)*r*1e3);const n={symbol:a.id,timeframe:this.timeframes[t],sort:1,start:i,limit:r},o=await this.publicGetCandlesTradeTimeframeSymbolHist(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async createOrder(e,t,i,r,s,n={}){throw new a(this.id+" createOrder not implemented yet")}cancelOrder(e,t,i={}){throw new a(this.id+" cancelOrder not implemented yet")}async fetchOrder(e,t,i={}){throw new a(this.id+" fetchOrder not implemented yet")}async fetchDepositAddress(e,t={}){throw new a(this.id+" fetchDepositAddress() not implemented yet.")}async withdraw(e,t,i,r,s={}){throw new a(this.id+" withdraw not implemented yet")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={end:this.milliseconds()};void 0!==t&&(a.start=t),void 0!==i&&(a.limit=i);let n="privatePostAuthRTradesHist";void 0!==e&&(s=this.market(e),a.symbol=s.id,n="privatePostAuthRTradesSymbolHist");const o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));n="v1"===t?t+n:this.version+n;let c=this.urls.api[t]+"/"+n;if("public"===t&&Object.keys(o).length&&(c+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t="/api/"+n+e+(a=this.json(o)),i=this.hmac(this.encode(t),this.encode(this.secret),"sha384");s={"bfx-nonce":e,"bfx-apikey":this.apiKey,"bfx-signature":i,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,o){const c=await this.fetch2(e,t,i,r,a,o);if(c){if("message"in c){if(c.message.indexOf("not enough exchange balance")>=0)throw new n(this.id+" "+this.json(c));throw new s(this.id+" "+this.json(c))}return c}if(""===c)throw new s(this.id+" returned empty response");return c}}},"5Wkw":function(e,t,i){(function(t){var r=i("8kJ5"),s=i("bPso");function a(e,i){var s=function(e){var t=n(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(i),a=i.modulus.byteLength(),o=(r.mont(i.modulus),new r(e).mul(s.blinder).umod(i.modulus)),c=o.toRed(r.mont(i.prime1)),d=o.toRed(r.mont(i.prime2)),h=i.coefficient,u=i.prime1,l=i.prime2,f=c.redPow(i.exponent1),p=d.redPow(i.exponent2);f=f.fromRed(),p=p.fromRed();var m=f.isub(p).imul(h).umod(u);return m.imul(l),p.iadd(m),new t(p.imul(s.unblinder).umod(i.modulus).toArray(!1,a))}function n(e){for(var t=e.modulus.byteLength(),i=new r(s(t));i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2);)i=new r(s(t));return i}e.exports=a,a.getr=n}).call(this,i("qykS").Buffer)},"5wZK":function(e,t,i){var r=t;r.der=i("LpNI"),r.pem=i("wQuK")},6:function(e,t){},"65qu":function(e){e.exports=JSON.parse('{"name":"spuriousDragon","comment":"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit","eip":{"url":"https://eips.ethereum.org/EIPS/eip-607","status":"Final"},"gasConfig":{},"gasPrices":{"expByte":{"v":50,"d":"Times ceil(log256(exponent)) for the EXP instruction"}},"vm":{"maxCodeSize":{"v":24576,"d":"Maximum length of contract code"}},"pow":{},"casper":{},"sharding":{}}')},"6IP2":function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,InsufficientFunds:n,OrderNotFound:o,InvalidOrder:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hitbtc",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"1",has:{CORS:!1,fetchTrades:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:"https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv1.md",fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["{symbol}/orderbook","{symbol}/ticker","{symbol}/trades","{symbol}/trades/recent","symbols","ticker","time"]},trading:{get:["balance","orders/active","orders/recent","order","trades/by/order","trades"],post:["new_order","cancel_order","cancel_orders"]},payment:{get:["balance","address/{currency}","transactions","transactions/{transaction}"],post:["transfer_to_trading","transfer_to_main","address/{currency}","payout"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.07/100,taker:.07/100},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00215,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMP:9,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,"DAO.Casino":124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTM:40,BTX:.04,BUS:.004,CCT:115,CDT:100,CDX:30,CFI:61,CLD:.88,CND:574,CNX:.04,COSS:65,CSNO:16,CTR:15,CTX:146,CVC:8.46,DBIX:.0168,DCN:12e4,DCT:.02,DDF:342,DENT:6240,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,ELE:.00172,ELM:.004,EMC:.03,EMGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GNO:.0034,GUP:4,GVT:1.2,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:5913,ITS:15.0012,IXT:11,KBR:143,KICK:112,LA:41,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RVT:14,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STEEM:.01,STRAT:.01,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TKR:84,TNT:90,TRST:1.6,TRX:1395,UET:480,UGT:15,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:6e-4,ETH:.003,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,"DAO.Casino":0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},commonCurrencies:{BET:"DAO.Casino",CAT:"BitClave",CPT:"Cryptaur",DRK:"DASH",EMGO:"MGO",GET:"Themis",HSR:"HC",LNC:"LinkerCoin",UNC:"Unigame",USD:"USDT",XBT:"BTC"},exceptions:{exact:{2001:s},broad:{}},options:{defaultTimeInForce:"FOK"}})}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=this.safeValue(t,"symbols"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),a=this.safeString(e,"commodity"),n=this.safeString(e,"currency"),o=this.safeFloat(e,"lot"),c=this.safeFloat(e,"step"),d=this.safeCurrencyCode(a),h=this.safeCurrencyCode(n),u=d+"/"+h;r.push({info:e,id:t,symbol:u,base:d,quote:h,baseId:a,quoteId:n,lot:o,step:c,active:!0,maker:this.safeFloat(e,"provideLiquidityRate"),taker:this.safeFloat(e,"takeLiquidityRate"),precision:{amount:this.precisionFromString(e.lot),price:this.precisionFromString(e.step)},limits:{amount:{min:o,max:void 0},price:{min:c,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();let t=this.safeString(e,"type","trading");t+="GetBalance";const i=this.omit(e,"type"),r=await this[t](i),s=this.safeValue(r,"balance",[]),a={info:r};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"currency_code"),i=this.safeCurrencyCode(t),r=this.account();r.free=this.safeFloat2(e,"cash","balance"),r.used=this.safeFloat(e,"reserved"),a[i]=r}return this.parseBalance(a)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetSymbolOrderbook(this.extend({symbol:this.marketId(e)},i));return this.parseOrderBook(r)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volume_quote"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.markets_by_id[e],n=t.symbol,o=i[e];s[n]=this.parseTicker(o,t)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetSymbolTicker(this.extend(r,t));if("message"in s)throw new a(this.id+" "+s.message);return this.parseTicker(s,i)}parseTrade(e,t){return Array.isArray(e)?this.parsePublicTrade(e,t):this.parseOrderTrade(e,t)}parsePublicTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);let r=void 0;e.length>4&&(r=e[4]);const s=parseFloat(e[1]),a=parseFloat(e[2]),n=s*a;return{info:e,id:e[0].toString(),timestamp:e[3],datetime:this.iso8601(e[3]),symbol:i,type:void 0,side:r,order:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}parseOrderTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);let r=this.safeFloat(e,"execQuantity");t&&(r*=t.lot);const s=this.safeFloat(e,"execPrice"),a=s*r,n={cost:this.safeFloat(e,"fee"),currency:void 0,rate:void 0},o=this.safeInteger(e,"timestamp"),c=this.safeString(e,"tradeId"),d=this.safeString(e,"clientOrderId"),h=this.safeString(e,"side");return{info:e,id:c,order:d,timestamp:o,datetime:this.iso8601(o),symbol:i,type:void 0,side:h,price:s,amount:r,cost:a,fee:n}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.by="ts",a.from=t),void 0!==i&&(a.max_results=i);const n=await this.publicGetSymbolTrades(this.extend(a,r));return this.parseTrades(n.trades,s,t,i)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),d=parseFloat(r)/o.lot,h=Math.round(d),u=d-h;if(Math.abs(u)>o.step)throw new a(this.id+" order amount should be evenly divisible by lot unit size of "+o.lot.toString());const l={clientOrderId:this.milliseconds().toString(),symbol:o.id,side:i,quantity:h.toString(),type:t};"limit"===t?l.price=this.priceToPrecision(e,s):l.timeInForce=this.options.defaultTimeInForce;const f=await this.tradingPostNewOrder(this.extend(l,n)),p=this.parseOrder(f.ExecutionReport,o);if("rejected"===p.status)throw new c(this.id+" order was rejected by the exchange "+this.json(p));return p}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e};return await this.tradingPostCancelOrder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({new:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",rejected:"rejected",expired:"expired"},e)}parseOrder(e,t){let i=this.safeInteger(e,"lastTimestamp");void 0===i&&(i=this.safeInteger(e,"timestamp"));let r=void 0;void 0===t&&(t=this.markets_by_id[e.symbol]);const s=this.parseOrderStatus(this.safeString(e,"orderStatus"));let a=this.safeFloat(e,"orderPrice");a=this.safeFloat(e,"price",a),a=this.safeFloat(e,"avgPrice",a);let n=this.safeFloat(e,"orderQuantity");n=this.safeFloat(e,"quantity",n);let o=this.safeFloat(e,"quantityLeaves");o=this.safeFloat(e,"leavesQuantity",o);let c=void 0,d=void 0;const h=void 0!==n,u=void 0!==o;if(void 0!==t)r=t.symbol,h&&(n*=t.lot),u&&(o*=t.lot);else{const i=this.safeString(e,"symbol");i in this.markets_by_id&&(t=this.markets_by_id[i])}h&&u&&(c=n-o,void 0!==a&&(d=a*c));const l=this.safeFloat(e,"fee");let f=void 0;void 0!==t&&(r=t.symbol,f=t.quote);const p={cost:l,currency:f,rate:void 0},m=this.safeString(e,"clientOrderId"),y=this.safeString(e,"type"),b=this.safeString(e,"side");return{id:m,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:s,symbol:r,type:y,side:b,price:a,cost:d,amount:n,filled:c,remaining:o,fee:p}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.tradingGetOrder(this.extend(r,i));if(s.orders[0])return this.parseOrder(s.orders[0]);throw new o(this.id+" fetchOrder() error: "+this.response)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={sort:"desc",statuses:["new","partiallyFiiled"].join(",")};void 0!==e&&(s=this.market(e),a.symbols=s.id);const n=await this.tradingGetOrdersActive(this.extend(a,r));return this.parseOrders(n.orders,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={sort:"desc",statuses:["filled","canceled","rejected","expired"].join(","),max_results:1e3};void 0!==e&&(s=this.market(e),a.symbols=s.id);const n=await this.tradingGetOrdersRecent(this.extend(a,r));return this.parseOrders(n.orders,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={clientOrderId:e},o=await this.tradingGetTradesByOrder(this.extend(n,s));return this.parseTrades(o.trades,a,i,r)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency_code:this.currency(e).id,amount:t,address:i};void 0!==r&&(a.extra_id=r);const n=await this.paymentPostPayout(this.extend(a,s));return{info:n,id:n.transaction}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+t+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e={nonce:this.nonce(),apikey:this.apiKey};o=this.extend(e,o),n+="GET"===i?"?"+this.urlencode(o):"?"+this.urlencode(e);let t=n;"POST"===i&&Object.keys(o).length&&(t+=a=this.urlencode(o)),s={"Content-Type":"application/x-www-form-urlencoded","X-Signature":this.hmac(this.encode(t),this.encode(this.secret),"sha512").toLowerCase()}}return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},s,o){const c=await this.fetch2(e,t,i,r,s,o);if("code"in c){if("ExecutionReport"in c&&"orderExceedsLimit"===c.ExecutionReport.orderRejectReason)throw new n(this.id+" "+this.json(c));throw new a(this.id+" "+this.json(c))}return c}handleErrors(e,t,i,r,s,n,o,c,d){if(!o)return;const h=this.safeValue(o,"error");if(h){const e=this.safeValue(h,"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,h,t),new a(t)}}}},"6MVH":function(e,t,i){"use strict";var r=t;r.version=i("cEa6").version,r.utils=i("fOyB"),r.rand=i("Wxe8"),r.curve=i("aAq9"),r.curves=i("cFST"),r.ec=i("t6uJ"),r.eddsa=i("dLON")},"6kI6":function(e,t,i){"use strict";const r=i("OjXq"),{AuthenticationError:s,ExchangeError:a,ExchangeNotAvailable:n,InvalidOrder:o,OrderNotFound:c,InsufficientFunds:d,ArgumentsRequired:h,BadSymbol:u,BadRequest:l,RequestTimeout:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobipro",name:"Huobi Pro",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v1",accounts:void 0,accountsById:void 0,hostname:"api.huobi.pro",has:{CORS:!1,fetchTickers:!0,fetchDepositAddress:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTradingLimits:!0,fetchMyTrades:!0,withdraw:!0,fetchCurrencies:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","1w":"1week","1M":"1mon","1y":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766569-15aa7b9a-5edd-11e7-9e7f-44791f4ee49c.jpg",api:{market:"https://{hostname}",public:"https://{hostname}",private:"https://{hostname}",zendesk:"https://huobiglobal.zendesk.com/hc/en-us/articles"},www:"https://www.huobi.pro",referral:"https://www.huobi.co/en-us/topic/invited/?invite_code=rwrd3",doc:"https://huobiapi.github.io/docs/spot/v1/cn/",fees:"https://www.huobi.pro/about/fee/"},api:{zendesk:{get:["360000400491-Trade-Limits"]},market:{get:["history/kline","detail/merged","depth","trade","history/trade","detail","tickers"]},public:{get:["common/symbols","common/currencys","common/timestamp","common/exchange","settings/currencys"]},private:{get:["account/accounts","account/accounts/{id}/balance","account/accounts/{sub-uid}","account/history","cross-margin/loan-info","fee/fee-rate/get","order/openOrders","order/orders","order/orders/{id}","order/orders/{id}/matchresults","order/orders/getClientOrder","order/history","order/matchresults","dw/withdraw-virtual/addresses","query/deposit-withdraw","margin/loan-orders","margin/accounts/balance","points/actions","points/orders","subuser/aggregate-balance","stable-coin/exchange_rate","stable-coin/quote"],post:["futures/transfer","order/batch-orders","order/orders/place","order/orders/submitCancelClientOrder","order/orders/batchCancelOpenOrders","order/orders","order/orders/{id}/place","order/orders/{id}/submitcancel","order/orders/batchcancel","dw/balance/transfer","dw/withdraw/api/create","dw/withdraw-virtual/create","dw/withdraw-virtual/{id}/place","dw/withdraw-virtual/{id}/cancel","dw/transfer-in/margin","dw/transfer-out/margin","margin/orders","margin/orders/{id}/repay","stable-coin/exchange","subuser/transfer"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{timeout:f,"gateway-internal-error":n,"account-frozen-balance-insufficient-error":d,"invalid-amount":o,"order-limitorder-amount-min-error":o,"order-marketorder-amount-min-error":o,"order-limitorder-price-min-error":o,"order-limitorder-price-max-error":o,"order-orderstate-error":c,"order-queryorder-invalid":c,"order-update-error":n,"api-signature-check-failed":s,"api-signature-not-valid":s,"base-record-invalid":c,"invalid symbol":u,"invalid-parameter":l,"base-symbol-trade-disabled":u}},options:{fetchOrdersByStatesMethod:"private_get_order_orders",fetchOpenOrdersMethod:"fetch_open_orders_v1",createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"publicGetCommonSymbols",fetchBalanceMethod:"privateGetAccountAccountsIdBalance",createOrderMethod:"privatePostOrderOrdersPlace",language:"en-US"},commonCurrencies:{GET:"Themis",HOT:"Hydro Protocol"}})}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.publicGetCommonExchange(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,limits:{amount:{min:this.safeFloat(e,"limit-order-must-greater-than"),max:this.safeFloat(e,"limit-order-must-less-than")}}}}async fetchMarkets(e={}){const t=this.options.fetchMarketsMethod,i=await this[t](e),r=this.safeValue(i,"data");if(r.length<1)throw new a(this.id+" publicGetCommonSymbols returned empty response: "+this.json(r));const s=[];for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"base-currency"),i=this.safeString(e,"quote-currency"),n=t+i,o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(i),d=o+"/"+c,h={amount:e["amount-precision"],price:e["price-precision"]},u="OMG"===o?0:.002,l="OMG"===o?0:.002,f=this.safeFloat(e,"min-order-amt",Math.pow(10,-h.amount)),p=this.safeFloat(e,"max-order-amt"),m=this.safeFloat(e,"min-order-value",0),y="online"===this.safeString(e,"state");s.push({id:n,symbol:d,base:o,quote:c,baseId:t,quoteId:i,active:y,precision:h,taker:l,maker:u,limits:{amount:{min:f,max:p},price:{min:Math.pow(10,-h.price),max:void 0},cost:{min:m,max:void 0}},info:e})}return s}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"ts");let s=void 0,a=void 0,n=void 0,o=void 0;"bid"in e&&Array.isArray(e.bid)&&(s=this.safeFloat(e.bid,0),n=this.safeFloat(e.bid,1)),"ask"in e&&Array.isArray(e.ask)&&(a=this.safeFloat(e.ask,0),o=this.safeFloat(e.ask,1));const c=this.safeFloat(e,"open"),d=this.safeFloat(e,"close");let h=void 0,u=void 0,l=void 0;void 0!==c&&void 0!==d&&(h=d-c,l=this.sum(c,d)/2,void 0!==d&&d>0&&(u=h/c*100));const f=this.safeFloat(e,"amount"),p=this.safeFloat(e,"vol");let m=void 0;return void 0!==f&&void 0!==p&&f>0&&(m=p/f),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:s,bidVolume:n,ask:a,askVolume:o,vwap:m,open:c,close:d,last:d,previousClose:void 0,change:h,percentage:u,average:l,baseVolume:f,quoteVolume:p,info:e}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id,type:"step0"},s=await this.marketGetDepth(this.extend(r,i));if("tick"in s){if(!s.tick)throw new a(this.id+" fetchOrderBook() returned empty response: "+this.json(s));const e=this.safeValue(s,"tick"),t=this.parseOrderBook(e,e.ts);return t.nonce=e.version,t}throw new a(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s))}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetDetailMerged(this.extend(r,t));return this.parseTicker(s.tick,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t),r=this.safeValue(i,"data"),s=this.safeInteger(i,"ts"),a={};for(let n=0;n<r.length;n++){const e=this.safeString(r[n],"symbol"),t=this.safeValue(this.markets_by_id,e);let i=e;if(void 0!==t){i=t.symbol;const e=this.parseTicker(r[n],t);e.timestamp=s,e.datetime=this.iso8601(s),a[i]=e}}return a}parseTrade(e,t){let i=void 0;if(void 0===t){const i=this.safeString(e,"symbol");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t.symbol);const r=this.safeInteger2(e,"ts","created-at"),s=this.safeString(e,"order-id");let a=this.safeString(e,"direction"),n=this.safeString(e,"type");if(void 0!==n){const e=n.split("-");a=e[0],n=e[1]}const o=this.safeString(e,"role"),c=this.safeFloat(e,"price"),d=this.safeFloat2(e,"filled-amount","amount");let h=void 0;void 0!==c&&void 0!==d&&(h=d*c);let u=void 0,l=this.safeFloat(e,"filled-fees"),f=void 0;void 0!==t&&(f="buy"===a?t.base:t.quote);const p=this.safeFloat(e,"filled-points");return void 0!==p&&(void 0!==l&&0!==l||(l=p,f=this.safeCurrencyCode(this.safeString(e,"fee-deduct-currency")))),void 0!==l&&(u={cost:l,currency:f}),{id:this.safeString(e,"id"),info:e,order:s,timestamp:r,datetime:this.iso8601(r),symbol:i,type:n,side:a,takerOrMaker:o,price:c,amount:d,cost:h,fee:u}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.size=i),void 0!==t&&(a["start-date"]=this.ymd(t));const n=await this.privateGetOrderMatchresults(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchTrades(e,t,i=1e3,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.size=i);const n=await this.marketGetHistoryTrade(this.extend(a,r)),o=this.safeValue(n,"data");let c=[];for(let d=0;d<o.length;d++){const e=this.safeValue(o[d],"data",[]);for(let t=0;t<e.length;t++){const i=this.parseTrade(e[t],s);c.push(i)}}return c=this.sortBy(c,"timestamp"),this.filterBySymbolSinceLimit(c,e,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.safeTimestamp(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"amount")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};void 0!==r&&(n.size=r);const o=await this.marketGetHistoryKline(this.extend(n,s));return this.parseOHLCVs(o.data,a,t,i,r)}async fetchAccounts(e={}){return await this.loadMarkets(),(await this.privateGetAccountAccounts(e)).data}async fetchCurrencies(e={}){const t={language:this.options.language},i=await this.publicGetSettingsCurrencys(this.extend(t,e)),r=this.safeValue(i,"data"),s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeValue(e,"name"),i=this.safeInteger(e,"withdraw-precision"),n=this.safeCurrencyCode(t),o=e.visible&&e["deposit-enabled"]&&e["withdraw-enabled"],c=this.safeString(e,"display-name");s[n]={id:t,code:n,type:"crypto",name:c,active:o,fee:void 0,precision:i,limits:{amount:{min:Math.pow(10,-i),max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(e,"deposit-min-amount"),max:Math.pow(10,i)},withdraw:{min:this.safeFloat(e,"withdraw-min-amount"),max:Math.pow(10,i)}},info:e}}return s}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=this.options.fetchBalanceMethod,i={id:this.accounts[0].id},r=await this[t](this.extend(i,e)),s=this.safeValue(r.data,"list",[]),a={info:r};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t);let r=void 0;r=i in a?a[i]:this.account(),"trade"===e.type&&(r.free=this.safeFloat(e,"balance")),"frozen"===e.type&&(r.used=this.safeFloat(e,"balance")),a[i]=r}return this.parseBalance(a)}async fetchOrdersByStates(e,t,i,r,s={}){await this.loadMarkets();const a={states:e};let n=void 0;void 0!==t&&(n=this.market(t),a.symbol=n.id);const o=this.safeString(this.options,"fetchOrdersByStatesMethod","private_get_order_orders"),c=await this[o](this.extend(a,s));return this.parseOrders(c.data,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderOrdersId(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled,filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){const s=this.safeString(this.options,"fetchOpenOrdersMethod","fetch_open_orders_v1");return await this[s](e,t,i,r)}async fetchOpenOrdersV1(e,t,i,r={}){return await this.fetchOrdersByStates("pre-submitted,submitted,partial-filled",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStates("filled,partial-canceled,canceled",e,t,i,r)}async fetchOpenOrdersV2(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new h(this.id+" fetchOpenOrders requires a symbol argument");const s=this.market(e);let a=this.safeString(r,"account-id");if(void 0===a){await this.loadAccounts();for(let e=0;e<this.accounts.length;e++){const t=this.accounts[e];if("spot"===t.type&&(a=this.safeString(t,"id"),void 0!==a))break}}const n={symbol:s.id,"account-id":a};void 0!==i&&(n.size=i);const o=this.omit(r,"account-id"),c=await this.privateGetOrderOpenOrders(this.extend(n,o)),d=this.safeValue(c,"data",[]);return this.parseOrders(d,s,t,i)}parseOrderStatus(e){return this.safeString({"partial-filled":"open","partial-canceled":"canceled",filled:"closed",canceled:"canceled",submitted:"open"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0,s=void 0,a=void 0;if("type"in e){const t=e.type.split("-");r=t[0],s=t[1],a=this.parseOrderStatus(this.safeString(e,"state"))}let n=void 0;if(void 0===t&&"symbol"in e&&e.symbol in this.markets_by_id){const i=e.symbol;t=this.markets_by_id[i]}void 0!==t&&(n=t.symbol);const o=this.safeInteger(e,"created-at");let c=this.safeFloat(e,"amount");const d=this.safeFloat2(e,"filled-amount","field-amount");"market"===s&&"buy"===r&&(c="closed"===a?d:void 0);let h=this.safeFloat(e,"price");0===h&&(h=void 0);const u=this.safeFloat2(e,"filled-cash-amount","field-cash-amount");let l=void 0,f=void 0;void 0!==d&&(void 0!==c&&(l=c-d),void 0!==u&&d>0&&(f=u/d));const p=this.safeFloat2(e,"filled-fees","field-fees");let m=void 0;if(void 0!==p){let e=void 0;void 0!==t&&(e="sell"===r?t.quote:t.base),m={cost:p,currency:e}}return{info:e,id:i,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:n,type:s,side:r,price:h,average:f,cost:u,amount:c,filled:d,remaining:l,status:a,fee:m}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),c={"account-id":this.accounts[0].id,symbol:n.id,type:i+"-"+t};if("market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new o(this.id+" market buy order requires price argument to calculate cost (total amount of quote currency to spend for buying, amount * price). To switch off this warning exception and specify cost in the amount argument, set .options['createMarketBuyOrderRequiresPrice'] = false. Make sure you know what you're doing.");c.amount=this.costToPrecision(e,parseFloat(r)*parseFloat(s))}else c.amount=this.costToPrecision(e,r);else c.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"limit-maker"!==t||(c.price=this.priceToPrecision(e,s));const d=this.options.createOrderMethod,h=await this[d](this.extend(c,a)),u=this.milliseconds();return{info:h,id:this.safeString(h,"data"),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async cancelOrder(e,t,i={}){const r=await this.privatePostOrderOrdersIdSubmitcancel({id:e});return this.extend(this.parseOrder(r),{id:e,status:"canceled"})}currencyToPrecision(e,t){return this.decimalToPrecision(t,0,this.currencies[e].precision)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a];let d=r*c,h="quote";return"sell"===i?d*=s:h="base",{type:a,currency:o[h],rate:c,cost:parseFloat(this.currencyToPrecision(o[h],d))}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const a={address:i,amount:t,currency:this.currency(e).id.toLowerCase()};void 0!==r&&(a["addr-tag"]=r);const n=await this.privatePostDwWithdrawApiCreate(this.extend(a,s));return{info:n,id:this.safeString(n,"data")}}sign(e,t="public",i="GET",r={},s,a){let n="/";"market"===t?n+=t:"public"!==t&&"private"!==t||(n+=this.version),n+="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.ymdhms(this.milliseconds(),"T");let t={SignatureMethod:"HmacSHA256",SignatureVersion:"2",AccessKeyId:this.apiKey,Timestamp:e};"POST"!==i&&(t=this.extend(t,o)),t=this.keysort(t);let r=this.urlencode(t);const c=[i,this.hostname,n,r].join("\n"),d=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");r+="&"+this.urlencode({Signature:d}),n+="?"+r,"POST"===i?(a=this.json(o),s={"Content-Type":"application/json"}):s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o&&"status"in o){if("error"===this.safeString(o,"status")){const e=this.safeString(o,"err-code"),t=this.id+" "+n;this.throwExactlyMatchedException(this.exceptions.exact,e,t);const i=this.safeString(o,"err-msg");throw this.throwExactlyMatchedException(this.exceptions.exact,i,t),new a(t)}}}async fetchDeposits(e,t,i,r={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const a={type:"deposit",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}async fetchWithdrawals(e,t,i,r={}){(void 0===i||i>100)&&(i=100),await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const a={type:"withdraw",from:0};void 0!==s&&(a.currency=s.id),void 0!==i&&(a.size=i);const n=await this.privateGetQueryDepositWithdraw(this.extend(a,r));return this.parseTransactions(n.data,s,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"created-at"),r=this.safeInteger(e,"updated-at"),s=this.safeCurrencyCode(this.safeString(e,"currency"));let a=this.safeString(e,"type");"withdraw"===a&&(a="withdrawal");const n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.safeString(e,"address-tag");let c=this.safeFloat(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"tx-hash"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:o,type:a,amount:this.safeFloat(e,"amount"),currency:s,status:n,updated:r,fee:{currency:s,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({unknown:"failed",confirming:"pending",confirmed:"ok",safe:"ok",orphan:"failed",submitted:"pending",canceled:"canceled",reexamine:"pending",reject:"failed",pass:"pending","wallet-reject":"failed","confirm-error":"failed",repealed:"failed","wallet-transfer":"pending","pre-transfer":"pending"},e,e)}}},"6rtq":function(e,t,i){var r=i("8gph"),s=i("pRMk").Buffer,a=i("ql4I");function n(e,t,i,n){a.call(this),this._cipher=new r.AES(t),this._prev=s.from(i),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._mode=e}i("wfEq")(n,a),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},e.exports=n},"6taF":function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=i("rAc2"),a=i("QA75"),n=function(){function e(e,t,i){this._chainParams=this.setChain(e),this._hardfork=null,this._supportedHardforks=void 0===i?[]:i,t&&this.setHardfork(t)}return e.forCustomChain=function(t,i,s,a){var n=e._getChainParams(t);return new e(r({},n,i),s,a)},e._getChainParams=function(e){if("number"===typeof e){if(s.chains.names[e])return s.chains[s.chains.names[e]];throw new Error("Chain with ID "+e+" not supported")}if(s.chains[e])return s.chains[e];throw new Error("Chain with name "+e+" not supported")},e.prototype.setChain=function(t){if("number"===typeof t||"string"===typeof t)this._chainParams=e._getChainParams(t);else{if("object"!==typeof t)throw new Error("Wrong input format");for(var i=0,r=["networkId","genesis","hardforks","bootstrapNodes"];i<r.length;i++){var s=r[i];if(void 0===t[s])throw new Error("Missing required chain parameter: "+s)}this._chainParams=t}return this._chainParams},e.prototype.setHardfork=function(e){if(!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks");for(var t=!1,i=0,r=a.hardforks;i<r.length;i++){r[i][0]===e&&(this._hardfork=e,t=!0)}if(!t)throw new Error("Hardfork with name "+e+" not supported")},e.prototype._chooseHardfork=function(e,t){if(t=void 0===t||t,e){if(t&&!this._isSupportedHardfork(e))throw new Error("Hardfork "+e+" not set as supported in supportedHardforks")}else{if(!this._hardfork)throw new Error("Method called with neither a hardfork set nor provided by param");e=this._hardfork}return e},e.prototype._getHardfork=function(e){for(var t=0,i=this.hardforks();t<i.length;t++){var r=i[t];if(r.name===e)return r}throw new Error("Hardfork "+e+" not defined for chain "+this.chainName())},e.prototype._isSupportedHardfork=function(e){if(!(this._supportedHardforks.length>0))return!0;for(var t=0,i=this._supportedHardforks;t<i.length;t++){if(e===i[t])return!0}return!1},e.prototype.param=function(e,t,i){var r;i=this._chooseHardfork(i);for(var s=0,n=a.hardforks;s<n.length;s++){var o=n[s];if(!o[1][e])throw new Error("Topic "+e+" not defined");if(void 0!==o[1][e][t]&&(r=o[1][e][t].v),o[0]===i)break}if(void 0===r)throw new Error(e+" value for "+t+" not found");return r},e.prototype.paramByBlock=function(e,t,i){var r=this.activeHardforks(i),s=r[r.length-1].name;return this.param(e,t,s)},e.prototype.hardforkIsActiveOnBlock=function(e,t,i){var r=void 0!==(i=void 0!==i?i:{}).onlySupported&&i.onlySupported;e=this._chooseHardfork(e,r);var s=this.hardforkBlock(e);return null!==s&&t>=s},e.prototype.activeOnBlock=function(e,t){return this.hardforkIsActiveOnBlock(null,e,t)},e.prototype.hardforkGteHardfork=function(e,t,i){var r=void 0!==(i=void 0!==i?i:{}).onlyActive&&i.onlyActive;e=this._chooseHardfork(e,i.onlySupported);for(var s=-1,a=-1,n=0,o=0,c=r?this.activeHardforks(null,i):this.hardforks();o<c.length;o++){var d=c[o];d.name===e&&(s=n),d.name===t&&(a=n),n+=1}return s>=a},e.prototype.gteHardfork=function(e,t){return this.hardforkGteHardfork(null,e,t)},e.prototype.hardforkIsActiveOnChain=function(e,t){var i=void 0!==(t=void 0!==t?t:{}).onlySupported&&t.onlySupported;e=this._chooseHardfork(e,i);for(var r=0,s=this.hardforks();r<s.length;r++){var a=s[r];if(a.name===e&&null!==a.block)return!0}return!1},e.prototype.activeHardforks=function(e,t){t=void 0!==t?t:{};for(var i=[],r=0,s=this.hardforks();r<s.length;r++){var a=s[r];if(null!==a.block){if(void 0!==e&&null!==e&&e<a.block)break;t.onlySupported&&!this._isSupportedHardfork(a.name)||i.push(a)}}return i},e.prototype.activeHardfork=function(e,t){t=void 0!==t?t:{};var i=this.activeHardforks(e,t);if(i.length>0)return i[i.length-1].name;throw new Error("No (supported) active hardfork found")},e.prototype.hardforkBlock=function(e){return e=this._chooseHardfork(e,!1),this._getHardfork(e).block},e.prototype.isHardforkBlock=function(e,t){return t=this._chooseHardfork(t,!1),this.hardforkBlock(t)===e},e.prototype.consensus=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).consensus},e.prototype.finality=function(e){return e=this._chooseHardfork(e),this._getHardfork(e).finality},e.prototype.genesis=function(){return this._chainParams.genesis},e.prototype.hardforks=function(){return this._chainParams.hardforks},e.prototype.bootstrapNodes=function(){return this._chainParams.bootstrapNodes},e.prototype.hardfork=function(){return this._hardfork},e.prototype.chainId=function(){return this._chainParams.chainId},e.prototype.chainName=function(){return s.chains.names[this.chainId()]||this._chainParams.name},e.prototype.networkId=function(){return this._chainParams.networkId},e}();t.default=n},"6u4I":function(e,t,i){"use strict";const r=i("OjXq"),{AuthenticationError:s,ArgumentsRequired:a,ExchangeError:n,InvalidOrder:o,BadRequest:c,OrderNotFound:d,DDoSProtection:h,BadSymbol:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmart",name:"BitMart",countries:["US","CN","HK","KR"],rateLimit:1e3,version:"v2",has:{CORS:!0,fetchMarkets:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchCurrencies:!0,fetchOrderBook:!0,fetchTrades:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,cancelAllOrders:!0,fetchOrders:!1,fetchOrderTrades:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchCanceledOrders:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61835713-a2662f80-ae85-11e9-9d00-6442919701fd.jpg",api:"https://openapi.bitmart.com",www:"https://www.bitmart.com/",doc:"https://github.com/bitmartexchange/bitmart-official-api-docs",referral:"http://www.bitmart.com/?r=rQCFLh"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{token:{post:["authentication"]},public:{get:["currencies","ping","steps","symbols","symbols_details","symbols/{symbol}/kline","symbols/{symbol}/orders","symbols/{symbol}/trades","ticker","time"]},private:{get:["orders","orders/{id}","trades","wallet"],post:["orders"],delete:["orders","orders/{id}"]}},timeframes:{"1m":1,"3m":3,"5m":5,"15m":15,"30m":30,"45m":45,"1h":60,"2h":120,"3h":180,"4h":240,"1d":1440,"1w":10080,"1M":43200},fees:{trading:{tierBased:!0,percentage:!0,taker:.002,maker:.001,tiers:{taker:[[0,.002],[10,.0018],[50,.0016],[250,.14/100],[1e3,.0012],[5e3,.001],[25e3,8e-4],[5e4,6e-4]],maker:[[0,.001],[10,9e-4],[50,8e-4],[250,.07/100],[1e3,6e-4],[5e3,5e-4],[25e3,4e-4],[5e4,3e-4]]}}},exceptions:{exact:{"Place order error":o,"Not found":d,"Visit too often, please try again later":h,"Unknown symbol":u},broad:{"Invalid limit. limit must be in the range":o,"Maximum price is":o,"is not present":c}},commonCurrencies:{ONE:"Menlo One"}})}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.safeInteger(t,"server_time")}async signIn(e={}){const t=this.apiKey+":"+this.secret+":"+this.uid,i={grant_type:"client_credentials",client_id:this.apiKey,client_secret:this.hmac(this.encode(t),this.encode(this.secret),"sha256")},r=await this.tokenPostAuthentication(this.extend(i,e)),a=this.safeString(r,"access_token");if(!a)throw new s(this.id+" signIn() failed to authenticate. Access token missing from response.");const n=this.safeInteger(r,"expires_in");return this.options.expires=this.sum(this.nonce(),1e3*n),this.options.accessToken=a,r}async fetchMarkets(e={}){const t=await this.publicGetSymbolsDetails(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeString(e,"base_currency"),n=this.safeString(e,"quote_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeString(e,"quote_increment"),u={amount:this.precisionFromString(h),price:this.safeInteger(e,"price_max_precision")},l={amount:{min:this.safeFloat(e,"base_min_size"),max:this.safeFloat(e,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,precision:u,limits:l,info:e})}return i}parseTicker(e,t){const i=this.milliseconds(),r=this.safeString(e,"symbol_id");let s=void 0;if(void 0!==r)if(r in this.markets_by_id)s=this.markets_by_id[r].symbol;else if(void 0!==r){const[e,t]=r.split("_");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}const a=this.safeFloat(e,"current_price"),n=this.safeFloat(e,"fluctuation");return{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"highest_price"),low:this.safeFloat(e,"lowest_price"),bid:this.safeFloat(e,"bid_1"),bidVolume:this.safeFloat(e,"bid_1_amount"),ask:this.safeFloat(e,"ask_1"),askVolume:this.safeFloat(e,"ask_1_amount"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:100*n,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"base_volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t));return this.parseTicker(r)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]);r[e.symbol]=e}return r}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeCurrencyCode(s),n=this.safeString(e,"name"),o=this.safeValue(e,"withdraw_enabled"),c=this.safeValue(e,"deposit_enabled"),d=o&&c;i[a]={id:s,code:a,name:n,info:e,active:d,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetSymbolsSymbolOrders(this.extend(r,i));return this.parseOrderBook(s,void 0,"buys","sells","price","amount")}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeInteger2(e,"timestamp","order_time");let s=this.safeStringLower(e,"type");void 0===s&&"entrustType"in e&&(s=e.entrustType?"sell":"buy");const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==a&&void 0!==n&&(o=n*a);const c=this.safeInteger(e,"entrust_id"),d=this.safeString(e,"symbol");let h=void 0;if(void 0!==d)if(d in this.markets_by_id)h=(t=this.markets_by_id[d]).symbol;else{const[e,t]=d.split("_");h=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===h&&void 0!==t&&(h=t.symbol);const u=this.safeFloat(e,"fees");let l=void 0;if(void 0!==u){let e=void 0;void 0!==t&&(e="buy"===s?t.base:t.quote),l={cost:u,currency:e}}return{info:e,id:i,order:c,timestamp:r,datetime:this.iso8601(r),symbol:h,type:void 0,side:s,price:a,amount:n,cost:o,takerOrMaker:void 0,fee:l}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetSymbolsSymbolTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e);i=void 0===i?50:Math.min(i,50);const n={symbol:s.id,offset:0,limit:i},o=await this.privateGetTrades(this.extend(n,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={entrust_id:e};return await this.fetchMyTrades(t,i,r,this.extend(a,s))}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"timestamp"),this.safeFloat(e,"open_price"),this.safeFloat(e,"highest_price"),this.safeFloat(e,"lowest_price"),this.safeFloat(e,"current_price"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){if(void 0===i&&void 0===r)throw new a(this.id+" fetchOHLCV requires either a `since` argument or a `limit` argument (or both)");await this.loadMarkets();const n=this.market(e),o=this.parseTimeframe(t)*r*1e3;let c=this.milliseconds();void 0===i?i=c-o:c=this.sum(i,o);const d={symbol:n.id,from:i,to:c,step:this.timeframes[t]},h=await this.publicGetSymbolsSymbolKline(this.extend(d,s));return this.parseOHLCVs(h,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallet(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"available"),n.used=this.safeFloat(e,"frozen"),i[a]=n}return this.parseBalance(i)}parseOrder(e,t){const i=this.safeString(e,"entrust_id"),r=this.milliseconds(),s=this.parseOrderStatus(this.safeString(e,"status"));let a=void 0;const n=this.safeString(e,"symbol");if(void 0!==n)if(n in this.markets_by_id)t=this.markets_by_id[n];else{const[e,t]=n.split("_");a=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===a&&void 0!==t&&(a=t.symbol);const o=this.safeFloat(e,"price"),c=this.safeFloat(e,"original_amount");let d=void 0,h=this.safeFloat(e,"executed_amount"),u=this.safeFloat(e,"remaining_amount");void 0!==c&&(void 0!==u&&void 0===h&&(h=c-u),void 0!==h&&(void 0===u&&(u=c-h),void 0===d&&void 0!==o&&(d=o*h)));const l=this.safeString(e,"side");return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:void 0,side:l,price:o,amount:c,cost:void 0,average:void 0,filled:h,remaining:u,status:s,fee:void 0,trades:void 0}}parseOrderStatus(e){return this.safeString({0:"all",1:"open",2:"open",3:"closed",4:"canceled",5:"open",6:"closed"},e,e)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new n(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={symbol:o.id,side:i.toLowerCase(),amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s)},d=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(d,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=parseInt(e),s={id:r,entrust_id:r},a=await this.privateDeleteOrdersId(this.extend(s,i));return this.parseOrder(a)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders requires a symbol argument");const i=this.safeString(t,"side");if(void 0===i)throw new a(this.id+" cancelAllOrders requires a `side` parameter ('buy' or 'sell')");await this.loadMarkets();const r={symbol:this.market(e).id,side:i};return await this.privateDeleteOrders(this.extend(r,t))}async fetchOrdersByStatus(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrdersByStatus requires a symbol argument");await this.loadMarkets();const n=this.market(t);void 0===r&&(r=500);const o={symbol:n.id,status:e,offset:0,limit:r},c=await this.privateGetOrders(this.extend(o,s)),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus(5,e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus(3,e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrdersByStatus(4,e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},a,n){let o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r),c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else if("token"===t)this.checkRequiredCredentials(),n=this.urlencode(c),a={"Content-Type":"application/x-www-form-urlencoded"};else{const t=this.nonce();this.checkRequiredCredentials();const r=this.safeString(this.options,"accessToken");if(void 0===r)throw new s(this.id+" "+e+" endpoint requires an accessToken option or a prior call to signIn() method");const d=this.safeInteger(this.options,"expires");if(void 0!==d&&t>=d)throw new s(this.id+" accessToken expired, supply a new accessToken or call the signIn() method");if(Object.keys(c).length&&(o+="?"+this.urlencode(c)),a={"Content-Type":"application/json","X-BM-TIMESTAMP":t.toString(),"X-BM-AUTHORIZATION":"Bearer "+r},"GET"!==i){c=this.keysort(c),n=this.json(c);const e=this.urlencode(c);a["X-BM-SIGNATURE"]=this.hmac(this.encode(e),this.encode(this.secret),"sha256")}}return{url:o,method:i,body:n,headers:a}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.id+" "+a,u=this.safeString2(o,"message","msg");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions.exact,u,h),this.throwBroadlyMatchedException(this.exceptions.broad,u,h),new n(h)}}},7:function(e,t){},"72iz":function(e,t,i){"use strict";var r=i("sdZR"),s=i("S29b"),a=i("BjWC");function n(e){this.eth=e}Object.defineProperty(n.prototype,"registry",{get:function(){return new s(this)},enumerable:!0}),Object.defineProperty(n.prototype,"resolverMethodHandler",{get:function(){return new a(this.registry)},enumerable:!0}),n.prototype.resolver=function(e){return this.registry.resolver(e)},n.prototype.getAddress=function(e,t){return this.resolverMethodHandler.method(e,"addr",[]).call(t)},n.prototype.setAddress=function(e,t,i,r){return this.resolverMethodHandler.method(e,"setAddr",[t]).send(i,r)},n.prototype.getPubkey=function(e,t){return this.resolverMethodHandler.method(e,"pubkey",[],t).call(t)},n.prototype.setPubkey=function(e,t,i,r,s){return this.resolverMethodHandler.method(e,"setPubkey",[t,i]).send(r,s)},n.prototype.getContent=function(e,t){return this.resolverMethodHandler.method(e,"content",[]).call(t)},n.prototype.setContent=function(e,t,i,r){return this.resolverMethodHandler.method(e,"setContent",[t]).send(i,r)},n.prototype.getMultihash=function(e,t){return this.resolverMethodHandler.method(e,"multihash",[]).call(t)},n.prototype.setMultihash=function(e,t,i,r){return this.resolverMethodHandler.method(e,"multihash",[t]).send(i,r)},n.prototype.checkNetwork=function(){var e=this;return e.eth.getBlock("latest").then((function(t){var i=new Date/1e3-t.timestamp;if(i>3600)throw new Error("Network not synced; last block was "+i+" seconds ago");return e.eth.net.getNetworkType()})).then((function(e){var t=r.addresses[e];if("undefined"===typeof t)throw new Error("ENS is not supported on network "+e);return t}))},e.exports=n},"7N3v":function(e,t,i){"use strict";var r=i("WZyW"),s=i("8kJ5"),a=function(e){var t="A".charCodeAt(0),i="Z".charCodeAt(0);return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map((function(e){var r=e.charCodeAt(0);return r>=t&&r<=i?r-t+10:e})).join("")},n=function(e){for(var t,i=e;i.length>2;)t=i.slice(0,9),i=parseInt(t,10)%97+i.slice(t.length);return parseInt(i,10)%97},o=function(e){this._iban=e};o.toAddress=function(e){if(!(e=new o(e)).isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()},o.toIban=function(e){return o.fromAddress(e).toString()},o.fromAddress=function(e){if(!r.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");var t=function(e,t){for(var i=e;i.length<2*t;)i="0"+i;return i}(new s(e,16).toString(36),15);return o.fromBban(t.toUpperCase())},o.fromBban=function(e){var t=("0"+(98-n(a("XE00"+e)))).slice(-2);return new o("XE"+t+e)},o.createIndirect=function(e){return o.fromBban("ETH"+e.institution+e.identifier)},o.isValid=function(e){return new o(e).isValid()},o.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===n(a(this._iban))},o.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},o.prototype.isIndirect=function(){return 20===this._iban.length},o.prototype.checksum=function(){return this._iban.substr(2,2)},o.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},o.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},o.prototype.toAddress=function(){if(this.isDirect()){var e=this._iban.substr(4),t=new s(e,36);return r.toChecksumAddress(t.toString(16,20))}return""},o.prototype.toString=function(){return this._iban},e.exports=o},"7ZyU":function(e,t,i){"use strict";var r=i("8kJ5"),s=i("fOyB"),a=s.getNAF,n=s.getJSF,o=s.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var i=e._getDoubles(),r=a(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;for(var n=[],c=0;c<r.length;c+=i.step){var d=0;for(t=c+i.step-1;t>=c;t--)d=(d<<1)+r[t];n.push(d)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=s;l>0;l--){for(c=0;c<n.length;c++){(d=n[c])===l?u=u.mixedAdd(i.points[c]):d===-l&&(u=u.mixedAdd(i.points[c].neg()))}h=h.add(u)}return h.toP()},c.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var s=r.points,n=a(t,i,this._bitLength),c=this.jpoint(null,null,null),d=n.length-1;d>=0;d--){for(t=0;d>=0&&0===n[d];d--)t++;if(d>=0&&t++,c=c.dblp(t),d<0)break;var h=n[d];o(0!==h),c="affine"===e.type?h>0?c.mixedAdd(s[h-1>>1]):c.mixedAdd(s[-h-1>>1].neg()):h>0?c.add(s[h-1>>1]):c.add(s[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,i,r,s){for(var o=this._wnafT1,c=this._wnafT2,d=this._wnafT3,h=0,u=0;u<r;u++){var l=(x=t[u])._getNAFPoints(e);o[u]=l.wnd,c[u]=l.points}for(u=r-1;u>=1;u-=2){var f=u-1,p=u;if(1===o[f]&&1===o[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=n(i[f],i[p]);h=Math.max(b[0].length,h),d[f]=new Array(h),d[p]=new Array(h);for(var v=0;v<h;v++){var g=0|b[0][v],w=0|b[1][v];d[f][v]=y[3*(g+1)+(w+1)],d[p][v]=0,c[f]=m}}else d[f]=a(i[f],o[f],this._bitLength),d[p]=a(i[p],o[p],this._bitLength),h=Math.max(d[f].length,h),h=Math.max(d[p].length,h)}var k=this.jpoint(null,null,null),_=this._wnafT4;for(u=h;u>=0;u--){for(var T=0;u>=0;){var S=!0;for(v=0;v<r;v++)_[v]=0|d[v][u],0!==_[v]&&(S=!1);if(!S)break;T++,u--}if(u>=0&&T++,k=k.dblp(T),u<0)break;for(v=0;v<r;v++){var x,O=_[v];0!==O&&(O>0?x=c[v][O-1>>1]:O<0&&(x=c[v][-O-1>>1].neg()),k="affine"===x.type?k.mixedAdd(x):k.add(x))}}for(u=0;u<r;u++)c[u]=null;return s?k:k.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i)return 6===e[0]?o(e[e.length-1]%2===0):7===e[0]&&o(e[e.length-1]%2===1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(e){return this.encode(e,!0)},d.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},d.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},d.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},d.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},d.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)r=r.dbl();i.push(r)}return{step:e,points:i}},d.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(r);return{wnd:e,points:t}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},"7aZo":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InvalidNonce:o,BadRequest:c,InsufficientFunds:d,PermissionDenied:h,DDoSProtection:u,InvalidOrder:l,AuthenticationError:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"dsx",name:"DSX",countries:["UK"],rateLimit:1500,version:"v3",has:{CORS:!1,createMarketOrder:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!1,fetchOrderBooks:!1,createDepositAddress:!0,fetchDepositAddress:!0,fetchTransactions:!0,fetchTickers:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27990275-1413158a-645a-11e7-931c-94717f7510e3.jpg",api:{public:"https://dsx.uk/mapi",private:"https://dsx.uk/tapi",dwapi:"https://dsx.uk/dwapi"},www:"https://dsx.uk",doc:["https://dsx.uk/developers/publicApi"]},fees:{trading:{tierBased:!0,percentage:!0,maker:.0015,taker:.0025}},timeframes:{"1m":"m","1h":"h","1d":"d"},api:{public:{get:["barsFromMoment/{pair}/{period}/{start}","depth/{pair}","info","lastBars/{pair}/{period}/{amount}","periodBars/{pair}/{period}/{start}/{end}","ticker/{pair}","trades/{pair}"]},private:{post:["info/account","history/transactions","history/trades","history/orders","orders","order/cancel","order/status","order/new","volume","fees"]},dwapi:{post:["deposit/cryptoaddress","withdraw/crypto","withdraw/fiat","withdraw/submit","transaction/status"]}},exceptions:{exact:{"Sign is invalid":f,"Order was rejected. Incorrect price.":l,"Order was rejected. You don't have enough money.":d,"This method is blocked for your pair of keys":h},broad:{INVALID_PARAMETER:c,"Invalid pair name":s,"invalid api key":f,"invalid sign":f,"api key dont have trade permission":f,"invalid parameter":l,"invalid order":l,"Requests too often":u,"not available":n,"data unavailable":n,"external service unavailable":n,"nonce is invalid":o}},options:{fetchTickersMaxLength:250},commonCurrencies:{DSH:"DASH"}})}async fetchMarkets(e={}){const t=await this.publicGetInfo(e),i=this.safeValue(t,"pairs"),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a],t=i[e],n=this.safeString(t,"base_currency"),o=this.safeString(t,"quoted_currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(t,"decimal_places"),price:this.safeInteger(t,"decimal_places")},l={amount:{min:this.safeFloat(t,"min_amount"),max:this.safeFloat(t,"max_amount")},price:{min:this.safeFloat(t,"min_price"),max:this.safeFloat(t,"max_price")},cost:{min:this.safeFloat(t,"min_total")}},f=0===this.safeInteger(t,"hidden"),p=c.toLowerCase()+d.toLowerCase();s.push({id:e,otherId:p,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:f,precision:u,limits:l,info:t})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfoAccount(),i=this.safeValue(t,"return"),r={info:t},s=this.safeValue(i,"funds"),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),i=this.safeValue(s,e,{}),o=this.account();o.free=this.safeFloat(i,"available"),o.total=this.safeFloat(i,"total"),r[t]=o}return this.parseBalance(r)}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r=void 0;const s=this.safeString(e,"pair");void 0!==(t=this.parseMarket(s))&&(r=t.symbol);let a=this.safeFloat(e,"avg");void 0!==a&&a>0&&(a=1/a);const n=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:a,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_cur"),info:e}}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeFloat2(e,"rate","price"),a=this.safeString2(e,"number","id"),n=this.safeString(e,"orderId"),o=this.safeString(e,"pair");let c=void 0;void 0!==(t=this.parseMarket(o))&&(c=t.symbol);const d=this.safeFloat2(e,"amount","volume");let h=void 0,u=void 0;const l=this.safeFloat(e,"commission");if(void 0!==l){const t=this.safeString(e,"commissionCurrency");u={cost:l,currency:this.safeCurrencyCode(t)}}const f=this.safeValue(e,"is_your_order");void 0!==f&&(h="taker",f&&(h="maker"),void 0===u&&(u=this.calculateFee(c,"limit",r,d,s,h)));let p=void 0;return void 0!==s&&void 0!==d&&(p=s*d),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:c,type:"limit",side:r,takerOrMaker:h,price:s,amount:d,cost:p,fee:u,info:e}}parseTrades(e,t,i,r,s={}){let a=[];if(Array.isArray(e))for(let o=0;o<e.length;o++)a.push(this.parseTrade(e[o],t));else{const i=Object.keys(e);for(let r=0;r<i.length;r++){const n=i[r],o=this.parseTrade(e[n],t);a.push(this.extend(o,{id:n},s))}}a=this.sortBy(a,"timestamp");const n=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,n,i,r)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=parseFloat(this.costToPrecision(e,r*d));return"sell"===i?h*=s:c="base",{type:a,currency:o[c],rate:d,cost:h}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),a={pair:r.id};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i));if(!(r.id in n))throw new s(this.id+" "+r.symbol+" order book is empty or not available");const o=n[r.id];return this.parseOrderBook(o)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const a={pair:r};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};r=Object.keys(n);for(let s=0;s<r.length;s++){const e=r[s];let t=e;if(e in this.markets_by_id){t=this.markets_by_id[e].symbol}o[t]=this.parseOrderBook(n[e])}return o}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;i=i.join("-");const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);if(i.length>this.options.fetchTickersMaxLength)throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),n={},o=Object.keys(s);for(let a=0;a<o.length;a++){const e=o[a],t=s[e];let i=e,r=void 0;e in this.markets_by_id&&(r=this.markets_by_id[e],i=r.symbol),n[i]=this.parseTicker(t,r)}return n}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTradesPair(this.extend(a,r));if(Array.isArray(n)){if(0===n.length)return[]}return this.parseTrades(n[s.id],s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"amount")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,period:this.timeframes[t]};let o="publicGetLastBarsPairPeriodAmount";if(void 0===i)void 0===r&&(r=100),n.amount=r;else if(o="publicGetPeriodBarsPairPeriodStartEnd",n.start=parseInt(i/1e3),void 0===r)n.end=this.seconds();else{const e=1e3*this.parseTimeframe(t),s=this.sum(i,e*r);n.end=parseInt(s/1e3)}const c=await this[o](this.extend(n,s)),d=this.safeValue(c,a.id,[]);return this.parseOHLCVs(d,a,t,i,r)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e);if("market"===t&&void 0===s)throw new a(this.id+" createOrder requires a price argument even for market orders, that is the worst price that you agree to fill your order for");const c={pair:o.id,type:i,volume:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,s),orderType:t};s=parseFloat(s),r=parseFloat(r);const d=await this.privatePostOrderNew(this.extend(c,n));let h="open",u=0,l=r;const f=this.safeValue(d,"return");let p=this.safeString2(f,"orderId","order_id");"0"===p&&(p=this.safeString(f,"initOrderId","init_order_id"),h="closed"),u=this.safeFloat(f,"received",0),l=this.safeFloat(f,"remains",r);const m=this.milliseconds();return{info:d,id:p,timestamp:m,datetime:this.iso8601(m),lastTradeTimestamp:void 0,status:h,symbol:e,type:t,side:i,price:s,cost:s*u,amount:r,remaining:l,filled:u,fee:void 0}}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceling",7:"canceled"},e,e)}parseMarket(e){if(e in this.markets_by_id)return this.markets_by_id[e];{let t=this.safeValue(this.options,"markets_by_other_id");if(void 0===t&&(this.options.markets_by_other_id=this.indexBy(this.markets,"otherId"),t=this.options.markets_by_other_id),e in t)return t[e]}}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestampCreated"),a=this.safeString(e,"pair");let n=void 0;void 0!==(t=this.parseMarket(a))&&(n=t.symbol);const o=this.safeFloat(e,"remainingVolume"),c=this.safeFloat(e,"volume"),d=this.safeFloat(e,"rate");let h=void 0,u=void 0;void 0!==c&&void 0!==o&&(h=c-o,u=d*h);const l=this.safeString(e,"orderType"),f=this.safeString(e,"type");let p=void 0;const m=this.safeValue(e,"deals",[]);let y=void 0,b=void 0;if(m.length>0){y=this.parseTrades(m);let e=void 0,t=void 0;for(let i=0;i<y.length;i++){const r=y[i];void 0===e&&(e=0),e=this.sum(e,r.fee.cost),t=r.fee.currency,b=r.timestamp}void 0!==e&&(p={cost:e,currency:t})}return{info:e,id:i,symbol:n,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:b,type:l,side:f,price:d,cost:u,amount:c,remaining:o,filled:h,status:r,fee:p,trades:y}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:parseInt(e)},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(this.extend({id:e},s.return))}parseOrdersById(e,t,i,r){const s=Object.keys(e),a=[];for(let n=0;n<s.length;n++){const t=s[n],i=this.parseOrder(this.extend({id:t.toString()},e[t]));a.push(i)}return this.filterBySymbolSinceLimit(a,t,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostOrders(this.extend({},r));return this.parseOrdersById(this.safeValue(s,"return",{}),e,t,i)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.count=i);const a=await this.privatePostHistoryOrders(this.extend(s,r));return this.parseOrdersById(this.safeValue(a,"return",{}),e,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privatePostOrderCancel(this.extend(r,i));return e in this.orders&&(this.orders[e].status="canceled"),s}parseOrders(e,t,i,r,s={}){const a=[],n=Object.keys(e);let o=void 0;void 0!==t&&(o=t.symbol);for(let c=0;c<n.length;c++){const i=n[c],r=this.extend({id:i},e[i]);a.push(this.extend(this.parseOrder(r,t),s))}return this.filterBySymbolSinceLimit(a,o,i,r)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.pair=s.id),void 0!==i&&(a.count=parseInt(i)),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privatePostHistoryTrades(this.extend(a,r));let o=[];return"return"in n&&(o=n.return),this.parseTrades(o,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.currency(e),a.currency=s.id),void 0!==t&&(a.since=t),void 0!==i&&(a.count=i);const n=await this.privatePostHistoryTransactions(this.extend(a,r)),o=this.safeValue(n,"return",[]);return this.parseTransactions(o,s,t,i)}parseTransactionStatus(e){return this.safeString({1:"failed",2:"ok",3:"pending",4:"failed"},e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");void 0!==r&&("Incoming"===r?r="deposit":"Withdraw"===r&&(r="withdrawal"));const s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=this.parseTransactionStatus(this.safeString(e,"status"));return{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),type:r,amount:this.safeFloat(e,"amount"),currency:a,status:n,fee:{currency:a,cost:this.safeFloat(e,"commission"),rate:void 0},info:e}}async createDepositAddress(e,t={}){return await this.fetchDepositAddress(e,this.extend({new:1},t))}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.dwapiPostDepositCryptoaddress(this.extend(i,t)),s=this.safeValue(r,"return",{}),a=this.safeString(s,"address");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o=this.safeValue(s,"commission");if(void 0===o)throw new a(this.id+" withdraw() requires a `commission` (withdrawal fee) parameter (string)");s=this.omit(s,o);const c={currency:n.id,amount:parseFloat(t),address:i,commission:o};void 0!==r&&(c.address+=":"+r);const d=await this.dwapiPostWithdrawCrypto(this.extend(c,s)),h=this.safeValue(d,"return",{});return{info:d,id:this.safeString(h,"transactionId")}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.omit(r,this.extractParams(e));if("private"===t||"dwapi"===t){n+="/"+this.version+"/"+this.implodeParams(e,r),this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t},o));const i=this.decode(this.hmac(this.encode(a),this.encode(this.secret),"sha512","base64"));s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}}},"7wEA":function(e,t,i){"use strict";var r=i("fOyB"),s=r.assert,a=r.parseBytes,n=r.cachedProperty;function o(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},n(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),n(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),n(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r})),n(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),n(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),n(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},o.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=o},"7wFP":function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},"7x+o":function(e,t){var i=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}()},"89XF":function(e,t,i){var r={ECB:i("7wFP"),CBC:i("tyEE"),CFB:i("zxuB"),CFB8:i("Jhzd"),CFB1:i("MV+h"),OFB:i("m036"),CTR:i("WeoI"),GCM:i("WeoI")},s=i("w8x0");for(var a in s)s[a].module=r[s[a].mode];e.exports=s},"8DMd":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,InsufficientFunds:n,OrderNotFound:o,InvalidOrder:c,AuthenticationError:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinex",name:"CoinEx",version:"v1",countries:["CN"],rateLimit:1e3,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38046312-0b450aac-32c8-11e8-99ab-bc6b136b6cc7.jpg",api:"https://api.coinex.com",www:"https://www.coinex.com",doc:"https://github.com/coinexcom/coinex_exchange_api/wiki",fees:"https://www.coinex.com/fees",referral:"https://www.coinex.com/register?refer_code=yw5fz"},api:{public:{get:["common/currency/rate","common/asset/config","market/info","market/list","market/ticker","market/ticker/all","market/depth","market/deals","market/kline"]},private:{get:["balance/coin/deposit","balance/coin/withdraw","balance/info","future/account","future/config","future/limitprice","future/loan/history","future/market","margin/account","margin/config","margin/loan/history","margin/market","order","order/deals","order/finished","order/finished/{id}","order/pending","order/status","order/status/batch","order/user/deals"],post:["balance/coin/withdraw","future/flat","future/loan","future/transfer","margin/flat","margin/loan","margin/transfer","order/batchlimit","order/ioc","order/limit","order/market","sub_account/transfer"],delete:["balance/coin/withdraw","order/pending/batch","order/pending"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCH:0,BTC:.001,LTC:.001,ETH:.001,ZEC:1e-4,DASH:1e-4}}},limits:{amount:{min:.001,max:void 0}},precision:{amount:8,price:8},options:{createMarketBuyOrderRequiresPrice:!0}})}async fetchMarkets(e={}){const t=await this.publicGetMarketInfo(e),i=this.safeValue(t,"data",{}),r=[],s=Object.keys(i);for(let a=0;a<s.length;a++){const e=i[s[a]],t=this.safeString(e,"name"),n=this.safeString(e,"trading_name"),o=n,c=this.safeString(e,"pricing_name"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c);let u=d+"/"+h;n===t&&(u=t);const l={amount:this.safeInteger(e,"trading_decimal"),price:this.safeInteger(e,"pricing_decimal")},f=void 0;r.push({id:t,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:f,taker:this.safeFloat(e,"taker_fee_rate"),maker:this.safeFloat(e,"maker_fee_rate"),info:e,precision:l,limits:{amount:{min:this.safeFloat(e,"min_amount"),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0}}})}return r}parseTicker(e,t){const i=this.safeInteger(e,"date");let r=void 0;void 0!==t&&(r=t.symbol),e=this.safeValue(e,"ticker",{});const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat2(e,"vol","volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetMarketTicker(this.extend(r,t));return this.parseTicker(s.data,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickerAll(t),r=this.safeValue(i,"data"),s=this.safeInteger(r,"date"),a=this.safeValue(r,"ticker"),n=Object.keys(a),o={};for(let c=0;c<n.length;c++){const e=n[c];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i.symbol);const r={date:s,ticker:a[e]};o[t]=this.parseTicker(r,i)}return o}async fetchOrderBook(e,t=20,i={}){await this.loadMarkets(),void 0===t&&(t=20);const r={market:this.marketId(e),merge:"0.0000000001",limit:t.toString()},s=await this.publicGetMarketDepth(this.extend(r,i));return this.parseOrderBook(s.data)}parseTrade(e,t){let i=this.safeTimestamp(e,"create_time");void 0===i&&(i=this.safeInteger(e,"date_ms"));const r=this.safeString(e,"id"),s=this.safeString(e,"order_id"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),o=this.safeString(e,"market");let c=void 0;void 0!==(t=this.safeValue(this.markets_by_id,o,t))&&(c=t.symbol);let d=this.safeFloat(e,"deal_money");d||(d=parseFloat(this.costToPrecision(c,a*n)));let h=void 0;const u=this.safeFloat(e,"fee");if(void 0!==u){const t=this.safeString(e,"fee_asset");h={cost:u,currency:this.safeCurrencyCode(t)}}const l=this.safeString(e,"role"),f=this.safeString(e,"type");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,id:r,order:s,type:void 0,side:f,takerOrMaker:l,price:a,amount:n,cost:d,fee:h}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetMarketDeals(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}parseOHLCV(e,t,i="5m",r,s){return[1e3*e[0],parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,type:this.timeframes[t]},o=await this.publicGetMarketKline(this.extend(n,s));return this.parseOHLCVs(o.data,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalanceInfo(e),i={info:t},r=this.safeValue(t,"data"),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.safeValue(r,e,{}),o=this.account();o.free=this.safeFloat(n,"available"),o.used=this.safeFloat(n,"frozen"),i[t]=o}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({not_deal:"open",part_deal:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeTimestamp(e,"create_time"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"deal_money"),a=this.safeFloat(e,"amount"),n=this.safeFloat(e,"deal_amount"),o=this.safeFloat(e,"avg_price");let c=void 0;const d=this.safeString(e,"market");t=this.safeValue(this.markets_by_id,d);const h=this.safeString(e,"fee_asset");let u=this.safeCurrencyCode(h);void 0!==t&&(c=t.symbol,void 0===u&&(u=t.quote));const l=this.safeFloat(e,"left"),f=this.parseOrderStatus(this.safeString(e,"status")),p=this.safeString(e,"order_type"),m=this.safeString(e,"type");return{id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:f,symbol:c,type:p,side:m,price:r,cost:s,average:o,amount:a,filled:n,remaining:l,trades:void 0,fee:{currency:u,cost:this.safeFloat(e,"deal_fee")},info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="privatePostOrder"+this.capitalize(t),o=this.market(e),d={market:o.id,type:i};if(r=parseFloat(r),"market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new c(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");s=parseFloat(s),d.amount=this.costToPrecision(e,r*s)}else d.amount=this.costToPrecision(e,r);else d.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t||(d.price=this.priceToPrecision(e,s));const h=await this[n](this.extend(d,a)),u=this.parseOrder(h.data,o),l=u.id;return this.orders[l]=u,u}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,market:r.id},a=await this.privateDeleteOrderPending(this.extend(s,i));return this.parseOrder(a.data,r)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={id:e,market:r.id},n=await this.privateGetOrder(this.extend(s,i));return this.parseOrder(n.data,r)}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const a={page:1,limit:r};let n=void 0;void 0!==t&&(n=this.market(t),a.market=n.id);const o="privateGetOrder"+this.capitalize(e),c=await this[o](this.extend(a,s));return this.parseOrders(c.data.data,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("pending",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("finished",e,t,i,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={page:1,limit:i};let a=void 0;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.privateGetOrderUserDeals(this.extend(s,r));return this.parseTrades(n.data.data,a,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);r&&(i=i+":"+r);const n={coin_type:a.id,coin_address:i,actual_amount:parseFloat(t),transfer_method:"1"},o=await this.privatePostBalanceCoinWithdraw(this.extend(n,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}parseTransactionStatus(e){return this.safeString({audit:"pending",pass:"pending",processing:"pending",confirming:"pending",not_pass:"failed",cancel:"canceled",finish:"ok",fail:"failed"},e,e)}parseTransaction(e,t){const i=this.safeString2(e,"coin_withdraw_id","coin_deposit_id"),r=this.safeString(e,"coin_address");let s=this.safeString(e,"remark");void 0!==s&&s.length<1&&(s=void 0);let a=this.safeValue(e,"tx_id");void 0!==a&&a.length<1&&(a=void 0);const n=this.safeString(e,"coin_type"),o=this.safeCurrencyCode(n,t),c=this.safeTimestamp(e,"create_time"),d="coin_withdraw_id"in e?"withdraw":"deposit",h=this.parseTransactionStatus(this.safeString(e,"status"),d),u=this.safeFloat(e,"amount");let l=this.safeFloat(e,"tx_fee");"deposit"===d&&(l=0);const f={cost:l,currency:o};return{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:d,amount:u,currency:o,status:h,updated:void 0,fee:f}}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchWithdrawals requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={coin_type:s.id};void 0!==i&&(n.Limit=i);const o=await this.privateGetBalanceCoinWithdraw(this.extend(n,r));return this.parseTransactions(o.data,s,t,i)}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchDeposits requires a currency code argument");await this.loadMarkets();const s=this.currency(e),n={coin_type:s.id};void 0!==i&&(n.Limit=i);const o=await this.privateGetBalanceCoinDeposit(this.extend(n,r));return this.parseTransactions(o.data,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){e=this.implodeParams(e,r);let n=this.urls.api+"/"+this.version+"/"+e,o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();o=this.extend({access_id:this.apiKey,tonce:e.toString()},o),o=this.keysort(o);const t=this.urlencode(o);s={Authorization:this.hash(this.encode(t+"&secret_key="+this.secret)).toUpperCase(),"Content-Type":"application/json"},"GET"===i||"DELETE"===i?n+="?"+t:a=this.json(o)}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,h){const u=await this.fetch2(e,t,i,r,a,h),l=this.safeString(u,"code"),f=this.safeValue(u,"data"),p=this.safeString(u,"message");if("0"!==l||void 0===f||"Ok"!==p&&!f){const e={24:d,25:d,107:n,600:o,601:c,602:c,606:c};throw new(this.safeValue(e,l,s))(u.message)}return u}}},"8TUC":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("ZERR"),s=i("e0KM"),a=i("vb3U"),n=i("BbEw");t.defineProperties=function(t,i,o){if(t.raw=[],t._fields=[],t.toJSON=function(e){if(void 0===e&&(e=!1),e){var i={};return t._fields.forEach((function(e){i[e]="0x"+t[e].toString("hex")})),i}return n.baToJSON(t.raw)},t.serialize=function(){return a.encode(t.raw)},i.forEach((function(i,s){function a(){return t.raw[s]}function o(a){"00"!==(a=n.toBuffer(a)).toString("hex")||i.allowZero||(a=e.allocUnsafe(0)),i.allowLess&&i.length?(a=n.stripZeros(a),r(i.length>=a.length,"The field "+i.name+" must not have more "+i.length+" bytes")):i.allowZero&&0===a.length||!i.length||r(i.length===a.length,"The field "+i.name+" must have byte length of "+i.length),t.raw[s]=a}t._fields.push(i.name),Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:a,set:o}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:o,get:a})})),o)if("string"===typeof o&&(o=e.from(s.stripHexPrefix(o),"hex")),e.isBuffer(o)&&(o=a.decode(o)),Array.isArray(o)){if(o.length>t._fields.length)throw new Error("wrong number of fields in data");o.forEach((function(e,i){t[t._fields[i]]=n.toBuffer(e)}))}else{if("object"!==typeof o)throw new Error("invalid data");var c=Object.keys(o);i.forEach((function(e){-1!==c.indexOf(e.name)&&(t[e.name]=o[e.name]),-1!==c.indexOf(e.alias)&&(t[e.alias]=o[e.alias])}))}}}).call(this,i("qykS").Buffer)},"8gph":function(e,t,i){var r=i("pRMk").Buffer;function s(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,i=new Array(t),s=0;s<t;s++)i[s]=e.readUInt32BE(4*s);return i}function a(e){for(;0<e.length;e++)e[0]=0}function n(e,t,i,r,s){for(var a,n,o,c,d=i[0],h=i[1],u=i[2],l=i[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],y=e[3]^t[3],b=4,v=1;v<s;v++)a=d[f>>>24]^h[p>>>16&255]^u[m>>>8&255]^l[255&y]^t[b++],n=d[p>>>24]^h[m>>>16&255]^u[y>>>8&255]^l[255&f]^t[b++],o=d[m>>>24]^h[y>>>16&255]^u[f>>>8&255]^l[255&p]^t[b++],c=d[y>>>24]^h[f>>>16&255]^u[p>>>8&255]^l[255&m]^t[b++],f=a,p=n,m=o,y=c;return a=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&y])^t[b++],n=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[y>>>8&255]<<8|r[255&f])^t[b++],o=(r[m>>>24]<<24|r[y>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[b++],c=(r[y>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[b++],[a>>>=0,n>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],s=[[],[],[],[]],a=[[],[],[],[]],n=0,o=0,c=0;c<256;++c){var d=o^o<<1^o<<2^o<<3^o<<4;d=d>>>8^255&d^99,i[n]=d,r[d]=n;var h=e[n],u=e[h],l=e[u],f=257*e[d]^16843008*d;s[0][n]=f<<24|f>>>8,s[1][n]=f<<16|f>>>16,s[2][n]=f<<8|f>>>24,s[3][n]=f,f=16843009*l^65537*u^257*h^16843008*n,a[0][d]=f<<24|f>>>8,a[1][d]=f<<16|f>>>16,a[2][d]=f<<8|f>>>24,a[3][d]=f,0===n?n=o=1:(n=h^e[e[e[l^h]]],o^=e[e[o]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:s,INV_SUB_MIX:a}}();function d(e){this._key=s(e),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),s=[],a=0;a<t;a++)s[a]=e[a];for(a=t;a<r;a++){var n=s[a-1];a%t===0?(n=n<<8|n>>>24,n=c.SBOX[n>>>24]<<24|c.SBOX[n>>>16&255]<<16|c.SBOX[n>>>8&255]<<8|c.SBOX[255&n],n^=o[a/t|0]<<24):t>6&&a%t===4&&(n=c.SBOX[n>>>24]<<24|c.SBOX[n>>>16&255]<<16|c.SBOX[n>>>8&255]<<8|c.SBOX[255&n]),s[a]=s[a-t]^n}for(var d=[],h=0;h<r;h++){var u=r-h,l=s[u-(h%4?0:4)];d[h]=h<4||u<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=i,this._keySchedule=s,this._invKeySchedule=d},d.prototype.encryptBlockRaw=function(e){return n(e=s(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},d.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=r.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},d.prototype.decryptBlock=function(e){var t=(e=s(e))[1];e[1]=e[3],e[3]=t;var i=n(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),a=r.allocUnsafe(16);return a.writeUInt32BE(i[0],0),a.writeUInt32BE(i[3],4),a.writeUInt32BE(i[2],8),a.writeUInt32BE(i[1],12),a},d.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},e.exports.AES=d},"8kJ5":function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i(6).Buffer}catch(S){}function o(e,t,i){for(var r=0,s=Math.min(e.length,i),a=t;a<s;a++){var n=e.charCodeAt(a)-48;r<<=4,r|=n>=49&&n<=54?n-49+10:n>=17&&n<=22?n-17+10:15&n}return r}function c(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,a=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,d=0,h=i;h<o;h+=r)d=c(e,h,h+r,t),this.imuln(s),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==n){var u=1;for(d=c(e,h,e.length,t),h=0;h<n;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var d=1;d<r;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;h+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!==(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=u[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[l-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r("undefined"!==typeof n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,d=new e(a),h=this.clone();if(c){for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[o]=n;for(;o<a;o++)d[o]=0}else{for(o=0;o<a-s;o++)d[o]=0;for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[a-o-1]=n}return d},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,d=0,h=0|n[0],u=8191&h,l=h>>>13,f=0|n[1],p=8191&f,m=f>>>13,y=0|n[2],b=8191&y,v=y>>>13,g=0|n[3],w=8191&g,k=g>>>13,_=0|n[4],T=8191&_,S=_>>>13,x=0|n[5],O=8191&x,C=x>>>13,M=0|n[6],A=8191&M,E=M>>>13,I=0|n[7],B=8191&I,F=I>>>13,P=0|n[8],R=8191&P,q=P>>>13,L=0|n[9],D=8191&L,N=L>>>13,U=0|o[0],V=8191&U,G=U>>>13,j=0|o[1],H=8191&j,K=j>>>13,z=0|o[2],W=8191&z,X=z>>>13,Y=0|o[3],Z=8191&Y,J=Y>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ye=(d+(r=Math.imul(u,V))|0)+((8191&(s=(s=Math.imul(u,G))+Math.imul(l,V)|0))<<13)|0;d=((a=Math.imul(l,G))+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,V),s=(s=Math.imul(p,G))+Math.imul(m,V)|0,a=Math.imul(m,G);var be=(d+(r=r+Math.imul(u,H)|0)|0)+((8191&(s=(s=s+Math.imul(u,K)|0)+Math.imul(l,H)|0))<<13)|0;d=((a=a+Math.imul(l,K)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,V),s=(s=Math.imul(b,G))+Math.imul(v,V)|0,a=Math.imul(v,G),r=r+Math.imul(p,H)|0,s=(s=s+Math.imul(p,K)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,K)|0;var ve=(d+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,X)|0)+Math.imul(l,W)|0))<<13)|0;d=((a=a+Math.imul(l,X)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,V),s=(s=Math.imul(w,G))+Math.imul(k,V)|0,a=Math.imul(k,G),r=r+Math.imul(b,H)|0,s=(s=s+Math.imul(b,K)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,K)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,X)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,X)|0;var ge=(d+(r=r+Math.imul(u,Z)|0)|0)+((8191&(s=(s=s+Math.imul(u,J)|0)+Math.imul(l,Z)|0))<<13)|0;d=((a=a+Math.imul(l,J)|0)+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(T,V),s=(s=Math.imul(T,G))+Math.imul(S,V)|0,a=Math.imul(S,G),r=r+Math.imul(w,H)|0,s=(s=s+Math.imul(w,K)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,K)|0,r=r+Math.imul(b,W)|0,s=(s=s+Math.imul(b,X)|0)+Math.imul(v,W)|0,a=a+Math.imul(v,X)|0,r=r+Math.imul(p,Z)|0,s=(s=s+Math.imul(p,J)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,J)|0;var we=(d+(r=r+Math.imul(u,$)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,$)|0))<<13)|0;d=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,V),s=(s=Math.imul(O,G))+Math.imul(C,V)|0,a=Math.imul(C,G),r=r+Math.imul(T,H)|0,s=(s=s+Math.imul(T,K)|0)+Math.imul(S,H)|0,a=a+Math.imul(S,K)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,X)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(b,Z)|0,s=(s=s+Math.imul(b,J)|0)+Math.imul(v,Z)|0,a=a+Math.imul(v,J)|0,r=r+Math.imul(p,$)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,ee)|0;var ke=(d+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;d=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(A,V),s=(s=Math.imul(A,G))+Math.imul(E,V)|0,a=Math.imul(E,G),r=r+Math.imul(O,H)|0,s=(s=s+Math.imul(O,K)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(T,W)|0,s=(s=s+Math.imul(T,X)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,X)|0,r=r+Math.imul(w,Z)|0,s=(s=s+Math.imul(w,J)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,J)|0,r=r+Math.imul(b,$)|0,s=(s=s+Math.imul(b,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var _e=(d+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;d=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,V),s=(s=Math.imul(B,G))+Math.imul(F,V)|0,a=Math.imul(F,G),r=r+Math.imul(A,H)|0,s=(s=s+Math.imul(A,K)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,X)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,X)|0,r=r+Math.imul(T,Z)|0,s=(s=s+Math.imul(T,J)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(w,$)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(b,ie)|0,s=(s=s+Math.imul(b,re)|0)+Math.imul(v,ie)|0,a=a+Math.imul(v,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var Te=(d+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,de)|0)+Math.imul(l,ce)|0))<<13)|0;d=((a=a+Math.imul(l,de)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(R,V),s=(s=Math.imul(R,G))+Math.imul(q,V)|0,a=Math.imul(q,G),r=r+Math.imul(B,H)|0,s=(s=s+Math.imul(B,K)|0)+Math.imul(F,H)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(A,W)|0,s=(s=s+Math.imul(A,X)|0)+Math.imul(E,W)|0,a=a+Math.imul(E,X)|0,r=r+Math.imul(O,Z)|0,s=(s=s+Math.imul(O,J)|0)+Math.imul(C,Z)|0,a=a+Math.imul(C,J)|0,r=r+Math.imul(T,$)|0,s=(s=s+Math.imul(T,ee)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(b,ae)|0,s=(s=s+Math.imul(b,ne)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,de)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,de)|0;var Se=(d+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;d=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,V),s=(s=Math.imul(D,G))+Math.imul(N,V)|0,a=Math.imul(N,G),r=r+Math.imul(R,H)|0,s=(s=s+Math.imul(R,K)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,K)|0,r=r+Math.imul(B,W)|0,s=(s=s+Math.imul(B,X)|0)+Math.imul(F,W)|0,a=a+Math.imul(F,X)|0,r=r+Math.imul(A,Z)|0,s=(s=s+Math.imul(A,J)|0)+Math.imul(E,Z)|0,a=a+Math.imul(E,J)|0,r=r+Math.imul(O,$)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(T,ie)|0,s=(s=s+Math.imul(T,re)|0)+Math.imul(S,ie)|0,a=a+Math.imul(S,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(b,ce)|0,s=(s=s+Math.imul(b,de)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,de)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var xe=(d+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;d=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,H),s=(s=Math.imul(D,K))+Math.imul(N,H)|0,a=Math.imul(N,K),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,X)|0)+Math.imul(q,W)|0,a=a+Math.imul(q,X)|0,r=r+Math.imul(B,Z)|0,s=(s=s+Math.imul(B,J)|0)+Math.imul(F,Z)|0,a=a+Math.imul(F,J)|0,r=r+Math.imul(A,$)|0,s=(s=s+Math.imul(A,ee)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(C,ie)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(T,ae)|0,s=(s=s+Math.imul(T,ne)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,de)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,de)|0,r=r+Math.imul(b,ue)|0,s=(s=s+Math.imul(b,le)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0;var Oe=(d+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;d=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,X))+Math.imul(N,W)|0,a=Math.imul(N,X),r=r+Math.imul(R,Z)|0,s=(s=s+Math.imul(R,J)|0)+Math.imul(q,Z)|0,a=a+Math.imul(q,J)|0,r=r+Math.imul(B,$)|0,s=(s=s+Math.imul(B,ee)|0)+Math.imul(F,$)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(A,ie)|0,s=(s=s+Math.imul(A,re)|0)+Math.imul(E,ie)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,ne)|0,r=r+Math.imul(T,ce)|0,s=(s=s+Math.imul(T,de)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,de)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var Ce=(d+(r=r+Math.imul(b,pe)|0)|0)+((8191&(s=(s=s+Math.imul(b,me)|0)+Math.imul(v,pe)|0))<<13)|0;d=((a=a+Math.imul(v,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,Z),s=(s=Math.imul(D,J))+Math.imul(N,Z)|0,a=Math.imul(N,J),r=r+Math.imul(R,$)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,ee)|0,r=r+Math.imul(B,ie)|0,s=(s=s+Math.imul(B,re)|0)+Math.imul(F,ie)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(A,ae)|0,s=(s=s+Math.imul(A,ne)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,de)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,de)|0,r=r+Math.imul(T,ue)|0,s=(s=s+Math.imul(T,le)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,le)|0;var Me=(d+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;d=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,$),s=(s=Math.imul(D,ee))+Math.imul(N,$)|0,a=Math.imul(N,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(q,ie)|0,a=a+Math.imul(q,re)|0,r=r+Math.imul(B,ae)|0,s=(s=s+Math.imul(B,ne)|0)+Math.imul(F,ae)|0,a=a+Math.imul(F,ne)|0,r=r+Math.imul(A,ce)|0,s=(s=s+Math.imul(A,de)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,de)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,le)|0;var Ae=(d+(r=r+Math.imul(T,pe)|0)|0)+((8191&(s=(s=s+Math.imul(T,me)|0)+Math.imul(S,pe)|0))<<13)|0;d=((a=a+Math.imul(S,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(N,ie)|0,a=Math.imul(N,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,ne)|0,r=r+Math.imul(B,ce)|0,s=(s=s+Math.imul(B,de)|0)+Math.imul(F,ce)|0,a=a+Math.imul(F,de)|0,r=r+Math.imul(A,ue)|0,s=(s=s+Math.imul(A,le)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,le)|0;var Ee=(d+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(C,pe)|0))<<13)|0;d=((a=a+Math.imul(C,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(N,ae)|0,a=Math.imul(N,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,de)|0)+Math.imul(q,ce)|0,a=a+Math.imul(q,de)|0,r=r+Math.imul(B,ue)|0,s=(s=s+Math.imul(B,le)|0)+Math.imul(F,ue)|0,a=a+Math.imul(F,le)|0;var Ie=(d+(r=r+Math.imul(A,pe)|0)|0)+((8191&(s=(s=s+Math.imul(A,me)|0)+Math.imul(E,pe)|0))<<13)|0;d=((a=a+Math.imul(E,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,de))+Math.imul(N,ce)|0,a=Math.imul(N,de),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,le)|0;var Be=(d+(r=r+Math.imul(B,pe)|0)|0)+((8191&(s=(s=s+Math.imul(B,me)|0)+Math.imul(F,pe)|0))<<13)|0;d=((a=a+Math.imul(F,me)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(N,ue)|0,a=Math.imul(N,le);var Fe=(d+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(q,pe)|0))<<13)|0;d=((a=a+Math.imul(q,me)|0)+(s>>>13)|0)+(Fe>>>26)|0,Fe&=67108863;var Pe=(d+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(N,pe)|0))<<13)|0;return d=((a=Math.imul(N,me))+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=ye,c[1]=be,c[2]=ve,c[3]=ge,c[4]=we,c[5]=ke,c[6]=_e,c[7]=Te,c[8]=Se,c[9]=xe,c[10]=Oe,c[11]=Ce,c[12]=Me,c[13]=Ae,c[14]=Ee,c[15]=Ie,c[16]=Be,c[17]=Fe,c[18]=Pe,0!==d&&(c[19]=d,i.length++),i};function p(e,t,i){return(new m).mulp(e,t,i)}function m(e,t){this.x=e,this.y=t}Math.imul||(f=l),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):i<63?l(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),d=Math.max(0,a-e.length+1);d<=c;d++){var h=a-d,u=(0|e.words[h])*(0|t.words[d]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},m.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},m.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},m.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<s;h+=o)for(var u=c,l=d,f=0;f<n;f++){var p=i[h+f],m=r[h+f],y=i[h+f+n],b=r[h+f+n],v=u*y-l*b;b=u*b+l*y,y=v,i[h+f]=p+y,r[h+f]=m+b,i[h+f+n]=p-y,r[h+f+n]=m-b,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},m.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},m.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},m.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},m.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0===(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},m.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),d=new Array(r),h=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,d,r),this.transform(n,a,o,c,r,s),this.transform(d,a,h,u,r,s);for(var f=0;f<r;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"===typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var d=0;d<n;d++)c.words[d]=this.words[d];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,d=0;d<this.length;d++)this.words[d]=this.words[d+n];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=s);d--){var u=0|this.words[d];this.words[d]=h<<26-a|u>>>a,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i)&&!!(this.words[i]&s)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!==(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var d=0;d<o.length;d++)o.words[d]=0}var h=r.clone()._ishlnsubmul(s,1,c);0===h.negative&&(r=h,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),d=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++d;for(var h=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(h),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(d)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i.strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=4194303&s,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|s>>>22,s=a}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(g,b),s(w,b),s(k,b),k.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new g;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);0!==this.pow(h,d).cmp(c);)h.redIAdd(c);for(var u=this.pow(h,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,y=0;0!==m.cmp(o);y++)m=m.redSqr();r(y<p);var b=this.pow(u,new a(1).iushln(p-y-1));l=l.redMul(b),u=b.redSqr(),f=f.redMul(u),p=y}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var d=t.words[r],h=c-1;h>=0;h--){var u=d>>h&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4===++o||0===r&&0===h)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},s(T,_),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i("RoC8")(e))},"98kT":function(e,t,i){"use strict";const r=i("OjXq"),{AuthenticationError:s,ExchangeError:a,NotSupported:n,PermissionDenied:o,InvalidNonce:c,OrderNotFound:d,InsufficientFunds:h,InvalidAddress:u,InvalidOrder:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v2",userAgent:this.userAgents.chrome,has:{CORS:!0,fetchDepositAddress:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:{public:"https://www.bitstamp.net/api",private:"https://www.bitstamp.net/api"},www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["order_book/{pair}/","ticker_hour/{pair}/","ticker/{pair}/","transactions/{pair}/","trading-pairs-info/"]},private:{post:["balance/","balance/{pair}/","bch_withdrawal/","bch_address/","user_transactions/","user_transactions/{pair}/","open_orders/all/","open_orders/{pair}/","order_status/","cancel_order/","buy/{pair}/","buy/market/{pair}/","buy/instant/{pair}/","sell/{pair}/","sell/market/{pair}/","sell/instant/{pair}/","ltc_withdrawal/","ltc_address/","eth_withdrawal/","eth_address/","xrp_withdrawal/","xrp_address/","transfer-to-main/","transfer-from-main/","withdrawal-requests/","withdrawal/open/","withdrawal/status/","withdrawal/cancel/","liquidation_address/new/","liquidation_address/info/"]},v1:{post:["bitcoin_deposit_address/","unconfirmed_btc/","bitcoin_withdrawal/","ripple_withdrawal/","ripple_address/"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.005,maker:.005,tiers:{taker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]],maker:[[0,.005],[2e4,.0025],[1e5,.0024],[2e5,.0022],[4e5,.002],[6e5,.0015],[1e6,.14/100],[2e6,.0013],[4e6,.0012],[2e7,.0011],[20000001,.001]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:.9},deposit:{BTC:0,BCH:0,LTC:0,ETH:0,XRP:0,USD:25,EUR:0}}},exceptions:{exact:{"No permission found":o,"API key not found":s,"IP address not allowed":o,"Invalid nonce":c,"Invalid signature":s,"Authentication failed":s,"Missing key, signature and nonce parameters":s,"Your account is frozen":o,"Please update your profile with your FATCA information, before using API.":o,"Order not found":d,"Price is more than 20% below market price.":l},broad:{"Minimum order size is":l,"Check your account balance for details.":h,"Ensure this value has at least":u}}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairsInfo(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name");let[a,n]=s.split("/");const o=a.toLowerCase(),c=n.toLowerCase();a=this.safeCurrencyCode(a),n=this.safeCurrencyCode(n);const d=a+"/"+n,h=o+"_"+c,u=this.safeString(e,"url_symbol"),l={amount:e.base_decimals,price:e.counter_decimals},f=e.minimum_order.split(" ")[0],p="Enabled"===e.trading;i.push({id:u,symbol:d,base:a,quote:n,baseId:o,quoteId:c,symbolId:h,info:e,active:p,precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:void 0},price:{min:Math.pow(10,-l.price),max:void 0},cost:{min:parseFloat(f),max:void 0}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetOrderBookPair(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetTickerPair(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),a=this.safeFloat(r,"vwap"),n=this.safeFloat(r,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeFloat(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:r}}getCurrencyIdFromTransaction(e){const t=this.safeStringLower(e,"currency");if(void 0!==t)return t;e=this.omit(e,["fee","price","datetime","type","status","id"]);const i=Object.keys(e);for(let r=0;r<i.length;r++){const t=i[r];if(t.indexOf("_")<0){const i=this.safeFloat(e,t);if(void 0!==i&&0!==i)return t}}}getMarketFromTrade(e){e=this.omit(e,["fee","price","datetime","tid","type","order_id","side"]);const t=Object.keys(e),i=t.length;if(i>2)throw new a(this.id+" getMarketFromTrade too many keys: "+this.json(t)+" in the trade: "+this.json(e));if(2===i){let e=t[0]+t[1];if(e in this.markets_by_id)return this.markets_by_id[e];if(e=t[1]+t[0],e in this.markets_by_id)return this.markets_by_id[e]}}getMarketFromTrades(e){const t=this.indexBy(e,"symbol"),i=Object.keys(t);if(1===i.length)return this.markets[i[0]]}parseTrade(e,t){const i=this.safeString2(e,"id","tid");let r=void 0,s=void 0,a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");const o=this.safeString(e,"order_id");let c=this.safeFloat(e,"cost");if(void 0===t){const i=Object.keys(e);for(let e=0;e<i.length;e++)if(i[e].indexOf("_")>=0){const r=i[e].replace("_","");r in this.markets_by_id&&(t=this.markets_by_id[r])}void 0===t&&(t=this.getMarketFromTrade(e))}const d=this.safeFloat(e,"fee");let h=void 0;void 0!==t&&(a=this.safeFloat(e,t.symbolId,a),n=this.safeFloat(e,t.baseId,n),c=this.safeFloat(e,t.quoteId,c),h=t.quote,r=t.symbol);let u=this.safeString2(e,"date","datetime");void 0!==u&&(u.indexOf(" ")>=0?u=this.parse8601(u):(u=parseInt(u),u*=1e3)),"id"in e?void 0!==n&&(n<0?(s="sell",n=-n):s="buy"):(s=this.safeString(e,"type"),"1"===s?s="sell":"0"===s&&(s="buy")),void 0===c&&void 0!==a&&void 0!==n&&(c=a*n),void 0!==c&&(c=Math.abs(c));let l=void 0;return void 0!==d&&(l={cost:d,currency:h}),{id:i,info:e,timestamp:u,datetime:this.iso8601(u),symbol:r,order:o,type:void 0,side:s,takerOrMaker:void 0,price:a,amount:n,cost:c,fee:l}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id,time:"hour"},n=await this.publicGetTransactionsPair(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currency(e).id,n=this.account();n.free=this.safeFloat(t,a+"_available"),n.used=this.safeFloat(t,a+"_reserved"),n.total=this.safeFloat(t,a+"_balance"),i[e]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o="privatePost"+this.capitalize(i);const c={pair:n.id,amount:this.amountToPrecision(e,r)};"market"===t?o+="Market":c.price=this.priceToPrecision(e,s),o+="Pair";const d=await this[o](this.extend(c,a)),h=this.parseOrder(d,n);return this.extend(h,{type:t})}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrderStatus(this.safeString(s,"status"))}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;void 0!==t&&(r=this.market(t));const s={id:e},a=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrder(a,r)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a="privatePostUserTransactions",n=void 0;void 0!==e&&(n=this.market(e),s.pair=n.id,a+="Pair"),void 0!==i&&(s.limit=i);const o=await this[a](this.extend(s,r)),c=this.filterBy(o,"type","2");return this.parseTrades(c,n,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i);const a=await this.privatePostUserTransactions(this.extend(s,r));let n=void 0;void 0!==e&&(n=this.currency(e));const o=this.filterByArray(a,"type",["0","1"],!1);return this.parseTransactions(o,n,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.timedelta=this.milliseconds()-t);const a=await this.privatePostWithdrawalRequests(this.extend(s,r));return this.parseTransactions(a,void 0,t,i)}parseTransaction(e,t){const i=this.parse8601(this.safeString(e,"datetime")),r=this.safeString(e,"id"),s=this.getCurrencyIdFromTransaction(e),a=this.safeCurrencyCode(s,t),n=this.safeFloat(e,"fee");let o=void 0,c=void 0;"amount"in e?c=this.safeFloat(e,"amount"):void 0!==t?(c=this.safeFloat(e,t.id,c),o=t.code):void 0!==a&&void 0!==s&&(c=this.safeFloat(e,s,c),o=a),void 0!==c&&(c=Math.abs(c));let d="ok";"status"in e&&(d=this.parseTransactionStatus(this.safeString(e,"status")));let h=void 0;if("type"in e){const t=this.safeString(e,"type");"0"===t?h="deposit":"1"===t&&(h="withdrawal")}else h="withdrawal";const u=this.safeString(e,"transaction_id");let l=void 0,f=this.safeString(e,"address");if(void 0!==f){const e=f.split("?dt=");e.length>1&&(f=e[0],l=e[1])}const p=f,m=l;let y=void 0;return void 0!==n&&(y={currency:o,cost:n,rate:void 0}),{info:e,id:r,txid:u,timestamp:i,datetime:this.iso8601(i),addressFrom:void 0,addressTo:p,address:f,tagFrom:void 0,tagTo:m,tag:l,type:h,amount:c,currency:a,status:d,updated:void 0,fee:y}}parseTransactionStatus(e){return this.safeString({0:"pending",1:"pending",2:"ok",3:"canceled",4:"failed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=this.safeString(e,"type");void 0!==r&&(r="1"===r?"sell":"buy");const s=this.parse8601(this.safeString(e,"datetime"));let a=void 0,n=void 0,o=this.safeStringLower(e,"currency_pair");void 0!==o&&(o=o.replace("/",""),o in this.markets_by_id&&(n=(t=this.markets_by_id[o]).symbol));let c=this.safeFloat(e,"amount"),d=0;const h=[],u=this.safeValue(e,"transactions",[]);let l=void 0,f=void 0;const p=u.length;if(p>0){l=0;for(let e=0;e<p;e++){const s=this.parseTrade(this.extend({order_id:i,side:r},u[e]),t);d=this.sum(d,s.amount),l=this.sum(l,s.fee.cost),void 0===f&&(f=0),f=this.sum(f,s.cost),h.push(s)}a=h[p-1].timestamp}const m=this.parseOrderStatus(this.safeString(e,"status"));"closed"===m&&void 0===c&&(c=d);let y=void 0;void 0!==c&&(y=c-d);let b=this.safeFloat(e,"price");void 0===t&&(t=this.getMarketFromTrades(h));let v=void 0;void 0!==t&&(void 0===n&&(n=t.symbol),v=t.quote),void 0===f?void 0!==b&&(f=b*d):void 0===b&&d>0&&(b=f/d);let g=void 0;return void 0!==l&&void 0!==v&&(g={cost:l,currency:v}),{id:i,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:a,status:m,symbol:n,type:void 0,side:r,price:b,cost:f,amount:c,filled:d,remaining:y,trades:h,fee:g,info:e}}async fetchOpenOrders(e,t,i,r={}){let s=void 0;await this.loadMarkets(),void 0!==e&&(s=this.market(e));const a=await this.privatePostOpenOrdersAll(r),n=[];for(let o=0;o<a.length;o++){const e=this.parseOrder(a[o],s);n.push(this.extend(e,{status:"open",type:"limit"}))}return void 0===e?this.filterBySinceLimit(n,t,i):this.filterBySymbolSinceLimit(n,e,t,i)}getCurrencyName(e){return"BTC"===e?"bitcoin":e.toLowerCase()}isFiat(e){return"USD"===e||"EUR"===e}async fetchDepositAddress(e,t={}){if(this.isFiat(e))throw new n(this.id+" fiat fetchDepositAddress() for "+e+" is not implemented yet");const i=this.getCurrencyName(e),r="BTC"===e;let s=r?"v1":"private";s+="Post"+this.capitalize(i),s+=r?"Deposit":"",s+="Address";const a=await this[s](t),o=r?a:this.safeString(a,"address"),c=r?void 0:this.safeString(a,"destination_tag");return this.checkAddress(o),{currency:e,address:o,tag:c,info:a}}async withdraw(e,t,i,r,s={}){if(this.checkAddress(i),this.isFiat(e))throw new n(this.id+" fiat withdraw() for "+e+" is not implemented yet");const a=this.getCurrencyName(e),o={amount:t,address:i};let c="BTC"===e?"v1":"private";c+="Post"+this.capitalize(a)+"Withdrawal","XRP"===e&&void 0!==r&&(o.destination_tag=r);const d=await this[c](this.extend(o,s));return{info:d,id:d.id}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";"v1"!==t&&(n+=this.version+"/"),n+=this.implodeParams(e,r);let o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),a=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,n,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"status"),l=this.safeValue(c,"error");if("error"===u||void 0!==l){let e=[];if("string"===typeof l)e.push(l);else if(void 0!==l){const t=Object.keys(l);for(let i=0;i<t.length;i++){const r=t[i],s=this.safeValue(l,r);Array.isArray(s)?e=this.arrayConcat(e,s):e.push(s)}}const t=this.safeValue(c,"reason",{});if("string"===typeof t)e.push(t);else{const i=this.safeValue(t,"__all__",[]);for(let t=0;t<i.length;t++)e.push(i[t])}if("API0005"===this.safeString(c,"code"))throw new s(this.id+" invalid signature, use the uid for the main account if you have subaccounts");const i=this.id+" "+o;for(let r=0;r<e.length;r++){const t=e[r];this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i)}throw new a(i)}}}},"9SAk":function(e,t,i){"use strict";const r=i("BVIH");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"fcoinjp",name:"FCoinJP",countries:["JP"],hostname:"fcoinjp.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/54219174-08b66b00-4500-11e9-862d-f522d0fe08c6.jpg",fees:"https://fcoinjp.zendesk.com/hc/en-us/articles/360018727371",www:"https://www.fcoinjp.com",referral:void 0}})}}},"9Uy0":function(e,t,i){"use strict";var r=i("FSRv");function s(e){const t=function(t,i){return"string"===typeof t&&"//"===t.slice(0,2)?e("https:"+t,i):e(t,i)};return t.http=e.http,t.https=e.https,t}e.exports=function(e){return e&&e.Promise&&(r.Promise=e.Promise),{fetch:s(r),Headers:r.Headers,Request:r.Request,Response:r.Response}}},"9dER":function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i("bPso"),t.createHash=t.Hash=i("+oaW"),t.createHmac=t.Hmac=i("cXWM");var r=i("G2uu"),s=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);t.getHashes=function(){return a};var n=i("hnK/");t.pbkdf2=n.pbkdf2,t.pbkdf2Sync=n.pbkdf2Sync;var o=i("QEnC");t.Cipher=o.Cipher,t.createCipher=o.createCipher,t.Cipheriv=o.Cipheriv,t.createCipheriv=o.createCipheriv,t.Decipher=o.Decipher,t.createDecipher=o.createDecipher,t.Decipheriv=o.Decipheriv,t.createDecipheriv=o.createDecipheriv,t.getCiphers=o.getCiphers,t.listCiphers=o.listCiphers;var c=i("C1tN");t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var d=i("Z+yf");t.createSign=d.createSign,t.Sign=d.Sign,t.createVerify=d.createVerify,t.Verify=d.Verify,t.createECDH=i("Q6g+");var h=i("kmpK");t.publicEncrypt=h.publicEncrypt,t.privateEncrypt=h.privateEncrypt,t.publicDecrypt=h.publicDecrypt,t.privateDecrypt=h.privateDecrypt;var u=i("L2gJ");t.randomFill=u.randomFill,t.randomFillSync=u.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},"9eKw":function(e,t,i){"use strict";var r=i("PoH+"),s=i("/mWR").errors,a=i("/mWR").formatters,n=i("WZyW"),o=i("pmRz"),c=i("w+uW").subscriptions,d=function(e){if(!e.call||!e.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.transformPayload=e.transformPayload,this.extraFormatters=e.extraFormatters,this.abiCoder=e.abiCoder,this.requestManager=e.requestManager,this.accounts=e.accounts,this.defaultBlock=e.defaultBlock||"latest",this.defaultAccount=e.defaultAccount||null,this.transactionBlockTimeout=e.transactionBlockTimeout||50,this.transactionConfirmationBlocks=e.transactionConfirmationBlocks||24,this.transactionPollingTimeout=e.transactionPollingTimeout||750,this.defaultCommon=e.defaultCommon,this.defaultChain=e.defaultChain,this.defaultHardfork=e.defaultHardfork,this.handleRevert=e.handleRevert};d.prototype.setRequestManager=function(e,t){this.requestManager=e,t&&(this.accounts=t)},d.prototype.createFunction=function(e,t){var i=this.buildCall();return i.call=this.call,this.setRequestManager(e||this.requestManager,t||this.accounts),i},d.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var i=this.name.split(".");i.length>1?(e[i[0]]=e[i[0]]||{},e[i[0]][i[1]]=t):e[i[0]]=t},d.prototype.getCall=function(e){return r.isFunction(this.call)?this.call(e):this.call},d.prototype.extractCallback=function(e){if(r.isFunction(e[e.length-1]))return e.pop()},d.prototype.validateArgs=function(e){if(e.length!==this.params)throw s.InvalidNumberOfParams(e.length,this.params,this.name)},d.prototype.formatInput=function(e){var t=this;return this.inputFormatter?this.inputFormatter.map((function(i,r){return i?i.call(t,e[r]):e[r]})):e},d.prototype.formatOutput=function(e){var t=this;return r.isArray(e)?e.map((function(e){return t.outputFormatter&&e?t.outputFormatter(e):e})):this.outputFormatter&&e?this.outputFormatter(e):e},d.prototype.toPayload=function(e){var t=this.getCall(e),i=this.extractCallback(e),r=this.formatInput(e);this.validateArgs(r);var s={method:t,params:r,callback:i};return this.transformPayload&&(s=this.transformPayload(s)),s},d.prototype._confirmTransaction=function(e,t,i){var h=this,u=!1,l=!0,f=0,p=0,m=null,y=null,b=r.isObject(i.params[0])&&i.params[0].gas?i.params[0].gas:null,v=r.isObject(i.params[0])&&i.params[0].data&&i.params[0].from&&!i.params[0].to,g=v&&i.params[0].data.length>2,w=[new d({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[a.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:a.outputBlockFormatter}),new d({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:a.outputTransactionReceiptFormatter}),new d({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[a.inputAddressFormatter,a.inputDefaultBlockNumberFormatter]}),new c({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:a.outputBlockFormatter}}})],k={};r.each(w,(function(e){e.attachToObject(k),e.requestManager=h.requestManager}));var _=function(r,a,c,d,w){if(!c)return w||(w={unsubscribe:function(){clearInterval(m)}}),(r?o.resolve(r):k.getTransactionReceipt(t)).catch((function(t){w.unsubscribe(),u=!0,n._fireError({message:"Failed to check for transaction receipt:",data:t},e.eventEmitter,e.reject)})).then((async function(t){if(!t||!t.blockHash)throw new Error("Receipt missing or blockHash null");var i;(h.extraFormatters&&h.extraFormatters.receiptFormatter&&(t=h.extraFormatters.receiptFormatter(t)),e.eventEmitter.listeners("confirmation").length>0)&&(void 0!==r&&0===p||(a?y?(i=await k.getBlockByNumber(y.number+1))&&(y=i,e.eventEmitter.emit("confirmation",p,t)):(i=await k.getBlockByNumber(t.blockNumber),y=i,e.eventEmitter.emit("confirmation",p,t)):e.eventEmitter.emit("confirmation",p,t)),(a&&i||!a)&&p++,l=!1,p===h.transactionConfirmationBlocks+1&&(w.unsubscribe(),e.eventEmitter.removeAllListeners()));return t})).then((async function(t){if(v&&!u){if(!t.contractAddress)return l&&(w.unsubscribe(),u=!0),void n._fireError(s.NoContractAddressFoundError(t),e.eventEmitter,e.reject,null,t);var i;try{i=await k.getCode(t.contractAddress)}catch(c){}if(!i)return;!0===t.status&&g||i.length>2?(e.eventEmitter.emit("receipt",t),h.extraFormatters&&h.extraFormatters.contractDeployFormatter?e.resolve(h.extraFormatters.contractDeployFormatter(t)):e.resolve(t),l&&e.eventEmitter.removeAllListeners()):n._fireError(s.ContractCodeNotStoredError(t),e.eventEmitter,e.reject,null,t),l&&w.unsubscribe(),u=!0}return t})).then((async function(t){if(!v&&!u){if(t.outOfGas||b&&b===t.gasUsed||!0!==t.status&&"0x1"!==t.status&&"undefined"!==typeof t.status)if(JSON.stringify(t,null,2),!1===t.status||"0x0"===t.status)try{var r=null;if(!h.handleRevert||"eth_sendTransaction"!==h.call)throw!1;if(!(r=await h.getRevertReason(i.params[0],t.blockNumber)))throw!1;n._fireError(s.TransactionRevertInstructionError(r.reason,r.signature,t),e.eventEmitter,e.reject,null,t)}catch(a){n._fireError(s.TransactionRevertedWithoutReasonError(t),e.eventEmitter,e.reject,null,t)}else n._fireError(s.TransactionOutOfGasError(t),e.eventEmitter,e.reject,null,t);else e.eventEmitter.emit("receipt",t),e.resolve(t),l&&e.eventEmitter.removeAllListeners();l&&w.unsubscribe(),u=!0}})).catch((function(){f++,a?f-1>=h.transactionPollingTimeout&&(w.unsubscribe(),u=!0,n._fireError(s.TransactionError("Transaction was not mined within "+h.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject)):f-1>=h.transactionBlockTimeout&&(w.unsubscribe(),u=!0,n._fireError(s.TransactionError("Transaction was not mined within "+h.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject))}));w.unsubscribe(),u=!0,n._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:c},e.eventEmitter,e.reject)},T=function(e){r.isFunction(this.requestManager.provider.on)?k.subscribe("newBlockHeaders",_.bind(null,e,!1)):m=setInterval(_.bind(null,e,!0),1e3)}.bind(this);k.getTransactionReceipt(t).then((function(t){t&&t.blockHash?(e.eventEmitter.listeners("confirmation").length>0&&T(t),_(t,!1)):u||T()})).catch((function(){u||T()}))};var h=function(e,t){return r.isNumber(e)?t.wallet[e]:r.isObject(e)&&e.address&&e.privateKey?e:t.wallet[e.toLowerCase()]};d.prototype.buildCall=function(){var e=this,t="eth_sendTransaction"===e.call||"eth_sendRawTransaction"===e.call,i="eth_call"===e.call,a=function(){var a=o(!t),c=e.toPayload(Array.prototype.slice.call(arguments)),u=function(r,o){if(e.handleRevert&&!r&&i&&e.isRevertReasonString(o)&&e.abiCoder){var d=e.abiCoder.decodeParameter("string","0x"+o.substring(10));n._fireError(s.RevertInstructionError(d,"Error(String)"),a.eventEmitter,a.reject,c.callback,{reason:d,signature:"Error(String)"})}else{try{o=e.formatOutput(o)}catch(h){r=h}if(o instanceof Error&&(r=o),r)return r.error&&(r=r.error),n._fireError(r,a.eventEmitter,a.reject,c.callback);c.callback&&c.callback(null,o),t?(a.eventEmitter.emit("transactionHash",o),e._confirmTransaction(a,o,c)):r||a.resolve(o)}},l=function(t){var i=r.extend({},c,{method:"eth_sendRawTransaction",params:[t.rawTransaction]});e.requestManager.send(i,u)},f=function(e,t){var i;if(t&&t.accounts&&t.accounts.wallet&&t.accounts.wallet.length)if("eth_sendTransaction"===e.method){var s=e.params[0];if((i=h(r.isObject(s)?s.from:null,t.accounts))&&i.privateKey){var n=r.omit(s,"from");return t.defaultChain&&!n.chain&&(n.chain=t.defaultChain),t.defaultHardfork&&!n.hardfork&&(n.hardfork=t.defaultHardfork),t.defaultCommon&&!n.common&&(n.common=t.defaultCommon),t.accounts.signTransaction(n,i.privateKey).then(l).catch((function(e){r.isFunction(a.eventEmitter.listeners)&&a.eventEmitter.listeners("error").length&&(a.eventEmitter.emit("error",e),a.eventEmitter.removeAllListeners(),a.eventEmitter.catch((function(){}))),a.reject(e)}))}}else if("eth_sign"===e.method){var o=e.params[1];if((i=h(e.params[0],t.accounts))&&i.privateKey){var c=t.accounts.sign(o,i.privateKey);return e.callback&&e.callback(null,c.signature),void a.resolve(c.signature)}}return t.requestManager.send(e,u)};if(t&&r.isObject(c.params[0])&&"undefined"===typeof c.params[0].gasPrice){var p=new d({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(e.requestManager);p((function(t,i){i&&(c.params[0].gasPrice=i),f(c,e)}))}else f(c,e);return a.eventEmitter};return a.method=e,a.request=this.request.bind(this),a},d.prototype.getRevertReason=function(e,t){var i=this;return new Promise((function(r,s){new d({name:"call",call:"eth_call",params:2,abiCoder:i.abiCoder,handleRevert:!0}).createFunction(i.requestManager)(e,n.numberToHex(t)).then((function(){r(!1)})).catch((function(e){e.reason?r({reason:e.reason,signature:e.signature}):s(e)}))}))},d.prototype.isRevertReasonString=function(e){return r.isString(e)&&(e.length-2)/2%32===4&&"0x08c379a0"===e.substring(0,10)},d.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e},e.exports=d},"9kyK":function(e,t,i){"use strict";var r,s=t,a=i("3NQs"),n=a.utils.assert;function o(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var i=new o(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:i}),i}})}s.PresetCurve=o,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:"SHA256",gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:"SHA256",gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:"SHA256",gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:"SHA384",gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:"SHA512",gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:"SHA256",gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i("twX1")}catch(d){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:"SHA256",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},"A/eZ":function(e,t,i){"use strict";var r=i("upWy"),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=u;var a=Object.create(i("nrnY"));a.inherits=i("wfEq");var n=i("B0Cl"),o=i("g+31");a.inherits(u,n);for(var c=s(o.prototype),d=0;d<c.length;d++){var h=c[d];u.prototype[h]||(u.prototype[h]=o.prototype[h])}function u(e){if(!(this instanceof u))return new u(e);n.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},ANQQ:function(e,t,i){(function(t,r,s){var a=i("eoLT"),n=i("wfEq"),o=i("3mKH"),c=i("5Ekh"),d=i("NY/1"),h=o.IncomingMessage,u=o.readyStates;var l=e.exports=function(e){var i,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var s=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)s=!1,i=!0;else if("prefer-streaming"===e.mode)i=!1;else if("allow-wrong-content-type"===e.mode)i=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");i=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}(i,s),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};n(l,c.Writable),l.prototype.setHeader=function(e,t){var i=e.toLowerCase();-1===f.indexOf(i)&&(this._headers[i]={name:e,value:t})},l.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},l.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},l.prototype._onFinish=function(){var e=this;if(!e._destroyed){var i=e._opts,n=e._headers,o=null;"GET"!==i.method&&"HEAD"!==i.method&&(o=a.arraybuffer?d(t.concat(e._body)):a.blobConstructor?new r.Blob(e._body.map((function(e){return d(e)})),{type:(n["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,i=n[e].value;Array.isArray(i)?i.forEach((function(e){c.push([t,e])})):c.push([t,i])})),"fetch"===e._mode){var h=null;if(a.abortController){var l=new AbortController;h=l.signal,e._fetchAbortController=l,"requestTimeout"in i&&0!==i.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),i.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:c,body:o||void 0,mode:"cors",credentials:i.withCredentials?"include":"same-origin",signal:h}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(p){return void s.nextTick((function(){e.emit("error",p)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!i.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in i&&(f.timeout=i.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case u.LOADING:case u.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(o)}catch(p){return void s.nextTick((function(){e.emit("error",p)}))}}}},l.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(i){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},l.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},l.prototype._write=function(e,t,i){this._body.push(e),i()},l.prototype.abort=l.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},l.prototype.end=function(e,t,i){"function"===typeof e&&(i=e,e=void 0),c.Writable.prototype.end.call(this,e,t,i)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,i("qykS").Buffer,i("pCvA"),i("5IsQ"))},Achu:function(e,t,i){"use strict";var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t,i,s){var a=r,n=s+i;e^=-1;for(var o=s;o<n;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},AvHZ:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("4kqU"),s=i("8kJ5"),a=i("BbEw"),n=i("TJ1y");function o(e,t){return t?e-(2*t+35):e-27}function c(e){return 0===e||1===e}t.ecsign=function(e,t,i){var s=r.sign(e,t),a=s.recovery;return{r:s.signature.slice(0,32),s:s.signature.slice(32,64),v:i?a+(2*i+35):a+27}},t.ecrecover=function(t,i,s,n,d){var h=e.concat([a.setLength(s,32),a.setLength(n,32)],64),u=o(i,d);if(!c(u))throw new Error("Invalid signature v value");var l=r.recover(t,h,u);return r.publicKeyConvert(l,!1).slice(1)},t.toRpcSig=function(t,i,r,s){if(!c(o(t,s)))throw new Error("Invalid signature v value");return a.bufferToHex(e.concat([a.setLengthLeft(i,32),a.setLengthLeft(r,32),a.toBuffer(t)]))},t.fromRpcSig=function(e){var t=a.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var i=t[64];return i<27&&(i+=27),{v:i,r:t.slice(0,32),s:t.slice(32,64)}},t.isValidSignature=function(e,t,i,r,a){void 0===r&&(r=!0);var n=new s("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),d=new s("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==i.length)return!1;if(!c(o(e,a)))return!1;var h=new s(t),u=new s(i);return!(h.isZero()||h.gt(d)||u.isZero()||u.gt(d))&&(!r||1!==u.cmp(n))},t.hashPersonalMessage=function(t){var i=e.from("\x19Ethereum Signed Message:\n"+t.length.toString(),"utf-8");return n.keccak(e.concat([i,t]))}}).call(this,i("qykS").Buffer)},B0Cl:function(e,t,i){"use strict";(function(t,r){var s=i("upWy");e.exports=g;var a,n=i("kah5");g.ReadableState=v;i("hBZP").EventEmitter;var o=function(e,t){return e.listeners(t).length},c=i("n428"),d=i("XKyj").Buffer,h=t.Uint8Array||function(){};var u=Object.create(i("nrnY"));u.inherits=i("wfEq");var l=i(4),f=void 0;f=l&&l.debuglog?l.debuglog("stream"):function(){};var p,m=i("IPtZ"),y=i("xTpk");u.inherits(g,c);var b=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(a=a||i("A/eZ"));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,n=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:r&&(n||0===n)?n:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=i("bxfF").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(a=a||i("A/eZ"),!(this instanceof g))return new g(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,i,r,s){var a,n=e._readableState;null===t?(n.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,S(e)}(e,n)):(s||(a=function(e,t){var i;r=t,d.isBuffer(r)||r instanceof h||"string"===typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var r;return i}(n,t)),a?e.emit("error",a):n.objectMode||t&&t.length>0?("string"===typeof t||n.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=function(e){return d.from(e)}(t)),r?n.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,n,t,!0):n.ended?e.emit("error",new Error("stream.push() after EOF")):(n.reading=!1,n.decoder&&!i?(t=n.decoder.write(t),n.objectMode||0!==t.length?k(e,n,t,!1):O(e,n)):k(e,n,t,!1))):r||(n.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(n)}function k(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&S(e)),O(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=y.destroy,g.prototype._undestroy=y.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=d.from(e,t),t=""),i=!0),w(this,e,t,!1,i)},g.prototype.unshift=function(e){return w(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=i("bxfF").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var _=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?s.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),E(e)}function O(e,t){t.readingMore||(t.readingMore=!0,s.nextTick(C,e,t))}function C(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function M(e){f("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,r=1,s=i.data;e-=s.length;for(;i=i.next;){var a=i.data,n=e>a.length?a.length:e;if(n===a.length?s+=a:s+=a.slice(0,e),0===(e-=n)){n===a.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(n));break}++r}return t.length-=r,s}(e,t):function(e,t){var i=d.allocUnsafe(e),r=t.head,s=1;r.data.copy(i),e-=r.data.length;for(;r=r.next;){var a=r.data,n=e>a.length?a.length:e;if(a.copy(i,i.length-e,0,n),0===(e-=n)){n===a.length?(++s,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(n));break}++s}return t.length-=s,i}(e,t);return r}(e,t.buffer,t.decoder),i);var i}function B(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,s.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}g.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):S(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,s=t.needReadable;return f("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",s=!0),t.ended||t.reading?f("reading or ended",s=!1):s&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(i,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?h:g;function d(t,r){f("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",b),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",y),e.removeListener("unpipe",d),i.removeListener("end",h),i.removeListener("end",g),i.removeListener("data",m),l=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function h(){f("onend"),e.end()}a.endEmitted?s.nextTick(c):i.once("end",c),e.on("unpipe",d);var u=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,E(e))}}(i);e.on("drain",u);var l=!1;var p=!1;function m(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!l&&(f("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function y(t){f("onerror",t),g(),e.removeListener("error",y),0===o(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",v),g()}function v(){f("onfinish"),e.removeListener("close",b),g()}function g(){f("unpipe"),i.unpipe(e)}return i.on("data",m),function(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",y),e.once("close",b),e.once("finish",v),e.emit("pipe",i),a.flowing||(f("pipe resume"),i.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,s=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<s;a++)r[a].emit("unpipe",this,i);return this}var n=P(t.pipes,e);return-1===n?this:(t.pipes.splice(n,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},g.prototype.on=function(e,t){var i=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):s.nextTick(M,this))}return i},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,s.nextTick(A,e,t))}(this,e)),this},g.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var s in e.on("end",(function(){if(f("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){(f("wrapped data"),i.decoder&&(s=i.decoder.write(s)),!i.objectMode||null!==s&&void 0!==s)&&((i.objectMode||s&&s.length)&&(t.push(s)||(r=!0,e.pause())))})),e)void 0===this[s]&&"function"===typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var a=0;a<b.length;a++)e.on(b[a],this.emit.bind(this,b[a]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=I}).call(this,i("pCvA"),i("5IsQ"))},B5O8:function(e,t,i){var r=i("LER9"),s=i("CsW6"),a=i("F1mQ"),n=i("8kJ5"),o=i("5Wkw"),c=i("+oaW"),d=i("HfSF"),h=i("pRMk").Buffer;e.exports=function(e,t,i){var u;u=e.padding?e.padding:i?1:4;var l,f=r(e),p=f.modulus.byteLength();if(t.length>p||new n(t).cmp(f.modulus)>=0)throw new Error("decryption error");l=i?d(new n(t),f):o(t,f);var m=h.alloc(p-l.length);if(l=h.concat([m,l],p),4===u)return function(e,t){var i=e.modulus.byteLength(),r=c("sha1").update(h.alloc(0)).digest(),n=r.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,n+1),d=t.slice(n+1),u=a(o,s(d,n)),l=a(d,s(u,i-n-1));if(function(e,t){e=h.from(e),t=h.from(t);var i=0,r=e.length;e.length!==t.length&&(i++,r=Math.min(e.length,t.length));var s=-1;for(;++s<r;)i+=e[s]^t[s];return i}(r,l.slice(0,n)))throw new Error("decryption error");var f=n;for(;0===l[f];)f++;if(1!==l[f++])throw new Error("decryption error");return l.slice(f)}(f,l);if(1===u)return function(e,t,i){var r=t.slice(0,2),s=2,a=0;for(;0!==t[s++];)if(s>=t.length){a++;break}var n=t.slice(2,s-1);("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&a++;n.length<8&&a++;if(a)throw new Error("decryption error");return t.slice(s)}(0,l,i);if(3===u)return l;throw new Error("unknown padding")}},BFfO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.BigNumber=r;var s=function(){};t.Indexed=s;var a=function(){};t.MinimalProvider=a;var n=function(){};t.Signer=n;var o=function(){};t.HDNode=o},"BG8/":function(e,t,i){"use strict";const r=i("NQdM"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){const e=this.deepExtend(super.describe(),{id:"btctradeim",name:"BtcTrade.im",countries:["HK"],urls:{referral:"https://m.baobi.com/invite?inv=1765b2",logo:"https://user-images.githubusercontent.com/1294454/36770531-c2142444-1c5b-11e8-91e2-a4d90dc85fe8.jpg",api:{web:"https://api.btctrade.im/coin",rest:"https://api.btctrade.im/api/v1"},www:"https://www.btctrade.im",doc:"https://www.btctrade.im/help.api.html",fees:"https://www.btctrade.im/spend.price.html"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.001}}}});return e.options.quoteIds=["btc","eth","usc"],e}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("web"===t)return o;const c=this.safeValue(o,"data");if(c){if("0"!==this.safeString(o,"code")){const e=this.safeString(o,"msg","Error");throw new s(e)}return c}return o}}},BGdb:function(e,t){var i="0123456789abcdef".split(""),r=[1,256,65536,16777216],s=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],n=function(e){var t,i,r,s,n,o,c,d,h,u,l,f,p,m,y,b,v,g,w,k,_,T,S,x,O,C,M,A,E,I,B,F,P,R,q,L,D,N,U,V,G,j,H,K,z,W,X,Y,Z,J,Q,$,ee,te,ie,re,se,ae,ne,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),i=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(d<<1|h>>>31),i=n^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=o^(u<<1|l>>>31),i=c^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(s<<1|n>>>31),i=l^(n<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,A=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,q=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,F=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,N=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&g,e[1]=y^~v&w,e[10]=x^~C&A,e[11]=O^~M&E,e[20]=R^~L&N,e[21]=q^~D&U,e[30]=K^~W&Y,e[31]=z^~X&Z,e[40]=te^~re&ae,e[41]=ie^~se&ne,e[2]=b^~g&k,e[3]=v^~w&_,e[12]=C^~A&I,e[13]=M^~E&B,e[22]=L^~N&V,e[23]=D^~U&G,e[32]=W^~Y&J,e[33]=X^~Z&Q,e[42]=re^~ae&oe,e[43]=se^~ne&ce,e[4]=g^~k&T,e[5]=w^~_&S,e[14]=A^~I&F,e[15]=E^~B&P,e[24]=N^~V&j,e[25]=U^~G&H,e[34]=Y^~J&$,e[35]=Z^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~T&m,e[7]=_^~S&y,e[16]=I^~F&x,e[17]=B^~P&O,e[26]=V^~j&R,e[27]=G^~H&q,e[36]=J^~$&K,e[37]=Q^~ee&z,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=T^~m&b,e[9]=S^~y&v,e[18]=F^~x&C,e[19]=P^~O&M,e[28]=j^~R&L,e[29]=H^~q&D,e[38]=$^~K&W,e[39]=ee^~z&X,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=a[r],e[1]^=a[r+1]},o=function(e){return function(t){var a;if("0x"===t.slice(0,2)){a=[];for(var o=2,c=t.length;o<c;o+=2)a.push(parseInt(t.slice(o,o+2),16))}else a=t;return function(e,t){for(var a,o=t.length,c=e.blocks,d=e.blockCount<<2,h=e.blockCount,u=e.outputBlocks,l=e.s,f=0;f<o;){if(e.reset)for(e.reset=!1,c[0]=e.block,y=1;y<h+1;++y)c[y]=0;if("string"!==typeof t)for(y=e.start;f<o&&y<d;++f)c[y>>2]|=t[f]<<s[3&y++];else for(y=e.start;f<o&&y<d;++f)(a=t.charCodeAt(f))<128?c[y>>2]|=a<<s[3&y++]:a<2048?(c[y>>2]|=(192|a>>6)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):a<55296||a>=57344?(c[y>>2]|=(224|a>>12)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++f)),c[y>>2]|=(240|a>>18)<<s[3&y++],c[y>>2]|=(128|a>>12&63)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]);if(e.lastByteIndex=y,y>=d){for(e.start=y-d,e.block=c[h],y=0;y<h;++y)l[y]^=c[y];n(l),e.reset=!0}else e.start=y}if(c[(y=e.lastByteIndex)>>2]|=r[3&y],e.lastByteIndex===d)for(c[0]=c[h],y=1;y<h+1;++y)c[y]=0;for(c[h-1]|=2147483648,y=0;y<h;++y)l[y]^=c[y];n(l);for(var p,m="",y=0,b=0;b<u;){for(y=0;y<h&&b<u;++y,++b)p=l[y],m+=i[p>>4&15]+i[15&p]+i[p>>12&15]+i[p>>8&15]+i[p>>20&15]+i[p>>16&15]+i[p>>28&15]+i[p>>24&15];b%h===0&&(n(l),y=0)}return"0x"+m}(function(e){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t}(e),a)}};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},BVIH:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,ExchangeNotAvailable:n,ArgumentsRequired:o,InsufficientFunds:c,InvalidOrder:d,RateLimitExceeded:h,InvalidNonce:u,AuthenticationError:l,NotSupported:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"fcoin",name:"FCoin",countries:["CN"],rateLimit:2e3,userAgent:this.userAgents.chrome39,version:"v2",accounts:void 0,accountsById:void 0,hostname:"fcoin.com",has:{CORS:!1,fetchDepositAddress:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchTradingLimits:!1,withdraw:!1,fetchCurrencies:!1},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","1d":"D1","1w":"W1","1M":"MN"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42244210-c8c42e1e-7f1c-11e8-8710-a5fb63b165c4.jpg",api:{public:"https://api.{hostname}",private:"https://api.{hostname}",market:"https://api.{hostname}",openapi:"https://www.{hostname}"},www:"https://www.fcoin.com",referral:"https://www.fcoin.com/i/Z5P7V",doc:"https://developer.fcoin.com",fees:"https://fcoinjp.zendesk.com/hc/en-us/articles/360018727371"},api:{openapi:{get:["symbols"]},market:{get:["ticker/{symbol}","depth/{level}/{symbol}","trades/{symbol}","candles/{timeframe}/{symbol}"]},public:{get:["symbols","currencies","server-time"]},private:{get:["accounts/balance","assets/accounts/balance","broker/otc/suborders","broker/otc/suborders/{id}","broker/otc/suborders/{id}/payments","broker/otc/users","broker/otc/users/me/balances","broker/otc/users/me/balance","broker/leveraged_accounts/account","broker/leveraged_accounts","orders","orders/{order_id}","orders/{order_id}/match-results"],post:["assets/accounts/assets-to-spot","accounts/spot-to-assets","broker/otc/assets/transfer/in","broker/otc/assets/transfer/out","broker/otc/suborders","broker/otc/suborders/{id}/pay_confirm","broker/otc/suborders/{id}/cancel","broker/leveraged/assets/transfer/in","broker/leveraged/assets/transfer/out","orders","orders/{order_id}/submit-cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:-2e-4,taker:3e-4}},limits:{amount:{min:.01,max:1e5}},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarketsMethod:"fetch_markets_from_open_api",limits:{"BTM/USDT":{amount:{min:.1,max:1e7}},"ETC/USDT":{amount:{min:.001,max:4e5}},"ETH/USDT":{amount:{min:.001,max:1e4}},"LTC/USDT":{amount:{min:.001,max:4e4}},"BCH/USDT":{amount:{min:.001,max:5e3}},"BTC/USDT":{amount:{min:.001,max:1e3}},"ICX/ETH":{amount:{min:.01,max:3e6}},"OMG/ETH":{amount:{min:.01,max:5e5}},"FT/USDT":{amount:{min:1,max:1e7}},"ZIL/ETH":{amount:{min:1,max:1e7}},"ZIP/ETH":{amount:{min:1,max:1e7}},"FT/BTC":{amount:{min:1,max:1e7}},"FT/ETH":{amount:{min:1,max:1e7}}}},exceptions:{400:f,401:l,405:f,429:h,1002:n,1016:c,2136:l,3008:d,6004:u,6005:l,40003:s},commonCurrencies:{DAG:"DAGX",PAI:"PCHAIN",MT:"Mariana Token"}})}async fetchMarkets(e={}){const t=this.safeString(this.options,"fetchMarketsMethod","fetch_markets_from_open_api");return await this[t](e)}async fetchMarketsFromOpenAPI(e={}){const t=await this.openapiGetSymbols(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"symbols",{}),s=Object.keys(r),a=[];for(let n=0;n<s.length;n++){const e=r[s[n]],t=this.safeString(e,"symbol"),i=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(i),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:this.safeInteger(e,"price_decimal"),amount:this.safeInteger(e,"amount_decimal")},l={amount:{min:this.safeFloat(e,"limit_amount_min"),max:this.safeFloat(e,"limit_amount_max")},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)},cost:{min:void 0,max:void 0}},f=this.safeValue(e,"tradeable",!1);a.push({id:t,symbol:h,base:c,quote:d,baseId:i,quoteId:o,active:f,precision:u,limits:l,info:e})}return a}async fetchMarketsFromAPI(e={}){const t=await this.publicGetSymbols(e),i=[],r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"name"),a=this.safeString(e,"base_currency"),n=this.safeString(e,"quote_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={price:e.price_decimal,amount:e.amount_decimal};let u={price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)}};const l=this.safeValue(e,"tradable",!1);d in this.options.limits&&(u=this.extend(this.options.limits[d],u)),i.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:l,precision:h,limits:u,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t},r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"available"),n.total=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"frozen"),i[a]=n}return this.parseBalance(i)}parseBidsAsks(e,t=0,i=1){const r=[],s=e.length,a=parseInt(s/2);for(let n=0;n<a;n++){const s=2*n,a=this.sum(s,t),o=this.sum(s,i);r.push([this.safeFloat(e,a),this.safeFloat(e,o)])}return r}async fetchOrderBook(e,t,i={}){if(await this.loadMarkets(),void 0!==t){if(20!==t&&150!==t)throw new a(this.id+" fetchOrderBook supports limit of 20 or 150. Other values are not accepted");t="L"+t.toString()}else t="L20";const r={symbol:this.marketId(e),level:t},s=await this.marketGetDepthLevelSymbol(this.extend(r,i)),n=this.safeValue(s,"data");return this.parseOrderBook(n,n.ts,"bids","asks",0,1)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetTickerSymbol(this.extend(r,t));return this.parseTicker(s.data,i)}parseTicker(e,t){let i=void 0;if(void 0===t){const i=this.safeString(e,"type");if(void 0!==i){const e=i.split(".")[1];e in this.markets_by_id&&(t=this.markets_by_id[e])}}const r=e.ticker,s=this.safeFloat(r,0);return void 0!==t&&(i=t.symbol),{symbol:i,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(r,7),low:this.safeFloat(r,8),bid:this.safeFloat(r,2),bidVolume:this.safeFloat(r,3),ask:this.safeFloat(r,4),askVolume:this.safeFloat(r,5),vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,9),quoteVolume:this.safeFloat(r,10),info:e}}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"ts"),s=this.safeStringLower(e,"side"),a=this.safeString(e,"id"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;void 0!==n&&void 0!==o&&(c=o*n);return{id:a,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,order:void 0,side:s,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id,limit:i};void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.marketGetTradesSymbol(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={symbol:this.marketId(e),side:i,type:t};if("market"===t&&"buy"===i)if(this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new d(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");n.amount=this.costToPrecision(e,r*s)}else n.amount=this.costToPrecision(e,r);else n.amount=this.amountToPrecision(e,r);"limit"!==t&&"ioc"!==t&&"fok"!==t||(n.price=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(n,a));return{info:o,id:o.data}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePostOrdersOrderIdSubmitCancel(this.extend(r,i)),a=this.parseOrder(s);return this.extend(a,{id:e,status:"canceled"})}parseOrderStatus(e){return this.safeString({submitted:"open",canceled:"canceled",partial_filled:"open",partial_canceled:"canceled",filled:"closed",pending_cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"side"),s=this.parseOrderStatus(this.safeString(e,"state"));let a=void 0;if(void 0===t){const i=this.safeString(e,"symbol");i in this.markets_by_id&&(t=this.markets_by_id[i])}const n=this.safeString(e,"type"),o=this.safeInteger(e,"created_at"),c=this.safeFloat(e,"amount"),d=this.safeFloat(e,"filled_amount");let h=void 0,u=this.safeFloat(e,"price"),l=this.safeFloat(e,"executed_value");void 0!==d&&(void 0!==c&&(h=c-d),void 0===l?void 0!==u&&(l=u*d):l>0&&d>0&&(u=l/d));let f=void 0,p=void 0;const m=this.safeFloat(e,"fees_income");return void 0!==m&&m>0?(void 0!==t&&(a=t.symbol,f="buy"===r?t.quote:t.base),p=-m):(p=this.safeFloat(e,"fill_fees"),void 0!==t&&(a=t.symbol,f="buy"===r?t.base:t.quote)),{info:e,id:i,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:a,type:n,side:r,price:u,cost:l,amount:c,remaining:h,filled:d,average:void 0,status:s,fee:{cost:p,currency:f},trades:void 0}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateGetOrdersOrderId(this.extend(r,i));return this.parseOrder(s.data)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:"submitted,partial_filled"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:"partial_canceled,filled"},r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={symbol:s.id,states:"submitted,partial_filled,partial_canceled,filled,canceled"};void 0!==i&&(a.limit=i);const n=await this.privateGetOrders(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.safeTimestamp(e,"id"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"base_vol")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=20);const n={symbol:a.id,timeframe:this.timeframes[t],limit:r};if(void 0!==i){const e=parseInt(i/1e3),s=r*this.parseTimeframe(t);n.before=this.sum(e,s)-1}const o=await this.marketGetCandlesTimeframeSymbol(this.extend(n,s));return this.parseOHLCVs(o.data,a,t,i,r)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/";const o="openapi"===t,c="private"===t;n+=o?t+"/":"",n+=this.version+"/",n+=c||o?"":t+"/",n+=this.implodeParams(e,r);let d=this.omit(r,this.extractParams(e)),h=this.implodeParams(this.urls.api[t],{hostname:this.hostname});if(h+=n,c){this.checkRequiredCredentials();const e=this.nonce().toString();d=this.keysort(d),"GET"===i&&Object.keys(d).length&&(h+="?"+this.rawencode(d));let t=i+h+e;"POST"===i&&Object.keys(d).length&&(a=this.json(d),t+=this.urlencode(d));const r=this.stringToBase64(this.encode(t));let n=this.hmac(r,this.encode(this.secret),"sha1","binary");n=this.decode(this.stringToBase64(n)),s={"FC-ACCESS-KEY":this.apiKey,"FC-ACCESS-SIGNATURE":n,"FC-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}else Object.keys(d).length&&(h+="?"+this.urlencode(d));return{url:h,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"status");if("0"!==h&&"ok"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,h,e),new a(e)}}}},BVgh:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,ExchangeNotAvailable:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"exx",name:"EXX",countries:["CN"],rateLimit:100,userAgent:this.userAgents.chrome,has:{fetchOrder:!0,fetchTickers:!0,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/37770292-fbf613d0-2de4-11e8-9f79-f2dc451b8ccb.jpg",api:{public:"https://api.exx.com/data/v1",private:"https://trade.exx.com/api"},www:"https://www.exx.com/",doc:"https://www.exx.com/help/restApi",fees:"https://www.exx.com/help/rate",referral:"https://www.exx.com/r/fde4260159e53ab8a58cc9186d35501f?recommQd=1"},api:{public:{get:["markets","tickers","ticker","depth","trades"]},private:{get:["order","cancel","getOrder","getOpenOrders","getBalance"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BCC:3e-4,BCD:0,BOT:10,BTC:.001,BTG:0,BTM:25,BTS:3,EOS:1,ETC:.01,ETH:.01,ETP:.012,HPY:0,HSR:.001,INK:20,LTC:.005,MCO:.6,MONA:.01,QASH:5,QCASH:5,QTUM:.01,USDT:5}}},commonCurrencies:{TV:"TIV"},exceptions:{103:a}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0===a.isOpen,l={amount:parseInt(a.amountScale),price:parseInt(a.priceScale)};r.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:u,precision:l,limits:{amount:{min:Math.pow(10,-l.amount),max:Math.pow(10,l.amount)},price:{min:Math.pow(10,-l.price),max:Math.pow(10,l.price)},cost:{min:void 0,max:void 0}},info:a})}return r}parseTicker(e,t){const i=t.symbol,r=this.safeInteger(e,"date");e=e.ticker;const s=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"riseRate"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={},s=this.milliseconds(),a=Object.keys(i);for(let n=0;n<a.length;n++){const e=a[n];if(!(e in this.marketsById))continue;const t=this.marketsById[e],o=t.symbol,c={date:s,ticker:i[e]};r[o]=this.parseTicker(c,t)}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.marketId(e)},s=await this.publicGetDepth(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);let n=void 0;void 0!==t&&(n=t.symbol);const o=this.safeString(e,"type");return{id:this.safeString(e,"tid"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:"limit",side:o,takerOrMaker:void 0,price:r,amount:s,cost:a,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetBalance(e),i={info:t},r=this.safeValue(t,"funds"),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=s[a],t=r[e],n=this.safeCurrencyCode(e),o={free:this.safeFloat(t,"balance"),used:this.safeFloat(t,"freeze"),total:this.safeFloat(t,"total")};i[n]=o}return this.parseBalance(i)}parseOrder(e,t){const i=t.symbol,r=parseInt(e.trade_date),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"trade_money"),n=this.safeFloat(e,"total_amount"),o=this.safeFloat(e,"trade_amount",0),c=parseFloat(this.amountToPrecision(i,n-o));let d=this.safeInteger(e,"status");d=1===d?"canceled":2===d?"closed":"open";let h=void 0;return"fees"in e&&(h={cost:this.safeFloat(e,"fees"),currency:t.quote}),{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:d,symbol:i,type:"limit",side:e.type,price:s,cost:a,amount:n,filled:o,remaining:c,trades:void 0,fee:h,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={currency:n.id,type:i,price:s,amount:r},c=await this.privateGetOrder(this.extend(o,a)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,trade_date:this.milliseconds(),total_amount:r,price:s,type:i,info:c},n);return this.orders[d]=h,h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e,currency:this.market(t).id};return await this.privateGetCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,currency:r.id},a=await this.privateGetGetOrder(this.extend(s,i));return this.parseOrder(a,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.id},n=await this.privateGetGetOpenOrders(this.extend(a,r));return Array.isArray(n)?this.parseOrders(n,s,t,i):[]}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.urlencode(this.keysort(this.extend({accesskey:this.apiKey,nonce:this.nonce()},r)));n+="?"+e+"&signature="+this.hmac(this.encode(e),this.encode(this.secret),"sha512"),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,o,c,d,h){if(void 0===c)return;const u=this.safeString(c,"code"),l=this.safeString(c,"message"),f=this.id+" "+o;if("100"===u)return;if(void 0!==u){if(this.throwExactlyMatchedException(this.exceptions,u,f),"308"===u)return;throw new s(f)}const p=this.safeValue(c,"result");if(void 0!==p&&!p)throw"\u670d\u52a1\u7aef\u5fd9\u788c"===l?new n(f):new s(f)}}},BbEw:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("e0KM"),s=i("8kJ5");t.zeros=function(t){return e.allocUnsafe(t).fill(0)},t.setLengthLeft=function(e,i,r){void 0===r&&(r=!1);var s=t.zeros(i);return e=t.toBuffer(e),r?e.length<i?(e.copy(s),s):e.slice(0,i):e.length<i?(e.copy(s,i-e.length),s):e.slice(-i)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,i){return t.setLength(e,i,!0)},t.unpad=function(e){for(var t=(e=r.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(t){if(!e.isBuffer(t))if(Array.isArray(t))t=e.from(t);else if("string"===typeof t){if(!r.isHexString(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+t);t=e.from(r.padToEven(r.stripHexPrefix(t)),"hex")}else if("number"===typeof t)t=r.intToBuffer(t);else if(null===t||void 0===t)t=e.allocUnsafe(0);else if(s.isBN(t))t=t.toArrayLike(e);else{if(!t.toArray)throw new Error("invalid type");t=e.from(t.toArray())}return t},t.bufferToInt=function(e){return new s(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new s(e).fromTwos(256)},t.toUnsigned=function(t){return e.from(t.toTwos(256).toArray())},t.addHexPrefix=function(e){return"string"!==typeof e?e:r.isHexPrefixed(e)?e:"0x"+e},t.baToJSON=function(i){if(e.isBuffer(i))return"0x"+i.toString("hex");if(i instanceof Array){for(var r=[],s=0;s<i.length;s++)r.push(t.baToJSON(i[s]));return r}}}).call(this,i("qykS").Buffer)},BjWC:function(e,t,i){"use strict";var r=i("pmRz"),s=i("06z4"),a=i("PoH+");function n(e){this.registry=e}n.prototype.method=function(e,t,i,r){return{call:this.call.bind({ensName:e,methodName:t,methodArguments:i,callback:r,parent:this}),send:this.send.bind({ensName:e,methodName:t,methodArguments:i,callback:r,parent:this})}},n.prototype.call=function(e){var t=this,i=new r,s=this.parent.prepareArguments(this.ensName,this.methodArguments);return this.parent.registry.resolver(this.ensName).then((function(r){t.parent.handleCall(i,r.methods[t.methodName],s,e)})).catch((function(e){i.reject(e)})),i.eventEmitter},n.prototype.send=function(e,t){var i=this,s=new r,a=this.parent.prepareArguments(this.ensName,this.methodArguments);return this.parent.registry.resolver(this.ensName).then((function(r){i.parent.handleSend(s,r.methods[i.methodName],a,e,t)})).catch((function(e){s.reject(e)})),s.eventEmitter},n.prototype.handleCall=function(e,t,i,r){return t.apply(this,i).call().then((function(t){e.resolve(t),a.isFunction(r)&&r(t)})).catch((function(t){e.reject(t),a.isFunction(r)&&r(t)})),e},n.prototype.handleSend=function(e,t,i,r,s){return t.apply(this,i).send(r).on("transactionHash",(function(t){e.eventEmitter.emit("transactionHash",t)})).on("confirmation",(function(t,i){e.eventEmitter.emit("confirmation",t,i)})).on("receipt",(function(t){e.eventEmitter.emit("receipt",t),e.resolve(t),a.isFunction(s)&&s(t)})).on("error",(function(t){e.eventEmitter.emit("error",t),e.reject(t),a.isFunction(s)&&s(t)})),e},n.prototype.prepareArguments=function(e,t){var i=s.hash(e);return t.length>0?(t.unshift(i),t):[i]},e.exports=n},Bqph:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,BadRequest:a,AuthenticationError:n,InvalidOrder:o,InsufficientFunds:c,OrderNotFound:d,PermissionDenied:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"upbit",name:"Upbit",countries:["KR"],version:"v1",rateLimit:1e3,certified:!0,has:{CORS:!0,createDepositAddress:!0,createMarketOrder:!0,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrderBooks:!0,fetchOpenOrders:!0,fetchOrders:!1,fetchTickers:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"minutes","3m":"minutes","5m":"minutes","15m":"minutes","30m":"minutes","1h":"minutes","4h":"minutes","1d":"days","1w":"weeks","1M":"months"},hostname:"api.upbit.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/49245610-eeaabe00-f423-11e8-9cba-4b0aed794799.jpg",api:"https://{hostname}",www:"https://upbit.com",doc:"https://docs.upbit.com/docs/%EC%9A%94%EC%B2%AD-%EC%88%98-%EC%A0%9C%ED%95%9C",fees:"https://upbit.com/service_center/guide"},api:{public:{get:["market/all","candles/{timeframe}","candles/{timeframe}/{unit}","candles/minutes/{unit}","candles/minutes/1","candles/minutes/3","candles/minutes/5","candles/minutes/15","candles/minutes/30","candles/minutes/60","candles/minutes/240","candles/days","candles/weeks","candles/months","trades/ticks","ticker","orderbook"]},private:{get:["accounts","orders/chance","order","orders","withdraws","withdraw","withdraws/chance","deposits","deposit","deposits/coin_addresses","deposits/coin_address"],post:["orders","withdraws/coin","withdraws/krw","deposits/generate_coin_address"],delete:["order"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"This key has expired.":n,"Missing request parameter error. Check the required parameters!":a,"side is missing, side does not have a valid value":o},broad:{thirdparty_agreement_required:h,out_of_scope:h,order_not_found:d,insufficient_funds:c,invalid_access_key:n,jwt_verification:n,create_ask_error:s,create_bid_error:s,volume_too_large:o,invalid_funds:o}},options:{createMarketBuyOrderRequiresPrice:!0,fetchTickersMaxLength:4096,fetchOrderBooksMaxLength:4096,symbolSeparator:"-",tradingFeesByQuoteCurrency:{KRW:5e-4}}})}async fetchCurrency(e,t={}){await this.loadMarkets();const i=this.currency(e);return await this.fetchCurrencyById(i.id,t)}async fetchCurrencyById(e,t={}){const i={currency:e},r=await this.privateGetWithdrawsChance(this.extend(i,t)),s=this.safeValue(r,"member_level",{}),a=this.safeValue(r,"currency",{}),n=this.safeValue(r,"withdraw_limit",{}),o=this.safeValue(n,"can_withdraw"),c=this.safeString(a,"wallet_state"),d=this.safeValue(s,"wallet_locked"),h=this.safeValue(s,"locked");let u=!0;void 0!==o&&o?u=!1:"working"!==c?u=!1:void 0!==d&&d?u=!1:void 0!==h&&h&&(u=!1);const l=this.safeFloat(n,"onetime"),f=this.safeFloat(n,"daily",l),p=this.safeFloat(n,"remaining_daily",f);let m=void 0;m=p>0?p:f;const y=this.safeString(a,"code"),b=this.safeCurrencyCode(y);return{info:r,id:y,code:b,name:b,active:u,fee:this.safeFloat(a,"withdraw_fee"),precision:void 0,limits:{withdraw:{min:this.safeFloat(n,"minimum"),max:m}}}}async fetchMarket(e,t={}){await this.loadMarkets();const i=this.market(e);return await this.fetchMarketById(i.id,t)}async fetchMarketById(e,t={}){const i={market:e},r=await this.privateGetOrdersChance(this.extend(i,t)),s=this.safeValue(r,"market"),a=this.safeValue(s,"bid"),n=this.safeValue(s,"ask"),o=this.safeString(s,"id"),c=this.safeString(n,"currency"),d=this.safeString(a,"currency"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f={amount:8,price:8},p="active"===this.safeString(s,"state"),m=this.safeFloat(r,"bid_fee"),y=this.safeFloat(r,"ask_fee"),b=Math.max(m,y);return{info:r,id:o,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:p,precision:f,maker:b,taker:b,limits:{amount:{min:this.safeFloat(n,"min_total"),max:void 0},price:{min:Math.pow(10,-f.price),max:void 0},cost:{min:this.safeFloat(a,"min_total"),max:this.safeFloat(s,"max_total")}}}}async fetchMarkets(e={}){const t=await this.publicGetMarketAll(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"market"),[a,n]=s.split("-"),o=this.safeCurrencyCode(n),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:8,price:8},u=!0,l=this.safeFloat(this.options.tradingFeesByQuoteCurrency,c,this.fees.trading.maker),f=this.safeFloat(this.options.tradingFeesByQuoteCurrency,c,this.fees.trading.taker);i.push({id:s,symbol:d,base:o,quote:c,baseId:n,quoteId:a,active:u,info:e,precision:h,maker:l,taker:f,limits:{amount:{min:Math.pow(10,-h.amount),max:void 0},price:{min:Math.pow(10,-h.price),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"locked"),i[a]=n}return this.parseBalance(i)}getSymbolFromMarketId(e,t){if(void 0===e)return;if(void 0!==(t=this.safeValue(this.markets_by_id,e,t)))return t.symbol;const[i,r]=e.split(this.options.symbolSeparator);return this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join(","),r.length>this.options.fetchOrderBooksMaxLength){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols ("+r.length.toString()+" characters) exceeding max URL length ("+this.options.fetchOrderBooksMaxLength.toString()+" characters), you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const a={markets:r},n=await this.publicGetOrderbook(this.extend(a,i)),o={};for(let s=0;s<n.length;s++){const e=n[s],t=this.getSymbolFromMarketId(this.safeString(e,"market")),i=this.safeInteger(e,"timestamp");o[t]={bids:this.sortBy(this.parseBidsAsks(e.orderbook_units,"bid_price","bid_size"),0,!0),asks:this.sortBy(this.parseBidsAsks(e.orderbook_units,"ask_price","ask_size"),0),timestamp:i,datetime:this.iso8601(i),nonce:void 0}}return o}async fetchOrderBook(e,t,i={}){const r=await this.fetchOrderBooks([e],t,i);return this.safeValue(r,e)}parseTicker(e,t){const i=this.safeInteger(e,"trade_timestamp"),r=this.getSymbolFromMarketId(this.safeString(e,"market"),t),s=this.safeFloat(e,"prev_closing_price"),a=this.safeFloat(e,"trade_price"),n=this.safeFloat(e,"signed_change_price"),o=this.safeFloat(e,"signed_change_rate");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high_price"),low:this.safeFloat(e,"low_price"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"opening_price"),close:a,last:a,previousClose:s,change:n,percentage:o,average:void 0,baseVolume:this.safeFloat(e,"acc_trade_volume_24h"),quoteVolume:this.safeFloat(e,"acc_trade_price_24h"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=void 0;if(void 0===e){if(i=this.ids.join(","),i.length>this.options.fetchTickersMaxLength){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join(",");const r={markets:i},a=await this.publicGetTicker(this.extend(r,t)),n={};for(let s=0;s<a.length;s++){const e=this.parseTicker(a[s]);n[e.symbol]=e}return n}async fetchTicker(e,t={}){const i=await this.fetchTickers([e],t);return this.safeValue(i,e)}parseTrade(e,t){const i=this.safeString2(e,"sequential_id","uuid");let r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"created_at")));let s=void 0;const a=this.safeStringLower2(e,"ask_bid","side");"ask"===a?s="sell":"bid"===a&&(s="buy");let n=this.safeFloat(e,"funds");const o=this.safeFloat2(e,"trade_price","price"),c=this.safeFloat2(e,"trade_volume","volume");void 0===n&&void 0!==c&&void 0!==o&&(n=o*c);const d=this.safeString(e,"market");let h=void 0,u=void 0,l=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,d)))l=t.symbol,u=t.quote;else{const[e,t]=d.split("-"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);l=i+"/"+r,u=r}const f=this.safeString(e,a+"_fee");return void 0!==f&&(h={currency:u,cost:f}),{id:i,info:e,order:void 0,timestamp:r,datetime:this.iso8601(r),symbol:l,type:"limit",side:s,takerOrMaker:void 0,price:o,amount:c,cost:n,fee:h}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=200);const a={market:s.id,count:i},n=await this.publicGetTradesTicks(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(this.safeString(e,"candle_date_time_utc")),this.safeFloat(e,"opening_price"),this.safeFloat(e,"high_price"),this.safeFloat(e,"low_price"),this.safeFloat(e,"trade_price"),this.safeFloat(e,"candle_acc_trade_volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.parseTimeframe(t),o=this.timeframes[t];void 0===r&&(r=200);const c={market:a.id,timeframe:o,count:r};let d="publicGetCandlesTimeframe";if("minutes"===o){const e=Math.round(n/60);c.unit=e,d+="Unit"}void 0!==i&&(c.to=this.iso8601(this.sum(i,n*r*1e3)));const h=await this[d](this.extend(c,s));return this.parseOHLCVs(h,a,t,i,r)}async createOrder(e,t,i,r,s,a={}){if("market"===t&&"buy"===i&&this.options.createMarketBuyOrderRequiresPrice){if(void 0===s)throw new o(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false to supply the cost in the amount argument (the exchange-specific behaviour)");r*=s}let n=void 0;if("buy"===i)n="bid";else{if("sell"!==i)throw new o(this.id+" createOrder allows buy or sell side only!");n="ask"}await this.loadMarkets();const c={market:this.market(e).id,side:n};"limit"===t?(c.volume=this.amountToPrecision(e,r),c.price=this.priceToPrecision(e,s),c.ord_type=t):"market"===t&&("buy"===i?(c.ord_type="price",c.price=this.priceToPrecision(e,r)):"sell"===i&&(c.ord_type=t,c.volume=this.amountToPrecision(e,r)));const d=await this.privatePostOrders(this.extend(c,a));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateDeleteOrder(this.extend(r,i));return this.parseOrder(s)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetDeposits(this.extend(s,r));return this.parseTransactions(n,a,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetWithdraws(this.extend(s,r));return this.parseTransactions(n,a,t,i)}parseTransactionStatus(e){return this.safeString({ACCEPTED:"ok",submitting:"pending",submitted:"pending",almost_accepted:"pending",rejected:"failed",accepted:"pending",processing:"pending",done:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"uuid"),r=this.safeFloat(e,"amount"),s=this.safeString(e,"txid"),a=this.parse8601(this.safeString(e,"done_at")),n=this.parse8601(this.safeString(e,"created_at",a));let o=this.safeString(e,"type");"withdraw"===o&&(o="withdrawal");const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.parseTransactionStatus(this.safeString(e,"state")),u=this.safeFloat(e,"fee");return{info:e,id:i,currency:d,amount:r,address:void 0,tag:void 0,status:h,type:o,updated:a,txid:s,timestamp:n,datetime:this.iso8601(n),fee:{currency:d,cost:u}}}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"uuid");let r=this.safeString(e,"side");r="bid"===r?"buy":"sell";let s=this.safeString(e,"ord_type");const a=this.parse8601(this.safeString(e,"created_at")),n=this.parseOrderStatus(this.safeString(e,"state"));let o=void 0,c=this.safeFloat(e,"price");const d=this.safeFloat(e,"volume"),h=this.safeFloat(e,"remaining_volume"),u=this.safeFloat(e,"executed_volume");let l=void 0;"price"===s&&(s="market",l=c,c=void 0);let f=void 0,p=void 0,m=this.safeFloat(e,"paid_fee"),y=void 0;const b=this.safeString(e,"market");let v=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,b)))v=t.symbol,y=t.quote;else{const[e,t]=b.split("-"),i=this.safeCurrencyCode(e),r=this.safeCurrencyCode(t);v=i+"/"+r,y=r}let g=this.safeValue(e,"trades",[]);g=this.parseTrades(g,t,void 0,void 0,{order:i});const w=g.length;if(w>0){o=g[w-1].timestamp;let e=!1;void 0===m&&(e=!0,m=0),l=0;for(let t=0;t<w;t++){const i=g[t];if(l=this.sum(l,i.cost),e){const e=this.safeValue(g[t],"fee",{}),i=this.safeFloat(e,"cost");void 0!==i&&(m=this.sum(m,i))}}f=l/u}return void 0!==m&&(p={currency:y,cost:m}),{info:e,id:i,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:o,symbol:v,type:s,side:r,price:c,cost:l,average:f,amount:d,filled:u,remaining:h,status:n,fee:p,trades:g}}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const a={state:e};let n=void 0;void 0!==t&&(n=this.market(t),a.market=n.id);const o=await this.privateGetOrders(this.extend(a,s));return this.parseOrders(o,n,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("wait",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("done",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return await this.fetchOrdersByState("cancel",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={uuid:e},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}parseDepositAddresses(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseDepositAddress(e[i]));return t}async fetchDepositAddresses(e,t={}){await this.loadMarkets();const i=await this.privateGetDepositsCoinAddresses(t);return this.parseDepositAddresses(i)}parseDepositAddress(e,t){const i=this.safeString(e,"deposit_address"),r=this.safeString(e,"secondary_address"),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:a,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=await this.privateGetDepositsCoinAddress(this.extend({currency:i.id},t));return this.parseDepositAddress(r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.fetchDepositAddress(e,this.extend(i,t));return void 0!==this.safeString(r,"message")?{currency:e,address:void 0,tag:void 0,info:r}:this.parseDepositAddress(r)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={amount:t};let o="privatePostWithdraws";"KRW"!==e?(o+="Coin",n.currency=a.id,n.address=i,void 0!==r&&(n.secondary_address=r)):o+="Krw";const c=await this[o](this.extend(n,s));return this.parseTransaction(c)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api,{hostname:this.hostname});n+="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("POST"!==i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce(),t={access_key:this.apiKey,nonce:e};if(Object.keys(o).length){const e=this.urlencode(o),i=this.hash(this.encode(e),"sha512");t.query_hash=i,t.query_hash_alg="SHA512"}s={Authorization:"Bearer "+this.jwt(t,this.encode(this.secret))},"GET"!==i&&"DELETE"!==i&&(a=this.json(r),s["Content-Type"]="application/json")}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"error");if(void 0!==h){const e=this.safeString(h,"message"),t=this.safeString(h,"name"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,e,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}},BsBH:function(e,t,i){"use strict";var r=i("PoH+"),s=i("/mWR").errors,a=i("dJ0v"),n=i("sF9y"),o=i("O8Ce"),c=function e(t){this.provider=null,this.providers=e.providers,this.setProvider(t),this.subscriptions={}};c.givenProvider=o,c.providers={WebsocketProvider:i("bACA"),HttpProvider:i("wYIF"),IpcProvider:i("GvCK")},c.prototype.setProvider=function(e,t){var i=this;if(e&&"string"===typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))e=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))e=new this.providers.WebsocketProvider(e);else if(e&&"object"===typeof t&&"function"===typeof t.connect)e=new this.providers.IpcProvider(e,t);else if(e)throw new Error("Can't autodetect provider for \""+e+'"');this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=e||null,this.provider&&this.provider.on&&this.provider.on("data",(function(e,t){(e=e||t).method&&i.subscriptions[e.params.subscription]&&i.subscriptions[e.params.subscription].callback&&i.subscriptions[e.params.subscription].callback(null,e.params.result)}))},c.prototype.send=function(e,t){if(t=t||function(){},!this.provider)return t(s.InvalidProvider());var i=a.toPayload(e.method,e.params);this.provider[this.provider.sendAsync?"sendAsync":"send"](i,(function(e,r){return r&&r.id&&i.id!==r.id?t(new Error('Wrong response id "'+r.id+'" (expected: "'+i.id+'") in '+JSON.stringify(i))):e?t(e):r&&r.error?t(s.ErrorResponse(r)):a.isValidResponse(r)?void t(null,r.result):t(s.InvalidResponse(r))}))},c.prototype.sendBatch=function(e,t){if(!this.provider)return t(s.InvalidProvider());var i=a.toBatchPayload(e);this.provider[this.provider.sendAsync?"sendAsync":"send"](i,(function(e,i){return e?t(e):r.isArray(i)?void t(null,i):t(s.InvalidResponse(i))}))},c.prototype.addSubscription=function(e,t,i,r){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions[e]={callback:r,type:i,name:t}},c.prototype.removeSubscription=function(e,t){this.subscriptions[e]&&(this.send({method:this.subscriptions[e].type+"_unsubscribe",params:[e]},t),delete this.subscriptions[e])},c.prototype.clearSubscriptions=function(e){var t=this;this.subscriptions&&Object.keys(this.subscriptions).forEach((function(i){e&&"syncing"===t.subscriptions[i].name||t.removeSubscription(i)})),this.provider.reset&&this.provider.reset()},e.exports={Manager:c,BatchManager:n}},BtsK:function(e,t,i){"use strict";const r=i("/IoK"),s=i("Bxj7"),a=i("tk5I");function n(e){const t=[];for(let i=0;i<e.length;i++)t[i/4|0]|=e[i]<<24-8*i;return r.lib.WordArray.create(t,e.length)}e.exports={json:(e,t)=>JSON.stringify(e),unjson:JSON.parse,isJsonEncodedObject:e=>"string"===typeof e&&e.length>=2&&("{"===e[0]||"["===e[0]),stringToBinary(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return r.lib.WordArray.create(t)},stringToBase64:e=>r.enc.Latin1.parse(e).toString(r.enc.Base64),utf16ToBase64:e=>r.enc.Utf16.parse(e).toString(r.enc.Base64),base64ToBinary:e=>r.enc.Base64.parse(e),base64ToString:e=>r.enc.Base64.parse(e).toString(r.enc.Utf8),binaryToBase64:e=>e.toString(r.enc.Base64),base16ToBinary:e=>r.enc.Hex.parse(e),binaryToBase16:e=>e.toString(r.enc.Hex),binaryConcat:(...e)=>e.reduce((e,t)=>e.concat(t)),binaryConcatArray:e=>e.reduce((e,t)=>e.concat(t)),urlencode:e=>s.stringify(e),urlencodeWithArrayRepeat:e=>s.stringify(e,{arrayFormat:"repeat"}),rawencode:e=>s.stringify(e,{encode:!1}),encode:e=>e,decode:e=>e,urlencodeBase64:e=>e.replace(/[=]+$/,"").replace(/\+/g,"-").replace(/\//g,"_"),numberToLE:(e,t)=>{return n(new a(e).toArray("le",t))},numberToBE:(e,t)=>{return n(new a(e).toArray("be",t))}},e.exports.byteArrayToWordArray=n},Bu4C:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,DDoSProtection:a,BadSymbol:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"whitebit",name:"WhiteBit",version:"v2",countries:["EE"],rateLimit:500,has:{cancelOrder:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!1,createMarketOrder:!1,createOrder:!1,deposit:!1,editOrder:!1,fetchBalance:!1,fetchBidsAsks:!1,fetchCurrencies:!0,fetchMarkets:!0,fetchOHLCV:!0,fetchOrderBook:!0,fetchStatus:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,privateAPI:!1,publicAPI:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/66732963-8eb7dd00-ee66-11e9-849b-10d9282bb9e0.jpg",api:{web:"https://whitebit.com/",publicV2:"https://whitebit.com/api/v2/public",publicV1:"https://whitebit.com/api/v1/public"},www:"https://www.whitebit.com",doc:"https://documenter.getpostman.com/view/7473075/SVSPomwS?version=latest#intro",fees:"https://whitebit.com/fee-schedule",referral:"https://whitebit.com/referral/d9bdf40e-28f2-4b52-b2f9-cd1415d82963"},api:{web:{get:["v1/healthcheck"]},publicV1:{get:["markets","tickers","ticker","symbols","depth/result","history","kline"]},publicV2:{get:["markets","ticker","assets","fee","depth/{market}","trades/{market}"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},options:{fetchTradesMethod:"fetchTradesV1"},exceptions:{exact:{},broad:{"Market is not available":n}}})}async fetchMarkets(e={}){const t=await this.publicV2GetMarkets(e),i=this.safeValue(t,"result"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),a=this.safeString(e,"stock"),n=this.safeString(e,"money"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d={id:t,symbol:o+"/"+c,base:o,quote:c,baseId:a,quoteId:n,info:e,active:this.safeValue(e,"tradesEnabled"),precision:{amount:this.safeInteger(e,"stockPrec"),price:this.safeInteger(e,"moneyPrec")},limits:{amount:{min:this.safeFloat(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(e,"minTotal"),max:void 0}}};r.push(d)}return r}async fetchCurrencies(e={}){const t=await this.publicV2GetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a],t=i[e],n=this.safeValue(t,"canDeposit",!0),o=this.safeValue(t,"canWithdraw",!0),c=n&&o,d=this.safeCurrencyCode(e);s[d]={id:e,code:d,info:t,name:void 0,active:c,fee:void 0,precision:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(t,"minWithdrawal"),max:this.safeFloat(t,"maxWithdrawal")}}}}return s}async fetchTradingFees(e={}){const t=await this.publicV2GetFee(e),i=this.safeValue(t,"result");return{maker:this.safeFloat(i,"makerFee"),taker:this.safeFloat(i,"takerFee")}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicV1GetTicker(this.extend(r,t)),a=this.safeValue(s,"result",{});return this.parseTicker(a,i)}parseTicker(e,t){const i=this.safeTimestamp(e,"at",this.milliseconds());e=this.safeValue(e,"ticker",e);let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last"),a=this.safeFloat(e,"change");let n=void 0;return void 0!==a&&(n=this.numberToString(.01*a)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:n,percentage:a,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"deal"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicV1GetTickers(t),r=this.safeValue(i,"result"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n];let t=void 0,i=e;if(e in this.markets_by_id)t=this.markets_by_id[e],i=t.symbol;else{const[t,r]=e.split("_");i=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(r)}const o=this.parseTicker(r[e],t);a[i]=this.extend(o,{symbol:i})}return this.filterByArray(a,"symbol",e)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicV2GetDepthMarket(this.extend(r,i)),a=this.safeValue(s,"result",{}),n=this.parse8601(this.safeString(a,"lastUpdateTimestamp"));return this.parseOrderBook(a,n)}async fetchTradesV1(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id,lastId:1};void 0!==i&&(a.limit=i);const n=await this.publicV1GetHistory(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTradesV2(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicV2GetTradesMarket(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){const s=this.safeString(this.options,"fetchTradesMethod","fetchTradesV2");return await this[s](e,t,i,r)}parseTrade(e,t){let i=this.safeValue(e,"time");i="string"===typeof i?this.parse8601(i):parseInt(1e3*i);const r=this.safeFloat(e,"price"),s=this.safeFloat2(e,"amount","volume"),a=this.safeString2(e,"id","tradeId");let n=this.safeString(e,"type");if(void 0===n){n=this.safeValue(e,"isBuyerMaker")?"buy":"sell"}let o=void 0;void 0!==t&&(o=t.symbol);let c=void 0;return void 0!==s&&void 0!==r&&(c=s*r),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,id:a,order:void 0,type:void 0,takerOrMaker:void 0,side:n,price:r,amount:s,cost:c,fee:void 0}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,interval:this.timeframes[t]};void 0!==i&&(n.start=parseInt(i/1e3)),void 0!==r&&(n.limit=r);const o=await this.publicV1GetKline(this.extend(n,s)),c=this.safeValue(o,"result");return this.parseOHLCVs(c,a,t,i,r)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}async fetchStatus(e={}){const t=await this.webGetV1Healthcheck();let i="ok";return 503===this.safeInteger(t,"status")&&(i="maintenance"),this.status=this.extend(this.status,{status:i,updated:this.milliseconds()}),this.status}sign(e,t="publicV1",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.urls.api[t]+"/"+this.implodeParams(e,r);return Object.keys(n).length&&(o+="?"+this.urlencode(n)),{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,n,o,c,d,h){if(418===e||429===e)throw new a(this.id+" "+e.toString()+" "+t+" "+o);if(404===e)throw new s(this.id+" "+e.toString()+" endpoint not found");if(void 0!==c){if(!this.safeValue(c,"success")){const e=this.id+" "+o,t=this.safeValue(c,"message");throw"string"===typeof t&&this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,o,e),new s(e)}}}}},BupB:function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lykke",name:"Lykke",countries:["CH"],version:"v1",rateLimit:200,has:{CORS:!1,fetchOHLCV:!1,fetchTrades:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrder:!0,fetchOrders:!0},requiredCredentials:{apiKey:!0,secret:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/34487620-3139a7b0-efe6-11e7-90f5-e520cef74451.jpg",api:{mobile:"https://public-api.lykke.com/api",public:"https://hft-api.lykke.com/api",private:"https://hft-api.lykke.com/api"},test:{mobile:"https://public-api.lykke.com/api",public:"https://hft-service-dev.lykkex.net/api",private:"https://hft-service-dev.lykkex.net/api"},www:"https://www.lykke.com",doc:["https://hft-api.lykke.com/swagger/ui/","https://www.lykke.com/lykke_api"],fees:"https://www.lykke.com/trading-conditions"},api:{mobile:{get:["Market/{market}","Trades/{AssetPairId}"]},public:{get:["AssetPairs","AssetPairs/{id}","IsAlive","OrderBooks","OrderBooks/{AssetPairId}"]},private:{get:["Orders","Orders/{id}","Wallets"],post:["Orders/limit","Orders/market","Orders/{id}/Cancel"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001},deposit:{BTC:0}}},commonCurrencies:{XPD:"Lykke XPD"}})}parseTrade(e,t){let i=void 0;if(void 0===t){const i=this.safeString(e,"AssetPairId");t=this.safeValue(this.markets_by_id,i)}t&&(i=t.symbol);const r=this.safeString(e,"id"),s=this.parse8601(this.safeString(e,"dateTime")),a=this.safeStringLower(e,"action"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"volume"),c=n*o;return{id:r,info:e,timestamp:s,datetime:this.iso8601(s),symbol:i,type:void 0,order:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);void 0===i&&(i=100);const a={AssetPairId:s.id,skip:0,take:i},n=await this.mobileGetTradesAssetPairId(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"AssetId"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeFloat(e,"Balance"),n.used=this.safeFloat(e,"Reserved"),i[a]=n}return this.parseBalance(i)}async cancelOrder(e,t,i={}){return await this.privatePostOrdersIdCancel({id:e})}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={AssetPairId:n.id,OrderAction:this.capitalize(i),Volume:r};"market"===t?o.Asset="buy"===i?n.base:n.quote:"limit"===t&&(o.Price=s);const c="privatePostOrders"+this.capitalize(t);return{id:void 0,info:await this[c](this.extend(o,a))}}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"Id"),a=this.safeString(e,"Name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(e,"Accuracy"),price:this.safeInteger(e,"InvertedAccuracy")};i.push({id:s,symbol:h,base:c,quote:d,active:!0,info:e,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:Math.pow(10,u.amount)},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)},cost:{min:void 0,max:void 0}}})}return i}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"lastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume24H"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.mobileGetMarketMarket(this.extend(r,t));return this.parseTicker(s,i)}parseOrderStatus(e){return this.safeString({Open:"open",Pending:"open",InOrderBook:"open",Processing:"open",Matched:"closed",Cancelled:"canceled",Rejected:"rejected",Replaced:"canceled"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"Status"));let r=void 0;if(void 0===t){const i=this.safeString(e,"AssetPairId");t=this.safeValue(this.markets_by_id,i)}t&&(r=t.symbol);const s=this.parse8601(this.safeString(e,"LastMatchTime"));let a=void 0;"Registered"in e&&e.Registered?a=this.parse8601(e.Registered):"CreatedAt"in e&&e.CreatedAt&&(a=this.parse8601(e.CreatedAt));const n=this.safeFloat(e,"Price"),o=this.safeFloat(e,"Volume"),c=this.safeFloat(e,"RemainingVolume"),d=o-c,h=d*n;return{info:e,id:this.safeString(e,"Id"),timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:s,symbol:r,type:void 0,side:void 0,price:n,cost:h,average:void 0,amount:o,filled:d,remaining:c,status:i,fee:void 0}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetOrders(r);return this.parseOrders(s,void 0,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetOrders(this.extend({status:"InOrderBook"},r));return this.parseOrders(s,void 0,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetOrders(this.extend({status:"Matched"},r));return this.parseOrders(s,void 0,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderBooksAssetPairId(this.extend({AssetPairId:this.marketId(e)},i)),s={timestamp:void 0,bids:[],asks:[]};let a=void 0;for(let n=0;n<r.length;n++){const e=r[n];e.IsBuy?s.bids=this.arrayConcat(s.bids,e.Prices):s.asks=this.arrayConcat(s.asks,e.Prices);const t=this.parse8601(e.Timestamp);a=void 0===a?t:Math.max(a,t)}return this.parseOrderBook(s,a,"bids","asks","Price","Volume")}parseBidAsk(e,t=0,i=1){const r=this.safeFloat(e,t);let s=this.safeFloat(e,i);return s<0&&(s=-s),[r,s]}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"mobile"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):"private"===t&&("GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),this.checkRequiredCredentials(),s={"api-key":this.apiKey,Accept:"application/json","Content-Type":"application/json"},"POST"===i&&Object.keys(r).length&&(a=this.json(r))),{url:n,method:i,body:a,headers:s}}}},Bxj7:function(e,t,i){"use strict";var r=i("b+ih"),s=i("S63X"),a=i("Hy3L");e.exports={formats:a,parse:s,stringify:r}},C1tN:function(e,t,i){(function(e){var r=i("cyIN"),s=i("+MGR"),a=i("3Wkq");var n={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var i=new e(s[t].prime,"hex"),r=new e(s[t].gen,"hex");return new a(i,r)},t.createDiffieHellman=t.DiffieHellman=function t(i,s,o,c){return e.isBuffer(s)||void 0===n[s]?t(i,"binary",s,o):(s=s||"binary",c=c||"binary",o=o||new e([2]),e.isBuffer(o)||(o=new e(o,c)),"number"===typeof i?new a(r(i,o),o,!0):(e.isBuffer(i)||(i=new e(i,s)),new a(i,o,!0)))}}).call(this,i("qykS").Buffer)},C92A:function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},C9Yi:function(e,t,i){"use strict";e.exports=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes"}],name:"setMultihash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"multihash",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"ret",type:"bytes32"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"ret",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"},{name:"data",type:"bytes"}],name:"setABI",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"ret",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"pubkey",outputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],payable:!1,type:"function"},{inputs:[{name:"ensAddr",type:"address"}],payable:!1,type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"hash",type:"bytes32"}],name:"ContentChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"x",type:"bytes32"},{indexed:!1,name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"}]},C9xR:function(e,t,i){e.exports=i("5Ekh").Transform},CGOH:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,DDoSProtection:d,InvalidOrder:h,AuthenticationError:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidex",name:"Tidex",countries:["UK"],rateLimit:2e3,version:"3",userAgent:this.userAgents.chrome,has:{CORS:!1,createMarketOrder:!1,fetchOrderBooks:!0,fetchOrder:!0,fetchOrders:"emulated",fetchOpenOrders:!0,fetchClosedOrders:"emulated",fetchTickers:!0,fetchMyTrades:!0,withdraw:!0,fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30781780-03149dc4-a12e-11e7-82bb-313b269d24d4.jpg",api:{web:"https://gate.tidex.com/api",public:"https://api.tidex.com/api/3",private:"https://api.tidex.com/tapi"},www:"https://tidex.com",doc:"https://tidex.com/exchange/public-api",referral:"https://tidex.com/exchange/?ref=57f5638d9cd7",fees:["https://tidex.com/exchange/assets-spec","https://tidex.com/exchange/pairs-spec"]},api:{web:{get:["currency","pairs","tickers","orders","ordershistory","trade-data","trade-data/{id}"]},public:{get:["info","ticker/{pair}","depth/{pair}","trades/{pair}"]},private:{post:["getInfoExt","getInfo","Trade","ActiveOrders","OrderInfo","CancelOrder","TradeHistory","CoinDepositAddress","WithdrawCoin","CreateCoupon","RedeemCoupon"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{DSH:"DASH",EMGO:"MGO",MGO:"WMGO"},exceptions:{exact:{803:h,804:h,805:h,806:h,807:h,831:o,832:o,833:c},broad:{"Invalid pair name":s,"invalid api key":u,"invalid sign":u,"api key dont have trade permission":u,"invalid parameter":h,"invalid order":h,"Requests too often":d,"not available":n,"data unavailable":n,"external service unavailable":n}},options:{fetchTickersMaxLength:2048}})}async fetchCurrencies(e={}){const t=await this.webGetCurrency(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=e.amountPoint,n=this.safeCurrencyCode(s);let o=!0===e.visible;const c=!0===e.withdrawEnable,d=!0===e.depositEnable;c&&d||(o=!1);const h=this.safeString(e,"name");i[n]={id:s,code:n,name:h,active:o,precision:a,funding:{withdraw:{active:c,fee:e.withdrawFee},deposit:{active:d,fee:0}},limits:{amount:{min:void 0,max:Math.pow(10,a)},price:{min:Math.pow(10,-a),max:Math.pow(10,a)},cost:{min:void 0,max:void 0},withdraw:{min:e.withdrawMinAmout,max:void 0},deposit:{min:e.depositMinAmount,max:void 0}},info:e}}return i}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=parseFloat(this.costToPrecision(e,r*d));return"sell"===i?h*=s:c="base",{type:a,currency:o[c],rate:d,cost:h}}async fetchMarkets(e={}){const t=(await this.publicGetInfo(e)).pairs,i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(a,"decimal_places"),price:this.safeInteger(a,"decimal_places")},l={amount:{min:this.safeFloat(a,"min_amount"),max:this.safeFloat(a,"max_amount")},price:{min:this.safeFloat(a,"min_price"),max:this.safeFloat(a,"max_price")},cost:{min:this.safeFloat(a,"min_total")}},f=0===this.safeInteger(a,"hidden");r.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:f,taker:a.fee/100,precision:u,limits:l,info:a})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfoExt(e),i=this.safeValue(t,"return"),r={info:i},s=this.safeValue(i,"funds",{}),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),i=this.safeValue(s,e,{}),o=this.account();o.free=this.safeFloat(i,"value"),o.used=this.safeFloat(i,"inOrders"),r[t]=o}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),a={pair:r.id};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i));if(!(r.id in n))throw new s(this.id+" "+r.symbol+" order book is empty or not available");const o=n[r.id];return this.parseOrderBook(o)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join("-"),r.length>2048){const e=this.ids.length;throw new s(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join("-");const a={pair:r};void 0!==t&&(a.limit=t);const n=await this.publicGetDepthPair(this.extend(a,i)),o={};r=Object.keys(n);for(let s=0;s<r.length;s++){const e=r[s];let t=e;e in this.markets_by_id&&(t=this.markets_by_id[e].symbol),o[t]=this.parseOrderBook(n[e])}return o}parseTicker(e,t){let i=this.safeTimestamp(e,"updated"),r=void 0;void 0!==t&&(r=t.symbol,t.active||(i=void 0));const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol_cur"),quoteVolume:this.safeFloat(e,"vol"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();let i=this.ids;if(void 0===e){const e=i.length;if(i=i.join("-"),i.length>this.options.fetchTickersMaxLength){const t=this.safeInteger(this.options,"fetchTickersMaxLength",2048);throw new a(this.id+" has "+e.toString()+" markets exceeding max URL length for this endpoint ("+t.toString()+" characters), please, specify a list of symbols of interest in the first argument to fetchTickers")}}else i=this.marketIds(e),i=i.join("-");const r={pair:i},s=await this.publicGetTickerPair(this.extend(r,t)),n={},o=Object.keys(s);for(let a=0;a<o.length;a++){const e=o[a];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i.symbol),n[t]=this.parseTicker(s[e],i)}return n}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=this.safeString(e,"type");"ask"===r?r="sell":"bid"===r&&(r="buy");const s=this.safeFloat2(e,"rate","price"),a=this.safeString2(e,"trade_id","tid"),n=this.safeString(e,"order_id");if("pair"in e){const i=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,i,t)}let o=void 0;void 0!==t&&(o=t.symbol);const c=this.safeFloat(e,"amount");let d=void 0,h=void 0;const u=this.safeFloat(e,"commission");if(void 0!==u){const t=this.safeString(e,"commissionCurrency");h={cost:u,currency:this.safeCurrencyCode(t)}}const l=this.safeValue(e,"is_your_order");void 0!==l&&(d="taker",l&&(d="maker"),void 0===h&&(h=this.calculateFee(o,"limit",r,c,s,d)));let f=void 0;return void 0!==c&&void 0!==s&&(f=c*s),{id:a,order:n,timestamp:i,datetime:this.iso8601(i),symbol:o,type:"limit",side:r,takerOrMaker:d,price:s,amount:c,cost:f,fee:h,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTradesPair(this.extend(a,r));if(Array.isArray(n)){if(0===n.length)return[]}return this.parseTrades(n[s.id],s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o={pair:this.market(e).id,type:i,amount:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,a)};a=parseFloat(a),r=parseFloat(r);const c=await this.privatePostTrade(this.extend(o,n));let d=void 0,h="open",u=0,l=r;"return"in c&&(d=this.safeString(c.return,"order_id"),"0"===d&&(d=this.safeString(c.return,"init_order_id"),h="closed"),u=this.safeFloat(c.return,"received",0),l=this.safeFloat(c.return,"remains",r));const f=this.milliseconds(),p={id:d,timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,status:h,symbol:e,type:t,side:i,price:a,cost:a*u,amount:r,remaining:l,filled:u,fee:void 0};return this.orders[d]=p,this.extend({info:c},p)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostCancelOrder(this.extend(r,i));return e in this.orders&&(this.orders[e].status="canceled"),s}parseOrderStatus(e){return this.safeString({0:"open",1:"closed",2:"canceled",3:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeTimestamp(e,"timestamp_created");let a=void 0;if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(a=t.symbol);let n=void 0,o=void 0;const c=this.safeFloat(e,"rate");let d=void 0,h=void 0;"start_amount"in e?(o=this.safeFloat(e,"start_amount"),n=this.safeFloat(e,"amount")):(n=this.safeFloat(e,"amount"),i in this.orders&&(o=this.orders[i].amount)),void 0!==o&&void 0!==n&&(d=o-n,h=c*d);return{info:e,id:i,symbol:a,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",side:e.type,price:c,cost:h,amount:o,remaining:n,filled:d,status:r,fee:void 0}}parseOrders(e,t,i,r,s={}){const a=[],n=Object.keys(e);let o=void 0;void 0!==t&&(o=t.symbol);for(let c=0;c<n.length;c++){const i=n[c],r=this.extend({id:i},e[i]);a.push(this.extend(this.parseOrder(r,t),s))}return this.filterBySymbolSinceLimit(a,o,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderInfo(this.extend(r,i));e=e.toString();const a=this.parseOrder(this.extend({id:e},s.return[e])),n=e in this.orders?this.orders[e]:{};return this.orders[e]=this.extend(n,a),this.orders[e]}updateCachedOrders(e,t){for(let s=0;s<e.length;s++){const t=e[s].id;this.orders[t]=e[s]}const i=this.indexBy(e,"id"),r=Object.keys(this.orders);for(let s=0;s<r.length;s++){const e=r[s];let a=this.orders[e];if(!(e in i)){if(void 0!==t&&t!==a.symbol)continue;"open"===a.status&&(a=this.extend(a,{status:"closed",cost:void 0,filled:a.amount,remaining:0}),void 0===a.cost&&void 0!==a.filled&&(a.cost=a.filled*a.price),this.orders[e]=a)}}return this.toArray(this.orders)}async fetchOrders(e,t,i,r={}){if("fetchOrdersRequiresSymbol"in this.options&&this.options.fetchOrdersRequiresSymbol&&void 0===e)throw new a(this.id+" fetchOrders requires a `symbol` argument");await this.loadMarkets();const s={};let n=void 0;void 0!==e&&(n=this.market(e),s.pair=n.id);const o=await this.privatePostActiveOrders(this.extend(s,r)),c=this.safeValue(o,"return",[]),d=this.parseOrders(c,n),h=this.updateCachedOrders(d,e),u=this.filterBySymbol(h,e);return this.filterBySinceLimit(u,t,i)}async fetchOpenOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","open")}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.pair=s.id),void 0!==i&&(a.count=parseInt(i)),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privatePostTradeHistory(this.extend(a,r)),o=this.safeValue(n,"return",[]);return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n={coinName:this.currency(e).id,amount:parseFloat(t),address:i};if(void 0!==r)throw new s(this.id+" withdraw() does not support the tag argument yet due to a lack of docs on withdrawing with tag/memo on behalf of the exchange.");const o=await this.privatePostWithdrawCoin(this.extend(n,a));return{info:o,id:o.return.tId}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const t=this.nonce();a=this.urlencode(this.extend({nonce:t,method:e},o));const i=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:i}}else"public"===t?(n+="/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o))):(n+="/"+this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o),s={"Content-Type":"application/json"}));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.safeString(o,"code"),t=this.safeString(o,"error"),i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}}}},"COu+":function(e,t,i){"use strict";const r=i("ubNZ"),{ExchangeError:s,AuthenticationError:a,InvalidOrder:n,InsufficientFunds:o}=i("ucJe");e.exports=class extends r{describe(){const e={"15m":"15m","20m":"20m","30m":"30m","1h":"1h","2h":"2h","3h":"3h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d"},t=this.deepExtend(super.describe(),{id:"bleutrade",name:"Bleutrade",countries:["BR"],rateLimit:1e3,version:"v2",certified:!1,has:{CORS:!0,fetchTickers:!0,fetchOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchLedger:!0},timeframes:e,hostname:"bleutrade.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/30303000-b602dbe6-976d-11e7-956d-36c5049c01e7.jpg",api:{public:"https://{hostname}/api/v2",account:"https://{hostname}/api/v2",market:"https://{hostname}/api/v2",v3Private:"https://{hostname}/api/v3/private",v3Public:"https://{hostname}/api/v3/public"},www:"https://bleutrade.com",doc:["https://app.swaggerhub.com/apis-docs/bleu/white-label/3.0.0"],fees:"https://bleutrade.com/help/fees_and_deadlines"},api:{account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawhistory","withdraw"]},public:{get:["candles","currencies","markethistory","markets","marketsummaries","marketsummary","orderbook","ticker"]},v3Public:{get:["assets","markets","ticker","marketsummary","marketsummaries","orderbook","markethistory","candles"]},v3Private:{get:["getbalance","getbalances","buylimit","selllimit","buylimitami","selllimitami","buystoplimit","sellstoplimit","ordercancel","getopenorders","getdeposithistory","getdepositaddress","getmytransactions","withdraw","directtransfer","getwithdrawhistory","getlimits"]}},fees:{funding:{withdraw:{ADC:.1,BTA:.1,BITB:.1,BTC:.001,BCC:.001,BTCD:.001,BTG:.001,BLK:.1,CDN:.1,CLAM:.01,DASH:.001,DCR:.05,DGC:.1,DP:.1,DPC:.1,DOGE:10,EFL:.1,ETH:.01,EXP:.1,FJC:.1,BSTY:.001,GB:.1,NLG:.1,HTML:1,LTC:.001,MONA:.01,MOON:1,NMC:.015,NEOS:.1,NVC:.05,OK:.1,PPC:.1,POT:.1,XPM:.001,QTUM:.1,RDD:.1,SLR:.1,START:.1,SLG:.1,TROLL:.1,UNO:.01,VRC:.1,VTC:.1,XVP:.1,WDC:.001,ZET:.1}}},commonCurrencies:{EPC:"Epacoin"},exceptions:{exact:{"Insufficient funds!":o,"Invalid Order ID":n,"Invalid apikey or apisecret":a}},options:{pricePrecisionByCode:{USD:3},parseOrderStatus:!0,disableNonce:!1,symbolSeparator:"_"}});return t.timeframes=e,t}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[],r=this.safeValue(t,"result");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"MarketName"),a=this.safeString(e,"MarketCurrency"),n=this.safeString(e,"BaseCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c;let h=8;c in this.options.pricePrecisionByCode&&(h=this.options.pricePrecisionByCode[c]);const u={amount:8,price:h};let l=this.safeValue(e,"IsActive",!1);l=!("false"===l||!l),i.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:l,info:e,precision:u,limits:{amount:{min:this.safeFloat(e,"MinTradeSize"),max:void 0},price:{min:Math.pow(10,-u.price),max:void 0}}})}return i}parseOrderStatus(e){return this.safeString({OK:"closed",OPEN:"open",CANCELED:"canceled"},e,e)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,a="ALL";void 0!==e&&(s=this.market(e),a=s.id);const n={market:a,orderstatus:"ALL"},o=await this.accountGetOrders(this.extend(n,r));return this.parseOrders(o.result,s,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}getOrderIdField(){return"orderid"}parseSymbol(e){let[t,i]=e.split(this.options.symbolSeparator);return t=this.safeCurrencyCode(t),i=this.safeCurrencyCode(i),t+"/"+i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e),type:"ALL"};void 0!==t&&(r.depth=t);const a=await this.publicGetOrderbook(this.extend(r,i)),n=this.safeValue(a,"result");if(!n)throw new s(this.id+" publicGetOrderbook() returneded no result "+this.json(a));return this.parseOrderBook(n,void 0,"buy","sell","Rate","Quantity")}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={orderid:e},n=await this.accountGetOrderhistory(this.extend(a,s));return this.parseTrades(n.result,void 0,i,r,{order:e})}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets();const a="deposit"===e?"accountGetDeposithistory":"accountGetWithdrawhistory",n=await this[a](s),o=this.parseTransactions(n.result);return this.filterByCurrencySinceLimit(o,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdrawal",e,t,i,r)}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(e.TimeStamp+"+00:00"),this.safeFloat(e,"Open"),this.safeFloat(e,"High"),this.safeFloat(e,"Low"),this.safeFloat(e,"Close"),this.safeFloat(e,"Volume")]}async fetchOHLCV(e,t="15m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={period:this.timeframes[t],market:a.id,count:r},o=await this.publicGetCandles(this.extend(n,s));if("result"in o&&o.result)return this.parseOHLCVs(o.result,a,t,i,r)}parseTrade(e,t){const i=this.parse8601(e.TimeStamp+"+00:00");let r=void 0;"BUY"===e.OrderType?r="buy":"SELL"===e.OrderType&&(r="sell");const s=this.safeString2(e,"TradeID","ID");let a=void 0;void 0!==t&&(a=t.symbol);let n=void 0;const o=this.safeFloat(e,"Price"),c=this.safeFloat(e,"Quantity");return void 0!==c&&void 0!==o&&(n=o*c),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,type:"limit",side:r,order:void 0,takerOrMaker:void 0,price:o,amount:c,cost:n,fee:void 0}}parseLedgerEntryType(e){return this.safeString({TRADE:"trade",WITHDRAW:"transaction"},e,e)}parseLedgerEntry(e,t){const i=this.safeCurrencyCode(this.safeString(e,"CoinSymbol"),t),r=this.safeString(e,"Description"),s=this.parseLedgerEntryType(this.safeString(e,"Type"));let a=void 0,n=void 0;const o="trade"===s?", ":"; ",c=r.split(o);for(let l=0;l<c.length;l++){let e=c[l];if(0===e.indexOf("fee")){e=e.replace("fee ","");let t=parseFloat(e);t<0&&(t=-t),n={cost:t,currency:i}}else 0===e.indexOf("order id")&&(a=e.replace("order id",""))}const d=this.parse8601(this.safeString(e,"TimeStamp"));let h=this.safeFloat(e,"Amount"),u=void 0;return void 0!==h&&(u="in",h<0&&(u="out",h=-h)),{id:this.safeString(e,"ID"),info:e,timestamp:d,datetime:this.iso8601(d),direction:u,account:void 0,referenceId:a,referenceAccount:void 0,type:s,currency:i,amount:h,before:void 0,after:void 0,status:"ok",fee:n}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=await this.v3PrivateGetGetmytransactions(this.extend({},r));return this.parseLedger(s.result,e,t,i)}parseOrder(e,t){let i=this.safeString2(e,"OrderType","Type");const r="LIMIT_SELL"===i||"SELL"===i;("LIMIT_BUY"===i||"BUY"===i)&&(i="buy"),r&&(i="sell");let s=void 0;"Opened"in e&&e.Opened&&(s="open"),"Closed"in e&&e.Closed&&(s="closed"),"CancelInitiated"in e&&e.CancelInitiated&&(s="canceled"),"Status"in e&&this.options.parseOrderStatus&&(s=this.parseOrderStatus(this.safeString(e,"Status")));let a=void 0;const n=this.safeString(e,"Exchange");void 0===n?void 0!==t&&(a=t.symbol):a=n in this.markets_by_id?(t=this.markets_by_id[n]).symbol:this.parseSymbol(n);let o=void 0;"Opened"in e&&(o=this.parse8601(e.Opened+"+00:00")),"Created"in e&&(o=this.parse8601(e.Created+"+00:00"));let c=void 0;"TimeStamp"in e&&void 0!==e.TimeStamp&&(c=this.parse8601(e.TimeStamp+"+00:00")),"Closed"in e&&void 0!==e.Closed&&(c=this.parse8601(e.Closed+"+00:00")),void 0===o&&(o=c);let d=void 0,h=void 0;if("Commission"in e?h="Commission":"CommissionPaid"in e&&(h="CommissionPaid"),h)if(d={cost:this.safeFloat(e,h)},void 0!==t)d.currency=t.quote;else if(void 0!==a){const e=a.split("/")[1];d.currency=this.safeCurrencyCode(e)}let u=this.safeFloat(e,"Price"),l=void 0;const f=this.safeFloat(e,"Quantity"),p=this.safeFloat(e,"QuantityRemaining");let m=void 0;void 0!==f&&void 0!==p&&(m=f-p),l||u&&m&&(l=u*m),u||l&&m&&(u=l/m);const y=this.safeFloat(e,"PricePerUnit");return{info:e,id:this.safeString2(e,"OrderUuid","OrderId"),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:c,symbol:a,type:"limit",side:i,price:u,cost:l,average:y,amount:f,filled:m,remaining:p,status:s,fee:d}}parseTransaction(e,t){const i=this.safeString(e,"Id");let r=this.safeFloat(e,"Amount"),s="deposit";r<0&&(r=Math.abs(r),s="withdrawal");const a=this.safeString(e,"Coin"),n=this.safeCurrencyCode(a,t),o=this.safeString(e,"Label"),c=this.parse8601(this.safeString(e,"TimeStamp"));let d=this.safeString(e,"TransactionId"),h=void 0,u=void 0;const l=o.split(";");3===l.length?(r=parseFloat(l[0]),h=l[1],u=parseFloat(l[2])):h=o;let f=void 0;void 0!==u&&(f={currency:n,cost:u});let p="ok";return"CANCELED"===d&&(d=void 0,p="canceled"),{info:e,timestamp:c,datetime:this.iso8601(c),id:i,currency:n,amount:r,address:h,tag:void 0,status:p,type:s,updated:void 0,txid:d,fee:f}}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("v3Private"===t||"account"===t){this.checkRequiredCredentials(),"account"===t&&(n+=t+"/"),("account"===t&&"withdraw"!==e||"openorders"===e)&&(n+=i.toLowerCase());const a={apikey:this.apiKey};a.nonce=this.nonce(),n+=e+"?"+this.urlencode(this.extend(a,r)),s={apisign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}else n+=t+"/"+i.toLowerCase()+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}}},CsW6:function(e,t,i){var r=i("+oaW"),s=i("pRMk").Buffer;function a(e){var t=s.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var i,n=s.alloc(0),o=0;n.length<t;)i=a(o++),n=s.concat([n,r("sha1").update(e).update(i).digest()]);return n.slice(0,t)}},DDMh:function(e,t,i){"use strict";var r=i("HpGB"),s=i("siiD");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-i,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),s(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var s=1;s<i;s++)r[s]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)r[s++]=0;r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=e>>>24&255,r[s++]=e>>>16&255,r[s++]=e>>>8&255,r[s++]=255&e}else for(r[s++]=255&e,r[s++]=e>>>8&255,r[s++]=e>>>16&255,r[s++]=e>>>24&255,r[s++]=0,r[s++]=0,r[s++]=0,r[s++]=0,a=8;a<this.padLength;a++)r[s++]=0;return r}},DQGM:function(e,t,i){"use strict";var r=i("8kJ5"),s=i("fOyB"),a=s.assert;function n(e,t){if(e instanceof n)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var i=e[t.place++];if(!(128&i))return i;for(var r=15&i,s=0,a=0,n=t.place;a<r;a++,n++)s<<=8,s|=e[n];return t.place=n,s}function d(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}e.exports=n,n.prototype._importDER=function(e,t){e=s.toArray(e,t);var i=new o;if(48!==e[i.place++])return!1;if(c(e,i)+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var a=c(e,i),n=e.slice(i.place,a+i.place);if(i.place+=a,2!==e[i.place++])return!1;var d=c(e,i);if(e.length!==d+i.place)return!1;var h=e.slice(i.place,d+i.place);return 0===n[0]&&128&n[1]&&(n=n.slice(1)),0===h[0]&&128&h[1]&&(h=h.slice(1)),this.r=new r(n),this.s=new r(h),this.recoveryParam=null,!0},n.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=d(t),i=d(i);!i[0]&&!(128&i[1]);)i=i.slice(1);var r=[2];h(r,t.length),(r=r.concat(t)).push(2),h(r,i.length);var a=r.concat(i),n=[48];return h(n,a.length),n=n.concat(a),s.encode(n,e)}},DVZY:function(e){e.exports=JSON.parse('{"name":"goerli","chainId":5,"networkId":5,"comment":"Cross-client PoA test network","url":"https://github.com/goerli/testnet","genesis":{"hash":"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a","timestamp":"0x5c51a607","gasLimit":10485760,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","stateRoot":"0x5d6cded585e73c4e322c30c2f782a336316f17dd85a4863b9d838d2d4b8b3008"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":0,"consensus":"poa","finality":null},{"name":"dao","block":0,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":0,"consensus":"poa","finality":null},{"name":"byzantium","block":0,"consensus":"poa","finality":null},{"name":"constantinople","block":0,"consensus":"poa","finality":null},{"name":"petersburg","block":0,"consensus":"poa","finality":null},{"name":"istanbul","block":1561651,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"51.141.78.53","port":30303,"id":"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a","location":"","comment":"Source: https://github.com/goerli/testnet/blob/master/bootnodes.txt"},{"ip":"13.93.54.137","port":30303,"id":"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b","location":"","comment":"Source: https://github.com/goerli/testnet/blob/master/bootnodes.txt"},{"ip":"94.237.54.114","port":30313,"id":"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291","location":"","comment":"Source: https://github.com/goerli/testnet/blob/master/bootnodes.txt"},{"ip":"52.64.155.147","port":30303,"id":"c1f8b7c2ac4453271fa07d8e9ecf9a2e8285aa0bd0c07df0131f47153306b0736fd3db8924e7a9bf0bed6b1d8d4f87362a71b033dc7c64547728d953e43e59b2","location":"","comment":"Source: https://github.com/goerli/testnet/blob/master/bootnodes.txt"},{"ip":"213.186.16.82","port":30303,"id":"f4a9c6ee28586009fb5a96c8af13a58ed6d8315a9eee4772212c1d4d9cebe5a8b8a78ea4434f318726317d04a3f531a1ef0420cf9752605a562cfe858c46e263","location":"","comment":"Source: https://github.com/goerli/testnet/blob/master/bootnodes.txt"}]}')},DYCR:function(e,t){e.exports={encode:e=>{const t=e=>(e=>e.length%2===0?e:"0"+e)(e.toString(16)),i=(e,i)=>e<56?t(i+e):t(i+t(e).length/2+55)+t(e),r=e=>{if("string"===typeof e){const t=e.slice(2);return(2!=t.length||t>="80"?i(t.length/2,128):"")+t}{const t=e.map(r).join("");return i(t.length/2,192)+t}};return"0x"+r(e)},decode:e=>{let t=2;const i=()=>{if(t>=e.length)throw"";const i=e.slice(t,t+2);return i<"80"?(t+=2,"0x"+i):i<"c0"?s():a()},r=()=>{const i=parseInt(e.slice(t,t+=2),16)%64;return i<56?i:parseInt(e.slice(t,t+=2*(i-55)),16)},s=()=>{const i=r();return"0x"+e.slice(t,t+=2*i)},a=()=>{const e=2*r()+t;let s=[];for(;t<e;)s.push(i());return s};try{return i()}catch(n){return[]}}}},Dgeu:function(e,t,i){(function(t){var r=i("2YIc").Ber,s=i("JxtV")._,a=i("JxtV");e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=e.d.toBuffer(),n=e.p.toBuffer(),o=e.q.toBuffer(),c=e.dmp1.toBuffer(),d=e.dmq1.toBuffer(),h=e.coeff.toBuffer(),u=i.length+s.length+n.length+o.length+c.length+d.length+h.length+512,l=new r.Writer({size:u});l.startSequence(),l.writeInt(0),l.writeBuffer(i,2),l.writeInt(e.e),l.writeBuffer(s,2),l.writeBuffer(n,2),l.writeBuffer(o,2),l.writeBuffer(c,2),l.writeBuffer(d,2),l.writeBuffer(h,2),l.endSequence();var f=new r.Writer({size:u});return f.startSequence(),f.writeInt(0),f.startSequence(),f.writeOID("1.2.840.113549.1.1.1"),f.writeNull(),f.endSequence(),f.writeBuffer(l.buffer,4),f.endSequence(),"der"===t.type?f.buffer:"-----BEGIN PRIVATE KEY-----\n"+a.linebrk(f.buffer.toString("base64"),64)+"\n-----END PRIVATE KEY-----"},privateImport:function(e,i,n){var o;if("der"!==(n=n||{}).type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!s.isString(i))throw Error("Unsupported key format");var c=a.trimSurroundingText(i,"-----BEGIN PRIVATE KEY-----","-----END PRIVATE KEY-----").replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var d=new r.Reader(o);if(d.readSequence(),d.readInt(0),"1.2.840.113549.1.1.1"!==new r.Reader(d.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var h=new r.Reader(d.readString(4,!0));h.readSequence(),h.readString(2,!0),e.setPrivate(h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=i.length+512,n=new r.Writer({size:s});n.writeByte(0),n.startSequence(),n.writeBuffer(i,2),n.writeInt(e.e),n.endSequence();var o=new r.Writer({size:s});return o.startSequence(),o.startSequence(),o.writeOID("1.2.840.113549.1.1.1"),o.writeNull(),o.endSequence(),o.writeBuffer(n.buffer,3),o.endSequence(),"der"===t.type?o.buffer:"-----BEGIN PUBLIC KEY-----\n"+a.linebrk(o.buffer.toString("base64"),64)+"\n-----END PUBLIC KEY-----"},publicImport:function(e,i,n){var o;if("der"!==(n=n||{}).type){if(t.isBuffer(i)&&(i=i.toString("utf8")),s.isString(i)){var c=a.trimSurroundingText(i,"-----BEGIN PUBLIC KEY-----","-----END PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var d=new r.Reader(o);if(d.readSequence(),"1.2.840.113549.1.1.1"!==new r.Reader(d.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var h=new r.Reader(d.readString(3,!0));h.readByte(),h.readSequence(),e.setPublic(h.readString(2,!0),h.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("qykS").Buffer)},DiNA:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mixcoins",name:"MixCoins",countries:["GB","HK"],rateLimit:1500,version:"v1",userAgent:this.userAgents.chrome,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30237212-ed29303c-9535-11e7-8af8-fcd381cfa20c.jpg",api:"https://mixcoins.com/api",www:"https://mixcoins.com",doc:"https://mixcoins.com/help/api/"},api:{public:{get:["ticker/","trades/","depth/"]},private:{post:["cancel","info","orders","order","transactions","trade"]}},markets:{"BTC/USDT":{id:"btc_usdt",symbol:"BTC/USDT",base:"BTC",quote:"USDT",baseId:"btc",quoteId:"usdt",maker:.0015,taker:.0025},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.001,taker:.0015},"BCH/BTC":{id:"bch_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",maker:.001,taker:.0015},"LSK/BTC":{id:"lsk_btc",symbol:"LSK/BTC",base:"LSK",quote:"BTC",baseId:"lsk",quoteId:"btc",maker:.0015,taker:.0025},"BCH/USDT":{id:"bch_usdt",symbol:"BCH/USDT",base:"BCH",quote:"USDT",baseId:"bch",quoteId:"usdt",maker:.001,taker:.0015},"ETH/USDT":{id:"eth_usdt",symbol:"ETH/USDT",base:"ETH",quote:"USDT",baseId:"eth",quoteId:"usdt",maker:.001,taker:.0015}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfo(e),i=this.safeValue(t.result,"wallet"),r={info:t},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.safeValue(i,e,{}),o=this.account();o.free=this.safeFloat(n,"avail"),o.used=this.safeFloat(n,"lock"),r[t]=o}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)},s=await this.publicGetDepth(this.extend(r,i));return this.parseOrderBook(s.result)}async fetchTicker(e,t={}){await this.loadMarkets();const i={market:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"result"),a=this.milliseconds(),n=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:void 0,info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"id"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;return void 0!==a&&void 0!==n&&(o=a*n),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n.result,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={market:this.marketId(e),op:i,amount:r};"market"===t?(n.order_type=1,n.price=s):n.order_type=0;const o=await this.privatePostTrade(this.extend(n,a));return{info:o,id:o.result.id.toString()}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.secret,"sha512")}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("status"in o&&200===o.status)return o;throw new s(this.id+" "+this.json(o))}}},E2hD:function(e,t){var i=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var t,r={},s=i(e).split("\n"),a=0;a<s.length;a++){var n=s[a],o=n.indexOf(":"),c=i(n.slice(0,o)).toLowerCase(),d=i(n.slice(o+1));"undefined"===typeof r[c]?r[c]=d:(t=r[c],"[object Array]"===Object.prototype.toString.call(t)?r[c].push(d):r[c]=[r[c],d])}return r}},E5rJ:function(e,t){e.exports=function(e,t){return t?{statusCode:t.statusCode,headers:t.headers,method:e.method,url:e.url,rawRequest:t.rawRequest?t.rawRequest:t}:null}},E9s0:function(e,t,i){var r=i("wfEq");function s(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}t.Reporter=s,s.prototype.isError=function(e){return e instanceof a},s.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},s.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},s.prototype.enterKey=function(e){return this._reporterState.path.push(e)},s.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},s.prototype.leaveKey=function(e,t,i){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},s.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},s.prototype.error=function(e){var t,i=this._reporterState,r=e instanceof a;if(t=r?e:new a(i.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},s.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},EDSC:function(e,t,i){"use strict";var r=i("PoH+"),s=i("WZyW"),a=i("7N3v"),n=function(e){return s.toBN(e).toString(10)},o=function(e){if(void 0!==e)return function(e){return"latest"===e||"pending"===e||"earliest"===e}(e)?e:"genesis"===e?"0x0":s.isHexStrict(e)?r.isString(e)?e.toLowerCase():e:s.numberToHex(e)},c=function(e){if(e.to&&(e.to=u(e.to)),e.data&&e.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!e.data&&e.input&&(e.data=e.input,delete e.input),e.data&&!s.isHex(e.data))throw new Error("The data field must be HEX encoded data.");return(e.gas||e.gasLimit)&&(e.gas=e.gas||e.gasLimit),["gasPrice","gas","value","nonce"].filter((function(t){return void 0!==e[t]})).forEach((function(t){e[t]=s.numberToHex(e[t])})),e},d=function(e){return null!==e.blockNumber&&(e.blockNumber=s.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=s.hexToNumber(e.transactionIndex)),e.nonce=s.hexToNumber(e.nonce),e.gas=s.hexToNumber(e.gas),e.gasPrice=n(e.gasPrice),e.value=n(e.value),e.to&&s.isAddress(e.to)?e.to=s.toChecksumAddress(e.to):e.to=null,e.from&&(e.from=s.toChecksumAddress(e.from)),e},h=function(e){if("string"===typeof e.blockHash&&"string"===typeof e.transactionHash&&"string"===typeof e.logIndex){var t=s.sha3(e.blockHash.replace("0x","")+e.transactionHash.replace("0x","")+e.logIndex.replace("0x",""));e.id="log_"+t.replace("0x","").substr(0,8)}else e.id||(e.id=null);return null!==e.blockNumber&&(e.blockNumber=s.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=s.hexToNumber(e.transactionIndex)),null!==e.logIndex&&(e.logIndex=s.hexToNumber(e.logIndex)),e.address&&(e.address=s.toChecksumAddress(e.address)),e},u=function(e){var t=new a(e);if(t.isValid()&&t.isDirect())return t.toAddress().toLowerCase();if(s.isAddress(e))return"0x"+e.toLowerCase().replace("0x","");throw new Error('Provided address "'+e+"\" is invalid, the capitalization checksum test failed, or its an indrect IBAN address which can't be converted.")};e.exports={inputDefaultBlockNumberFormatter:function(e){return o(!this||void 0!==e&&null!==e?e:this.defaultBlock)},inputBlockNumberFormatter:o,inputCallFormatter:function(e){var t=(e=c(e)).from||(this?this.defaultAccount:null);return t&&(e.from=u(t)),e},inputTransactionFormatter:function(e){if(e=c(e),!r.isNumber(e.from)&&!r.isObject(e.from)){if(e.from=e.from||(this?this.defaultAccount:null),!e.from&&!r.isNumber(e.from))throw new Error('The send transactions "from" field must be defined!');e.from=u(e.from)}return e},inputAddressFormatter:u,inputPostFormatter:function(e){return e.ttl&&(e.ttl=s.numberToHex(e.ttl)),e.workToProve&&(e.workToProve=s.numberToHex(e.workToProve)),e.priority&&(e.priority=s.numberToHex(e.priority)),r.isArray(e.topics)||(e.topics=e.topics?[e.topics]:[]),e.topics=e.topics.map((function(e){return 0===e.indexOf("0x")?e:s.fromUtf8(e)})),e},inputLogFormatter:function(e){var t=function(e){return null===e||"undefined"===typeof e?null:0===(e=String(e)).indexOf("0x")?e:s.fromUtf8(e)};return(e.fromBlock||0===e.fromBlock)&&(e.fromBlock=o(e.fromBlock)),(e.toBlock||0===e.toBlock)&&(e.toBlock=o(e.toBlock)),e.topics=e.topics||[],e.topics=e.topics.map((function(e){return r.isArray(e)?e.map(t):t(e)})),t=null,e.address&&(e.address=r.isArray(e.address)?e.address.map((function(e){return u(e)})):u(e.address)),e},inputSignFormatter:function(e){return s.isHexStrict(e)?e:s.utf8ToHex(e)},inputStorageKeysFormatter:function(e){return e.map(s.numberToHex)},outputProofFormatter:function(e){return e.address=s.toChecksumAddress(e.address),e.nonce=s.hexToNumberString(e.nonce),e.balance=s.hexToNumberString(e.balance),e},outputBigNumberFormatter:n,outputTransactionFormatter:d,outputTransactionReceiptFormatter:function(e){if("object"!==typeof e)throw new Error("Received receipt is invalid: "+e);return null!==e.blockNumber&&(e.blockNumber=s.hexToNumber(e.blockNumber)),null!==e.transactionIndex&&(e.transactionIndex=s.hexToNumber(e.transactionIndex)),e.cumulativeGasUsed=s.hexToNumber(e.cumulativeGasUsed),e.gasUsed=s.hexToNumber(e.gasUsed),r.isArray(e.logs)&&(e.logs=e.logs.map(h)),e.contractAddress&&(e.contractAddress=s.toChecksumAddress(e.contractAddress)),"undefined"!==typeof e.status&&null!==e.status&&(e.status=Boolean(parseInt(e.status))),e},outputBlockFormatter:function(e){return e.gasLimit=s.hexToNumber(e.gasLimit),e.gasUsed=s.hexToNumber(e.gasUsed),e.size=s.hexToNumber(e.size),e.timestamp=s.hexToNumber(e.timestamp),null!==e.number&&(e.number=s.hexToNumber(e.number)),e.difficulty&&(e.difficulty=n(e.difficulty)),e.totalDifficulty&&(e.totalDifficulty=n(e.totalDifficulty)),r.isArray(e.transactions)&&e.transactions.forEach((function(e){if(!r.isString(e))return d(e)})),e.miner&&(e.miner=s.toChecksumAddress(e.miner)),e},outputLogFormatter:h,outputPostFormatter:function(e){return e.expiry=s.hexToNumber(e.expiry),e.sent=s.hexToNumber(e.sent),e.ttl=s.hexToNumber(e.ttl),e.workProved=s.hexToNumber(e.workProved),e.topics||(e.topics=[]),e.topics=e.topics.map((function(e){return s.toUtf8(e)})),e},outputSyncingFormatter:function(e){return e.startingBlock=s.hexToNumber(e.startingBlock),e.currentBlock=s.hexToNumber(e.currentBlock),e.highestBlock=s.hexToNumber(e.highestBlock),e.knownStates&&(e.knownStates=s.hexToNumber(e.knownStates),e.pulledStates=s.hexToNumber(e.pulledStates)),e}}},"Eg+Y":function(e,t,i){"use strict";var r=i("HpGB").rotr32;function s(e,t,i){return e&t^~e&i}function a(e,t,i){return e&t^e&i^t&i}function n(e,t,i){return e^t^i}t.ft_1=function(e,t,i,r){return 0===e?s(t,i,r):1===e||3===e?n(t,i,r):2===e?a(t,i,r):void 0},t.ch32=s,t.maj32=a,t.p32=n,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},EwJK:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},F1mQ:function(e,t){e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},F33t:function(e,t,i){"use strict";const r=i("OjXq"),{InsufficientFunds:s,OrderNotFound:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"acx",name:"ACX",countries:["AU"],rateLimit:1e3,version:"v2",has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0,fetchOrder:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/30247614-1fe61c74-9621-11e7-9e8c-f1a627afa279.jpg",extension:".json",api:"https://acx.io/api",www:"https://acx.io",doc:"https://acx.io/documents/api_v2"},api:{public:{get:["depth","k_with_pending_trades","k","markets","order_book","order_book/{market}","tickers","tickers/{market}","timestamp","trades","trades/{market}"]},private:{get:["members/me","deposits","deposit","deposit_address","orders","order","trades/my","withdraws","withdraw"],post:["orders","orders/multi","orders/clear","order/delete","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:s,2003:a}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e.id,a=e.name;let n=this.safeString(e,"base_unit"),o=this.safeString(e,"quote_unit");if(void 0===n||void 0===o){const e=a.split("/");n=e[0].toLowerCase(),o=e[1].toLowerCase()}let c=n.toUpperCase(),d=o.toUpperCase();c=this.safeCurrencyCode(c),d=this.safeCurrencyCode(d);const h={amount:8,price:8};i.push({id:s,symbol:a,base:c,quote:d,baseId:n,quoteId:o,precision:h,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"locked"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetDepth(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=e.ticker;let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a];let t=void 0,n=e;if(e in this.markets_by_id)t=this.markets_by_id[e],n=t.symbol;else{let t=e.slice(0,3),i=e.slice(3,6);t=t.toUpperCase(),i=i.toUpperCase(),t=this.safeCurrencyCode(t),i=this.safeCurrencyCode(i),n=t+"/"+i}s[n]=this.parseTicker(i[e],t)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"tid");let s=void 0;return void 0!==t&&(s=t.symbol),{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"funds"),fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=500);const n={market:a.id,period:this.timeframes[t],limit:r};void 0!==i&&(n.timestamp=parseInt(i/1e3));const o=await this.publicGetK(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){let i=void 0;if(void 0!==t)i=t.symbol;else{const t=this.safeString(e,"market");i=this.markets_by_id[t].symbol}const r=this.parse8601(this.safeString(e,"created_at")),s=this.parseOrderStatus(this.safeString(e,"state")),a=this.safeString(e,"type"),n=this.safeString(e,"side");return{id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:s,symbol:i,type:a,side:n,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),filled:this.safeFloat(e,"executed_volume"),remaining:this.safeFloat(e,"remaining_volume"),trades:void 0,fee:void 0,info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrder(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(n.price=s.toString());const o=await this.privatePostOrders(this.extend(n,a)),c=this.safeValue(o,"market"),d=this.safeValue(this.markets_by_id,c);return this.parseOrder(o,d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),n=this.parseOrder(s),o=n.status;if("closed"===o||"canceled"===o)throw new a(this.id+" "+this.json(n));return n}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,sum:t,address:i};return{info:await this.privatePostWithdraw(this.extend(a,s)),id:void 0}}nonce(){return this.milliseconds()}encodeParams(e){if("orders"in e){const t=e.orders;let i=this.urlencode(this.keysort(this.omit(e,"orders")));for(let e=0;e<t.length;e++){const r=t[e],s=Object.keys(r);for(let e=0;e<s.length;e++){const t=s[e];i+="&orders%5B%5D%5B"+t+"%5D="+r[t].toString()}}return i}return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r);"extension"in this.urls&&(n+=this.urls.extension);const o=this.omit(r,this.extractParams(e));let c=this.urls.api+n;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.encodeParams(this.extend({access_key:this.apiKey,tonce:e},r)),o=i+"|"+n+"|"+t,d=t+"&signature="+this.hmac(this.encode(o),this.encode(this.secret));"GET"===i?c+="?"+d:(a=d,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0!==n&&400===e){const e=this.safeValue(n,"error"),t=this.safeString(e,"code"),i=this.id+" "+this.json(n);this.throwExactlyMatchedException(this.exceptions,t,i)}}}},FFxs:function(e,t,i){var r,s;r=[i("VFvz"),i("/ePp")],void 0===(s=function(e,t){return function(e,t){function i(i,r,s){for(var a=[],n=e.ucs2.decode(i),o=0;o<n.length;o++){var c=n[o],d=e.ucs2.encode([n[o]]),h=t.mapChar(c),u=h>>23,l=h>>21&3,f=h>>5&65535,p=31&h,m=t.mapStr.substr(f,p);if(0===l||r&&1&u)throw new Error("Illegal char "+d);1===l?a.push(m):2===l?a.push(s?m:d):3===l&&a.push(d)}return a.join("").normalize("NFC")}function r(t,r,a){void 0===a&&(a=!1);var n=i(t,a,r).split(".");return(n=n.map((function(t){return t.startsWith("xn--")?s(t=e.decode(t.substring(4)),a,!1):s(t,a,r),t}))).join(".")}function s(e,r,s){if("-"===e[2]&&"-"===e[3])throw new Error("Failed to validate "+e);if(e.startsWith("-")||e.endsWith("-"))throw new Error("Failed to validate "+e);if(e.includes("."))throw new Error("Failed to validate "+e);if(i(e,r,s)!==e)throw new Error("Failed to validate "+e);var a=e.codePointAt(0);if(t.mapChar(a)&2<<23)throw new Error("Label contains illegal character: "+a)}return{toUnicode:function(e,t){return void 0===t&&(t={}),r(e,!1,"useStd3ASCII"in t&&t.useStd3ASCII)},toAscii:function(t,i){void 0===i&&(i={});var s,a=!("transitional"in i)||i.transitional,n="useStd3ASCII"in i&&i.useStd3ASCII,o="verifyDnsLength"in i&&i.verifyDnsLength,c=r(t,a,n).split(".").map(e.toASCII),d=c.join(".");if(o){if(d.length<1||d.length>253)throw new Error("DNS name has wrong length: "+d);for(s=0;s<c.length;s++){var h=c[s];if(h.length<1||h.length>63)throw new Error("DNS label has wrong length: "+h)}}return d}}}(e,t)}.apply(t,r))||(e.exports=s)},FIEc:function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"independentreserve",name:"Independent Reserve",countries:["AU","NZ"],rateLimit:1e3,has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/30521662-cf3f477c-9bcb-11e7-89bc-d1ac85012eda.jpg",api:{public:"https://api.independentreserve.com/Public",private:"https://api.independentreserve.com/Private"},www:"https://www.independentreserve.com",doc:"https://www.independentreserve.com/API"},api:{public:{get:["GetValidPrimaryCurrencyCodes","GetValidSecondaryCurrencyCodes","GetValidLimitOrderTypes","GetValidMarketOrderTypes","GetValidOrderTypes","GetValidTransactionTypes","GetMarketSummary","GetOrderBook","GetAllOrders","GetTradeHistorySummary","GetRecentTrades","GetFxRates"]},private:{post:["PlaceLimitOrder","PlaceMarketOrder","CancelOrder","GetOpenOrders","GetClosedOrders","GetClosedFilledOrders","GetOrderDetails","GetAccounts","GetTransactions","GetDigitalCurrencyDepositAddress","GetDigitalCurrencyDepositAddresses","SynchDigitalCurrencyDepositAddressWithBlockchain","WithdrawDigitalCurrency","RequestFiatWithdrawal","GetTrades","GetBrokerageFees"]}},fees:{trading:{taker:.005,maker:.005,percentage:!0,tierBased:!1}}})}async fetchMarkets(e={}){const t=await this.publicGetGetValidPrimaryCurrencyCodes(e),i=await this.publicGetGetValidSecondaryCurrencyCodes(e),r=[];for(let s=0;s<t.length;s++){const e=t[s],a=this.safeCurrencyCode(e);for(let t=0;t<i.length;t++){const s=i[t],n=this.safeCurrencyCode(s),o=e+"/"+s,c=a+"/"+n;r.push({id:o,symbol:c,base:a,quote:n,baseId:e,quoteId:s,info:o})}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccounts(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"CurrencyCode"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"AvailableBalance"),n.total=this.safeFloat(e,"TotalBalance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={primaryCurrencyCode:r.baseId,secondaryCurrencyCode:r.quoteId},a=await this.publicGetGetOrderBook(this.extend(s,i)),n=this.parse8601(this.safeString(a,"CreatedTimestampUtc"));return this.parseOrderBook(a,n,"BuyOrders","SellOrders","Price","Volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"CreatedTimestampUtc"));let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"LastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"DayHighestPrice"),low:this.safeFloat(e,"DayLowestPrice"),bid:this.safeFloat(e,"CurrentHighestBidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"CurrentLowestOfferPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"DayAvgPrice"),baseVolume:this.safeFloat(e,"DayVolumeXbtInSecondaryCurrrency"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={primaryCurrencyCode:i.baseId,secondaryCurrencyCode:i.quoteId},s=await this.publicGetGetMarketSummary(this.extend(r,t));return this.parseTicker(s,i)}parseOrder(e,t){let i=void 0;const r=this.safeString(e,"PrimaryCurrencyCode"),s=this.safeString(e,"PrimaryCurrencyCode");let a=void 0,n=void 0;void 0!==r&&void 0!==s?(a=this.safeCurrencyCode(r),n=this.safeCurrencyCode(s),i=a+"/"+n):void 0!==t&&(i=t.symbol,a=t.base,n=t.quote);let o=this.safeValue(e,"Type");o.indexOf("Market")>=0?o="market":o.indexOf("Limit")>=0&&(o="limit");let c=void 0;o.indexOf("Bid")>=0?c="buy":o.indexOf("Offer")>=0&&(c="sell");const d=this.parse8601(this.safeString(e,"CreatedTimestampUtc"));let h=this.safeFloat(e,"VolumeOrdered");void 0===h&&(h=this.safeFloat(e,"Volume"));const u=this.safeFloat(e,"VolumeFilled");let l=void 0;const f=this.safeFloat(e,"FeePercent");let p=void 0;void 0!==h&&void 0!==u&&(l=h-u,void 0!==f&&(p=f*u));const m={rate:f,cost:p,currency:a},y=this.safeString(e,"OrderGuid"),b=this.parseOrderStatus(this.safeString(e,"Status")),v=this.safeFloat(e,"Value"),g=this.safeFloat(e,"AvgPrice"),w=this.safeFloat(e,"Price",g);return{info:e,id:y,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,symbol:i,type:o,side:c,price:w,cost:v,average:g,amount:h,filled:u,remaining:l,status:b,fee:m}}parseOrderStatus(e){return this.safeString({Open:"open",PartiallyFilled:"open",Filled:"closed",PartiallyFilledAndCancelled:"canceled",Cancelled:"canceled",PartiallyFilledAndExpired:"canceled",Expired:"canceled"},e,e)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostGetOrderDetails(this.extend({orderGuid:e},i));let s=void 0;return void 0!==t&&(s=this.market(t)),this.parseOrder(r,s)}async fetchMyTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.safeInteger(r,"pageIndex",1);void 0===i&&(i=50);const a=this.ordered({pageIndex:s,pageSize:i}),n=await this.privatePostGetTrades(this.extend(a,r));let o=void 0;return void 0!==e&&(o=this.market(e)),this.parseTrades(n.Data,o,t,i)}parseTrade(e,t){const i=this.parse8601(e.TradeTimestampUtc),r=this.safeString(e,"TradeGuid"),s=this.safeString(e,"OrderGuid"),a=this.safeFloat2(e,"Price","SecondaryCurrencyTradePrice"),n=this.safeFloat2(e,"VolumeTraded","PrimaryCurrencyAmount");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);let c=void 0;void 0!==t&&(c=t.symbol);let d=this.safeString(e,"OrderType");return void 0!==d&&(d.indexOf("Bid")>=0?d="buy":d.indexOf("Offer")>=0&&(d="sell")),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,order:s,type:void 0,side:d,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={primaryCurrencyCode:s.baseId,secondaryCurrencyCode:s.quoteId,numberOfRecentTradesToRetrieve:50},n=await this.publicGetGetRecentTrades(this.extend(a,r));return this.parseTrades(n.Trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.capitalize(t),c="privatePostPlace"+o+"Order";let d=o;d+="sell"===i?"Offer":"Bid";const h=this.ordered({primaryCurrencyCode:n.baseId,secondaryCurrencyCode:n.quoteId,orderType:d});"limit"===t&&(h.price=s),h.volume=r;const u=await this[c](this.extend(h,a));return{info:u,id:u.OrderGuid}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderGuid:e};return await this.privatePostCancelOrder(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=[n,"apiKey="+this.apiKey,"nonce="+e.toString()],i=Object.keys(r);for(let s=0;s<i.length;s++){const e=i[s],a=r[e].toString();t.push(e+"="+a)}const o=t.join(","),c=this.hmac(this.encode(o),this.encode(this.secret)),d=this.ordered({});d.apiKey=this.apiKey,d.nonce=e,d.signature=c.toUpperCase();for(let s=0;s<i.length;s++){const e=i[s];d[e]=r[e]}a=this.json(d),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}}},FPgC:function(e,t,i){"use strict";var r=i("8kJ5"),s=i("fOyB"),a=s.assert,n=s.cachedProperty,o=s.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}n(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),n(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),n(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),n(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},FSRv:function(e,t,i){"use strict";(function(r,s){Object.defineProperty(t,"__esModule",{value:!0});const a=Symbol("buffer"),n=Symbol("type");class o{constructor(){this[n]="";const e=arguments[0],t=arguments[1],i=[];if(e){const t=e,s=Number(t.length);for(let e=0;e<s;e++){const s=t[e];let n;n=s instanceof r?s:ArrayBuffer.isView(s)?r.from(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer?r.from(s):s instanceof o?s[a]:r.from("string"===typeof s?s:String(s)),i.push(n)}}this[a]=r.concat(i);let s=t&&void 0!==t.type&&String(t.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[n]=s)}get size(){return this[a].length}get type(){return this[n]}slice(){const e=this.size,t=arguments[0],i=arguments[1];let r,s;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),s=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const n=Math.max(s-r,0),c=this[a].slice(r,r+n),d=new o([],{type:arguments[2]});return d[a]=c,d}}function c(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="FetchError";const d=i("ZG6w");const h=i("ZG6w").PassThrough,u=Symbol("Body internals");function l(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.size;let a=void 0===s?0:s;var n=i.timeout;let h=void 0===n?0:n;null==e?e=null:"string"===typeof e||p(e)||e instanceof o||r.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||e instanceof d||(e=String(e)),this[u]={body:e,disturbed:!1,error:null},this.size=a,this.timeout=h,e instanceof d&&e.on("error",(function(e){t[u].error=new c(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e)}))}function f(){var e=this;if(this[u].disturbed)return l.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[u].disturbed=!0,this[u].error)return l.Promise.reject(this[u].error);if(null===this.body)return l.Promise.resolve(r.alloc(0));if("string"===typeof this.body)return l.Promise.resolve(r.from(this.body));if(this.body instanceof o)return l.Promise.resolve(this.body[a]);if(r.isBuffer(this.body))return l.Promise.resolve(this.body);if("[object ArrayBuffer]"===Object.prototype.toString.call(this.body))return l.Promise.resolve(r.from(this.body));if(!(this.body instanceof d))return l.Promise.resolve(r.alloc(0));let t=[],i=0,s=!1;return new l.Promise((function(a,n){let o;e.timeout&&(o=setTimeout((function(){s=!0,n(new c(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),e.body.on("error",(function(t){n(new c(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),e.body.on("data",(function(r){if(!s&&null!==r){if(e.size&&i+r.length>e.size)return s=!0,void n(new c(`content size at ${e.url} over limit: ${e.size}`,"max-size"));i+=r.length,t.push(r)}})),e.body.on("end",(function(){if(!s){clearTimeout(o);try{a(r.concat(t))}catch(i){n(new c(`Could not create Buffer from response body for ${e.url}: ${i.message}`,"system",i))}}}))}))}function p(e){return"object"===typeof e&&"function"===typeof e.append&&"function"===typeof e.delete&&"function"===typeof e.get&&"function"===typeof e.getAll&&"function"===typeof e.has&&"function"===typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"===typeof e.sort)}function m(e){let t,i,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof d&&"function"!==typeof r.getBoundary&&(t=new h,i=new h,r.pipe(t),r.pipe(i),e[u].body=t,r=i),r}function y(e){const t=e.body;return null===t?0:"string"===typeof t?r.byteLength(t):p(t)?r.byteLength(String(t)):t instanceof o?t.size:r.isBuffer(t)?t.length:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?t.byteLength:t&&"function"===typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}l.prototype={get body(){return this[u].body},get bodyUsed(){return this[u].disturbed},arrayBuffer(){return f.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return f.call(this).then((function(t){return Object.assign(new o([],{type:e.toLowerCase()}),{[a]:t})}))},json(){var e=this;return f.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(i){return l.Promise.reject(new c(`invalid json response body at ${e.url} reason: ${i.message}`,"invalid-json"))}}))},text(){return f.call(this).then((function(e){return e.toString()}))},buffer(){return f.call(this)},textConverted(){var e=this;return f.call(this).then((function(t){return function(e,t){if("function"!==typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let r,s,a="utf-8";i&&(r=/charset=([^;]*)/i.exec(i));s=e.slice(0,1024).toString(),!r&&s&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(s));!r&&s&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),r&&(r=/charset=(.*)/i.exec(r.pop())));!r&&s&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s));r&&(a=r.pop(),"gb2312"!==a&&"gbk"!==a||(a="gb18030"));return convert(e,"UTF-8",a).toString()}(t,e.headers)}))}},Object.defineProperties(l.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),l.mixIn=function(e){for(const t of Object.getOwnPropertyNames(l.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor(l.prototype,t);Object.defineProperty(e,t,i)}},l.Promise=s.Promise;const b=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,v=/[^\t\x20-\x7e\x80-\xff]/;function g(e){if(e=`${e}`,b.test(e))throw new TypeError(`${e} is not a legal HTTP header name`)}function w(e){if(e=`${e}`,v.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function k(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const _=Symbol("map");class T{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[_]=Object.create(null),e instanceof T){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!==typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!==typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!==typeof t||"function"!==typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const i of Object.keys(e)){const t=e[i];this.append(i,t)}}}}get(e){g(e=`${e}`);const t=k(this[_],e);return void 0===t?null:this[_][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=S(this),r=0;for(;r<i.length;){var s=i[r];const a=s[0],n=s[1];e.call(t,n,a,this),i=S(this),r++}}set(e,t){t=`${t}`,g(e=`${e}`),w(t);const i=k(this[_],e);this[_][void 0!==i?i:e]=[t]}append(e,t){t=`${t}`,g(e=`${e}`),w(t);const i=k(this[_],e);void 0!==i?this[_][i].push(t):this[_][e]=[t]}has(e){return g(e=`${e}`),void 0!==k(this[_],e)}delete(e){g(e=`${e}`);const t=k(this[_],e);void 0!==t&&delete this[_][t]}raw(){return this[_]}keys(){return O(this,"key")}values(){return O(this,"value")}[Symbol.iterator](){return O(this,"key+value")}}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[_]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[_][t].join(", ")}:function(t){return[t.toLowerCase(),e[_][t].join(", ")]})}T.prototype.entries=T.prototype[Symbol.iterator],Object.defineProperty(T.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(T.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const x=Symbol("internal");function O(e,t){const i=Object.create(C);return i[x]={target:e,kind:t,index:0},i}const C=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==C)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[x];const t=e.target,i=e.kind,r=e.index,s=S(t,i);return r>=s.length?{value:void 0,done:!0}:(this[x].index=r+1,{value:s[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function M(e){const t=Object.assign({__proto__:null},e[_]),i=k(e[_],"Host");return void 0!==i&&(t[i]=t[i][0]),t}Object.defineProperty(C,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const A=i("sOO9").STATUS_CODES,E=Symbol("Response internals");class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.call(this,e,t);const i=t.status||200;this[E]={url:t.url,status:i,statusText:t.statusText||A[i],headers:new T(t.headers)}}get url(){return this[E].url}get status(){return this[E].status}get ok(){return this[E].status>=200&&this[E].status<300}get statusText(){return this[E].statusText}get headers(){return this[E].headers}clone(){return new I(m(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}}l.mixIn(I.prototype),Object.defineProperties(I.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(I.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});var B=i("so/P");const F=B.format,P=B.parse,R=Symbol("Request internals");function q(e){return"object"===typeof e&&"object"===typeof e[R]}class L{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q(e)?t=P(e.url):(t=e&&e.href?P(e.href):P(`${e}`),e={});let s=i.method||e.method||"GET";if(s=s.toUpperCase(),(null!=i.body||q(e)&&null!==e.body)&&("GET"===s||"HEAD"===s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=null!=i.body?i.body:q(e)&&null!==e.body?m(e):null;l.call(this,a,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const n=new T(i.headers||e.headers||{});if(null!=i.body){const e=function(e){const t=e.body;return null===t?null:"string"===typeof t?"text/plain;charset=UTF-8":p(t)?"application/x-www-form-urlencoded;charset=UTF-8":t instanceof o?t.type||null:r.isBuffer(t)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(t)?null:"function"===typeof t.getBoundary?`multipart/form-data;boundary=${t.getBoundary()}`:null}(this);null===e||n.has("Content-Type")||n.append("Content-Type",e)}this[R]={method:s,redirect:i.redirect||e.redirect||"follow",headers:n,parsedURL:t},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[R].method}get url(){return F(this[R].parsedURL)}get headers(){return this[R].headers}get redirect(){return this[R].redirect}clone(){return new L(this)}}l.mixIn(L.prototype),Object.defineProperty(L.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(L.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0}});const D=i("sOO9"),N=i("w7gO");const U=i("ZG6w").PassThrough;const V=i("so/P").resolve,G=i("GYwP");function j(e,t){if(!j.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return l.Promise=j.Promise,new j.Promise((function(i,s){const n=new L(e,t),d=function(e){const t=e[R].parsedURL,i=new T(e[R].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=y(e);"number"===typeof t&&(r=String(t))}return r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&i.set("Accept-Encoding","gzip,deflate"),i.has("Connection")||e.agent||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:M(i),agent:e.agent})}(n),h=(0,("https:"===d.protocol?N:D).request)(d);let u;function l(){h.abort(),clearTimeout(u)}n.timeout&&h.once("socket",(function(e){u=setTimeout((function(){s(new c(`network timeout at: ${n.url}`,"request-timeout")),l()}),n.timeout)})),h.on("error",(function(e){s(new c(`request to ${n.url} failed, reason: ${e.message}`,"system",e)),l()})),h.on("response",(function(e){clearTimeout(u);const t=function(e){const t=new T;for(const i of Object.keys(e))if(!b.test(i))if(Array.isArray(e[i]))for(const r of e[i])v.test(r)||(void 0===t[_][i]?t[_][i]=[r]:t[_][i].push(r));else v.test(e[i])||(t[_][i]=[e[i]]);return t}(e.headers);if(j.isRedirect(e.statusCode)){const r=t.get("Location"),a=null===r?null:V(n.url,r);switch(n.redirect){case"error":return s(new c(`redirect mode is set to error: ${n.url}`,"no-redirect")),void l();case"manual":null!==a&&t.set("Location",a);break;case"follow":if(null===a)break;if(n.counter>=n.follow)return s(new c(`maximum redirect reached at: ${n.url}`,"max-redirect")),void l();const r={headers:new T(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body};return 303!==e.statusCode&&n.body&&null===y(n)?(s(new c("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void l()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==n.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length")),i(j(new L(a,r))),void l())}}let r=e.pipe(new U);const a={url:n.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:n.size,timeout:n.timeout},o=t.get("Content-Encoding");if(!n.compress||"HEAD"===n.method||null===o||204===e.statusCode||304===e.statusCode)return void i(new I(r,a));const d={flush:G.Z_SYNC_FLUSH,finishFlush:G.Z_SYNC_FLUSH};if("gzip"==o||"x-gzip"==o)return r=r.pipe(G.createGunzip(d)),void i(new I(r,a));if("deflate"!=o&&"x-deflate"!=o)i(new I(r,a));else{e.pipe(new U).once("data",(function(e){r=8===(15&e[0])?r.pipe(G.createInflate()):r.pipe(G.createInflateRaw()),i(new I(r,a))}))}})),function(e,t){const i=t.body;null===i?e.end():"string"===typeof i?(e.write(i),e.end()):p(i)?(e.write(r.from(String(i))),e.end()):i instanceof o?(e.write(i[a]),e.end()):r.isBuffer(i)?(e.write(i),e.end()):"[object ArrayBuffer]"===Object.prototype.toString.call(i)?(e.write(r.from(i)),e.end()):i.pipe(e)}(h,n)}))}j.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},j.default=j,j.Promise=s.Promise,j.http=D,j.https=N,e.exports=t=j,t.Headers=T,t.Request=L,t.Response=I,t.FetchError=c}).call(this,i("qykS").Buffer,i("pCvA"))},FTtf:function(e,t,i){(function(t,r){const s=i("9dER"),a=2147483647,n=5e3;function o(e,t,i,r,s,a,n){let o;for(u(e,t+64*(2*r-1),s,0,64),o=0;o<2*r;o++)h(e,64*o,s,0,64),d(s,a,n),u(s,0,e,i+64*o,64);for(o=0;o<r;o++)u(e,i+2*o*64,e,t+64*o,64);for(o=0;o<r;o++)u(e,i+64*(2*o+1),e,t+64*(o+r),64)}function c(e,t){return e<<t|e>>>32-t}function d(e,t,i){let r;for(r=0;r<16;r++)t[r]=(255&e[4*r+0])<<0,t[r]|=(255&e[4*r+1])<<8,t[r]|=(255&e[4*r+2])<<16,t[r]|=(255&e[4*r+3])<<24;for(u(t,0,i,0,16),r=8;r>0;r-=2)i[4]^=c(i[0]+i[12],7),i[8]^=c(i[4]+i[0],9),i[12]^=c(i[8]+i[4],13),i[0]^=c(i[12]+i[8],18),i[9]^=c(i[5]+i[1],7),i[13]^=c(i[9]+i[5],9),i[1]^=c(i[13]+i[9],13),i[5]^=c(i[1]+i[13],18),i[14]^=c(i[10]+i[6],7),i[2]^=c(i[14]+i[10],9),i[6]^=c(i[2]+i[14],13),i[10]^=c(i[6]+i[2],18),i[3]^=c(i[15]+i[11],7),i[7]^=c(i[3]+i[15],9),i[11]^=c(i[7]+i[3],13),i[15]^=c(i[11]+i[7],18),i[1]^=c(i[0]+i[3],7),i[2]^=c(i[1]+i[0],9),i[3]^=c(i[2]+i[1],13),i[0]^=c(i[3]+i[2],18),i[6]^=c(i[5]+i[4],7),i[7]^=c(i[6]+i[5],9),i[4]^=c(i[7]+i[6],13),i[5]^=c(i[4]+i[7],18),i[11]^=c(i[10]+i[9],7),i[8]^=c(i[11]+i[10],9),i[9]^=c(i[8]+i[11],13),i[10]^=c(i[9]+i[8],18),i[12]^=c(i[15]+i[14],7),i[13]^=c(i[12]+i[15],9),i[14]^=c(i[13]+i[12],13),i[15]^=c(i[14]+i[13],18);for(r=0;r<16;++r)t[r]=i[r]+t[r];for(r=0;r<16;r++){let i=4*r;e[i+0]=t[r]>>0&255,e[i+1]=t[r]>>8&255,e[i+2]=t[r]>>16&255,e[i+3]=t[r]>>24&255}}function h(e,t,i,r,s){for(let a=0;a<s;a++)i[r+a]^=e[t+a]}function u(e,i,r,s,a){if(t.isBuffer(e)&&t.isBuffer(r))e.copy(r,s,i,i+a);else for(;a--;)r[s++]=e[i++]}e.exports={checkAndInit:function(e,i,r,n,o,c,d){if(0===r||0!==(r&r-1))throw Error("N must be > 0 and a power of 2");if(r>a/128/n)throw Error("Parameter N is too large");if(n>a/128/o)throw Error("Parameter r is too large");let h,u=t.alloc(256*n),l=t.alloc(128*n*r),f=new Int32Array(16),p=new Int32Array(16),m=t.alloc(64),y=s.pbkdf2Sync(e,i,1,128*o*n,"sha256");if(d){let e=o*r*2,t=0;h=function(){++t,t%1e3===0&&d({current:t,total:e,percent:t/e*100})}}return{XY:u,V:l,B32:f,x:p,_X:m,B:y,tickCallback:h}},smix:async function(e,t,i,s,a,c,d,u,l,f,p){p=p||n;let m,y=128*i;for(e.copy(c,0,t,t+y),m=0;m<s;m++)c.copy(a,m*y,0,0+y),m%p===0&&await new Promise(e=>r(e)),o(c,0,y,i,d,u,l),f&&f();for(m=0;m<s;m++){let e=0+64*(2*i-1);h(a,(c.readUInt32LE(e)&s-1)*y,c,0,y),m%p===0&&await new Promise(e=>r(e)),o(c,0,y,i,d,u,l),f&&f()}c.copy(e,t,0,0+y)},smixSync:function(e,t,i,r,s,a,n,c,d,u){let l,f=128*i;for(e.copy(a,0,t,t+f),l=0;l<r;l++)a.copy(s,l*f,0,0+f),o(a,0,f,i,n,c,d),u&&u();for(l=0;l<r;l++){let e=0+64*(2*i-1);h(s,(a.readUInt32LE(e)&r-1)*f,a,0,f),o(a,0,f,i,n,c,d),u&&u()}a.copy(e,t,0,0+f)}}}).call(this,i("qykS").Buffer,i("oPUo").setImmediate)},FaQb:function(e,t,i){"use strict";var r=i("PoH+"),s=i("P8tw"),a=function e(t){this.givenProvider=e.givenProvider,t&&t._requestManager&&(t=t.currentProvider),"undefined"!==typeof document&&(this.pick=s.pick),this.setProvider(t)};a.givenProvider=null,"undefined"!==typeof ethereumProvider&&ethereumProvider.bzz&&(a.givenProvider=ethereumProvider.bzz),a.prototype.setProvider=function(e){if(r.isObject(e)&&r.isString(e.bzz)&&(e=e.bzz),!r.isString(e)){this.currentProvider=null;var t=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw t},!1}return this.currentProvider=e,this.download=s.at(e).download,this.upload=s.at(e).upload,this.isAvailable=s.at(e).isAvailable,!0},e.exports=a},FaXh:function(e,t){t.read=function(e,t,i,r,s){var a,n,o=8*s-r-1,c=(1<<o)-1,d=c>>1,h=-7,u=i?s-1:0,l=i?-1:1,f=e[t+u];for(u+=l,a=f&(1<<-h)-1,f>>=-h,h+=o;h>0;a=256*a+e[t+u],u+=l,h-=8);for(n=a&(1<<-h)-1,a>>=-h,h+=r;h>0;n=256*n+e[t+u],u+=l,h-=8);if(0===a)a=1-d;else{if(a===c)return n?NaN:1/0*(f?-1:1);n+=Math.pow(2,r),a-=d}return(f?-1:1)*n*Math.pow(2,a-r)},t.write=function(e,t,i,r,s,a){var n,o,c,d=8*a-s-1,h=(1<<d)-1,u=h>>1,l=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,n=h):(n=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-n))<1&&(n--,c*=2),(t+=n+u>=1?l/c:l*Math.pow(2,1-u))*c>=2&&(n++,c/=2),n+u>=h?(o=0,n=h):n+u>=1?(o=(t*c-1)*Math.pow(2,s),n+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,s),n=0));s>=8;e[i+f]=255&o,f+=p,o/=256,s-=8);for(n=n<<s|o,d+=s;d>0;e[i+f]=255&n,f+=p,n/=256,d-=8);e[i+f-p]|=128*m}},Fq6B:function(e,t,i){"use strict";var r=i("PoH+"),s=i("RmdU"),a=i("9eKw"),n=i("WZyW"),o=i("w+uW").subscription,c=i("/mWR").formatters,d=i("/mWR").errors,h=i("pmRz"),u=i("OFZ7"),l=function e(t,i,a){var o=this,d=Array.prototype.slice.call(arguments);if(!(this instanceof e))throw new Error('Please use the "new" keyword to instantiate a web3.eth.contract() object!');if(s.packageInit(this,[this.constructor.currentProvider]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!t||!Array.isArray(t))throw new Error("You must provide the json interface of the contract when instantiating a contract object.");this.options={};var h=d[d.length-1];r.isObject(h)&&!r.isArray(h)&&(a=h,this.options=r.extend(this.options,this._getOrSetDefaultOptions(a)),r.isObject(i)&&(i=null)),Object.defineProperty(this.options,"address",{set:function(e){e&&(o._address=n.toChecksumAddress(c.inputAddressFormatter(e)))},get:function(){return o._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(e){return o.methods={},o.events={},o._jsonInterface=e.map((function(e){var t,i;if(e.constant="view"===e.stateMutability||"pure"===e.stateMutability||e.constant,e.payable="payable"===e.stateMutability||e.payable,e.name&&(i=n._jsonInterfaceMethodToString(e)),"function"===e.type){if(e.signature=u.encodeFunctionSignature(i),t=o._createTxObject.bind({method:e,parent:o}),o.methods[e.name]){var r=o._createTxObject.bind({method:e,parent:o,nextMethod:o.methods[e.name]});o.methods[e.name]=r}else o.methods[e.name]=t;o.methods[e.signature]=t,o.methods[i]=t}else if("event"===e.type){e.signature=u.encodeEventSignature(i);var s=o._on.bind(o,e.signature);o.events[e.name]&&"bound "!==o.events[e.name].name||(o.events[e.name]=s),o.events[e.signature]=s,o.events[i]=s}return e})),o.events.allEvents=o._on.bind(o,"allevents"),o._jsonInterface},get:function(){return o._jsonInterface},enumerable:!0});var l=this.constructor.defaultAccount,f=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===o.options.handleRevert||!0===o.options.handleRevert?o.options.handleRevert:this.constructor.handleRevert},set:function(e){o.options.handleRevert=e},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return o.options.common||this.constructor.defaultCommon},set:function(e){o.options.common=e},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return o.options.hardfork||this.constructor.defaultHardfork},set:function(e){o.options.hardfork=e},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return o.options.chain||this.constructor.defaultChain},set:function(e){o.options.chain=e},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===o.options.transactionPollingTimeout?o.options.transactionPollingTimeout:o.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(e){o.options.transactionPollingTimeout=e},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===o.options.transactionConfirmationBlocks?o.options.transactionConfirmationBlocks:o.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(e){o.options.transactionConfirmationBlocks=e},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===o.options.transactionBlockTimeout?o.options.transactionBlockTimeout:o.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(e){o.options.transactionBlockTimeout=e},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return l},set:function(e){return e&&(l=n.toChecksumAddress(c.inputAddressFormatter(e))),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return f},set:function(e){return f=e,e},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=i,this.options.jsonInterface=t};l.setProvider=function(e,t){s.packageInit(this,[e]),this._ethAccounts=t},l.prototype._getCallback=function(e){if(e&&r.isFunction(e[e.length-1]))return e.pop()},l.prototype._checkListener=function(e,t){if(t===e)throw new Error('The event "'+e+"\" is a reserved event name, you can't use it.")},l.prototype._getOrSetDefaultOptions=function(e){var t=e.gasPrice?String(e.gasPrice):null,i=e.from?n.toChecksumAddress(c.inputAddressFormatter(e.from)):null;return e.data=e.data||this.options.data,e.from=i||this.options.from,e.gasPrice=t||this.options.gasPrice,e.gas=e.gas||e.gasLimit||this.options.gas,delete e.gasLimit,e},l.prototype._encodeEventABI=function(e,t){var i=(t=t||{}).filter||{},s={};if(["fromBlock","toBlock"].filter((function(e){return void 0!==t[e]})).forEach((function(e){s[e]=c.inputBlockNumberFormatter(t[e])})),r.isArray(t.topics))s.topics=t.topics;else{if(s.topics=[],e&&!e.anonymous&&"ALLEVENTS"!==e.name&&s.topics.push(e.signature),"ALLEVENTS"!==e.name){var a=e.inputs.filter((function(e){return!0===e.indexed})).map((function(e){var t=i[e.name];return t?r.isArray(t)?t.map((function(t){return u.encodeParameter(e.type,t)})):u.encodeParameter(e.type,t):null}));s.topics=s.topics.concat(a)}s.topics.length||delete s.topics}return this.options.address&&(s.address=this.options.address.toLowerCase()),s},l.prototype._decodeEventABI=function(e){var t=this;e.data=e.data||"",e.topics=e.topics||[];var i=c.outputLogFormatter(e);if("ALLEVENTS"===t.name&&(t=t.jsonInterface.find((function(t){return t.signature===e.topics[0]}))||{anonymous:!0}),t.inputs=t.inputs||[],!t.anonymous){let i=0;t.inputs.forEach(e=>e.indexed?i++:null),i>0&&e.topics.length!==i+1&&(t={anonymous:!0,inputs:[]})}var r=t.anonymous?e.topics:e.topics.slice(1);return i.returnValues=u.decodeLog(t.inputs,e.data,r),delete i.returnValues.__length__,i.event=t.name,i.signature=t.anonymous||!e.topics[0]?null:e.topics[0],i.raw={data:i.data,topics:i.topics},delete i.data,delete i.topics,i},l.prototype._encodeMethodABI=function(){var e=this._method.signature,t=this.arguments||[],i=!1,s=this._parent.options.jsonInterface.filter((function(t){return"constructor"===e&&t.type===e||(t.signature===e||t.signature===e.replace("0x","")||t.name===e)&&"function"===t.type})).map((function(e){var s=r.isArray(e.inputs)?e.inputs.length:0;if(s!==t.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+s+" arguments.");return"function"===e.type&&(i=e.signature),r.isArray(e.inputs)?e.inputs:[]})).map((function(e){return u.encodeParameters(e,t).replace("0x","")}))[0]||"";if("constructor"===e){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData+s}var a=i?i+s:s;if(a)return a;throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".')},l.prototype._decodeMethodReturn=function(e,t){if(!t)return null;t=t.length>=2?t.slice(2):t;var i=u.decodeParameters(e,t);return 1===i.__length__?i[0]:(delete i.__length__,i)},l.prototype.deploy=function(e,t){if((e=e||{}).arguments=e.arguments||[],!(e=this._getOrSetDefaultOptions(e)).data)return n._fireError(new Error('No "data" specified in neither the given options, nor the default options.'),null,null,t);var i=r.find(this.options.jsonInterface,(function(e){return"constructor"===e.type}))||{};return i.signature="constructor",this._createTxObject.apply({method:i,parent:this,deployData:e.data,_ethAccounts:this.constructor._ethAccounts},e.arguments)},l.prototype._generateEventOptions=function(){var e=Array.prototype.slice.call(arguments),t=this._getCallback(e),i=r.isObject(e[e.length-1])?e.pop():{},s=r.isString(e[0])?e[0]:"allevents",a="allevents"===s.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find((function(e){return"event"===e.type&&(e.name===s||e.signature==="0x"+s.replace("0x",""))}));if(!a)throw new Error('Event "'+s+"\" doesn't exist in this contract.");if(!n.isAddress(this.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return{params:this._encodeEventABI(a,i),event:a,callback:t}},l.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},l.prototype.once=function(e,t,i){var s=Array.prototype.slice.call(arguments);if(!(i=this._getCallback(s)))throw new Error("Once requires a callback as the second parameter.");t&&delete t.fromBlock,this._on(e,t,(function(e,t,s){s.unsubscribe(),r.isFunction(i)&&i(e,t,s)}))},l.prototype._on=function(){var e=this._generateEventOptions.apply(this,arguments);this._checkListener("newListener",e.event.name,e.callback),this._checkListener("removeListener",e.event.name,e.callback);var t=new o({subscription:{params:1,inputFormatter:[c.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event),subscriptionHandler:function(e){e.removed?this.emit("changed",e):this.emit("data",e),r.isFunction(this.callback)&&this.callback(null,e,this)}},type:"eth",requestManager:this._requestManager});return t.subscribe("logs",e.params,e.callback||function(){}),t},l.prototype.getPastEvents=function(){var e=this._generateEventOptions.apply(this,arguments),t=new a({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[c.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(e.event)});t.setRequestManager(this._requestManager);var i=t.buildCall();return t=null,i(e.params,e.callback)},l.prototype._createTxObject=function(){var e=Array.prototype.slice.call(arguments),t={};if("function"===this.method.type&&(t.call=this.parent._executeMethod.bind(t,"call"),t.call.request=this.parent._executeMethod.bind(t,"call",!0)),t.send=this.parent._executeMethod.bind(t,"send"),t.send.request=this.parent._executeMethod.bind(t,"send",!0),t.encodeABI=this.parent._encodeMethodABI.bind(t),t.estimateGas=this.parent._executeMethod.bind(t,"estimate"),e&&this.method.inputs&&e.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,e);throw d.InvalidNumberOfParams(e.length,this.method.inputs.length,this.method.name)}return t.arguments=e||[],t._method=this.method,t._parent=this.parent,t._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(t._deployData=this.deployData),t},l.prototype._processExecuteArguments=function(e,t){var i={};if(i.type=e.shift(),i.callback=this._parent._getCallback(e),"call"===i.type&&!0!==e[e.length-1]&&(r.isString(e[e.length-1])||isFinite(e[e.length-1]))&&(i.defaultBlock=e.pop()),i.options=r.isObject(e[e.length-1])?e.pop():{},i.generateRequest=!0===e[e.length-1]&&e.pop(),i.options=this._parent._getOrSetDefaultOptions(i.options),i.options.data=this.encodeABI(),!this._deployData&&!n.isAddress(this._parent.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return this._deployData||(i.options.to=this._parent.options.address),i.options.data?i:n._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),t.eventEmitter,t.reject,i.callback)},l.prototype._executeMethod=function(){var e=this,t=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),i),i=h("send"!==t.type),s=e.constructor._ethAccounts||e._ethAccounts;if(t.generateRequest){var o={params:[c.inputCallFormatter.call(this._parent,t.options)],callback:t.callback};return"call"===t.type?(o.params.push(c.inputDefaultBlockNumberFormatter.call(this._parent,t.defaultBlock)),o.method="eth_call",o.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):o.method="eth_sendTransaction",o}switch(t.type){case"estimate":var d=new a({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[c.inputCallFormatter],outputFormatter:n.hexToNumber,requestManager:e._parent._requestManager,accounts:s,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock}).createFunction();return d(t.options,t.callback);case"call":var l=new a({name:"call",call:"eth_call",params:2,inputFormatter:[c.inputCallFormatter,c.inputDefaultBlockNumberFormatter],outputFormatter:function(t){return e._parent._decodeMethodReturn(e._method.outputs,t)},requestManager:e._parent._requestManager,accounts:s,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,handleRevert:e._parent.handleRevert,abiCoder:u}).createFunction();return l(t.options,t.defaultBlock,t.callback);case"send":if(!n.isAddress(t.options.from))return n._fireError(new Error('No "from" address specified in neither the given options, nor the default options.'),i.eventEmitter,i.reject,t.callback);if(r.isBoolean(this._method.payable)&&!this._method.payable&&t.options.value&&t.options.value>0)return n._fireError(new Error("Can not send value to non-payable contract method or constructor"),i.eventEmitter,i.reject,t.callback);var f={receiptFormatter:function(t){if(r.isArray(t.logs)){var i=r.map(t.logs,(function(t){return e._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:e._parent.options.jsonInterface},t)}));t.events={};var s=0;i.forEach((function(e){e.event?t.events[e.event]?Array.isArray(t.events[e.event])?t.events[e.event].push(e):t.events[e.event]=[t.events[e.event],e]:t.events[e.event]=e:(t.events[s]=e,s++)})),delete t.logs}return t},contractDeployFormatter:function(t){var i=e._parent.clone();return i.options.address=t.contractAddress,i}},p=new a({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[c.inputTransactionFormatter],requestManager:e._parent._requestManager,accounts:e.constructor._ethAccounts||e._ethAccounts,defaultAccount:e._parent.defaultAccount,defaultBlock:e._parent.defaultBlock,transactionBlockTimeout:e._parent.transactionBlockTimeout,transactionConfirmationBlocks:e._parent.transactionConfirmationBlocks,transactionPollingTimeout:e._parent.transactionPollingTimeout,defaultCommon:e._parent.defaultCommon,defaultChain:e._parent.defaultChain,defaultHardfork:e._parent.defaultHardfork,handleRevert:e._parent.handleRevert,extraFormatters:f,abiCoder:u}).createFunction();return p(t.options,t.callback)}},e.exports=l},Fre1:function(e,t,i){"use strict";var r=i("+un8"),s=i("iak/"),a=i("Achu"),n=i("+csr"),o=i("ohDc"),c=0,d=1,h=2,u=4,l=5,f=6,p=0,m=1,y=2,b=-2,v=-3,g=-4,w=-5,k=8,_=1,T=2,S=3,x=4,O=5,C=6,M=7,A=8,E=9,I=10,B=11,F=12,P=13,R=14,q=15,L=16,D=17,N=18,U=19,V=20,G=21,j=22,H=23,K=24,z=25,W=26,X=27,Y=28,Z=29,J=30,Q=31,$=32,ee=852,te=592,ie=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function se(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):b}function ne(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):b}function oe(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,ne(e))):b}function ce(e,t){var i,r;return e?(r=new se,e.state=r,r.window=null,(i=oe(e,t))!==p&&(e.state=null),i):b}var de,he,ue=!0;function le(e){if(ue){var t;for(de=new r.Buf32(512),he=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(d,e.lens,0,288,de,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(h,e.lens,0,32,he,0,e.work,{bits:5}),ue=!1}e.lencode=de,e.lenbits=9,e.distcode=he,e.distbits=5}function fe(e,t,i,s){var a,n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new r.Buf8(n.wsize)),s>=n.wsize?(r.arraySet(n.window,t,i-n.wsize,n.wsize,0),n.wnext=0,n.whave=n.wsize):((a=n.wsize-n.wnext)>s&&(a=s),r.arraySet(n.window,t,i-s,a,n.wnext),(s-=a)?(r.arraySet(n.window,t,i-s,s,0),n.wnext=s,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0}t.inflateReset=ne,t.inflateReset2=oe,t.inflateResetKeep=ae,t.inflateInit=function(e){return ce(e,ie)},t.inflateInit2=ce,t.inflate=function(e,t){var i,ee,te,ie,se,ae,ne,oe,ce,de,he,ue,pe,me,ye,be,ve,ge,we,ke,_e,Te,Se,xe,Oe=0,Ce=new r.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(i=e.state).mode===F&&(i.mode=P),se=e.next_out,te=e.output,ne=e.avail_out,ie=e.next_in,ee=e.input,ae=e.avail_in,oe=i.hold,ce=i.bits,de=ae,he=ne,Te=p;e:for(;;)switch(i.mode){case _:if(0===i.wrap){i.mode=P;break}for(;ce<16;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(2&i.wrap&&35615===oe){i.check=0,Ce[0]=255&oe,Ce[1]=oe>>>8&255,i.check=a(i.check,Ce,2,0),oe=0,ce=0,i.mode=T;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",i.mode=J;break}if((15&oe)!==k){e.msg="unknown compression method",i.mode=J;break}if(ce-=4,_e=8+(15&(oe>>>=4)),0===i.wbits)i.wbits=_e;else if(_e>i.wbits){e.msg="invalid window size",i.mode=J;break}i.dmax=1<<_e,e.adler=i.check=1,i.mode=512&oe?I:F,oe=0,ce=0;break;case T:for(;ce<16;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(i.flags=oe,(255&i.flags)!==k){e.msg="unknown compression method",i.mode=J;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=J;break}i.head&&(i.head.text=oe>>8&1),512&i.flags&&(Ce[0]=255&oe,Ce[1]=oe>>>8&255,i.check=a(i.check,Ce,2,0)),oe=0,ce=0,i.mode=S;case S:for(;ce<32;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.time=oe),512&i.flags&&(Ce[0]=255&oe,Ce[1]=oe>>>8&255,Ce[2]=oe>>>16&255,Ce[3]=oe>>>24&255,i.check=a(i.check,Ce,4,0)),oe=0,ce=0,i.mode=x;case x:for(;ce<16;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.head&&(i.head.xflags=255&oe,i.head.os=oe>>8),512&i.flags&&(Ce[0]=255&oe,Ce[1]=oe>>>8&255,i.check=a(i.check,Ce,2,0)),oe=0,ce=0,i.mode=O;case O:if(1024&i.flags){for(;ce<16;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.length=oe,i.head&&(i.head.extra_len=oe),512&i.flags&&(Ce[0]=255&oe,Ce[1]=oe>>>8&255,i.check=a(i.check,Ce,2,0)),oe=0,ce=0}else i.head&&(i.head.extra=null);i.mode=C;case C:if(1024&i.flags&&((ue=i.length)>ae&&(ue=ae),ue&&(i.head&&(_e=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),r.arraySet(i.head.extra,ee,ie,ue,_e)),512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,i.length-=ue),i.length))break e;i.length=0,i.mode=M;case M:if(2048&i.flags){if(0===ae)break e;ue=0;do{_e=ee[ie+ue++],i.head&&_e&&i.length<65536&&(i.head.name+=String.fromCharCode(_e))}while(_e&&ue<ae);if(512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,_e)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=A;case A:if(4096&i.flags){if(0===ae)break e;ue=0;do{_e=ee[ie+ue++],i.head&&_e&&i.length<65536&&(i.head.comment+=String.fromCharCode(_e))}while(_e&&ue<ae);if(512&i.flags&&(i.check=a(i.check,ee,ue,ie)),ae-=ue,ie+=ue,_e)break e}else i.head&&(i.head.comment=null);i.mode=E;case E:if(512&i.flags){for(;ce<16;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(65535&i.check)){e.msg="header crc mismatch",i.mode=J;break}oe=0,ce=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=F;break;case I:for(;ce<32;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}e.adler=i.check=re(oe),oe=0,ce=0,i.mode=B;case B:if(0===i.havedict)return e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,y;e.adler=i.check=1,i.mode=F;case F:if(t===l||t===f)break e;case P:if(i.last){oe>>>=7&ce,ce-=7&ce,i.mode=X;break}for(;ce<3;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}switch(i.last=1&oe,ce-=1,3&(oe>>>=1)){case 0:i.mode=R;break;case 1:if(le(i),i.mode=V,t===f){oe>>>=2,ce-=2;break e}break;case 2:i.mode=D;break;case 3:e.msg="invalid block type",i.mode=J}oe>>>=2,ce-=2;break;case R:for(oe>>>=7&ce,ce-=7&ce;ce<32;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if((65535&oe)!==(oe>>>16^65535)){e.msg="invalid stored block lengths",i.mode=J;break}if(i.length=65535&oe,oe=0,ce=0,i.mode=q,t===f)break e;case q:i.mode=L;case L:if(ue=i.length){if(ue>ae&&(ue=ae),ue>ne&&(ue=ne),0===ue)break e;r.arraySet(te,ee,ie,ue,se),ae-=ue,ie+=ue,ne-=ue,se+=ue,i.length-=ue;break}i.mode=F;break;case D:for(;ce<14;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(i.nlen=257+(31&oe),oe>>>=5,ce-=5,i.ndist=1+(31&oe),oe>>>=5,ce-=5,i.ncode=4+(15&oe),oe>>>=4,ce-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=J;break}i.have=0,i.mode=N;case N:for(;i.have<i.ncode;){for(;ce<3;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.lens[Me[i.have++]]=7&oe,oe>>>=3,ce-=3}for(;i.have<19;)i.lens[Me[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Se={bits:i.lenbits},Te=o(c,i.lens,0,19,i.lencode,0,i.work,Se),i.lenbits=Se.bits,Te){e.msg="invalid code lengths set",i.mode=J;break}i.have=0,i.mode=U;case U:for(;i.have<i.nlen+i.ndist;){for(;be=(Oe=i.lencode[oe&(1<<i.lenbits)-1])>>>16&255,ve=65535&Oe,!((ye=Oe>>>24)<=ce);){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(ve<16)oe>>>=ye,ce-=ye,i.lens[i.have++]=ve;else{if(16===ve){for(xe=ye+2;ce<xe;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe>>>=ye,ce-=ye,0===i.have){e.msg="invalid bit length repeat",i.mode=J;break}_e=i.lens[i.have-1],ue=3+(3&oe),oe>>>=2,ce-=2}else if(17===ve){for(xe=ye+3;ce<xe;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}ce-=ye,_e=0,ue=3+(7&(oe>>>=ye)),oe>>>=3,ce-=3}else{for(xe=ye+7;ce<xe;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}ce-=ye,_e=0,ue=11+(127&(oe>>>=ye)),oe>>>=7,ce-=7}if(i.have+ue>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=J;break}for(;ue--;)i.lens[i.have++]=_e}}if(i.mode===J)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=J;break}if(i.lenbits=9,Se={bits:i.lenbits},Te=o(d,i.lens,0,i.nlen,i.lencode,0,i.work,Se),i.lenbits=Se.bits,Te){e.msg="invalid literal/lengths set",i.mode=J;break}if(i.distbits=6,i.distcode=i.distdyn,Se={bits:i.distbits},Te=o(h,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Se),i.distbits=Se.bits,Te){e.msg="invalid distances set",i.mode=J;break}if(i.mode=V,t===f)break e;case V:i.mode=G;case G:if(ae>=6&&ne>=258){e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,n(e,he),se=e.next_out,te=e.output,ne=e.avail_out,ie=e.next_in,ee=e.input,ae=e.avail_in,oe=i.hold,ce=i.bits,i.mode===F&&(i.back=-1);break}for(i.back=0;be=(Oe=i.lencode[oe&(1<<i.lenbits)-1])>>>16&255,ve=65535&Oe,!((ye=Oe>>>24)<=ce);){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(be&&0===(240&be)){for(ge=ye,we=be,ke=ve;be=(Oe=i.lencode[ke+((oe&(1<<ge+we)-1)>>ge)])>>>16&255,ve=65535&Oe,!(ge+(ye=Oe>>>24)<=ce);){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,i.back+=ge}if(oe>>>=ye,ce-=ye,i.back+=ye,i.length=ve,0===be){i.mode=W;break}if(32&be){i.back=-1,i.mode=F;break}if(64&be){e.msg="invalid literal/length code",i.mode=J;break}i.extra=15&be,i.mode=j;case j:if(i.extra){for(xe=i.extra;ce<xe;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.length+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=H;case H:for(;be=(Oe=i.distcode[oe&(1<<i.distbits)-1])>>>16&255,ve=65535&Oe,!((ye=Oe>>>24)<=ce);){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(0===(240&be)){for(ge=ye,we=be,ke=ve;be=(Oe=i.distcode[ke+((oe&(1<<ge+we)-1)>>ge)])>>>16&255,ve=65535&Oe,!(ge+(ye=Oe>>>24)<=ce);){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}oe>>>=ge,ce-=ge,i.back+=ge}if(oe>>>=ye,ce-=ye,i.back+=ye,64&be){e.msg="invalid distance code",i.mode=J;break}i.offset=ve,i.extra=15&be,i.mode=K;case K:if(i.extra){for(xe=i.extra;ce<xe;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}i.offset+=oe&(1<<i.extra)-1,oe>>>=i.extra,ce-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=J;break}i.mode=z;case z:if(0===ne)break e;if(ue=he-ne,i.offset>ue){if((ue=i.offset-ue)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=J;break}ue>i.wnext?(ue-=i.wnext,pe=i.wsize-ue):pe=i.wnext-ue,ue>i.length&&(ue=i.length),me=i.window}else me=te,pe=se-i.offset,ue=i.length;ue>ne&&(ue=ne),ne-=ue,i.length-=ue;do{te[se++]=me[pe++]}while(--ue);0===i.length&&(i.mode=G);break;case W:if(0===ne)break e;te[se++]=i.length,ne--,i.mode=G;break;case X:if(i.wrap){for(;ce<32;){if(0===ae)break e;ae--,oe|=ee[ie++]<<ce,ce+=8}if(he-=ne,e.total_out+=he,i.total+=he,he&&(e.adler=i.check=i.flags?a(i.check,te,he,se-he):s(i.check,te,he,se-he)),he=ne,(i.flags?oe:re(oe))!==i.check){e.msg="incorrect data check",i.mode=J;break}oe=0,ce=0}i.mode=Y;case Y:if(i.wrap&&i.flags){for(;ce<32;){if(0===ae)break e;ae--,oe+=ee[ie++]<<ce,ce+=8}if(oe!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=J;break}oe=0,ce=0}i.mode=Z;case Z:Te=m;break e;case J:Te=v;break e;case Q:return g;case $:default:return b}return e.next_out=se,e.avail_out=ne,e.next_in=ie,e.avail_in=ae,i.hold=oe,i.bits=ce,(i.wsize||he!==e.avail_out&&i.mode<J&&(i.mode<X||t!==u))&&fe(e,e.output,e.next_out,he-e.avail_out)?(i.mode=Q,g):(de-=e.avail_in,he-=e.avail_out,e.total_in+=de,e.total_out+=he,i.total+=he,i.wrap&&he&&(e.adler=i.check=i.flags?a(i.check,te,he,e.next_out-he):s(i.check,te,he,e.next_out-he)),e.data_type=i.bits+(i.last?64:0)+(i.mode===F?128:0)+(i.mode===V||i.mode===q?256:0),(0===de&&0===he||t===u)&&Te===p&&(Te=w),Te)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0===(2&(i=e.state).wrap)?b:(i.head=t,t.done=!1,p):b},t.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==B?b:i.mode===B&&s(1,t,r,0)!==i.check?v:fe(e,t,r,r)?(i.mode=Q,g):(i.havedict=1,p):b},t.inflateInfo="pako inflate (from Nodeca project)"},G2uu:function(e,t,i){e.exports=i("2Mwr")},GNjU:function(e,t,i){"use strict";var r=i("siiD"),s=i("wfEq"),a={};function n(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}s(t,e);for(var i=Object.keys(a),r=0;r<i.length;r++){var n=i[r];t.prototype[n]=a[n]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},a._update=function(e,t,i,r){var s=this._cbcState,a=this.constructor.super_.prototype,n=s.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)n[o]^=e[t+o];a._update.call(this,n,0,i,r);for(o=0;o<this.blockSize;o++)n[o]=i[r+o]}else{a._update.call(this,e,t,i,r);for(o=0;o<this.blockSize;o++)i[r+o]^=n[o];for(o=0;o<this.blockSize;o++)n[o]=e[t+o]}}},GYWQ:function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},GYwP:function(e,t,i){"use strict";(function(e){var r=i("qykS").Buffer,s=i("ZG6w").Transform,a=i("2jjz"),n=i("4+3C"),o=i("ZERR").ok,c=i("qykS").kMaxLength,d="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var h=Object.keys(a),u=0;u<h.length;u++){var l=h[u];l.match(/^Z/)&&Object.defineProperty(t,l,{enumerable:!0,value:a[l],writable:!1})}for(var f={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(f),m=0;m<p.length;m++){var y=p[m];f[f[y]]=y}function b(e,t,i){var s=[],a=0;function n(){for(var t;null!==(t=e.read());)s.push(t),a+=t.length;e.once("readable",n)}function o(){var t,n=null;a>=c?n=new RangeError(d):t=r.concat(s,a),s=[],e.close(),i(n,t)}e.on("error",(function(t){e.removeListener("end",o),e.removeListener("readable",n),i(t)})),e.on("end",o),e.end(t),n()}function v(e,t){if("string"===typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(t,i)}function g(e){if(!(this instanceof g))return new g(e);C.call(this,e,a.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);C.call(this,e,a.INFLATE)}function k(e){if(!(this instanceof k))return new k(e);C.call(this,e,a.GZIP)}function _(e){if(!(this instanceof _))return new _(e);C.call(this,e,a.GUNZIP)}function T(e){if(!(this instanceof T))return new T(e);C.call(this,e,a.DEFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);C.call(this,e,a.INFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);C.call(this,e,a.UNZIP)}function O(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function C(e,i){var n=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,s.call(this,e),e.flush&&!O(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!O(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(i);var o=this;this._hadError=!1,this._handle.onerror=function(e,i){M(o),o._hadError=!0;var r=new Error(e);r.errno=i,r.code=t.codes[i],o.emit("error",r)};var c=t.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(c=e.level);var d=t.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(d=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,d,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=d,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!n._handle},configurable:!0,enumerable:!0})}function M(t,i){i&&e.nextTick(i),t._handle&&(t._handle.close(),t._handle=null)}function A(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=g,t.Inflate=w,t.Gzip=k,t.Gunzip=_,t.DeflateRaw=T,t.InflateRaw=S,t.Unzip=x,t.createDeflate=function(e){return new g(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new T(e)},t.createInflateRaw=function(e){return new S(e)},t.createGzip=function(e){return new k(e)},t.createGunzip=function(e){return new _(e)},t.createUnzip=function(e){return new x(e)},t.deflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new g(t),e,i)},t.deflateSync=function(e,t){return v(new g(t),e)},t.gzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new k(t),e,i)},t.gzipSync=function(e,t){return v(new k(t),e)},t.deflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new T(t),e,i)},t.deflateRawSync=function(e,t){return v(new T(t),e)},t.unzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new x(t),e,i)},t.unzipSync=function(e,t){return v(new x(t),e)},t.inflate=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new w(t),e,i)},t.inflateSync=function(e,t){return v(new w(t),e)},t.gunzip=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new _(t),e,i)},t.gunzipSync=function(e,t){return v(new _(t),e)},t.inflateRaw=function(e,t,i){return"function"===typeof t&&(i=t,t={}),b(new S(t),e,i)},t.inflateRawSync=function(e,t){return v(new S(t),e)},n.inherits(C,s),C.prototype.params=function(i,r,s){if(i<t.Z_MIN_LEVEL||i>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+i);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==i||this._strategy!==r){var n=this;this.flush(a.Z_SYNC_FLUSH,(function(){o(n._handle,"zlib binding closed"),n._handle.params(i,r),n._hadError||(n._level=i,n._strategy=r,s&&s())}))}else e.nextTick(s)},C.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},C.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},C.prototype.flush=function(t,i){var s=this,n=this._writableState;("function"===typeof t||void 0===t&&!i)&&(i=t,t=a.Z_FULL_FLUSH),n.ended?i&&e.nextTick(i):n.ending?i&&this.once("end",i):n.needDrain?i&&this.once("drain",(function(){return s.flush(t,i)})):(this._flushFlag=t,this.write(r.alloc(0),"",i))},C.prototype.close=function(t){M(this,t),e.nextTick(A,this)},C.prototype._transform=function(e,t,i){var s,n=this._writableState,o=(n.ending||n.ended)&&(!e||n.length===e.length);return null===e||r.isBuffer(e)?this._handle?(o?s=this._finishFlushFlag:(s=this._flushFlag,e.length>=n.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,s,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},C.prototype._processChunk=function(e,t,i){var s=e&&e.length,a=this._chunkSize-this._offset,n=0,h=this,u="function"===typeof i;if(!u){var l,f=[],p=0;this.on("error",(function(e){l=e})),o(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,n,s,this._buffer,this._offset,a)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw l;if(p>=c)throw M(this),new RangeError(d);var y=r.concat(f,p);return M(this),y}o(this._handle,"zlib binding closed");var b=this._handle.write(t,e,n,s,this._buffer,this._offset,a);function v(c,d){if(this&&(this.buffer=null,this.callback=null),!h._hadError){var l=a-d;if(o(l>=0,"have should not go down"),l>0){var m=h._buffer.slice(h._offset,h._offset+l);h._offset+=l,u?h.push(m):(f.push(m),p+=m.length)}if((0===d||h._offset>=h._chunkSize)&&(a=h._chunkSize,h._offset=0,h._buffer=r.allocUnsafe(h._chunkSize)),0===d){if(n+=s-c,s=c,!u)return!0;var y=h._handle.write(t,e,n,s,h._buffer,h._offset,h._chunkSize);return y.callback=v,void(y.buffer=e)}if(!u)return!1;i()}}b.buffer=e,b.callback=v},n.inherits(g,C),n.inherits(w,C),n.inherits(k,C),n.inherits(_,C),n.inherits(T,C),n.inherits(S,C),n.inherits(x,C)}).call(this,i("5IsQ"))},Gi7R:function(e,t,i){"use strict";e.exports=i("sOjj")(i("a2z/"))},GiW5:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,DDoSProtection:h,InvalidNonce:u,AuthenticationError:l,InvalidAddress:f}=i("ucJe"),{ROUND:p}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binance",name:"Binance",countries:["JP","MT"],rateLimit:500,certified:!0,has:{fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchTime:!0,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:"emulated",withdraw:!0,fetchFundingFees:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1,fetchTradingFee:!0,fetchTradingFees:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","8h":"8h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/29604020-d5483cdc-87ee-11e7-94c7-d1a8d9169293.jpg",api:{web:"https://www.binance.com",wapi:"https://api.binance.com/wapi/v3",sapi:"https://api.binance.com/sapi/v1",fapiPublic:"https://fapi.binance.com/fapi/v1",fapiPrivate:"https://fapi.binance.com/fapi/v1",public:"https://api.binance.com/api/v3",private:"https://api.binance.com/api/v3",v3:"https://api.binance.com/api/v3",v1:"https://api.binance.com/api/v1"},www:"https://www.binance.com",referral:"https://www.binance.com/?ref=10205187",doc:["https://binance-docs.github.io/apidocs/spot/en"],api_management:"https://www.binance.com/en/usercenter/settings/api-management",fees:"https://www.binance.com/en/fee/schedule"},api:{web:{get:["exchange/public/product","assetWithdraw/getAllAsset.html"]},sapi:{get:["accountSnapshot","margin/asset","margin/pair","margin/allAssets","margin/allPairs","margin/priceIndex","asset/assetDividend","margin/loan","margin/repay","margin/account","margin/transfer","margin/interestHistory","margin/forceLiquidationRec","margin/order","margin/openOrders","margin/allOrders","margin/myTrades","margin/maxBorrowable","margin/maxTransferable","futures/transfer","capital/config/getall","capital/deposit/address","capital/deposit/hisrec","capital/deposit/subAddress","capital/deposit/subHisrec","capital/withdraw/history","sub-account/futures/account","sub-account/futures/accountSummary","sub-account/futures/positionRisk","sub-account/margin/account","sub-account/margin/accountSummary","sub-account/status"],post:["asset/dust","account/disableFastWithdrawSwitch","account/enableFastWithdrawSwitch","capital/withdraw/apply","margin/transfer","margin/loan","margin/repay","margin/order","sub-account/margin/enable","sub-account/margin/enable","sub-account/futures/enable","userDataStream","futures/transfer"],put:["userDataStream"],delete:["margin/order","userDataStream"]},wapi:{post:["withdraw","sub-account/transfer"],get:["depositHistory","withdrawHistory","depositAddress","accountStatus","systemStatus","apiTradingStatus","userAssetDribbletLog","tradeFee","assetDetail","sub-account/list","sub-account/transfer/history","sub-account/assets"]},fapiPublic:{get:["ping","time","exchangeInfo","depth","trades","historicalTrades","aggTrades","klines","premiumIndex","ticker/24hr","ticker/price","ticker/bookTicker"],put:["listenKey"],post:["listenKey"],delete:["listenKey"]},fapiPrivate:{get:["allOrders","openOrders","order","account","balance","positionMargin/history","positionRisk","userTrades","income"],post:["positionMargin","marginType","order","leverage"],delete:["order"]},v3:{get:["ticker/price","ticker/bookTicker"]},public:{get:["ping","time","depth","trades","aggTrades","historicalTrades","klines","ticker/24hr","ticker/price","ticker/bookTicker","exchangeInfo"],put:["userDataStream"],post:["userDataStream"],delete:["userDataStream"]},private:{get:["allOrderList","openOrderList","orderList","order","openOrders","allOrders","account","myTrades"],post:["order/oco","order","order/test"],delete:["orderList","order"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},commonCurrencies:{BCC:"BCC",YOYO:"YOYOW"},options:{fetchTradesMethod:"publicGetAggTrades",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",defaultType:"spot",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,recvWindow:5e3,timeDifference:0,adjustForTimeDifference:!1,parseOrderToPrecision:!1,newOrderRespType:{market:"FULL",limit:"RESULT"}},exceptions:{"API key does not exist":l,"Order would trigger immediately.":d,"Account has insufficient balance for requested action.":o,"Rest API trading is not enabled.":n,"-1000":n,"-1013":d,"-1021":u,"-1022":l,"-1100":d,"-1104":s,"-1128":s,"-2010":s,"-2011":c,"-2013":c,"-2014":l,"-2015":l}})}nonce(){return this.milliseconds()-this.options.timeDifference}async fetchTime(e={}){const t="spot"===this.safeString2(this.options,"fetchTime","defaultType","spot")?"publicGetTime":"fapiPublicGetTime",i=await this[t](e);return this.safeFloat(i,"serverTime")}async loadTimeDifference(){const e=await this.fetchTime(),t=this.milliseconds();return this.options.timeDifference=parseInt(t-e),this.options.timeDifference}async fetchMarkets(e={}){const t=this.safeString2(this.options,"fetchMarkets","defaultType","spot"),i=this.safeString(e,"type",t),r=this.omit(e,"type"),s="spot"===i?"publicGetExchangeInfo":"fapiPublicGetExchangeInfo",a=await this[s](r);this.options.adjustForTimeDifference&&await this.loadTimeDifference();const n=this.safeValue(a,"symbols"),o=[];for(let c=0;c<n.length;c++){const e=n[c],t="maintMarginPercent"in e,i=!t,r=i?"spot":"future",s=this.safeString(e,"symbol"),a=e.baseAsset,d=e.quoteAsset,h=this.safeCurrencyCode(a),u=this.safeCurrencyCode(d),l=h+"/"+u,f=this.indexBy(e.filters,"filterType"),p={base:e.baseAssetPrecision,quote:e.quotePrecision,amount:e.baseAssetPrecision,price:e.quotePrecision},m={id:s,symbol:l,base:h,quote:u,baseId:a,quoteId:d,info:e,type:r,spot:i,future:t,active:"TRADING"===this.safeString(e,"status"),precision:p,limits:{amount:{min:Math.pow(10,-p.amount),max:void 0},price:{min:void 0,max:void 0},cost:{min:-1*Math.log10(p.amount),max:void 0}}};if("PRICE_FILTER"in f){const e=f.PRICE_FILTER;m.limits.price={min:this.safeFloat(e,"minPrice"),max:void 0};const t=this.safeFloat(e,"maxPrice");void 0!==t&&t>0&&(m.limits.price.max=t),m.precision.price=this.precisionFromString(e.tickSize)}if("LOT_SIZE"in f){const e=this.safeValue(f,"LOT_SIZE",{}),t=this.safeString(e,"stepSize");m.precision.amount=this.precisionFromString(t),m.limits.amount={min:this.safeFloat(e,"minQty"),max:this.safeFloat(e,"maxQty")}}"MIN_NOTIONAL"in f&&(m.limits.cost.min=this.safeFloat(f.MIN_NOTIONAL,"minNotional")),o.push(m)}return o}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=r*d,u=o.precision.price;return"sell"===i?h*=s:(c="base",u=o.precision.amount),h=this.decimalToPrecision(h,p,u,this.precisionMode),{type:a,currency:o[c],rate:d,cost:parseFloat(h)}}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType","spot"),i=this.safeString(e,"type",t),r="spot"===i?"privateGetAccount":"fapiPrivateGetAccount",s=this.omit(e,"type"),a=await this[r](s),n={info:a};if("spot"===i){const e=this.safeValue(a,"balances",[]);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),a=this.account();a.free=this.safeFloat(i,"free"),a.used=this.safeFloat(i,"locked"),n[s]=a}}else{const e=this.safeValue(a,"assets",[]);for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(i,"asset"),s=this.safeCurrencyCode(r),a=this.account();a.used=this.safeFloat(i,"initialMargin"),a.total=this.safeFloat(i,"marginBalance"),n[s]=a}}return this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={symbol:r.id};void 0!==t&&(s.limit=t);const a=r.spot?"publicGetDepth":"fapiPublicGetDepth",n=await this[a](this.extend(s,i)),o=this.parseOrderBook(n);return o.nonce=this.safeInteger(n,"lastUpdateId"),o}parseTicker(e,t){const i=this.safeInteger(e,"closeTime");let r=void 0;const s=this.safeString(e,"symbol");s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"lastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"openPrice"),close:a,last:a,previousClose:this.safeFloat(e,"prevClosePrice"),change:this.safeFloat(e,"priceChange"),percentage:this.safeFloat(e,"priceChangePercent"),average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}async fetchStatus(e={}){const t=await this.wapiGetSystemStatus();let i=this.safeValue(t,"status");return void 0!==i&&(i=0===i?"ok":"maintenance",this.status=this.extend(this.status,{status:i,updated:this.milliseconds()})),this.status}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=i.spot?"publicGetTicker24hr":"fapiPublicGetTicker24hr",a=await this[s](this.extend(r,t));return this.parseTicker(a,i)}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot"),r=this.safeString(t,"type",i),s=this.omit(t,"type"),a="spot"===r?"publicGetTickerBookTicker":"fapiPublicGetTickerBookTicker",n=await this[a](s);return this.parseTickers(n,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.options.fetchTickersMethod,r=await this[i](t);return this.parseTickers(r,e)}parseOHLCV(e,t,i="1m",r,s){return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,interval:this.timeframes[t]};void 0!==i&&(n.startTime=i),void 0!==r&&(n.limit=r);const o=a.spot?"publicGetKlines":"fapiPublicGetKlines",c=await this[o](this.extend(n,s));return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){if("isDustTrade"in e)return this.parseDustTrade(e,t);const i=this.safeInteger2(e,"T","time"),r=this.safeFloat2(e,"p","price"),s=this.safeFloat2(e,"q","qty"),a=this.safeString2(e,"a","id");let n=void 0;const o=this.safeString(e,"orderId");"m"in e?n=e.m?"sell":"buy":"isBuyerMaker"in e?n=e.isBuyerMaker?"sell":"buy":"side"in e?n=this.safeStringLower(e,"side"):"isBuyer"in e&&(n=e.isBuyer?"buy":"sell");let c=void 0;"commission"in e&&(c={cost:this.safeFloat(e,"commission"),currency:this.safeCurrencyCode(this.safeString(e,"commissionAsset"))});let d=void 0;"isMaker"in e&&(d=e.isMaker?"maker":"taker");let h=void 0;if(void 0===t){const i=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,i)}return void 0!==t&&(h=t.symbol),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,id:a,order:o,type:void 0,takerOrMaker:d,side:n,price:r,amount:s,cost:r*s,fee:c}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};"publicGetAggTrades"===this.options.fetchTradesMethod&&void 0!==t&&(a.startTime=t,a.endTime=this.sum(t,36e5)),void 0!==i&&(a.limit=i);const n=this.safeValue(this.options,"fetchTradesMethod","publicGetTrades"),o=await this[n](this.extend(a,r));return this.parseTrades(o,s,t,i)}parseOrderStatus(e){return this.safeString({NEW:"open",PARTIALLY_FILLED:"open",FILLED:"closed",CANCELED:"canceled",PENDING_CANCEL:"canceling",REJECTED:"rejected",EXPIRED:"canceled"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status"));let r=void 0;const s=this.safeString(e,"symbol");s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0!==t&&(r=t.symbol);let a=void 0;"time"in e?a=this.safeInteger(e,"time"):"transactTime"in e&&(a=this.safeInteger(e,"transactTime"));let n=this.safeFloat(e,"price");const o=this.safeFloat(e,"origQty"),c=this.safeFloat(e,"executedQty");let d=void 0,h=this.safeFloat2(e,"cummulativeQuoteQty","cumQuote");void 0!==c&&(void 0!==o&&(d=o-c,this.options.parseOrderToPrecision&&(d=parseFloat(this.amountToPrecision(r,d))),d=Math.max(d,0)),void 0!==n&&void 0===h&&(h=n*c));const u=this.safeString(e,"orderId");let l=this.safeStringLower(e,"type");"market"===l?0===n&&void 0!==h&&void 0!==c&&h>0&&c>0&&(n=h/c,this.options.parseOrderToPrecision&&(n=parseFloat(this.priceToPrecision(r,n)))):"limit_maker"===l&&(l="limit");const f=this.safeStringLower(e,"side");let p=void 0,m=void 0;const y=this.safeValue(e,"fills");if(void 0!==y){if(m=this.parseTrades(y,t),m.length>0){h=m[0].cost,p={cost:m[0].fee.cost,currency:m[0].fee.currency};for(let e=1;e<m.length;e++)h=this.sum(h,m[e].cost),p.cost=this.sum(p.cost,m[e].fee.cost)}}let b=void 0;return void 0!==h&&(c&&(b=h/c,this.options.parseOrderToPrecision&&(b=parseFloat(this.priceToPrecision(r,b)))),this.options.parseOrderToPrecision&&(h=parseFloat(this.costToPrecision(r,h)))),{info:e,id:u,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:l,side:f,price:n,amount:o,cost:h,average:b,filled:c,remaining:d,status:i,fee:p,trades:m}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o=n.spot?"privatePostOrder":"fapiPrivatePostOrder";if(n.spot){this.safeValue(a,"test",!1)&&(o+="Test",a=this.omit(a,"test"))}const c=t.toUpperCase(),h=this.safeValue(n.info,"orderTypes");if(!this.inArray(c,h))throw new d(this.id+" "+t+" is not a valid order type in "+n.type+" market "+e);const u={symbol:n.id,type:c,side:i.toUpperCase()};if("MARKET"===c){const t=this.safeFloat(a,"quoteOrderQty");void 0!==t?u.quoteOrderQty=this.costToPrecision(e,t):void 0!==s?u.quoteOrderQty=this.costToPrecision(e,r*s):u.quantity=this.amountToPrecision(e,r)}else u.quantity=this.amountToPrecision(e,r);n.spot&&(u.newOrderRespType=this.safeValue(this.options.newOrderRespType,t,"RESULT"));let l=!1,f=!1,p=!1;if("LIMIT"===c?(f=!0,l=!0):"STOP_LOSS"===c||"TAKE_PROFIT"===c?p=!0:"STOP_LOSS_LIMIT"===c||"TAKE_PROFIT_LIMIT"===c?(p=!0,f=!0,l=!0):"LIMIT_MAKER"===c?f=!0:"STOP"===c&&(p=!0,f=!0),f){if(void 0===s)throw new d(this.id+" createOrder method requires a price argument for a "+t+" order");u.price=this.priceToPrecision(e,s)}if(l&&(u.timeInForce=this.options.defaultTimeInForce),p){const i=this.safeFloat(a,"stopPrice");if(void 0===i)throw new d(this.id+" createOrder method requires a stopPrice extra param for a "+t+" order");a=this.omit(a,"stopPrice"),u.stopPrice=this.priceToPrecision(e,i)}const m=await this[o](this.extend(u,a));return this.parseOrder(m,n)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.spot?"privateGetOrder":"fapiPrivateGetOrder",n={symbol:r.id},o=this.safeValue(i,"origClientOrderId");void 0!==o?n.origClientOrderId=o:n.orderId=parseInt(e);const c=await this[s](this.extend(n,i));return this.parseOrder(c,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id};void 0!==t&&(n.startTime=t),void 0!==i&&(n.limit=i);const o=s.spot?"privateGetAllOrders":"fapiPrivateGetAllOrders",c=await this[o](this.extend(n,r));return this.parseOrders(c,s,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let a=void 0,n=void 0,o=void 0;const c={};if(void 0!==e)a=this.market(e),c.symbol=a.id,o=a.type,n=r;else{if(this.options.warnOnFetchOpenOrdersWithoutSymbol){const e=this.symbols.length,t=parseInt(e/2);throw new s(this.id+" fetchOpenOrders WARNING: fetching open orders without specifying a symbol is rate-limited to one call per "+t.toString()+" seconds. Do not call this method frequently to avoid ban. Set "+this.id+'.options["warnOnFetchOpenOrdersWithoutSymbol"] = false to suppress this warning message.')}{const e=this.safeString2(this.options,"fetchOpenOrders","defaultType","spot");o=this.safeString(r,"type",e),n=this.omit(r,"type")}}const d="spot"===o?"privateGetOpenOrders":"fapiPrivateGetOpenOrders",h=await this[d](this.extend(c,n));return this.parseOrders(h,a,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={symbol:r.id,orderId:parseInt(e)},n=r.spot?"privateDeleteOrder":"fapiPrivateDeleteOrder",o=await this[n](this.extend(s,i));return this.parseOrder(o)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n=s.spot?"privateGetMyTrades":"fapiPrivateGetUserTrades",o={symbol:s.id};void 0!==t&&(o.startTime=t),void 0!==i&&(o.limit=i);const c=await this[n](this.extend(o,r));return this.parseTrades(c,s,t,i)}async fetchMyDustTrades(e,t,i,r={}){await this.loadMarkets();const s=await this.wapiGetUserAssetDribbletLog(r),a=this.safeValue(s,"results",{}),n=this.safeValue(a,"rows",[]),o=[];for(let d=0;d<n.length;d++){const e=n[d].logs;for(let t=0;t<e.length;t++)e[t].isDustTrade=!0,o.push(e[t])}const c=this.parseTrades(o,void 0,t,i);return this.filterBySinceLimit(c,t,i)}parseDustTrade(e,t){const i=this.safeString(e,"tranId"),r=this.parse8601(this.safeString(e,"operateTime")),s=this.safeCurrencyCode(this.safeString(e,"fromAsset")),a=this.currency("BNB").code,n=a+"/"+s;let o=!1;n in this.markets&&(o=!0);const c={currency:a,cost:this.safeFloat(e,"serviceChargeAmount")};let d=void 0,h=void 0,u=void 0,l=void 0;o?(d=n,h=this.sum(this.safeFloat(e,"transferedAmount"),c.cost),u=this.safeFloat(e,"amount"),l="buy"):(d=s+"/"+a,h=this.safeFloat(e,"amount"),u=this.sum(this.safeFloat(e,"transferedAmount"),c.cost),l="sell");let f=void 0;void 0!==u&&h&&(f=u/h);return{id:void 0,timestamp:r,datetime:this.iso8601(r),symbol:d,order:i,type:void 0,takerOrMaker:void 0,side:l,amount:h,price:f,cost:u,fee:c,info:e}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.currency(e),a.asset=s.id),void 0!==t&&(a.startTime=t);const n=await this.wapiGetDepositHistory(this.extend(a,r));return this.parseTransactions(n.depositList,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.currency(e),a.asset=s.id),void 0!==t&&(a.startTime=t);const n=await this.wapiGetWithdrawHistory(this.extend(a,r));return this.parseTransactions(n.withdrawList,s,t,i)}parseTransactionStatusByType(e,t){if(void 0===t)return e;const i={deposit:{0:"pending",1:"ok"},withdrawal:{0:"pending",1:"canceled",2:"pending",3:"failed",4:"pending",5:"failed",6:"ok"}};return e in i[t]?i[t][e]:e}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address");let s=this.safeString(e,"addressTag");void 0!==s&&s.length<1&&(s=void 0);const a=this.safeValue(e,"txId"),n=this.safeString(e,"asset"),o=this.safeCurrencyCode(n,t);let c=void 0;const d=this.safeInteger(e,"insertTime"),h=this.safeInteger(e,"applyTime");let u=this.safeString(e,"type");void 0===u&&(void 0!==d&&void 0===h?(u="deposit",c=d):void 0===d&&void 0!==h&&(u="withdrawal",c=h));const l=this.parseTransactionStatusByType(this.safeString(e,"status"),u),f=this.safeFloat(e,"amount"),p=this.safeFloat(e,"transactionFee");let m=void 0;return void 0!==p&&(m={currency:o,cost:p}),{info:e,id:i,txid:a,timestamp:c,datetime:this.iso8601(c),address:r,tag:s,type:u,amount:f,currency:o,status:l,updated:void 0,fee:m}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={asset:this.currency(e).id},r=await this.wapiGetDepositAddress(this.extend(i,t)),s=this.safeValue(r,"success");if(void 0===s||!s)throw new f(this.id+" fetchDepositAddress returned an empty response \u2013 create the deposit address in the user settings first.");const a=this.safeString(r,"address"),n=this.safeString(r,"addressTag");return this.checkAddress(a),{currency:e,address:this.checkAddress(a),tag:n,info:r}}async fetchFundingFees(e,t={}){const i=await this.wapiGetAssetDetail(t),r=this.safeValue(i,"assetDetail",{}),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n];a[this.safeCurrencyCode(e)]=this.safeFloat(r[e],"withdrawFee")}return{withdraw:a,deposit:{},info:i}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=i.slice(0,20),o={asset:a.id,address:i,amount:parseFloat(t),name:n};void 0!==r&&(o.addressTag=r);const c=await this.wapiPostWithdraw(this.extend(o,s));return{info:c,id:this.safeString(c,"id")}}parseTradingFee(e,t){const i=this.safeString(e,"symbol");let r=i;if(i in this.markets_by_id){r=this.markets_by_id[i].symbol}return{info:e,symbol:r,maker:this.safeFloat(e,"maker"),taker:this.safeFloat(e,"taker")}}async fetchTradingFee(e,t={}){await this.loadMarkets();const i={symbol:this.market(e).id},r=await this.wapiGetTradeFee(this.extend(i,t)),s=this.safeValue(r,"tradeFee",[]),a=this.safeValue(s,0,{});return this.parseTradingFee(a)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.wapiGetTradeFee(e),i=this.safeValue(t,"tradeFee",[]),r={};for(let s=0;s<i.length;s++){const e=this.parseTradingFee(i[s]);r[e.symbol]=e}return r}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];n+="/"+e,"wapi"===t&&(n+=".html");const o="userDataStream"===e||"listenKey"===e;if("historicalTrades"===e){if(!this.apiKey)throw new l(this.id+" historicalTrades endpoint requires `apiKey` credential");s={"X-MBX-APIKEY":this.apiKey}}else if(o){if(!this.apiKey)throw new l(this.id+" userDataStream endpoint requires `apiKey` credential");a=this.urlencode(r),s={"X-MBX-APIKEY":this.apiKey,"Content-Type":"application/x-www-form-urlencoded"}}if("private"===t||"sapi"===t||"wapi"===t&&"systemStatus"!==e||"fapiPrivate"===t){this.checkRequiredCredentials();let e=this.urlencode(this.extend({timestamp:this.nonce(),recvWindow:this.options.recvWindow},r));e+="&signature="+this.hmac(this.encode(e),this.encode(this.secret)),s={"X-MBX-APIKEY":this.apiKey},"GET"===i||"DELETE"===i||"wapi"===t?n+="?"+e:(a=e,s["Content-Type"]="application/x-www-form-urlencoded")}else o||Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,u){if(418===e||429===e)throw new h(this.id+" "+e.toString()+" "+t+" "+n);if(e>=400){if(n.indexOf("Price * QTY is zero or less")>=0)throw new d(this.id+" order cost = amount * price is zero or less "+n);if(n.indexOf("LOT_SIZE")>=0)throw new d(this.id+" order amount should be evenly divisible by lot size "+n);if(n.indexOf("PRICE_FILTER")>=0)throw new d(this.id+" order price is invalid, i.e. exceeds allowed price precision, exceeds min price or max price limits or is invalid float value in general, use this.priceToPrecision (symbol, amount) "+n)}if(n.length>0&&"{"===n[0]){const e=this.safeValue(o,"success",!0);if(!e){const e=this.safeString(o,"msg");let t=void 0;if(void 0!==e){try{t=JSON.parse(e)}catch(l){t=void 0}void 0!==t&&(o=t)}}const t=this.safeString(o,"msg");void 0!==t&&this.throwExactlyMatchedException(this.exceptions,t,this.id+" "+t);const i=this.safeString(o,"code");if(void 0!==i){if("-2015"===i&&this.options.hasAlreadyAuthenticatedSuccessfully)throw new h(this.id+" temporary banned: "+n);const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,i,e),new s(e)}if(!e)throw new s(this.id+" "+n)}}async request(e,t="public",i="GET",r={},s,a){const n=await this.fetch2(e,t,i,r,s,a);return"private"!==t&&"wapi"!==t||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),n}}},GoAl:function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i("Uvjz"),n=i("akY0"),o=i("QOjt"),c=i("Q0Bw"),d=i("sw1+"),h=s(i("pa9A")),u=new RegExp(/^bytes([0-9]*)$/),l=new RegExp(/^(u?int)([0-9]*)$/),f=new RegExp(/^(.*)\[([0-9]*)\]$/);t.defaultCoerceFunc=function(e,t){var i=e.match(l);return i&&parseInt(i[2])<=48?t.toNumber():t};var p=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),m=new RegExp("^[A-Za-z_][A-Za-z0-9_]*$");function y(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}function b(e,t){function i(t){throw new Error('unexpected character "'+e[t]+'" at position '+t+' in "'+e+'"')}for(var r={type:"",name:"",state:{allowType:!0}},s=r,a=0;a<e.length;a++){var n=e[a];switch(n){case"(":s.state.allowParams||i(a),s.state.allowType=!1,s.type=y(s.type),s.components=[{type:"",name:"",parent:s,state:{allowType:!0}}],s=s.components[0];break;case")":delete s.state,t&&"indexed"===s.name&&(s.indexed=!0,s.name=""),s.type=y(s.type);var o=s;(s=s.parent)||i(a),delete o.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,t&&"indexed"===s.name&&(s.indexed=!0,s.name=""),s.type=y(s.type);var c={type:"",name:"",parent:s.parent,state:{allowType:!0}};s.parent.components.push(c),delete s.parent,s=c;break;case" ":s.state.allowType&&""!==s.type&&(s.type=y(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&(t&&"indexed"===s.name?(s.indexed=!0,s.name=""):s.state.allowName=!1);break;case"[":s.state.allowArray||i(a),s.type+=n,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||i(a),s.type+=n,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=n,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=n,delete s.state.allowArray):s.state.readArray?s.type+=n:i(a)}}if(s.parent)throw new Error("unexpected eof");return delete r.state,t&&"indexed"===s.name&&(s.indexed=!0,s.name=""),r.type=y(r.type),r}function v(e){return D(t.defaultCoerceFunc,e).type}t.parseParamType=function(e){return b(e,!0)},t.formatParamType=v,t.formatSignature=function(e){return e.name+"("+e.inputs.map((function(e){return v(e)})).join(",")+")"},t.parseSignature=function(e){if("string"===typeof e)return"event "===(e=(e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).substring(0,6)?function(e){var t={anonymous:!1,inputs:[],name:"",type:"event"},i=e.match(p);if(!i)throw new Error("invalid event: "+e);if(t.name=i[1].trim(),q(i[2]).forEach((function(e){(e=b(e,!0)).indexed=!!e.indexed,t.inputs.push(e)})),i[3].split(" ").forEach((function(e){switch(e){case"anonymous":t.anonymous=!0;break;case"":break;default:console.log("unknown modifier: "+e)}})),t.name&&!t.name.match(m))throw new Error('invalid identifier: "'+t.name+'"');return t}(e.substring(6).trim()):("function "===e.substring(0,9)&&(e=e.substring(9)),function(e){var t={constant:!1,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},i=e.split(" returns "),r=i[0].match(p);if(!r)throw new Error("invalid signature");if(t.name=r[1].trim(),!t.name.match(m))throw new Error('invalid identifier: "'+r[1]+'"');if(q(r[2]).forEach((function(e){t.inputs.push(b(e))})),r[3].split(" ").forEach((function(e){switch(e){case"constant":t.constant=!0;break;case"payable":t.payable=!0;break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"":break;default:console.log("unknown modifier: "+e)}})),i.length>1){var s=i[1].match(p);if(""!=s[1].trim()||""!=s[3].trim())throw new Error("unexpected tokens");q(s[2]).forEach((function(e){t.outputs.push(b(e))}))}return t}(e.trim()));throw new Error("unknown signature")};var g=function(e,t,i,r,s){this.coerceFunc=e,this.name=t,this.type=i,this.localName=r,this.dynamic=s},w=function(e){function t(t){var i=e.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic)||this;return d.defineReadOnly(i,"coder",t),i}return r(t,e),t.prototype.encode=function(e){return this.coder.encode(e)},t.prototype.decode=function(e,t){return this.coder.decode(e,t)},t}(g),k=function(e){function t(t,i){return e.call(this,t,"null","",i,!1)||this}return r(t,e),t.prototype.encode=function(e){return o.arrayify([])},t.prototype.decode=function(e,t){if(t>e.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}},t}(g),_=function(e){function t(t,i,r,s){var a=this,n=(r?"int":"uint")+8*i;return(a=e.call(this,t,n,n,s,!1)||this).size=i,a.signed=r,a}return r(t,e),t.prototype.encode=function(e){try{var t=n.bigNumberify(e);return t=t.toTwos(8*this.size).maskn(8*this.size),this.signed&&(t=t.fromTwos(8*this.size).toTwos(256)),o.padZeros(o.arrayify(t),32)}catch(i){h.throwError("invalid number value",h.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:e})}return null},t.prototype.decode=function(e,t){e.length<t+32&&h.throwError("insufficient data for "+this.name+" type",h.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:o.hexlify(e.slice(t,t+32))});var i=32-this.size,r=n.bigNumberify(e.slice(t+i,t+32));return r=this.signed?r.fromTwos(8*this.size):r.maskn(8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}},t}(g),T=new _((function(e,t){return t}),32,!1,"none"),S=function(e){function t(t,i){return e.call(this,t,"bool","bool",i,!1)||this}return r(t,e),t.prototype.encode=function(e){return T.encode(e?1:0)},t.prototype.decode=function(e,t){try{var i=T.decode(e,t)}catch(r){throw"insufficient data for uint256 type"===r.reason&&h.throwError("insufficient data for boolean type",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:r.value}),r}return{consumed:i.consumed,value:this.coerceFunc("bool",!i.value.isZero())}},t}(g),x=function(e){function t(t,i,r){var s=this,a="bytes"+i;return(s=e.call(this,t,a,a,r,!1)||this).length=i,s}return r(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{var i=o.arrayify(e);if(i.length>32)throw new Error;t.set(i)}catch(r){h.throwError("invalid "+this.name+" value",h.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:r.value||e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&h.throwError("insufficient data for "+name+" type",h.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:o.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc(this.name,o.hexlify(e.slice(t,t+this.length)))}},t}(g),O=function(e){function t(t,i){return e.call(this,t,"address","address",i,!1)||this}return r(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{t.set(o.arrayify(a.getAddress(e)),12)}catch(i){h.throwError("invalid address",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&h.throwError("insufficuent data for address type",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:o.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc("address",a.getAddress(o.hexlify(e.slice(t+12,t+32))))}},t}(g);function C(e){var t=32*Math.ceil(e.length/32),i=new Uint8Array(t-e.length);return o.concat([T.encode(e.length),e,i])}function M(e,t,i){e.length<t+32&&h.throwError("insufficient data for dynamicBytes length",h.INVALID_ARGUMENT,{arg:i,coderType:"dynamicBytes",value:o.hexlify(e.slice(t,t+32))});var r=T.decode(e,t).value;try{r=r.toNumber()}catch(s){h.throwError("dynamic bytes count too large",h.INVALID_ARGUMENT,{arg:i,coderType:"dynamicBytes",value:r.toString()})}return e.length<t+32+r&&h.throwError("insufficient data for dynamicBytes type",h.INVALID_ARGUMENT,{arg:i,coderType:"dynamicBytes",value:o.hexlify(e.slice(t,t+32+r))}),{consumed:32+32*Math.ceil(r/32),value:e.slice(t+32,t+32+r)}}var A=function(e){function t(t,i){return e.call(this,t,"bytes","bytes",i,!0)||this}return r(t,e),t.prototype.encode=function(e){try{return C(o.arrayify(e))}catch(t){h.throwError("invalid bytes value",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:t.value})}return null},t.prototype.decode=function(e,t){var i=M(e,t,this.localName);return i.value=this.coerceFunc("bytes",o.hexlify(i.value)),i},t}(g),E=function(e){function t(t,i){return e.call(this,t,"string","string",i,!0)||this}return r(t,e),t.prototype.encode=function(e){return"string"!==typeof e&&h.throwError("invalid string value",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:e}),C(c.toUtf8Bytes(e))},t.prototype.decode=function(e,t){var i=M(e,t,this.localName);return i.value=this.coerceFunc("string",c.toUtf8String(i.value)),i},t}(g);function I(e){return 32*Math.ceil(e/32)}function B(e,t){if(Array.isArray(t));else if(t&&"object"===typeof t){var i=[];e.forEach((function(e){i.push(t[e.localName])})),t=i}else h.throwError("invalid tuple value",h.INVALID_ARGUMENT,{coderType:"tuple",value:t});e.length!==t.length&&h.throwError("types/value length mismatch",h.INVALID_ARGUMENT,{coderType:"tuple",value:t});var r=[];e.forEach((function(e,i){r.push({dynamic:e.dynamic,value:e.encode(t[i])})}));var s=0,a=0;r.forEach((function(e){e.dynamic?(s+=32,a+=I(e.value.length)):s+=I(e.value.length)}));var n=0,o=s,c=new Uint8Array(s+a);return r.forEach((function(e){e.dynamic?(c.set(T.encode(o),n),n+=32,c.set(e.value,o),o+=I(e.value.length)):(c.set(e.value,n),n+=I(e.value.length))})),c}function F(e,t,i){var r=i,s=0,a=[];return e.forEach((function(e){if(e.dynamic){var n=T.decode(t,i);(o=e.decode(t,r+n.value.toNumber())).consumed=n.consumed}else var o=e.decode(t,i);void 0!=o.value&&a.push(o.value),i+=o.consumed,s+=o.consumed})),e.forEach((function(e,t){var i=e.localName;i&&("length"===i&&(i="_length"),null==a[i]&&(a[i]=a[t]))})),{value:a,consumed:s}}var P=function(e){function t(t,i,r,s){var a=this,n=i.type+"["+(r>=0?r:"")+"]",o=-1===r||i.dynamic;return(a=e.call(this,t,"array",n,s,o)||this).coder=i,a.length=r,a}return r(t,e),t.prototype.encode=function(e){Array.isArray(e)||h.throwError("expected array value",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:e});var t=this.length,i=new Uint8Array(0);-1===t&&(t=e.length,i=T.encode(t)),h.checkArgumentCount(t,e.length,"in coder array"+(this.localName?" "+this.localName:""));for(var r=[],s=0;s<e.length;s++)r.push(this.coder);return o.concat([i,B(r,e)])},t.prototype.decode=function(e,t){var i=0,r=this.length;if(-1===r){try{var s=T.decode(e,t)}catch(c){h.throwError("insufficient data for dynamic array length",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:c.value})}try{r=s.value.toNumber()}catch(c){h.throwError("array count too large",h.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:s.value.toString()})}i+=s.consumed,t+=s.consumed}for(var a=[],n=0;n<r;n++)a.push(new w(this.coder));var o=F(a,e,t);return o.consumed+=i,o.value=this.coerceFunc(this.type,o.value),o},t}(g),R=function(e){function t(t,i,r){var s=this,a=!1,n=[];i.forEach((function(e){e.dynamic&&(a=!0),n.push(e.type)}));var o="tuple("+n.join(",")+")";return(s=e.call(this,t,"tuple",o,r,a)||this).coders=i,s}return r(t,e),t.prototype.encode=function(e){return B(this.coders,e)},t.prototype.decode=function(e,t){var i=F(this.coders,e,t);return i.value=this.coerceFunc(this.type,i.value),i},t}(g);function q(e){for(var t=[],i="",r=0,s=0;s<e.length;s++){var a=e[s];if(","===a&&0===r)t.push(i),i="";else if(i+=a,"("===a)r++;else if(")"===a&&-1===--r)throw new Error("unbalanced parenthsis")}return t.push(i),t}var L={address:O,bool:S,string:E,bytes:A};function D(e,t){var i,r=L[t.type];if(r)return new r(e,t.name);if(i=t.type.match(l))return(0===(s=parseInt(i[2]||"256"))||s>256||s%8!==0)&&h.throwError("invalid "+i[1]+" bit length",h.INVALID_ARGUMENT,{arg:"param",value:t}),new _(e,s/8,"int"===i[1],t.name);if(i=t.type.match(u))return(0===(s=parseInt(i[1]))||s>32)&&h.throwError("invalid bytes length",h.INVALID_ARGUMENT,{arg:"param",value:t}),new x(e,s,t.name);if(i=t.type.match(f)){var s=parseInt(i[2]||"-1");return(t=d.jsonCopy(t)).type=i[1],new P(e,D(e,t),s,t.name)}return"tuple"===t.type.substring(0,5)?function(e,t,i){t||(t=[]);var r=[];return t.forEach((function(t){r.push(D(e,t))})),new R(e,r,i)}(e,t.components,t.name):""===t.type?new k(e,t.name):(h.throwError("invalid type",h.INVALID_ARGUMENT,{arg:"type",value:t.type}),null)}var N=function(){function e(i){h.checkNew(this,e),i||(i=t.defaultCoerceFunc),d.defineReadOnly(this,"coerceFunc",i)}return e.prototype.encode=function(e,t){e.length!==t.length&&h.throwError("types/values length mismatch",h.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var i=[];return e.forEach((function(e){var t=null;t="string"===typeof e?b(e):e,i.push(D(this.coerceFunc,t))}),this),o.hexlify(new R(this.coerceFunc,i,"_").encode(t))},e.prototype.decode=function(e,t){var i=[];return e.forEach((function(e){var t=null;t="string"===typeof e?b(e):d.jsonCopy(e),i.push(D(this.coerceFunc,t))}),this),new R(this.coerceFunc,i,"_").decode(o.arrayify(t),0).value},e}();t.AbiCoder=N,t.defaultAbiCoder=new N},GvCK:function(e,t,i){"use strict";var r=i("PoH+"),s=i("/mWR").errors,a=i("sBXy"),n=function(e,t){var i=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=e,this.connected=!1,this.connection=t.connect({path:this.path}),this.addDefaultEvents();var s=function(e){var t=null;r.isArray(e)?e.forEach((function(e){i.responseCallbacks[e.id]&&(t=e.id)})):t=e.id,t||-1===e.method.indexOf("_subscription")?i.responseCallbacks[t]&&(i.responseCallbacks[t](null,e),delete i.responseCallbacks[t]):i.notificationCallbacks.forEach((function(t){r.isFunction(t)&&t(e)}))};"Socket"===t.constructor.name?a(this.connection).done(s):this.connection.on("data",(function(e){i._parseResponse(e.toString()).forEach(s)}))};n.prototype.addDefaultEvents=function(){var e=this;this.connection.on("connect",(function(){e.connected=!0})),this.connection.on("close",(function(){e.connected=!1})),this.connection.on("error",(function(){e._timeout()})),this.connection.on("end",(function(){e._timeout()})),this.connection.on("timeout",(function(){e._timeout()}))},n.prototype._parseResponse=function(e){var t=this,i=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(e){t.lastChunk&&(e=t.lastChunk+e);var r=null;try{r=JSON.parse(e)}catch(a){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout((function(){throw t._timeout(),s.InvalidResponse(e)}),15e3))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,r&&i.push(r)})),i},n.prototype._addResponseCallback=function(e,t){var i=e.id||e[0].id,r=e.method||e[0].method;this.responseCallbacks[i]=t,this.responseCallbacks[i].method=r},n.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](s.InvalidConnection("on IPC")),delete this.responseCallbacks[e])},n.prototype.reconnect=function(){this.connection.connect({path:this.path})},n.prototype.send=function(e,t){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(e)),this._addResponseCallback(e,t)},n.prototype.on=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.notificationCallbacks.push(t);break;default:this.connection.on(e,t)}},n.prototype.once=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");this.connection.once(e,t)},n.prototype.removeListener=function(e,t){var i=this;switch(e){case"data":this.notificationCallbacks.forEach((function(e,r){e===t&&i.notificationCallbacks.splice(r,1)}));break;default:this.connection.removeListener(e,t)}},n.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(e)}},n.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},n.prototype.supportsSubscriptions=function(){return!0},e.exports=n},H6LP:function(e,t,i){"use strict";const r=i("/IoK"),{capitalize:s}=i("Kqm6"),{stringToBase64:a,utf16ToBase64:n,urlencodeBase64:o}=i("BtsK"),c=i("r14B"),{numberToLE:d}=i("BtsK"),h=i("3NQs").ec,{ArgumentsRequired:u}=i("ucJe"),l=i("tk5I"),f=(e,t="md5",i="hex")=>{const a={};"keccak"===t&&(t="SHA3",a.outputLength=256);const n=r[t.toUpperCase()](e,a);return"binary"===i?n:n.toString(r.enc[s(i)])},p=(e,t,i="sha256",a="hex")=>{const n=r["Hmac"+i.toUpperCase()](e,t);if(a){const e="binary"===a?"Latin1":s(a);return n.toString(r.enc[s(e)])}return n};function m(e,t,i="RS256"){const r={RS256:"pkcs1-sha256",RS512:"pkcs1-sha512"};if(!(i in r))throw new ExchangeError(i+" is not a supported rsa signing algorithm.");return new c(t,{environment:"browser",signingScheme:r[i]}).sign(e,"base64","binary")}e.exports={hash:f,hmac:p,jwt:function(e,t,i="HS256"){const r=[o(a(JSON.stringify({alg:i,typ:"JWT"}))),o(a(JSON.stringify(e)))].join("."),s=i.slice(0,2);let n=void 0;return"HS"===s?n=o(p(r,t,{HS256:"sha256",HS384:"sha384",HS512:"sha512"}[i],"base64")):"RS"===s&&(n=o(m(r,t,i))),[r,n].join(".")},totp:e=>{const t=e=>parseInt(e,16),i=(e,t)=>(t+e).slice(-t.length);return(e=>{e=e.replace(" ","");let s=Math.round((new Date).getTime()/1e3),a=i((e=>(e<15.5?"0":"")+Math.round(e).toString(16))(Math.floor(s/30)),"0000000000000000"),n=p(r.enc.Hex.parse(a),r.enc.Hex.parse((e=>{let t="",r="";for(let s=0;s<e.length;s++){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".indexOf(e.charAt(s).toUpperCase());t+=i(r.toString(2),"00000")}for(let i=0;i+4<=t.length;i+=4){let e=t.substr(i,4);r+=parseInt(e,2).toString(16)}return r})(e)),"sha1","hex"),o=t(n.substring(n.length-1)),c=(t(n.substr(2*o,8))&t("7fffffff"))+"";return c=c.substr(c.length-6,6),c})(e)},rsa:m,ecdsa:function(e,t,i="p256",r,s=!1){let a=e;void 0!==r&&(a=f(e,r,"hex"));const n=new h(i);let o=n.sign(a,t,"hex",{canonical:!0}),c=new l("0");const d=new l("1").shln(248).sub(new l("1"));for(;s&&(o.r.gt(n.nh)||o.r.lte(d)||o.s.lte(d));)o=n.sign(a,t,"hex",{canonical:!0,extraEntropy:c.toArray("le",32)}),c=c.add(new l("1"));return{r:o.r.toString(16).padStart(64,"0"),s:o.s.toString(16).padStart(64,"0"),v:o.recoveryParam}}}},HB8x:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,PermissionDenied:o,InvalidOrder:c,AuthenticationError:d,InsufficientFunds:h,OrderNotFound:u,DDoSProtection:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitz",name:"Bit-Z",countries:["HK"],rateLimit:2e3,version:"v2",userAgent:this.userAgents.chrome,has:{fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrders:!0,fetchOrder:!0,createMarketOrder:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"60min","4h":"4hour","1d":"1day","5d":"5day","1w":"1week","1M":"1mon"},hostname:"apiv2.bitz.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/35862606-4f554f14-0b5d-11e8-957d-35058c504b6f.jpg",api:{market:"https://{hostname}",trade:"https://{hostname}",assets:"https://{hostname}"},www:"https://www.bitz.com",doc:"https://apidoc.bitz.com/en/",fees:"https://www.bitz.com/fee?type=1",referral:"https://u.bitz.com/register?invite_code=1429193"},api:{market:{get:["ticker","depth","order","tickerall","kline","symbolList","currencyRate","currencyCoinRate","coinRate"]},trade:{post:["addEntrustSheet","cancelEntrustSheet","cancelAllEntrustSheet","getUserHistoryEntrustSheet","getUserNowEntrustSheet","getEntrustSheetInfo","depositOrWithdraw"]},assets:{post:["getUserAssets"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:"0.5%",DKKT:"0.5%",ETH:.01,USDT:"0.5%",LTC:"0.5%",FCT:"0.5%",LSK:"0.5%",HXI:"0.8%",ZEC:"0.5%",DOGE:"0.5%",MZC:"0.5%",ETC:"0.5%",GXS:"0.5%",XPM:"0.5%",PPC:"0.5%",BLK:"0.5%",XAS:"0.5%",HSR:"0.5%",NULS:5,VOISE:350,PAY:1.5,EOS:.6,YBCT:35,OMG:.3,OTN:.4,BTX:"0.5%",QTUM:"0.5%",DASH:"0.5%",GAME:"0.5%",BCH:"0.5%",GNT:9,SSS:1500,ARK:"0.5%",PART:"0.5%",LEO:"0.5%",DGB:"0.5%",ZSC:130,VIU:350,BTG:"0.5%",ARN:10,VTC:"0.5%",BCD:"0.5%",TRX:200,HWC:"0.5%",UNIT:"0.5%",OXY:"0.5%",MCO:.35,SBTC:"0.5%",BCX:"0.5%",ETF:"0.5%",PYLNT:.4,XRB:"0.5%",ETP:"0.5%"}}},precision:{amount:8,price:8},options:{fetchOHLCVVolume:!0,fetchOHLCVWarning:!0,lastNonceTimestamp:0},commonCurrencies:{BOX:"BOX Token",XRB:"NANO",PXC:"Pixiecoin",VTC:"VoteCoin",TTC:"TimesChain"},exceptions:{"-102":s,"-103":d,"-104":n,"-105":d,"-106":n,"-109":d,"-110":l,"-111":o,"-112":n,"-100015":d,"-100044":s,"-100101":s,"-100201":s,"-100301":s,"-100401":s,"-100302":s,"-100303":s,"-200003":d,"-200005":o,"-200025":n,"-200027":c,"-200028":c,"-200029":c,"-200030":c,"-200031":h,"-200032":s,"-200033":s,"-200034":u,"-200035":u,"-200037":c,"-200038":s,"-200055":u,"-300069":d,"-300101":s,"-300102":c,"-300103":d,"-301001":n}})}async fetchMarkets(e={}){const t=await this.marketGetSymbolList(e),i=this.safeValue(t,"data"),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a],t=i[e],n=this.safeString(t,"id"),o=this.safeString(t,"coinFrom"),c=this.safeString(t,"coinTo");let d=o.toUpperCase(),h=c.toUpperCase();d=this.safeCurrencyCode(d),h=this.safeCurrencyCode(h);const u=d+"/"+h,l={amount:this.safeInteger(t,"numberFloat"),price:this.safeInteger(t,"priceFloat")};s.push({info:t,id:e,numericId:n,symbol:u,base:d,quote:h,baseId:o,quoteId:c,active:!0,precision:l,limits:{amount:{min:this.safeFloat(t,"minTrade"),max:this.safeFloat(t,"maxTrade")},price:{min:Math.pow(10,-l.price),max:void 0},cost:{min:void 0,max:void 0}}})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.assetsPostGetUserAssets(e),i=this.safeValue(t.data,"info"),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),a=this.safeCurrencyCode(t),n=this.account();n.used=this.safeFloat(e,"lock"),n.total=this.safeFloat(e,"num"),n.free=this.safeFloat(e,"over"),r[a]=n}return this.parseBalance(r)}parseTicker(e,t){let i=void 0;if(void 0===t){const i=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,i)}void 0!==t&&(i=t.symbol);const r=this.safeFloat(e,"now"),s=this.safeFloat(e,"open");let a=void 0,n=void 0;return void 0!==r&&void 0!==s&&(a=r-s,n=this.sum(r,s)/2),{symbol:i,timestamp:void 0,datetime:this.iso8601(void 0),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidPrice"),bidVolume:this.safeFloat(e,"bidQty"),ask:this.safeFloat(e,"askPrice"),askVolume:this.safeFloat(e,"askQty"),vwap:void 0,open:s,close:r,last:r,previousClose:void 0,change:a,percentage:this.safeFloat(e,"priceChange24h"),average:n,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}parseMicrotime(e){if(void 0===e)return e;const t=e.split(" "),i=parseFloat(t[0]),r=parseInt(t[1]),s=this.sum(r,i);return parseInt(1e3*s)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetTicker(this.extend(r,t)),a=this.parseTicker(s.data,i),n=this.parseMicrotime(this.safeString(s,"microtime"));return this.extend(a,{timestamp:n,datetime:this.iso8601(n)})}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.symbols=t.join(",")}const r=await this.marketGetTickerall(this.extend(i,t)),s=this.safeValue(r,"data"),a=this.parseMicrotime(this.safeString(r,"microtime")),n={},o=Object.keys(s);for(let c=0;c<o.length;c++){const e=o[c];let t=s[e],i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e]),t=this.parseTicker(s[e],i);let r=t.symbol;if(void 0===r)if(void 0!==i)r=i.symbol;else{const[t,i]=e.split("_");r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}void 0!==r&&(n[r]=this.extend(t,{timestamp:a,datetime:this.iso8601(a)}))}return n}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.marketGetDepth(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.parseMicrotime(this.safeString(s,"microtime"));return this.parseOrderBook(a,n)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"T");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeFloat(e,"p"),n=this.safeFloat(e,"n");let o=void 0;void 0!==a&&void 0!==n&&(o=this.priceToPrecision(s,n*a));const c=this.safeString(e,"s");return{timestamp:r,datetime:this.iso8601(r),symbol:s,id:i,order:void 0,type:"limit",side:c,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.marketGetOrder(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,a={}){await this.loadMarkets();const n=1e3*this.parseTimeframe(t),o=this.market(e),c={symbol:o.id,resolution:this.timeframes[t]};if(void 0!==r)c.size=Math.min(r,300),void 0!==i&&(c.to=this.sum(i,r*n*1e3));else if(void 0!==i)throw new s(this.id+" fetchOHLCV requires a limit argument if the since argument is specified");const d=await this.marketGetKline(this.extend(c,a)),h=this.safeValue(d.data,"bars",void 0);return void 0===h?[]:this.parseOHLCVs(h,o,t,i,r)}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0;if(void 0===t){const i=this.safeString(e,"coinFrom"),s=this.safeString(e,"coinTo");if(void 0!==i&&void 0!==s){const e=i+"_"+s;if(e in this.markets_by_id)t=this.safeValue(this.markets_by_id,e);else{r=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(s)}}}void 0!==t&&(r=t.symbol);let s=this.safeString(e,"flag");void 0!==s&&(s="sale"===s?"sell":"buy");const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"number"),o=this.safeFloat(e,"numberOver"),c=this.safeFloat(e,"numberDeal");let d=this.safeInteger(e,"timestamp");void 0===d&&(d=this.safeTimestamp(e,"created"));let h=this.safeFloat(e,"orderTotalPrice");void 0!==a&&void 0!==c&&(h=c*a);const u=this.parseOrderStatus(this.safeString(e,"status"));return{id:i,datetime:this.iso8601(d),timestamp:d,lastTradeTimestamp:void 0,status:u,symbol:r,type:"limit",side:s,price:a,cost:h,amount:n,filled:c,remaining:o,trades:void 0,fee:void 0,info:e}}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" createOrder allows limit orders only");const o=this.market(e),c="buy"===i?"1":"2";if(!this.password)throw new s(this.id+' createOrder() requires you to set exchange.password = "YOUR_TRADING_PASSWORD" (a trade password is NOT THE SAME as your login password)');const d={symbol:o.id,type:c,price:this.priceToPrecision(e,a),number:this.amountToPrecision(e,r),tradePwd:this.password},h=await this.tradePostAddEntrustSheet(this.extend(d,n)),u=this.parseMicrotime(this.safeString(h,"microtime")),l=this.extend({timestamp:u},h.data);return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={entrustSheetId:e};return await this.tradePostCancelEntrustSheet(this.extend(r,i))}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={ids:e.join(",")};return await this.tradePostCancelEntrustSheet(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={entrustSheetId:e},s=await this.tradePostGetEntrustSheetInfo(this.extend(r,i));return this.parseOrder(s.data)}async fetchOrdersWithMethod(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={coinFrom:n.baseId,coinTo:n.quoteId};void 0!==r&&(o.page=1,o.pageSize=r),void 0!==i&&(o.startTime=parseInt(i/1e3));const c=await this[e](this.extend(o,s)),d=this.safeValue(c.data,"data",[]);return this.parseOrders(d,void 0,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserNowEntrustSheet",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersWithMethod("tradePostGetUserHistoryEntrustSheet",e,t,i,r)}parseTransactionStatus(e){return this.safeString({1:"pending",2:"pending",3:"pending",4:"ok",5:"canceled"},e,e)}parseTransaction(e,t){let i=this.safeInteger(e,"updated");0===i&&(i=void 0);const r=this.safeString(e,"coin"),s=this.safeCurrencyCode(r,t),a=this.safeStringLower(e,"type"),n=this.parseTransactionStatus(this.safeString(e,"status"));return{id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"wallet"),tag:this.safeString(e,"memo"),type:a,amount:this.safeFloat(e,"number"),currency:s,status:n,updated:i,fee:void 0,info:e}}parseTransactionsByType(e,t,i,r,s){const a=[];for(let n=0;n<t.length;n++){const i=this.parseTransaction(this.extend({type:e},t[n]));a.push(i)}return this.filterByCurrencySinceLimit(a,i,r,s)}parseTransactionType(e){return this.safeInteger({deposit:1,withdrawal:2},e,e)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsForType("deposit",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsForType("withdrawal",e,t,i,r)}async fetchTransactionsForType(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets();const n={coin:this.currency(t).id,type:this.parseTransactionType(e)};void 0!==i&&(n.startTime=parseInt(i/1e3).toString()),void 0!==r&&(n.page=1,n.pageSize=r);const o=await this.tradePostDepositOrWithdraw(this.extend(n,s)),c=this.safeValue(o.data,"data",[]);return this.parseTransactionsByType(e,c,t,i,r)}nonce(){const e=this.seconds();return e>this.options.lastNonceTimestamp&&(this.options.lastNonceTimestamp=e,this.options.lastNonce=1e5),this.options.lastNonce=this.sum(this.options.lastNonce,1),this.options.lastNonce}sign(e,t="market",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/"+this.capitalize(t)+"/"+e,o=void 0;return"market"===t?(o=this.urlencode(r),o.length&&(n+="?"+o)):(this.checkRequiredCredentials(),a=this.rawencode(this.keysort(this.extend({apiKey:this.apiKey,timeStamp:this.seconds(),nonce:this.nonce()},r))),a+="&sign="+this.hash(this.encode(a+this.secret)),s={"Content-type":"application/x-www-form-urlencoded"}),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"status");if(void 0!==h){const e=this.id+" "+n;if("200"===h){const t=this.safeInteger(o,"data");if(void 0!==t)throw this.throwExactlyMatchedException(this.exceptions,t,e),new s(e);return}throw this.throwExactlyMatchedException(this.exceptions,h,e),new s(e)}}}},"HE+Y":function(e,t,i){"use strict";var r=i("tk5I"),s=i("3NQs").utils.assert;e.exports=function e(t,i){if(t instanceof e)return t;s(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam}},HFei:function(e,t,i){(function(t){var r=i("2YIc").Ber,s=i("JxtV")._,a=i("JxtV");e.exports={privateExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=e.d.toBuffer(),n=e.p.toBuffer(),o=e.q.toBuffer(),c=e.dmp1.toBuffer(),d=e.dmq1.toBuffer(),h=e.coeff.toBuffer(),u=i.length+s.length+n.length+o.length+c.length+d.length+h.length+512,l=new r.Writer({size:u});return l.startSequence(),l.writeInt(0),l.writeBuffer(i,2),l.writeInt(e.e),l.writeBuffer(s,2),l.writeBuffer(n,2),l.writeBuffer(o,2),l.writeBuffer(c,2),l.writeBuffer(d,2),l.writeBuffer(h,2),l.endSequence(),"der"===t.type?l.buffer:"-----BEGIN RSA PRIVATE KEY-----\n"+a.linebrk(l.buffer.toString("base64"),64)+"\n-----END RSA PRIVATE KEY-----"},privateImport:function(e,i,n){var o;if("der"!==(n=n||{}).type){if(t.isBuffer(i)&&(i=i.toString("utf8")),!s.isString(i))throw Error("Unsupported key format");var c=a.trimSurroundingText(i,"-----BEGIN RSA PRIVATE KEY-----","-----END RSA PRIVATE KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var d=new r.Reader(o);d.readSequence(),d.readString(2,!0),e.setPrivate(d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0),d.readString(2,!0))},publicExport:function(e,t){t=t||{};var i=e.n.toBuffer(),s=i.length+512,n=new r.Writer({size:s});return n.startSequence(),n.writeBuffer(i,2),n.writeInt(e.e),n.endSequence(),"der"===t.type?n.buffer:"-----BEGIN RSA PUBLIC KEY-----\n"+a.linebrk(n.buffer.toString("base64"),64)+"\n-----END RSA PUBLIC KEY-----"},publicImport:function(e,i,n){var o;if("der"!==(n=n||{}).type){if(t.isBuffer(i)&&(i=i.toString("utf8")),s.isString(i)){var c=a.trimSurroundingText(i,"-----BEGIN RSA PUBLIC KEY-----","-----END RSA PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");o=t.from(c,"base64")}}else{if(!t.isBuffer(i))throw Error("Unsupported key format");o=i}var d=new r.Reader(o);d.readSequence(),e.setPublic(d.readString(2,!0),d.readString(2,!0))},autoImport:function(t,i){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(i)?(e.exports.privateImport(t,i),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(i)&&(e.exports.publicImport(t,i),!0)}}}).call(this,i("qykS").Buffer)},HLui:function(e,t,i){var r=i("wfEq"),s=i("KSsY"),a=i("pRMk").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function d(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function u(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,l=0;l<16;++l)i[l]=e.readInt32BE(4*l);for(;l<80;++l)i[l]=(t=i[l-3]^i[l-8]^i[l-14]^i[l-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=d(r)+u(p,s,a,o)+c+i[f]+n[p]|0;c=o,o=a,a=h(s),s=r,r=m}this._a=r+this._a|0,this._b=s+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},HNHa:function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"southxchange",name:"SouthXchange",countries:["AR"],rateLimit:1e3,has:{CORS:!0,createDepositAddress:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27838912-4f94ec8a-60f6-11e7-9e5d-bbf9bd50a559.jpg",api:"https://www.southxchange.com/api",www:"https://www.southxchange.com",doc:"https://www.southxchange.com/Home/Api"},api:{public:{get:["markets","price/{symbol}","prices","book/{symbol}","trades/{symbol}"]},private:{post:["cancelMarketOrders","cancelOrder","getOrder","generatenewaddress","listOrders","listBalances","listTransactions","placeOrder","withdraw"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.003}},commonCurrencies:{SMT:"SmartNode",MTC:"Marinecoin"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e[0],a=e[1],n=this.safeCurrencyCode(s),o=this.safeCurrencyCode(a),c=n+"/"+o,d=s+"/"+a;i.push({id:d,symbol:c,base:n,quote:o,baseId:s,quoteId:a,active:void 0,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostListBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"Currency"),a=this.safeCurrencyCode(s),n=this.safeFloat(e,"Deposited"),o=this.safeFloat(e,"Unconfirmed"),c=this.account();c.free=this.safeFloat(e,"Available"),c.total=this.sum(n,o),i[a]=c}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetBookSymbol(this.extend(r,i));return this.parseOrderBook(s,void 0,"BuyOrders","SellOrders","Price","Amount")}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"Last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"Variation24Hr"),average:void 0,baseVolume:this.safeFloat(e,"Volume24Hr"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetPrices(t),r=this.indexBy(i,"Market"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i.symbol);const o=r[e];a[t]=this.parseTicker(o,i)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetPriceSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"At"),r=this.safeFloat(e,"Price"),s=this.safeFloat(e,"Amount");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);const n=this.safeString(e,"Type");let o=void 0;return void 0!==t&&(o=t.symbol),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,id:void 0,order:void 0,type:void 0,side:n,price:r,takerOrMaker:void 0,amount:s,cost:a,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetTradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrder(e,t){const i=this.safeString(e,"ListingCurrency"),r=this.safeString(e,"ReferenceCurrency"),s=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r),a=this.safeFloat(e,"LimitPrice"),n=this.safeFloat(e,"OriginalAmount"),o=this.safeFloat(e,"Amount");let c=void 0,d=void 0;void 0!==n&&(d=a*n,void 0!==o&&(c=n-o));const h=this.safeStringLower(e,"Type");return{info:e,id:this.safeString(e,"Code"),timestamp:void 0,datetime:this.iso8601(void 0),lastTradeTimestamp:void 0,symbol:s,type:"limit",side:h,price:a,amount:n,cost:d,filled:c,remaining:o,status:"open",fee:void 0}}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a=await this.privatePostListOrders(r);return this.parseOrders(a,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={listingCurrency:n.base,referenceCurrency:n.quote,type:i,amount:r};"limit"===t&&(o.limitPrice=s);const c=await this.privatePostPlaceOrder(this.extend(o,a));return{info:c,id:c.toString()}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderCode:e};return await this.privatePostCancelOrder(this.extend(r,i))}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostGeneratenewaddress(this.extend(i,t)),s=r.split("|"),a=s.length,n=s[0];this.checkAddress(n);let o=void 0;return a>1&&(o=s[1]),{currency:e,address:n,tag:o,info:r}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,address:i,amount:t};return void 0!==r&&(a.address=i+"|"+r),{info:await this.privatePostWithdraw(this.extend(a,s)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){const n=this.urls.api+"/"+this.implodeParams(e,r);let o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.nonce();o=this.extend({key:this.apiKey,nonce:e},o),a=this.json(o),s={"Content-Type":"application/json",Hash:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}}},HUZ1:function(e,t,i){var r=i("1JWd"),s=i("QxbU");e.exports=function(e,t,i){var a=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||r)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var o=0;o<16;++o)t[a+o]=n[o];return t||s(n)}},HbDv:function(e,t,i){"use strict";var r=i("HpGB"),s=i("DDMh"),a=i("siiD"),n=r.rotr64_hi,o=r.rotr64_lo,c=r.shr64_hi,d=r.shr64_lo,h=r.sum64,u=r.sum64_hi,l=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,y=r.sum64_5_lo,b=s.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,i,r,s){var a=e&i^~e&s;return a<0&&(a+=4294967296),a}function k(e,t,i,r,s,a){var n=t&r^~t&a;return n<0&&(n+=4294967296),n}function _(e,t,i,r,s){var a=e&i^e&s^i&s;return a<0&&(a+=4294967296),a}function T(e,t,i,r,s,a){var n=t&r^t&a^r&a;return n<0&&(n+=4294967296),n}function S(e,t){var i=n(e,t,28)^n(t,e,2)^n(t,e,7);return i<0&&(i+=4294967296),i}function x(e,t){var i=o(e,t,28)^o(t,e,2)^o(t,e,7);return i<0&&(i+=4294967296),i}function O(e,t){var i=n(e,t,14)^n(e,t,18)^n(t,e,9);return i<0&&(i+=4294967296),i}function C(e,t){var i=o(e,t,14)^o(e,t,18)^o(t,e,9);return i<0&&(i+=4294967296),i}function M(e,t){var i=n(e,t,1)^n(e,t,8)^c(e,t,7);return i<0&&(i+=4294967296),i}function A(e,t){var i=o(e,t,1)^o(e,t,8)^d(e,t,7);return i<0&&(i+=4294967296),i}function E(e,t){var i=n(e,t,19)^n(t,e,29)^c(e,t,6);return i<0&&(i+=4294967296),i}function I(e,t){var i=o(e,t,19)^o(t,e,29)^d(e,t,6);return i<0&&(i+=4294967296),i}r.inherits(g,b),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var i=this.W,r=0;r<32;r++)i[r]=e[t+r];for(;r<i.length;r+=2){var s=E(i[r-4],i[r-3]),a=I(i[r-4],i[r-3]),n=i[r-14],o=i[r-13],c=M(i[r-30],i[r-29]),d=A(i[r-30],i[r-29]),h=i[r-32],u=i[r-31];i[r]=f(s,a,n,o,c,d,h,u),i[r+1]=p(s,a,n,o,c,d,h,u)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,r=this.h[0],s=this.h[1],n=this.h[2],o=this.h[3],c=this.h[4],d=this.h[5],f=this.h[6],p=this.h[7],b=this.h[8],v=this.h[9],g=this.h[10],M=this.h[11],A=this.h[12],E=this.h[13],I=this.h[14],B=this.h[15];a(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var P=I,R=B,q=O(b,v),L=C(b,v),D=w(b,v,g,M,A),N=k(b,v,g,M,A,E),U=this.k[F],V=this.k[F+1],G=i[F],j=i[F+1],H=m(P,R,q,L,D,N,U,V,G,j),K=y(P,R,q,L,D,N,U,V,G,j);P=S(r,s),R=x(r,s),q=_(r,s,n,o,c),L=T(r,s,n,o,c,d);var z=u(P,R,q,L),W=l(P,R,q,L);I=A,B=E,A=g,E=M,g=b,M=v,b=u(f,p,H,K),v=l(p,p,H,K),f=c,p=d,c=n,d=o,n=r,o=s,r=u(H,K,z,W),s=l(H,K,z,W)}h(this.h,0,r,s),h(this.h,2,n,o),h(this.h,4,c,d),h(this.h,6,f,p),h(this.h,8,b,v),h(this.h,10,g,M),h(this.h,12,A,E),h(this.h,14,I,B)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},HfSF:function(e,t,i){var r=i("8kJ5"),s=i("pRMk").Buffer;e.exports=function(e,t){return s.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},HntW:function(e,t,i){"use strict";const r=i("YBGL");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitkk",name:"bitkk",comment:"a Chinese ZB clone",urls:{api:{public:"http://api.bitkk.com/data",private:"https://trade.bitkk.com/api"},www:"https://www.bitkk.com",doc:"https://www.bitkk.com/i/developer",fees:"https://www.bitkk.com/i/rate"}})}}},HpGB:function(e,t,i){"use strict";var r=i("siiD"),s=i("wfEq");function a(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=s,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),s=0;s<e.length;s+=2)i.push(parseInt(e[s]+e[s+1],16))}else for(var r=0,s=0;s<e.length;s++){var n=e.charCodeAt(s);n<128?i[r++]=n:n<2048?(i[r++]=n>>6|192,i[r++]=63&n|128):a(e,s)?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++s)),i[r++]=n>>18|240,i[r++]=n>>12&63|128,i[r++]=n>>6&63|128,i[r++]=63&n|128):(i[r++]=n>>12|224,i[r++]=n>>6&63|128,i[r++]=63&n|128)}else for(s=0;s<e.length;s++)i[s]=0|e[s];return i},t.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=o(e[i].toString(16));return t},t.htonl=n,t.toHex32=function(e,t){for(var i="",r=0;r<e.length;r++){var s=e[r];"little"===t&&(s=n(s)),i+=c(s.toString(16))}return i},t.zero2=o,t.zero8=c,t.join32=function(e,t,i,s){var a=i-t;r(a%4===0);for(var n=new Array(a/4),o=0,c=t;o<n.length;o++,c+=4){var d;d="big"===s?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],n[o]=d>>>0}return n},t.split32=function(e,t){for(var i=new Array(4*e.length),r=0,s=0;r<e.length;r++,s+=4){var a=e[r];"big"===t?(i[s]=a>>>24,i[s+1]=a>>>16&255,i[s+2]=a>>>8&255,i[s+3]=255&a):(i[s+3]=a>>>24,i[s+2]=a>>>16&255,i[s+1]=a>>>8&255,i[s]=255&a)}return i},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,i){return e+t+i>>>0},t.sum32_4=function(e,t,i,r){return e+t+i+r>>>0},t.sum32_5=function(e,t,i,r,s){return e+t+i+r+s>>>0},t.sum64=function(e,t,i,r){var s=e[t],a=r+e[t+1]>>>0,n=(a<r?1:0)+i+s;e[t]=n>>>0,e[t+1]=a},t.sum64_hi=function(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0},t.sum64_lo=function(e,t,i,r){return t+r>>>0},t.sum64_4_hi=function(e,t,i,r,s,a,n,o){var c=0,d=t;return c+=(d=d+r>>>0)<t?1:0,c+=(d=d+a>>>0)<a?1:0,e+i+s+n+(c+=(d=d+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,i,r,s,a,n,o){return t+r+a+o>>>0},t.sum64_5_hi=function(e,t,i,r,s,a,n,o,c,d){var h=0,u=t;return h+=(u=u+r>>>0)<t?1:0,h+=(u=u+a>>>0)<a?1:0,h+=(u=u+o>>>0)<o?1:0,e+i+s+n+c+(h+=(u=u+d>>>0)<d?1:0)>>>0},t.sum64_5_lo=function(e,t,i,r,s,a,n,o,c,d){return t+r+a+o+d>>>0},t.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},t.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},t.shr64_hi=function(e,t,i){return e>>>i},t.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},HrKg:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},"HtD+":function(e,t,i){"use strict";var r=i("PoH+"),s=i("RmdU"),a=i("/mWR"),n=i("w+uW").subscriptions,o=i("9eKw"),c=i("WZyW"),d=i("owCW"),h=i("MeJq"),u=i("OUq3"),l=i("Fq6B"),f=i("7N3v"),p=i("o4e8"),m=i("OFZ7"),y=i("xL3g"),b=a.formatters,v=function(e){return r.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},g=function(e){return r.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},w=function(e){return r.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},k=function(e){return r.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},_=function(e){return r.isString(e[0])&&0===e[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"},T=function(){var e=this;s.packageInit(this,arguments);var t=this.setProvider;this.setProvider=function(){t.apply(e,arguments),e.net.setProvider.apply(e,arguments),e.personal.setProvider.apply(e,arguments),e.accounts.setProvider.apply(e,arguments),e.Contract.setProvider(e.currentProvider,e.accounts)};var i,a,T,S=!1,x=null,O="latest",C=50,M=24,A=750;Object.defineProperty(this,"handleRevert",{get:function(){return S},set:function(t){S=t,e.Contract.handleRevert=S,B.forEach((function(e){e.handleRevert=S}))},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return T},set:function(t){T=t,e.Contract.defaultCommon=T,B.forEach((function(e){e.defaultCommon=T}))},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return a},set:function(t){a=t,e.Contract.defaultHardfork=a,B.forEach((function(e){e.defaultHardfork=a}))},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return i},set:function(t){i=t,e.Contract.defaultChain=i,B.forEach((function(e){e.defaultChain=i}))},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return A},set:function(t){A=t,e.Contract.transactionPollingTimeout=A,B.forEach((function(e){e.transactionPollingTimeout=A}))},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return M},set:function(t){M=t,e.Contract.transactionConfirmationBlocks=M,B.forEach((function(e){e.transactionConfirmationBlocks=M}))},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return C},set:function(t){C=t,e.Contract.transactionBlockTimeout=C,B.forEach((function(e){e.transactionBlockTimeout=C}))},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return x},set:function(t){return t&&(x=c.toChecksumAddress(b.inputAddressFormatter(t))),e.Contract.defaultAccount=x,e.personal.defaultAccount=x,B.forEach((function(e){e.defaultAccount=x})),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return O},set:function(t){return O=t,e.Contract.defaultBlock=O,e.personal.defaultBlock=O,B.forEach((function(e){e.defaultBlock=O})),t},enumerable:!0}),this.clearSubscriptions=e._requestManager.clearSubscriptions,this.net=new d(this.currentProvider),this.net.getNetworkType=y.bind(this),this.accounts=new p(this.currentProvider),this.personal=new u(this.currentProvider),this.personal.defaultAccount=this.defaultAccount;var E=this,I=function(){l.apply(this,arguments);var e=this,t=E.setProvider;E.setProvider=function(){t.apply(E,arguments),s.packageInit(e,[E.currentProvider])}};I.setProvider=function(){l.setProvider.apply(this,arguments)},I.prototype=Object.create(l.prototype),I.prototype.constructor=I,this.Contract=I,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.transactionBlockTimeout=this.transactionBlockTimeout,this.Contract.transactionConfirmationBlocks=this.transactionConfirmationBlocks,this.Contract.transactionPollingTimeout=this.transactionPollingTimeout,this.Contract.handleRevert=this.handleRevert,this.Contract.setProvider(this.currentProvider,this.accounts),this.Iban=f,this.abi=m,this.ens=new h(this);var B=[new o({name:"getNodeInfo",call:"web3_clientVersion"}),new o({name:"getProtocolVersion",call:"eth_protocolVersion",params:0}),new o({name:"getCoinbase",call:"eth_coinbase",params:0}),new o({name:"isMining",call:"eth_mining",params:0}),new o({name:"getHashrate",call:"eth_hashrate",params:0,outputFormatter:c.hexToNumber}),new o({name:"isSyncing",call:"eth_syncing",params:0,outputFormatter:b.outputSyncingFormatter}),new o({name:"getGasPrice",call:"eth_gasPrice",params:0,outputFormatter:b.outputBigNumberFormatter}),new o({name:"getAccounts",call:"eth_accounts",params:0,outputFormatter:c.toChecksumAddress}),new o({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:c.hexToNumber}),new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:b.outputBigNumberFormatter}),new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[b.inputAddressFormatter,c.numberToHex,b.inputDefaultBlockNumberFormatter]}),new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter]}),new o({name:"getBlock",call:v,params:2,inputFormatter:[b.inputBlockNumberFormatter,function(e){return!!e}],outputFormatter:b.outputBlockFormatter}),new o({name:"getUncle",call:w,params:2,inputFormatter:[b.inputBlockNumberFormatter,c.numberToHex],outputFormatter:b.outputBlockFormatter}),new o({name:"getBlockTransactionCount",call:k,params:1,inputFormatter:[b.inputBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"getBlockUncleCount",call:_,params:1,inputFormatter:[b.inputBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:b.outputTransactionFormatter}),new o({name:"getTransactionFromBlock",call:g,params:2,inputFormatter:[b.inputBlockNumberFormatter,c.numberToHex],outputFormatter:b.outputTransactionFormatter}),new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:b.outputTransactionReceiptFormatter}),new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[b.inputAddressFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:c.hexToNumber}),new o({name:"sendSignedTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[b.inputTransactionFormatter]}),new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[b.inputTransactionFormatter],abiCoder:m}),new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[b.inputSignFormatter,b.inputAddressFormatter],transformPayload:function(e){return e.params.reverse(),e}}),new o({name:"call",call:"eth_call",params:2,inputFormatter:[b.inputCallFormatter,b.inputDefaultBlockNumberFormatter],abiCoder:m}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[b.inputCallFormatter],outputFormatter:c.hexToNumber}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0}),new o({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[b.inputLogFormatter],outputFormatter:b.outputLogFormatter}),new o({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:c.hexToNumber}),new o({name:"requestAccounts",call:"eth_requestAccounts",params:0,outputFormatter:c.toChecksumAddress}),new o({name:"getProof",call:"eth_getProof",params:3,inputFormatter:[b.inputAddressFormatter,b.inputStorageKeysFormatter,b.inputDefaultBlockNumberFormatter],outputFormatter:b.outputProofFormatter}),new o({name:"getPendingTransactions",call:"eth_pendingTransactions",params:0,outputFormatter:b.outputTransactionFormatter}),new n({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:b.outputBlockFormatter},pendingTransactions:{subscriptionName:"newPendingTransactions",params:0},logs:{params:1,inputFormatter:[b.inputLogFormatter],outputFormatter:b.outputLogFormatter,subscriptionHandler:function(e){e.removed?this.emit("changed",e):this.emit("data",e),r.isFunction(this.callback)&&this.callback(null,e,this)}},syncing:{params:0,outputFormatter:b.outputSyncingFormatter,subscriptionHandler:function(e){var t=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit("changed",t._isSyncing),r.isFunction(this.callback)&&this.callback(null,t._isSyncing,this),setTimeout((function(){t.emit("data",e),r.isFunction(t.callback)&&t.callback(null,e,t)}),0)):(this.emit("data",e),r.isFunction(t.callback)&&this.callback(null,e,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout((function(){e.currentBlock>e.highestBlock-200&&(t._isSyncing=!1,t.emit("changed",t._isSyncing),r.isFunction(t.callback)&&t.callback(null,t._isSyncing,t))}),500))}}}})];B.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager,e.accounts),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount,t.transactionBlockTimeout=e.transactionBlockTimeout,t.transactionConfirmationBlocks=e.transactionConfirmationBlocks,t.transactionPollingTimeout=e.transactionPollingTimeout,t.handleRevert=e.handleRevert}))};s.addProviders(T),e.exports=T},HtTd:function(e){e.exports=JSON.parse('{"name":"tangerineWhistle","comment":"Hardfork with gas cost changes for IO-heavy operations","eip":{"url":"https://eips.ethereum.org/EIPS/eip-608","status":"Final"},"gasConfig":{},"gasPrices":{"sload":{"v":200,"d":"Once per SLOAD operation"},"call":{"v":700,"d":"Once per CALL operation & message call transaction"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},Hy3L:function(e,t,i){"use strict";var r=String.prototype.replace,s=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,s,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},IArH:function(e,t,i){"use strict";var r=i("X7EK"),s=i("x9yg"),a=i("5+rW");function n(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function o(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var i=function(e){var t;switch(e.arrayFormat){case"index":return function(e,i,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=i):r[e]=i};case"bracket":return function(e,i,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],i):r[e]=[i]:r[e]=i};default:return function(e,t,i){void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=t}}}(t=s({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),s=t.shift(),n=t.length>0?t.join("="):void 0;n=void 0===n?null:a(n),i(a(s),n,r)})),Object.keys(r).sort().reduce((function(e,t){var i=r[t];return Boolean(i)&&"object"===typeof i&&!Array.isArray(i)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(i):e[t]=i,e}),Object.create(null))):r}t.extract=o,t.parse=c,t.stringify=function(e,t){!1===(t=s({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var i=function(e){switch(e.arrayFormat){case"index":return function(t,i,r){return null===i?[n(t,e),"[",r,"]"].join(""):[n(t,e),"[",n(r,e),"]=",n(i,e)].join("")};case"bracket":return function(t,i){return null===i?n(t,e):[n(t,e),"[]=",n(i,e)].join("")};default:return function(t,i){return null===i?n(t,e):[n(t,e),"=",n(i,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var s=e[r];if(void 0===s)return"";if(null===s)return n(r,t);if(Array.isArray(s)){var a=[];return s.slice().forEach((function(e){void 0!==e&&a.push(i(r,e,a.length))})),a.join("&")}return n(r,t)+"="+n(s,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(o(e),t)}}},IBUX:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("ZERR"),s=i("e0KM"),a=i("4kqU"),n=i("8kJ5"),o=i("BbEw"),c=i("TJ1y");t.zeroAddress=function(){var e=o.zeros(20);return o.bufferToHex(e)},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===o.addHexPrefix(e)},t.toChecksumAddress=function(e,t){e=s.stripHexPrefix(e).toLowerCase();for(var i=void 0!==t?t.toString()+"0x":"",r=c.keccak(i+e).toString("hex"),a="0x",n=0;n<e.length;n++)parseInt(r[n],16)>=8?a+=e[n].toUpperCase():a+=e[n];return a},t.isValidChecksumAddress=function(e,i){return t.isValidAddress(e)&&t.toChecksumAddress(e,i)===e},t.generateAddress=function(t,i){t=o.toBuffer(t);var r=new n(i);return r.isZero()?c.rlphash([t,null]).slice(-20):c.rlphash([t,e.from(r.toArray())]).slice(-20)},t.generateAddress2=function(t,i,s){var a=o.toBuffer(t),n=o.toBuffer(i),d=o.toBuffer(s);return r(20===a.length),r(32===n.length),c.keccak256(e.concat([e.from("ff","hex"),a,n,c.keccak256(d)])).slice(-20)},t.isPrecompiled=function(e){var t=o.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},t.isValidPrivate=function(e){return a.privateKeyVerify(e)},t.isValidPublic=function(t,i){return void 0===i&&(i=!1),64===t.length?a.publicKeyVerify(e.concat([e.from([4]),t])):!!i&&a.publicKeyVerify(t)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=o.toBuffer(e),t&&64!==e.length&&(e=a.publicKeyConvert(e,!1).slice(1)),r(64===e.length),c.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return e=o.toBuffer(e),a.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=o.toBuffer(e)).length&&(e=a.publicKeyConvert(e,!1).slice(1)),e}}).call(this,i("qykS").Buffer)},IPtZ:function(e,t,i){"use strict";var r=i("XKyj").Buffer,s=i(5);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,i,s,a=r.allocUnsafe(e>>>0),n=this.head,o=0;n;)t=n.data,i=a,s=o,t.copy(i,s),o+=n.data.length,n=n.next;return a},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},Ih9J:function(e,t,i){var r=i("MIvV"),s=i("Irje"),a=i("w8x0");t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=s.createDecipher,t.createDecipheriv=t.Decipheriv=s.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(a)}},IjNm:function(e,t,i){"use strict";var r=i("tk5I"),s=i("02Wl"),a=i("3NQs"),n=a.utils.assert,o=i("gVbT"),c=i("HE+Y");function d(e){if(!(this instanceof d))return new d(e);"string"===typeof e&&(n(a.curves.hasOwnProperty(e),"Unknown curve "+e),e=a.curves[e]),e instanceof a.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new o(this,e)},d.prototype.keyFromPrivate=function(e,t){return o.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return o.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new s({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||null,entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new r(2));;){var n=new r(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}},d.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,i,a){"object"===typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),d=e.toArray("be",n),h=new s({hash:this.hash,entropy:a.extraEntropy?o.concat(a.extraEntropy):o,nonce:d,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new r(1)),l=0;;l++){var f=a.k?a.k(l):new r(h.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var b=f.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return a.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new c({r:y,s:b,recoveryParam:v})}}}}}},d.prototype.verify=function(e,t,i,s){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,s);var a=(t=new c(t,"hex")).r,n=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var o,d=n.invm(this.n),h=d.mul(e).umod(this.n),u=d.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,i.getPublic(),u)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(h,i.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},d.prototype.recoverPubKey=function(e,t,i,s){n((3&i)===i,"The recovery param is more than two bits"),t=new c(t,s);var a=this.n,o=new r(e),d=t.r,h=t.s,u=1&i,l=i>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");d=l?this.curve.pointFromX(d.add(this.curve.n),u):this.curve.pointFromX(d,u);var f=t.r.invm(a),p=a.sub(o).mul(f).umod(a),m=h.mul(f).umod(a);return this.g.mulAdd(p,d,m)},d.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new c(t,r)).recoveryParam)return t.recoveryParam;for(var s=0;s<4;s++){var a;try{a=this.recoverPubKey(e,t,s)}catch(e){continue}if(a.eq(i))return s}throw new Error("Unable to find valid recovery factor")}},"Imh/":function(e,t,i){var r=i("wfEq"),s=i("45vN").Reporter,a=i("qykS").Buffer;function n(e,t){s.call(this,t),a.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof o||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(n,s),t.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},n.prototype.restore=function(e){var t=new n(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new n(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=o,o.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach((function(i){i.join(e,t),t+=i.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},Irje:function(e,t,i){var r=i("xeyG"),s=i("pRMk").Buffer,a=i("89XF"),n=i("6rtq"),o=i("ql4I"),c=i("8gph"),d=i("peDq");function h(e,t,i){o.call(this),this._cache=new u,this._last=void 0,this._cipher=new c.AES(t),this._prev=s.from(i),this._mode=e,this._autopadding=!0}function u(){this.cache=s.allocUnsafe(0)}function l(e,t,i){var o=a[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"===typeof i&&(i=s.from(i)),"GCM"!==o.mode&&i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);if("string"===typeof t&&(t=s.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new n(o.module,t,i,!0):"auth"===o.type?new r(o.module,t,i,!0):new h(o.module,t,i)}i("wfEq")(h,o),h.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return s.concat(r)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var i=-1;for(;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=s.concat([this.cache,e])},u.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=d(t,!1,i.key,i.iv);return l(e,r.key,r.iv)},t.createDecipheriv=l},JAg6:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=i("LOya"),a=i("6taF"),n=i("qykS"),o=new s.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),c=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else{var i=t.chain?t.chain:"mainnet",r=t.hardfork?t.hardfork:"petersburg";this._common=new a.default(i,r)}var o=[{name:"nonce",length:32,allowLess:!0,default:new n.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new n.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new n.Buffer([])},{name:"to",allowZero:!0,length:20,default:new n.Buffer([])},{name:"value",length:32,allowLess:!0,default:new n.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new n.Buffer([])},{name:"v",allowZero:!0,default:new n.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new n.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new n.Buffer([])}];s.defineProperties(this,o,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([s.toBuffer(this.getChainId()),s.stripZeros(s.toBuffer(0)),s.stripZeros(s.toBuffer(0))]):this.raw.slice(0,6),s.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=s.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new s.BN(this.s).cmp(o))return!1;try{var t=s.bufferToInt(this.v),i=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=s.ecrecover(e,t,this.r,this.s,i?this.getChainId():void 0)}catch(r){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new n.Buffer([]),this.s=new n.Buffer([]),this.r=new n.Buffer([]);var t=this.hash(!1),i=s.ecsign(t,e);this._implementsEIP155()&&(i.v+=2*this.getChainId()+8),Object.assign(this,i)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new s.BN(0),i=0;i<e.length;i++)0===e[i]?t.iaddn(this._common.param("gasPrices","txDataZero")):t.iaddn(this._common.param("gasPrices","txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new s.BN(this.gasLimit).imul(new s.BN(this.gasPrice)).iadd(new s.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new s.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return s.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=s.bufferToInt(e);if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",r({},t,{set:function(i){void 0!==i&&e._validateV(s.toBuffer(i)),t.set(i)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=s.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();t.default=c},JMNx:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,InvalidNonce:n,OrderNotFound:o,InvalidOrder:c,InsufficientFunds:d,AuthenticationError:h,DDoSProtection:u,NotSupported:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"liquid",name:"Liquid",countries:["JP","CN","TW"],version:"2",rateLimit:1e3,has:{CORS:!1,fetchCurrencies:!0,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/45798859-1a872600-bcb4-11e8-8746-69291ce87b04.jpg",api:"https://api.liquid.com",www:"https://www.liquid.com",doc:["https://developers.liquid.com"],fees:"https://help.liquid.com/getting-started-with-liquid/the-platform/fee-structure",referral:"https://www.liquid.com?affiliate=SbzC62lt30976"},api:{public:{get:["currencies","products","products/{id}","products/{id}/price_levels","executions","ir_ladders/{currency}","fees"]},private:{get:["accounts/balance","accounts/main_asset","accounts/{id}","accounts/{currency}/reserved_balance_details","crypto_accounts","crypto_withdrawals","executions/me","fiat_accounts","fund_infos","loan_bids","loans","orders","orders/{id}","orders/{id}/trades","trades","trades/{id}/loans","trading_accounts","trading_accounts/{id}","transactions","withdrawals"],post:["crypto_withdrawals","fund_infos","fiat_accounts","loan_bids","orders","withdrawals"],put:["crypto_withdrawal/{id}/cancel","loan_bids/{id}/close","loans/{id}","orders/{id}","orders/{id}/cancel","trades/{id}","trades/{id}/adjust_margin","trades/{id}/close","trades/close_all","trading_accounts/{id}","withdrawals/{id}/cancel"]}},exceptions:{"API rate limit exceeded. Please retry after 300s":u,"API Authentication failed":h,"Nonce is too small":n,"Order not found":o,"Can not update partially filled order":c,"Can not update non-live order":o,not_enough_free_balance:d,must_be_positive:c,less_than_order_size:c},commonCurrencies:{WIN:"WCOIN",HOT:"HOT Token"},options:{cancelOrderException:!0}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=e.depositable&&e.withdrawable,o=this.safeInteger(e,"display_precision"),c=this.safeInteger(e,"quoting_precision"),d=Math.max(o,c);i[a]={id:s,code:a,info:e,name:a,active:n,fee:this.safeFloat(e,"withdrawal_fee"),precision:d,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},price:{min:Math.pow(10,-c),max:Math.pow(10,c)},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(e,"minimum_withdrawal"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(),i=await this.fetchCurrencies(),r=this.indexBy(i,"code"),s=[];for(let a=0;a<t.length;a++){const e=t[a],i=e.id.toString(),n=e.base_currency,o=e.quoted_currency,c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeFloat(e,"maker_fee"),l=this.safeFloat(e,"taker_fee"),f=!e.disabled,p=this.safeValue(r,c),m=this.safeValue(r,d),y={amount:8,price:8};let b=void 0;void 0!==p&&(b=this.safeFloat(p.info,"minimum_order_quantity"));let v=void 0;void 0!==m&&(y.price=this.safeInteger(m.info,"quoting_precision"),v=Math.pow(10,-y.price));let g=void 0;void 0!==v&&void 0!==b&&(g=v*b);const w={amount:{min:b,max:void 0},price:{min:v,max:void 0},cost:{min:g,max:void 0}};s.push({id:i,symbol:h,base:c,quote:d,baseId:n,quoteId:o,maker:u,taker:l,limits:w,precision:y,active:f,info:e})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeFloat(e,"balance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetProductsIdPriceLevels(this.extend(r,i));return this.parseOrderBook(s,void 0,"buy_price_levels","sell_price_levels")}parseTicker(e,t){const i=this.milliseconds();let r=void 0;if("last_traded_price"in e&&e.last_traded_price){e.last_traded_price.length>0&&(r=this.safeFloat(e,"last_traded_price"))}let s=void 0;if(void 0===t){const i=this.safeString(e,"id");if(i in this.markets_by_id)t=this.markets_by_id[i];else{const i=this.safeString(e,"base_currency"),r=this.safeString(e,"quoted_currency");s in this.markets?t=this.markets[s]:s=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}}void 0!==t&&(s=t.symbol);let a=void 0,n=void 0,o=void 0;const c=this.safeFloat(e,"last_price_24h");return void 0!==c&&void 0!==r&&(a=r-c,o=this.sum(r,c)/2,c>0&&(n=a/c*100)),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high_market_ask"),low:this.safeFloat(e,"low_market_bid"),bid:this.safeFloat(e,"market_bid"),bidVolume:void 0,ask:this.safeFloat(e,"market_ask"),askVolume:void 0,vwap:void 0,open:c,close:r,last:r,previousClose:void 0,change:a,percentage:n,average:o,baseVolume:this.safeFloat(e,"volume_24h"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetProducts(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]);r[e.symbol]=e}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetProductsId(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at"),r=this.safeString(e,"order_id"),s=this.safeString(e,"taker_side"),a=this.safeString(e,"my_side"),n=void 0!==a?a:s;let o=void 0;void 0!==a&&(o=s===a?"taker":"maker");let c=void 0;const d=this.safeFloat(e,"price"),h=this.safeFloat(e,"quantity");return void 0!==d&&void 0!==h&&(c=d*h),{info:e,id:this.safeString(e,"id"),order:r,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,type:void 0,side:n,takerOrMaker:o,price:d,amount:h,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_id:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.publicGetExecutions(this.extend(a,r)),o=void 0!==t?n:n.models;return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_id:s.id,with_details:!0};void 0!==i&&(a.limit=i);const n=await this.privateGetExecutionsMe(this.extend(a,r));return this.parseTrades(n.models,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={order_type:t,product_id:this.marketId(e),side:i,quantity:this.amountToPrecision(e,r)};"limit"===t&&(n.price=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePutOrdersIdCancel(this.extend(r,i)),a=this.parseOrder(s);if("closed"===a.status&&this.options.cancelOrderException)throw new o(this.id+" order closed already: "+this.json(s));return a}async editOrder(e,t,i,r,s,n,o={}){if(await this.loadMarkets(),void 0===n)throw new a(this.id+" editOrder requires the price argument");const c={order:{quantity:this.amountToPrecision(t,s),price:this.priceToPrecision(t,n)},id:e},d=await this.privatePutOrdersId(this.extend(c,o));return this.parseOrder(d)}parseOrderStatus(e){return this.safeString({live:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"created_at"),s=this.safeString(e,"product_id");t=this.safeValue(this.markets_by_id,s);const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.safeFloat(e,"quantity");let o=this.safeFloat(e,"filled_quantity");const c=this.safeFloat(e,"price");let d=void 0,h=void 0;void 0!==t&&(d=t.symbol,h=t.quote);const u=this.safeString(e,"order_type");let l=0,f=0,p=this.safeFloat(e,"average_price");const m=this.parseTrades(this.safeValue(e,"executions",[]),t,void 0,void 0,{order:i,type:u}),y=m.length;for(let k=0;k<y;k++){const e=m[k];e.order=i,e.type=u,f=this.sum(f,e.amount),l=this.sum(l,e.cost)}let b=void 0,v=void 0;y>0&&(v=m[y-1].timestamp,!p&&f>0&&(p=l/f),void 0===b&&(b=l),void 0===o&&(o=f));let g=void 0;void 0!==n&&void 0!==o&&(g=n-o);const w=this.safeString(e,"side");return{id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:v,type:u,status:a,symbol:d,side:w,price:c,amount:n,filled:o,cost:b,remaining:g,average:p,trades:m,fee:{currency:h,cost:this.safeFloat(e,"order_fee")},info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={with_details:1};void 0!==e&&(s=this.market(e),a.product_id=s.id),void 0!==i&&(a.limit=i);const n=await this.privateGetOrders(this.extend(a,r)),o=this.safeValue(n,"models",[]);return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"live"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"filled"},r))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency:a.id,address:i,amount:this.currencyToPrecision(e,t)};if(void 0!==r)if("XRP"===e)n.payment_id=r;else{if("XLM"!==e)throw new l(this.id+" withdraw() only supports a tag along the address for XRP or XLM");n.memo_type="text",n.memo_value=r}const o=await this.privatePostCryptoWithdrawals(this.extend(n,s));return this.parseTransaction(o,a)}parseTransactionStatus(e){return this.safeString({pending:"pending",cancelled:"canceled",approved:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString2(e,"payment_id","memo_value"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a,t),o=this.safeTimestamp(e,"created_at"),c=this.safeTimestamp(e,"updated_at"),d=this.parseTransactionStatus(this.safeString(e,"state")),h=this.safeFloat(e,"amount");return{info:e,id:i,txid:void 0,timestamp:o,datetime:this.iso8601(o),address:r,tag:s,type:"withdrawal",amount:h,currency:n,status:d,updated:c,fee:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s={"X-Quoine-API-Version":this.version,"Content-Type":"application/json"},"private"===t){this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const e=this.nonce(),t={path:n,nonce:e,token_id:this.apiKey,iat:Math.floor(e/1e3)};s["X-Quoine-Auth"]=this.jwt(t,this.encode(this.secret))}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(e>=200&&e<300)return;if(401===e)return void this.throwExactlyMatchedException(this.exceptions,n,n);if(429===e)throw new u(this.id+" "+n);if(void 0===o)return;const h=this.id+" "+n,l=this.safeString(o,"message"),f=this.safeValue(o,"errors");if(void 0!==l)this.throwExactlyMatchedException(this.exceptions,l,h);else{if(void 0===f)throw new s(h);{const e=Object.keys(f);for(let t=0;t<e.length;t++){const i=f[e[t]];for(let e=0;e<i.length;e++){const t=i[e];this.throwExactlyMatchedException(this.exceptions,t,h)}}}}}}},JWQG:function(e,t,i){const r=i("9dER"),{checkAndInit:s,smix:a}=i("FTtf");e.exports=async function(e,t,i,n,o,c,d,h){const{XY:u,V:l,B32:f,x:p,_X:m,B:y,tickCallback:b}=s(e,t,i,n,o,c,d);for(var v=0;v<o;v++)await a(y,128*v*n,n,i,l,u,m,f,p,b,h);return r.pbkdf2Sync(e,y,1,c,"sha256")}},JhKc:function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=i("LOya"),a=i("qykS"),n=function(e){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={});var r=e.call(this,t,i)||this;Object.defineProperty(r,"from",{enumerable:!0,configurable:!0,get:function(){return r.getSenderAddress()},set:function(e){e&&(r._from=s.toBuffer(e))}});var a=t;return a.from&&(r.from=s.toBuffer(a.from)),r}return r(t,e),t.prototype.hash=function(t){if(void 0===t&&(t=!0),t&&this._from&&""!==this._from.toString("hex")){var i=a.Buffer.concat([this._from,this._from.slice(0,12)]);this.sign(i)}return e.prototype.hash.call(this,t)},t}(i("JAg6").default);t.default=n},Jhzd:function(e,t,i){var r=i("pRMk").Buffer;function s(e,t,i){var s=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([i?t:s])]),s}t.encrypt=function(e,t,i){for(var a=t.length,n=r.allocUnsafe(a),o=-1;++o<a;)n[o]=s(e,t[o],i);return n}},Jix9:function(e,t,i){"use strict";const r=i("sLEj");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bequant",name:"Bequant",countries:["MT"],urls:{logo:"https://user-images.githubusercontent.com/1294454/55248342-a75dfe00-525a-11e9-8aa2-05e9dca943c6.jpg",api:"https://api.bequant.io",www:"https://bequant.io",doc:["https://api.bequant.io/"],fees:["https://bequant.io/fees-and-limits"],referral:"https://bequant.io"}})}}},Jl5k:function(e,t){e.exports=function(e,t){if(t){t=(t=t.trim().replace(/^(\?|#|&)/,""))?"?"+t:t;var i=e.split(/[\?\#]/)[0];t&&/\:\/\/[^\/]*$/.test(i)&&(i+="/");var r=e.match(/(\#.*)$/);e=i+t,r&&(e+=r[0])}return e}},Jlhb:function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},JxtV:function(e,t){e.exports.linebrk=function(e,t){for(var i="",r=0;r+t<e.length;)i+=e.substring(r,r+t)+"\n",r+=t;return i+e.substring(r,e.length)},e.exports.get32IntFromBuffer=function(e,t){t=t||0;var i;if((i=e.length-t)>0){if(i>=4)return e.readUInt32BE(t);for(var r=0,s=t+i,a=0;s>t;s--,a+=2)r+=e[s-1]*Math.pow(16,a);return r}return NaN},e.exports._={isObject:function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return"number"==typeof e||!isNaN(parseFloat(e))&&isFinite(e)},omit:function(e,t){var i={};for(var r in e)e.hasOwnProperty(r)&&r!==t&&(i[r]=e[r]);return i}},e.exports.trimSurroundingText=function(e,t,i){var r=0,s=e.length,a=e.indexOf(t);a>=0&&(r=a+t.length);var n=e.indexOf(i,a);return n>=0&&(s=n),e.substring(r,s)}},K2jg:function(e,t){(function(t){e.exports=t}).call(this,{})},KSsY:function(e,t,i){var r=i("pRMk").Buffer;function s(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}s.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var i=this._block,s=this._blockSize,a=e.length,n=this._len,o=0;o<a;){for(var c=n%s,d=Math.min(a-o,s-c),h=0;h<d;h++)i[c+h]=e[o+h];o+=d,(n+=d)%s===0&&this._update(i)}return this._len+=a,this},s.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,s=(i-r)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=s},KlUR:function(e,t,i){"use strict";t.byteLength=function(e){var t=d(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=d(e),n=r[0],o=r[1],c=new a(function(e,t,i){return 3*(t+i)/4-i}(0,n,o)),h=0,u=o>0?n-4:n;for(i=0;i<u;i+=4)t=s[e.charCodeAt(i)]<<18|s[e.charCodeAt(i+1)]<<12|s[e.charCodeAt(i+2)]<<6|s[e.charCodeAt(i+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;2===o&&(t=s[e.charCodeAt(i)]<<2|s[e.charCodeAt(i+1)]>>4,c[h++]=255&t);1===o&&(t=s[e.charCodeAt(i)]<<10|s[e.charCodeAt(i+1)]<<4|s[e.charCodeAt(i+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t);return c},t.fromByteArray=function(e){for(var t,i=e.length,s=i%3,a=[],n=0,o=i-s;n<o;n+=16383)a.push(h(e,n,n+16383>o?o:n+16383));1===s?(t=e[i-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===s&&(t=(e[i-2]<<8)+e[i-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],s=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=n.length;o<c;++o)r[o]=n[o],s[n.charCodeAt(o)]=o;function d(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,i){for(var s,a,n=[],o=t;o<i;o+=3)s=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),n.push(r[(a=s)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return n.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},Kqm6:function(e,t,i){"use strict";const r=e=>e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r);e.exports={uuid:r,unCamelCase:e=>e.match(/^[A-Z0-9_]+$/)?e:e.replace(/[a-z0-9][A-Z]/g,e=>e[0]+"_"+e[1]).replace(/[A-Z0-9][A-Z0-9][a-z]/g,e=>e[0]+"_"+e[1]+e[2]).toLowerCase(),capitalize:e=>e.length?e.charAt(0).toUpperCase()+e.slice(1):e,strip:e=>e.replace(/^\s+|\s+$/g,"")}},Kv9R:function(e,t,i){"use strict";var r=i("tk5I"),s=i("3NQs").utils,a=s.getNAF,n=s.getJSF,o=s.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var i=e._getDoubles(),r=a(t,1),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;for(var n=[],c=0;c<r.length;c+=i.step){var d=0;for(t=c+i.step-1;t>=c;t--)d=(d<<1)+r[t];n.push(d)}for(var h=this.jpoint(null,null,null),u=this.jpoint(null,null,null),l=s;l>0;l--){for(c=0;c<n.length;c++){(d=n[c])===l?u=u.mixedAdd(i.points[c]):d===-l&&(u=u.mixedAdd(i.points[c].neg()))}h=h.add(u)}return h.toP()},c.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var s=r.points,n=a(t,i),c=this.jpoint(null,null,null),d=n.length-1;d>=0;d--){for(t=0;d>=0&&0===n[d];d--)t++;if(d>=0&&t++,c=c.dblp(t),d<0)break;var h=n[d];o(0!==h),c="affine"===e.type?h>0?c.mixedAdd(s[h-1>>1]):c.mixedAdd(s[-h-1>>1].neg()):h>0?c.add(s[h-1>>1]):c.add(s[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,i,r,s){for(var o=this._wnafT1,c=this._wnafT2,d=this._wnafT3,h=0,u=0;u<r;u++){var l=(x=t[u])._getNAFPoints(e);o[u]=l.wnd,c[u]=l.points}for(u=r-1;u>=1;u-=2){var f=u-1,p=u;if(1===o[f]&&1===o[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=n(i[f],i[p]);h=Math.max(b[0].length,h),d[f]=new Array(h),d[p]=new Array(h);for(var v=0;v<h;v++){var g=0|b[0][v],w=0|b[1][v];d[f][v]=y[3*(g+1)+(w+1)],d[p][v]=0,c[f]=m}}else d[f]=a(i[f],o[f]),d[p]=a(i[p],o[p]),h=Math.max(d[f].length,h),h=Math.max(d[p].length,h)}var k=this.jpoint(null,null,null),_=this._wnafT4;for(u=h;u>=0;u--){for(var T=0;u>=0;){var S=!0;for(v=0;v<r;v++)_[v]=0|d[v][u],0!==_[v]&&(S=!1);if(!S)break;T++,u--}if(u>=0&&T++,k=k.dblp(T),u<0)break;for(v=0;v<r;v++){var x,O=_[v];0!==O&&(O>0?x=c[v][O-1>>1]:O<0&&(x=c[v][-O-1>>1].neg()),k="affine"===x.type?k.mixedAdd(x):k.add(x))}}for(u=0;u<r;u++)c[u]=null;return s?k:k.toP()},c.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i)return 6===e[0]?o(e[e.length-1]%2===0):7===e[0]&&o(e[e.length-1]%2===1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(e){return this.encode(e,!0)},d.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},d.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},d.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},d.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},d.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,s=0;s<t;s+=e){for(var a=0;a<e;a++)r=r.dbl();i.push(r)}return{step:e,points:i}},d.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(r);return{wnd:e,points:t}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},"L+bV":function(e,t){e.exports=function(e){var t=e.fs,i=e.files,r=e.os,s=e.path,a=e.child_process,n=e.mimetype,o=e.defaultArchives,c=e.request,d=e.downloadUrl,h=e.bytes,u=e.hash,l=e.pick,f=function(e){return function(t){for(var i={},r=0,s=e.length;r<s;++r)i[e[r]]=t[r];return i}},p=function(e){return function(t){return"".concat(e,"/bzzr:/").concat(t)}},m=function(e){return function(t){return c(p(e)(t),{responseType:"arraybuffer"}).then((function(e){var t,i=new Uint8Array(e);if((t=i,function(e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;++i)if(t[i]!==e[i])return!1;return!0})([52,48,52,32,112,97,103,101,32,110,111,116,32,102,111,117,110,100,10]))throw"Error 404.";return i}))}},y=function(e){return function(t){return function t(i){return function(r){return function(s){var a=function(e){return void 0===e.path?Promise.resolve():"application/bzz-manifest+json"===e.contentType?t(e.hash)(r+e.path)(s):Promise.resolve((i=r+e.path,function(e){return function(t){return t[i]=e,t}})(function(e){return{type:e.contentType,hash:e.hash}}(e))(s));var i};return m(e)(i).then((function(e){return JSON.parse(q(e)).entries})).then((function(e){return Promise.all(e.map(a))})).then((function(){return s}))}}}(t)("")({})}},b=function(e){return function(t){return y(e)(t).then((function(e){return f(Object.keys(e))(Object.keys(e).map((function(t){return e[t].hash})))}))}},v=function(e){return function(t){return y(e)(t).then((function(t){var i=Object.keys(t),r=i.map((function(e){return t[e].hash})),s=i.map((function(e){return t[e].type})),a=r.map(m(e));return Promise.all(a).then((function(e){return f(i)(function(e){return e.map((function(e,t){return{type:s[t],data:e}}))}(e))}))}))}},g=function(e){return function(t){return function(r){return i.download(p(e)(t))(r)}}},w=function(e){return function(t){return function(i){return b(e)(t).then((function(t){var r=[];for(var a in t)if(a.length>0){var n=s.join(i,a);r.push(g(e)(t[a])(n))}return Promise.all(r).then((function(){return i}))}))}}},k=function(e){return function(t){return c("".concat(e,"/bzzr:/"),{body:"string"===typeof t?L(t):t,method:"POST"})}},_=function(e){return function(t){return function(i){return function(r){return function s(a){var n="/"===i[0]?i:"/"+i,o="".concat(e,"/bzz:/").concat(t).concat(n),d={method:"PUT",headers:{"Content-Type":r.type},body:r.data};return c(o,d).then((function(e){if(-1!==e.indexOf("error"))throw e;return e})).catch((function(e){return a>0&&s(a-1)}))}(3)}}}},T=function(e){return function(t){return x(e)({"":t})}},S=function(e){return function(i){return t.readFile(i).then((function(t){return T(e)({type:n.lookup(i),data:t})}))}},x=function(e){return function(t){return k(e)("{}").then((function(i){return Object.keys(t).reduce((function(i,r){return i.then(function(i){return function(r){return _(e)(r)(i)(t[i])}}(r))}),Promise.resolve(i))}))}},O=function(e){return function(i){return t.readFile(i).then(k(e))}},C=function(e){return function(r){return function(s){return i.directoryTree(s).then((function(e){return Promise.all(e.map((function(e){return t.readFile(e)}))).then((function(t){var i=e.map((function(e){return e.slice(s.length)})),r=e.map((function(e){return n.lookup(e)||"text/plain"}));return f(i)(t.map((function(e,t){return{type:r[t],data:e}})))}))})).then((function(e){return(t=r?{"":e[r]}:{},function(e){var i={};for(var r in t)i[r]=t[r];for(var s in e)i[s]=e[s];return i})(e);var t})).then(x(e))}}},M=function(e){return function(t){if("data"===t.pick)return l.data().then(k(e));if("file"===t.pick)return l.file().then(T(e));if("directory"===t.pick)return l.directory().then(x(e));if(t.path)switch(t.kind){case"data":return O(e)(t.path);case"file":return S(e)(t.path);case"directory":return C(e)(t.defaultFile)(t.path)}else{if(t.length||"string"===typeof t)return k(e)(t);if(t instanceof Object)return x(e)(t)}return Promise.reject(new Error("Bad arguments"))}},A=function(e){return function(t){return function(i){return P(e)(t).then((function(r){return r?i?w(e)(t)(i):v(e)(t):i?g(e)(t)(i):m(e)(t)}))}}},E=function(e,t){var s=r.platform().replace("win32","windows")+"-"+("x64"===r.arch()?"amd64":"386"),a=(t||o)[s],n=d+a.archive+".tar.gz",c=a.archiveMD5,h=a.binaryMD5;return i.safeDownloadArchived(n)(c)(h)(e)},I=function(e){return new Promise((function(t,i){var r=a.spawn,s=function(e){return function(t){return-1!==(""+t).indexOf(e)}},n=e.account,o=e.password,c=e.dataDir,d=e.ensApi,h=e.privateKey,u=0,l=r(e.binPath,["--bzzaccount",n||h,"--datadir",c,"--ens-api",d]),f=function(e){0===u&&s("Passphrase")(e)?setTimeout((function(){u=1,l.stdin.write(o+"\n")}),500):s("Swarm http proxy started")(e)&&(u=2,clearTimeout(p),t(l))};l.stdout.on("data",f),l.stderr.on("data",f);var p=setTimeout((function(){return i(new Error("Couldn't start swarm process."))}),2e4)}))},B=function(e){return new Promise((function(t,i){e.stderr.removeAllListeners("data"),e.stdout.removeAllListeners("data"),e.stdin.removeAllListeners("error"),e.removeAllListeners("error"),e.removeAllListeners("exit"),e.kill("SIGINT");var r=setTimeout((function(){return e.kill("SIGKILL")}),8e3);e.once("close",(function(){clearTimeout(r),t()}))}))},F=function(e){return k(e)("test").then((function(e){return"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7"===e})).catch((function(){return!1}))},P=function(e){return function(t){return m(e)(t).then((function(e){try{return!!JSON.parse(q(e)).entries}catch(t){return!1}}))}},R=function(e){return function(t,i,r,s,a){var n;return"undefined"!==typeof t&&(n=e(t)),"undefined"!==typeof i&&(n=e(i)),"undefined"!==typeof r&&(n=e(r)),"undefined"!==typeof s&&(n=e(s)),"undefined"!==typeof a&&(n=e(a)),n}},q=function(e){return h.toString(h.fromUint8Array(e))},L=function(e){return h.toUint8Array(h.fromString(e))},D=function(e){return{download:function(t,i){return A(e)(t)(i)},downloadData:R(m(e)),downloadDataToDisk:R(g(e)),downloadDirectory:R(v(e)),downloadDirectoryToDisk:R(w(e)),downloadEntries:R(y(e)),downloadRoutes:R(b(e)),isAvailable:function(){return F(e)},upload:function(t){return M(e)(t)},uploadData:R(k(e)),uploadFile:R(T(e)),uploadFileFromDisk:R(T(e)),uploadDataFromDisk:R(O(e)),uploadDirectory:R(x(e)),uploadDirectoryFromDisk:R(C(e)),uploadToManifest:R(_(e)),pick:l,hash:u,fromString:L,toString:q}};return{at:D,local:function(e){return function(t){return F("http://localhost:8500").then((function(i){return i?t(D("http://localhost:8500")).then((function(){})):E(e.binPath,e.archives).onData((function(t){return(e.onProgress||function(){})(t.length)})).then((function(){return I(e)})).then((function(e){return t(D("http://localhost:8500")).then((function(){return e}))})).then(B)}))}},download:A,downloadBinary:E,downloadData:m,downloadDataToDisk:g,downloadDirectory:v,downloadDirectoryToDisk:w,downloadEntries:y,downloadRoutes:b,isAvailable:F,startProcess:I,stopProcess:B,upload:M,uploadData:k,uploadDataFromDisk:O,uploadFile:T,uploadFileFromDisk:S,uploadDirectory:x,uploadDirectoryFromDisk:C,uploadToManifest:_,pick:l,hash:u,fromString:L,toString:q}}},L2gJ:function(e,t,i){"use strict";(function(e,r){function s(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=i("pRMk"),n=(i("bPso"),a.Buffer),o=a.kMaxLength,c=e.crypto||e.msCrypto,d=Math.pow(2,32)-1;function h(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>d||e<0)throw new TypeError("offset must be a uint32");if(e>o||e>t)throw new RangeError("offset out of range")}function u(e,t,i){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>d||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>o)throw new RangeError("buffer too small")}function l(e,t,i,s){var a=e.buffer,n=new Uint8Array(a,t,i);return c.getRandomValues(n),s?void r.nextTick((function(){s(null,e)})):e}c&&c.getRandomValues?(t.randomFill=function(t,i,r,s){if(!n.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof i)s=i,i=0,r=t.length;else if("function"===typeof r)s=r,r=t.length-i;else if("function"!==typeof s)throw new TypeError('"cb" argument must be a function');return h(i,t.length),u(r,i,t.length),l(t,i,r,s)},t.randomFillSync=function(t,i,r){"undefined"===typeof i&&(i=0);if(!n.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(i,t.length),void 0===r&&(r=t.length-i);return u(r,i,t.length),l(t,i,r)}):(t.randomFill=s,t.randomFillSync=s)}).call(this,i("pCvA"),i("5IsQ"))},"LE+o":function(e,t,i){"use strict";var r=t;r.base=i("Kv9R"),r.short=i("e8CT"),r.mont=i("dTKc"),r.edwards=i("qB9Q")},LER9:function(e,t,i){var r=i("jnim"),s=i("1qNd"),a=i("wuJa"),n=i("Ih9J"),o=i("hnK/"),c=i("pRMk").Buffer;function d(e){var t;"object"!==typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=c.from(e));var i,d,h=a(e,t),u=h.tag,l=h.data;switch(u){case"CERTIFICATE":d=r.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=r.PublicKey.decode(l,"der")),i=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=r.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":l=function(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=s[e.algorithm.decrypt.cipher.algo.join(".")],d=e.algorithm.decrypt.cipher.iv,h=e.subjectPrivateKey,u=parseInt(a.split("-")[1],10)/8,l=o.pbkdf2Sync(t,i,r,u,"sha1"),f=n.createDecipheriv(a,l,d),p=[];return p.push(f.update(h)),p.push(f.final()),c.concat(p)}(l=r.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(i=(d=r.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:r.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=r.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=r.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+u)}}e.exports=d,d.signature=r.signature},LOya:function(e,t,i){"use strict";function r(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}Object.defineProperty(t,"__esModule",{value:!0});var s=i("4kqU");t.secp256k1=s;var a=i("e0KM"),n=i("8kJ5");t.BN=n;var o=i("vb3U");t.rlp=o,Object.assign(t,a),r(i("1zYm")),r(i("IBUX")),r(i("TJ1y")),r(i("AvHZ")),r(i("BbEw")),r(i("8TUC"))},LP85:function(e,t,i){"use strict";const r=Date.now,s=r,a=setTimeout,n=(e,t,i=a,s=r()+t)=>{let o=()=>{},c=!0;const d=i(()=>{c=!0;const t=s-r();t>0?o=n(e,t,i,s):e()},t);return function(){c&&(c=!1,clearTimeout(d)),o()}};class o extends Error{constructor(){super("timed out"),this.constructor=o,this.__proto__=o.prototype,this.message="timed out"}}const c=e=>{if("string"===typeof e&&e&&!e.match(/^[0-9]+$/)&&!(e.indexOf("-")<0||e.indexOf(":")<0))try{const t=Date.parse(e.indexOf("+")>=0||"Z"===e.slice(-1)?e:(e+"Z").replace(/\s(\d\d):/,"T$1:"));if(Number.isNaN(t))return;return t}catch(t){return}};e.exports={now:r,microseconds:()=>1e3*r(),milliseconds:s,seconds:()=>Math.floor(r()/1e3),iso8601:e=>{let t=void 0;if(t="number"===typeof e?Math.floor(e):parseInt(e,10),!(Number.isNaN(t)||t<0))try{return new Date(t).toISOString()}catch(i){return}},parse8601:c,parseDate:e=>{if("string"===typeof e&&e){if(e.indexOf("GMT")>=0)try{return Date.parse(e)}catch(t){return}return c(e)}},mdy:(e,t="-")=>{t=t||"";const i=new Date(e),r=i.getUTCFullYear().toString();let s=i.getUTCMonth()+1,a=i.getUTCDate();return s=s<10?"0"+s:s.toString(),a=a<10?"0"+a:a.toString(),s+t+a+t+r},ymd:(e,t="-")=>{t=t||"";const i=new Date(e),r=i.getUTCFullYear().toString();let s=i.getUTCMonth()+1,a=i.getUTCDate();return s=s<10?"0"+s:s.toString(),a=a<10?"0"+a:a.toString(),r+t+s+t+a},ymdhms:(e,t=" ")=>{const i=new Date(e),r=i.getUTCFullYear();let s=i.getUTCMonth()+1,a=i.getUTCDate(),n=i.getUTCHours(),o=i.getUTCMinutes(),c=i.getUTCSeconds();return s=s<10?"0"+s:s,a=a<10?"0"+a:a,n=n<10?"0"+n:n,o=o<10?"0"+o:o,c=c<10?"0"+c:c,r+"-"+s+"-"+a+t+n+":"+o+":"+c},setTimeout_safe:n,sleep:e=>new Promise(t=>n(t,e)),TimedOut:o,timeout:async(e,t)=>{let i=()=>{};const r=new Promise(t=>i=n(t,e));try{return await Promise.race([t,r.then(()=>{throw new o})])}finally{i()}}}},LRLT:function(e,t,i){"use strict";var r=t;function s(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",i=0;i<e.length;i++)t+=s(e[i].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var s=e.charCodeAt(r),a=s>>8,n=255&s;a?i.push(a,n):i.push(n)}return i},r.zero2=s,r.toHex=a,r.encode=function(e,t){return"hex"===t?a(e):e}},LpNI:function(e,t,i){var r=i("wfEq"),s=i("qykS").Buffer,a=i("+Gs+"),n=a.base,o=a.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new d,this.tree._init(e.body)}function d(e){n.Node.call(this,"der",e)}function h(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(d,n.Node),d.prototype._encodeComposite=function(e,t,i,r){var a,n=function(e,t,i,r){var s;"seqof"===e?e="seq":"setof"===e&&(e="set");if(o.tagByName.hasOwnProperty(e))s=o.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);s=e}if(s>=31)return r.error("Multi-octet tag encoding unsupported");t||(s|=32);return s|=o.tagClassByName[i||"universal"]<<6}(e,t,i,this.reporter);if(r.length<128)return(a=new s(2))[0]=n,a[1]=r.length,this._createEncoderBuffer([a,r]);for(var c=1,d=r.length;d>=256;d>>=8)c++;(a=new s(2+c))[0]=n,a[1]=128|c;d=1+c;for(var h=r.length;h>0;d--,h>>=8)a[d]=255&h;return this._createEncoderBuffer([a,r])},d.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=new s(2*e.length),r=0;r<e.length;r++)i.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},d.prototype._encodeObjid=function(e,t,i){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var a=0;for(r=0;r<e.length;r++){var n=e[r];for(a++;n>=128;n>>=7)a++}var o=new s(a),c=o.length-1;for(r=e.length-1;r>=0;r--){n=e[r];for(o[c--]=127&n;(n>>=7)>0;)o[c--]=128|127&n}return this._createEncoderBuffer(o)},d.prototype._encodeTime=function(e,t){var i,r=new Date(e);return"gentime"===t?i=[h(r.getFullYear()),h(r.getUTCMonth()+1),h(r.getUTCDate()),h(r.getUTCHours()),h(r.getUTCMinutes()),h(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[h(r.getFullYear()%100),h(r.getUTCMonth()+1),h(r.getUTCDate()),h(r.getUTCHours()),h(r.getUTCMinutes()),h(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!s.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=new s(i)}if(s.isBuffer(e)){var r=e.length;0===e.length&&r++;var a=new s(r);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var n=e;n>=256;n>>=8)r++;for(n=(a=new Array(r)).length-1;n>=0;n--)a[n]=255&e,e>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(new s(a))},d.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},d.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},d.prototype._skipDefault=function(e,t,i){var r,s=this._baseState;if(null===s.default)return!1;var a=e.join();if(void 0===s.defaultBuffer&&(s.defaultBuffer=this._encodeValue(s.default,t,i).join()),a.length!==s.defaultBuffer.length)return!1;for(r=0;r<a.length;r++)if(a[r]!==s.defaultBuffer[r])return!1;return!0}},Ltnq:function(e,t,i){"use strict";var r=i("siiD"),s=i("wfEq"),a=i("wTN5"),n=i("ta2Q");function o(){this.tmp=new Array(2),this.keys=null}function c(e){n.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}s(c,n),e.exports=c,c.create=function(e){return new c(e)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var i=a.readUInt32BE(t,0),s=a.readUInt32BE(t,4);a.pc1(i,s,e.tmp,0),i=e.tmp[0],s=e.tmp[1];for(var n=0;n<e.keys.length;n+=2){var o=d[n>>>1];i=a.r28shl(i,o),s=a.r28shl(s,o),a.pc2(i,s,e.keys,n)}},c.prototype._update=function(e,t,i,r){var s=this._desState,n=a.readUInt32BE(e,t),o=a.readUInt32BE(e,t+4);a.ip(n,o,s.tmp,0),n=s.tmp[0],o=s.tmp[1],"encrypt"===this.type?this._encrypt(s,n,o,s.tmp,0):this._decrypt(s,n,o,s.tmp,0),n=s.tmp[0],o=s.tmp[1],a.writeUInt32BE(i,n,r),a.writeUInt32BE(i,o,r+4)},c.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)r.equal(e[i],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,i,r,s){for(var n=t,o=i,c=0;c<e.keys.length;c+=2){var d=e.keys[c],h=e.keys[c+1];a.expand(o,e.tmp,0),d^=e.tmp[0],h^=e.tmp[1];var u=a.substitute(d,h),l=o;o=(n^a.permute(u))>>>0,n=l}a.rip(o,n,r,s)},c.prototype._decrypt=function(e,t,i,r,s){for(var n=i,o=t,c=e.keys.length-2;c>=0;c-=2){var d=e.keys[c],h=e.keys[c+1];a.expand(n,e.tmp,0),d^=e.tmp[0],h^=e.tmp[1];var u=a.substitute(d,h),l=n;n=(o^a.permute(u))>>>0,o=l}a.rip(n,o,r,s)}},"M+3o":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,InvalidOrder:a,AuthenticationError:n,ArgumentsRequired:o}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"braziliex",name:"Braziliex",countries:["BR"],rateLimit:1e3,has:{fetchCurrencies:!0,fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/34703593-c4498674-f504-11e7-8d14-ff8e44fb78c1.jpg",api:"https://braziliex.com/api/v1",www:"https://braziliex.com/",doc:"https://braziliex.com/exchange/api.php",fees:"https://braziliex.com/exchange/fees.php",referral:"https://braziliex.com/?ref=5FE61AB6F6D67DA885BC98BA27223465"},api:{public:{get:["currencies","ticker","ticker/{market}","orderbook/{market}","tradehistory/{market}"]},private:{post:["balance","complete_balance","open_orders","trade_history","deposit_address","sell","buy","cancel_order","order_status"]}},commonCurrencies:{EPC:"Epacoin",ABC:"Anti Bureaucracy Coin"},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8},options:{fetchCurrencies:{expires:1e3}}})}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencies(e);this.options.fetchCurrencies=this.extend(t,{response:i,timestamp:s})}return this.safeValue(this.options.fetchCurrencies,"response")}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e);this.options.currencies={timestamp:this.milliseconds(),response:t};const i=Object.keys(t),r={};for(let s=0;s<i.length;s++){const e=i[s],a=t[e],n=this.safeInteger(a,"decimal"),o=this.safeCurrencyCode(e);let c=1===this.safeInteger(a,"active");0!==this.safeInteger(a,"under_maintenance")&&(c=!1);const d=1===this.safeInteger(a,"is_withdrawal_active"),h=1===this.safeInteger(a,"is_deposit_active");d&&h||(c=!1),r[o]={id:e,code:o,name:a.name,active:c,precision:n,funding:{withdraw:{active:d,fee:this.safeFloat(a,"txWithdrawalFee")},deposit:{active:h,fee:this.safeFloat(a,"txDepositFee")}},limits:{amount:{min:Math.pow(10,-n),max:Math.pow(10,n)},price:{min:Math.pow(10,-n),max:Math.pow(10,n)},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(a,"MinWithdrawal"),max:Math.pow(10,n)},deposit:{min:this.safeFloat(a,"minDeposit"),max:void 0}},info:a}}return r}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=await this.publicGetTicker(),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a],n=i[e],[o,c]=e.split("_"),d=o.toUpperCase(),h=c.toUpperCase(),u=this.safeCurrencyCode(d),l=this.safeCurrencyCode(h),f=u+"/"+l,p=this.safeValue(t,o,{}),m=this.safeValue(t,c,{});let y=void 0;y=this.safeInteger(m,"is_fiat",0)?this.safeFloat(p,"minAmountTradeFIAT"):this.safeFloat(p,"minAmountTrade"+h);const b=1===this.safeInteger(n,"active"),v={amount:8,price:8};s.push({id:e,symbol:f,base:u,quote:l,baseId:o,quoteId:c,active:b,precision:v,limits:{amount:{min:Math.pow(10,-v.amount),max:Math.pow(10,v.amount)},price:{min:Math.pow(10,-v.price),max:Math.pow(10,v.price)},cost:{min:y,max:void 0}},info:n})}return s}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.milliseconds(),s=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"highestBid24"),low:this.safeFloat(e,"lowestAsk24"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"percentChange"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume24"),quoteVolume:this.safeFloat(e,"quoteVolume24"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickerMarket(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.markets_by_id[e];r[t.symbol]=this.parseTicker(i[e],t)}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e)},s=await this.publicGetOrderbookMarket(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","amount")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"date_exec","date")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");let a=void 0;void 0!==t&&(a=t.symbol);const n=this.safeFloat(e,"total"),o=this.safeString(e,"order_number"),c=this.safeString(e,"type");return{id:this.safeString(e,"_id"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,order:o,type:"limit",side:c,takerOrMaker:void 0,price:r,amount:s,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTradehistoryMarket(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostCompleteBalance(e),i={info:t},r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],a=t[e],n=this.safeCurrencyCode(e),o=this.account();o.free=this.safeFloat(a,"available"),o.total=this.safeFloat(a,"total"),i[n]=o}return this.parseBalance(i)}parseOrder(e,t){let i=void 0;if(void 0===t){const i=this.safeString(e,"market");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t.symbol);let r=this.safeInteger(e,"timestamp");void 0===r&&(r=this.parse8601(this.safeString(e,"date")));const s=this.safeFloat(e,"price"),a=this.safeFloat(e,"total",0),n=this.safeFloat(e,"amount"),o=this.safeFloat(e,"progress"),c=n*o,d=parseFloat(this.amountToPrecision(i,n-c));let h=e;"info"in h&&(h=e.info);const u=this.safeString(e,"order_number"),l=this.safeValue(e,"fee"),f=1===o?"closed":"open";return{id:u,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:f,symbol:i,type:"limit",side:e.type,price:s,cost:a,amount:n,filled:c,remaining:d,trades:void 0,fee:l,info:h}}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i),d={market:o.id,price:s,amount:r},h=await this[c](this.extend(d,n));if(1!==this.safeInteger(h,"success"))throw new a(this.id+" "+this.json(h));let u=h.message.split(" / ");u=u.slice(1);const l=u[5].split(" "),f=this.parseOrder({timestamp:this.milliseconds(),order_number:h.order_number,type:u[0].toLowerCase(),market:u[0].toLowerCase(),amount:u[2].split(" ")[1],price:u[3].split(" ")[1],total:u[4].split(" ")[1],fee:{cost:parseFloat(l[1]),currency:l[2]},progress:"0.0",info:h},o),p=f.id;return this.orders[p]=f,f}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_number:e,market:this.market(t).id};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={order_number:e,market:r.id},a=await this.privatePostOrderStatus(this.extend(s,i));return this.parseOrder(a,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.privatePostOpenOrders(this.extend(a,r));return this.parseOrders(n.order_open,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.privatePostTradeHistory(this.extend(a,r));return this.parseTrades(n.trade_history,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostDepositAddress(this.extend(i,t)),s=this.safeString(r,"deposit_address");return this.checkAddress(s),{currency:e,address:s,tag:this.safeString(r,"payment_id"),info:r}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+t,o=this.omit(r,this.extractParams(e));if("public"===t)n+="/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),o=this.extend({command:e,nonce:this.nonce()},o),a=this.urlencode(o);const t=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={"Content-type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.decode(t)}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,o){const c=await this.fetch2(e,t,i,r,a,o);if("string"===typeof c&&c.length<1)throw new s(this.id+" returned empty response");if("success"in c){if(0===this.safeInteger(c,"success")){const e=this.safeString(c,"message");if("Invalid APIKey"===e)throw new n(e);throw new s(e)}}return c}}},M2pJ:function(e,t,i){"use strict";var r,s=i("+un8"),a=i("i4Ti"),n=i("iak/"),o=i("Achu"),c=i("jiBz"),d=0,h=1,u=3,l=4,f=5,p=0,m=1,y=-2,b=-3,v=-5,g=-1,w=1,k=2,_=3,T=4,S=0,x=2,O=8,C=9,M=15,A=8,E=286,I=30,B=19,F=2*E+1,P=15,R=3,q=258,L=q+R+1,D=32,N=42,U=69,V=73,G=91,j=103,H=113,K=666,z=1,W=2,X=3,Y=4,Z=3;function J(e,t){return e.msg=c[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function $(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(s.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function se(e,t,i,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,s.arraySet(t,e.input,e.next_in,a,i),1===e.state.wrap?e.adler=n(e.adler,t,a,i):2===e.state.wrap&&(e.adler=o(e.adler,t,a,i)),e.next_in+=a,e.total_in+=a,a)}function ae(e,t){var i,r,s=e.max_chain_length,a=e.strstart,n=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-L?e.strstart-(e.w_size-L):0,d=e.window,h=e.w_mask,u=e.prev,l=e.strstart+q,f=d[a+n-1],p=d[a+n];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(i=t)+n]===p&&d[i+n-1]===f&&d[i]===d[a]&&d[++i]===d[a+1]){a+=2,i++;do{}while(d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&d[++a]===d[++i]&&a<l);if(r=q-(l-a),a=l-q,r>n){if(e.match_start=t,n=r,r>=o)break;f=d[a+n-1],p=d[a+n]}}}while((t=u[t&h])>c&&0!==--s);return n<=e.lookahead?n:e.lookahead}function ne(e){var t,i,r,a,n,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-L)){s.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=i=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--i);t=i=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--i);a+=o}if(0===e.strm.avail_in)break;if(i=se(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=R)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[n+R-1])&e.hash_mask,e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<L&&0!==e.strm.avail_in)}function oe(e,t){for(var i,r;;){if(e.lookahead<L){if(ne(e),e.lookahead<L&&t===d)return z;if(0===e.lookahead)break}if(i=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-L&&(e.match_length=ae(e,i)),e.match_length>=R)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return z}return e.insert=e.strstart<R-1?e.strstart:R-1,t===l?(te(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?z:W}function ce(e,t){for(var i,r,s;;){if(e.lookahead<L){if(ne(e),e.lookahead<L&&t===d)return z;if(0===e.lookahead)break}if(i=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-L&&(e.match_length=ae(e,i),e.match_length<=5&&(e.strategy===w||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-R,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=R-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return z}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,t===l?(te(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?z:W}function de(e,t,i,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=s}function he(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=O,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*I+1)),this.bl_tree=new s.Buf16(2*(2*B+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*E+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=x,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?N:H,e.adler=2===t.wrap?0:1,t.last_flush=d,a._tr_init(t),p):J(e,y)}function le(e){var t,i=ue(e);return i===p&&((t=e.state).window_size=2*t.w_size,$(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=R-1,t.match_available=0,t.ins_h=0),i}function fe(e,t,i,r,a,n){if(!e)return y;var o=1;if(t===g&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),a<1||a>C||i!==O||r<8||r>15||t<0||t>9||n<0||n>T)return J(e,y);8===r&&(r=9);var c=new he;return e.state=c,c.strm=e,c.wrap=o,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+R-1)/R),c.window=new s.Buf8(2*c.w_size),c.head=new s.Buf16(c.hash_size),c.prev=new s.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new s.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=n,c.method=i,le(e)}r=[new de(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ne(e),0===e.lookahead&&t===d)return z;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return z;if(e.strstart-e.block_start>=e.w_size-L&&(te(e,!1),0===e.strm.avail_out))return z}return e.insert=0,t===l?(te(e,!0),0===e.strm.avail_out?X:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),z)})),new de(4,4,8,4,oe),new de(4,5,16,8,oe),new de(4,6,32,32,oe),new de(4,4,16,16,ce),new de(8,16,32,32,ce),new de(8,16,128,128,ce),new de(8,32,128,256,ce),new de(32,128,258,1024,ce),new de(32,258,258,4096,ce)],t.deflateInit=function(e,t){return fe(e,t,O,M,A,S)},t.deflateInit2=fe,t.deflateReset=le,t.deflateResetKeep=ue,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?y:(e.state.gzhead=t,p):y},t.deflate=function(e,t){var i,s,n,c;if(!e||!e.state||t>f||t<0)return e?J(e,y):y;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===K&&t!==l)return J(e,0===e.avail_out?v:y);if(s.strm=e,i=s.last_flush,s.last_flush=t,s.status===N)if(2===s.wrap)e.adler=0,ie(s,31),ie(s,139),ie(s,8),s.gzhead?(ie(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ie(s,255&s.gzhead.time),ie(s,s.gzhead.time>>8&255),ie(s,s.gzhead.time>>16&255),ie(s,s.gzhead.time>>24&255),ie(s,9===s.level?2:s.strategy>=k||s.level<2?4:0),ie(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(ie(s,255&s.gzhead.extra.length),ie(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=U):(ie(s,0),ie(s,0),ie(s,0),ie(s,0),ie(s,0),ie(s,9===s.level?2:s.strategy>=k||s.level<2?4:0),ie(s,Z),s.status=H);else{var b=O+(s.w_bits-8<<4)<<8;b|=(s.strategy>=k||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(b|=D),b+=31-b%31,s.status=H,re(s,b),0!==s.strstart&&(re(s,e.adler>>>16),re(s,65535&e.adler)),e.adler=1}if(s.status===U)if(s.gzhead.extra){for(n=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),ee(e),n=s.pending,s.pending!==s.pending_buf_size));)ie(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=V)}else s.status=V;if(s.status===V)if(s.gzhead.name){n=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),ee(e),n=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,ie(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),0===c&&(s.gzindex=0,s.status=G)}else s.status=G;if(s.status===G)if(s.gzhead.comment){n=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),ee(e),n=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,ie(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>n&&(e.adler=o(e.adler,s.pending_buf,s.pending-n,n)),0===c&&(s.status=j)}else s.status=j;if(s.status===j&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&ee(e),s.pending+2<=s.pending_buf_size&&(ie(s,255&e.adler),ie(s,e.adler>>8&255),e.adler=0,s.status=H)):s.status=H),0!==s.pending){if(ee(e),0===e.avail_out)return s.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(i)&&t!==l)return J(e,v);if(s.status===K&&0!==e.avail_in)return J(e,v);if(0!==e.avail_in||0!==s.lookahead||t!==d&&s.status!==K){var g=s.strategy===k?function(e,t){for(var i;;){if(0===e.lookahead&&(ne(e),0===e.lookahead)){if(t===d)return z;break}if(e.match_length=0,i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(te(e,!1),0===e.strm.avail_out))return z}return e.insert=0,t===l?(te(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?z:W}(s,t):s.strategy===_?function(e,t){for(var i,r,s,n,o=e.window;;){if(e.lookahead<=q){if(ne(e),e.lookahead<=q&&t===d)return z;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(r=o[s=e.strstart-1])===o[++s]&&r===o[++s]&&r===o[++s]){n=e.strstart+q;do{}while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<n);e.match_length=q-(n-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(i=a._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(te(e,!1),0===e.strm.avail_out))return z}return e.insert=0,t===l?(te(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?z:W}(s,t):r[s.level].func(s,t);if(g!==X&&g!==Y||(s.status=K),g===z||g===X)return 0===e.avail_out&&(s.last_flush=-1),p;if(g===W&&(t===h?a._tr_align(s):t!==f&&(a._tr_stored_block(s,0,0,!1),t===u&&($(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),ee(e),0===e.avail_out))return s.last_flush=-1,p}return t!==l?p:s.wrap<=0?m:(2===s.wrap?(ie(s,255&e.adler),ie(s,e.adler>>8&255),ie(s,e.adler>>16&255),ie(s,e.adler>>24&255),ie(s,255&e.total_in),ie(s,e.total_in>>8&255),ie(s,e.total_in>>16&255),ie(s,e.total_in>>24&255)):(re(s,e.adler>>>16),re(s,65535&e.adler)),ee(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?p:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==N&&t!==U&&t!==V&&t!==G&&t!==j&&t!==H&&t!==K?J(e,y):(e.state=null,t===H?J(e,b):p):y},t.deflateSetDictionary=function(e,t){var i,r,a,o,c,d,h,u,l=t.length;if(!e||!e.state)return y;if(2===(o=(i=e.state).wrap)||1===o&&i.status!==N||i.lookahead)return y;for(1===o&&(e.adler=n(e.adler,t,l,0)),i.wrap=0,l>=i.w_size&&(0===o&&($(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new s.Buf8(i.w_size),s.arraySet(u,t,l-i.w_size,i.w_size,0),t=u,l=i.w_size),c=e.avail_in,d=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,ne(i);i.lookahead>=R;){r=i.strstart,a=i.lookahead-(R-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+R-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--a);i.strstart=r,i.lookahead=R-1,ne(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=R-1,i.match_available=0,e.next_in=d,e.input=h,e.avail_in=c,i.wrap=o,p},t.deflateInfo="pako deflate (from Nodeca project)"},M60r:function(e,t){e.exports=function(e){var t=i.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},MEmy:function(e,t,i){(function(t){var r=i("cXWM"),s=i("5Wkw"),a=i("6MVH").ec,n=i("8kJ5"),o=i("LER9"),c=i("Jlhb");function d(e,i,s,a){if((e=new t(e.toArray())).length<i.byteLength()){var n=new t(i.byteLength()-e.length);n.fill(0),e=t.concat([n,e])}var o=s.length,c=function(e,i){e=(e=h(e,i)).mod(i);var r=new t(e.toArray());if(r.length<i.byteLength()){var s=new t(i.byteLength()-r.length);s.fill(0),r=t.concat([s,r])}return r}(s,i),d=new t(o);d.fill(1);var u=new t(o);return u.fill(0),u=r(a,u).update(d).update(new t([0])).update(e).update(c).digest(),d=r(a,u).update(d).digest(),{k:u=r(a,u).update(d).update(new t([1])).update(e).update(c).digest(),v:d=r(a,u).update(d).digest()}}function h(e,t){var i=new n(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function u(e,i,s){var a,n;do{for(a=new t(0);8*a.length<e.bitLength();)i.v=r(s,i.k).update(i.v).digest(),a=t.concat([a,i.v]);n=h(a,e),i.k=r(s,i.k).update(i.v).update(new t([0])).digest(),i.v=r(s,i.k).update(i.v).digest()}while(-1!==n.cmp(e));return n}function l(e,t,i,r){return e.toRed(n.mont(i)).redPow(t).fromRed().mod(r)}e.exports=function(e,i,r,f,p){var m=o(i);if(m.curve){if("ecdsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");return function(e,i){var r=c[i.curve.join(".")];if(!r)throw new Error("unknown curve "+i.curve.join("."));var s=new a(r).keyFromPrivate(i.privateKey).sign(e);return new t(s.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==f)throw new Error("wrong private key type");return function(e,i,r){var s,a=i.params.priv_key,o=i.params.p,c=i.params.q,f=i.params.g,p=new n(0),m=h(e,c).mod(c),y=!1,b=d(a,c,e,r);for(;!1===y;)s=u(c,b,r),p=l(f,s,o,c),0===(y=s.invm(c).imul(m.add(a.mul(p))).mod(c)).cmpn(0)&&(y=!1,p=new n(0));return function(e,i){e=e.toArray(),i=i.toArray(),128&e[0]&&(e=[0].concat(e));128&i[0]&&(i=[0].concat(i));var r=[48,e.length+i.length+4,2,e.length];return r=r.concat(e,[2,i.length],i),new t(r)}(p,y)}(e,m,r)}if("rsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");e=t.concat([p,e]);for(var y=m.modulus.byteLength(),b=[0,1];e.length+b.length+1<y;)b.push(255);b.push(0);for(var v=-1;++v<e.length;)b.push(e[v]);return s(b,m)},e.exports.getKey=d,e.exports.makeKey=u}).call(this,i("qykS").Buffer)},MIei:function(e,t){e.exports=function(e,t,i){var r=t.toLowerCase();e[t]||e[r]||(e[t]=i)}},MIvV:function(e,t,i){var r=i("89XF"),s=i("xeyG"),a=i("pRMk").Buffer,n=i("6rtq"),o=i("ql4I"),c=i("8gph"),d=i("peDq");function h(e,t,i){o.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=a.from(i),this._mode=e,this._autopadding=!0}i("wfEq")(h,o),h.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return a.concat(r)};var u=a.alloc(16,16);function l(){this.cache=a.allocUnsafe(0)}function f(e,t,i){var o=r[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=a.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof i&&(i=a.from(i)),"GCM"!==o.mode&&i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new n(o.module,t,i):"auth"===o.type?new s(o.module,t,i):new h(o.module,t,i)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=a.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return a.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var s=d(t,!1,i.key,i.iv);return f(e,s.key,s.iv)}},MP7T:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcturk",name:"BTCTurk",countries:["TR"],rateLimit:1e3,has:{CORS:!0,fetchTickers:!0,fetchOHLCV:!0},timeframes:{"1d":"1d"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27992709-18e15646-64a3-11e7-9fa2-b0950ec7712f.jpg",api:"https://www.btcturk.com/api",www:"https://www.btcturk.com",doc:"https://github.com/BTCTrader/broker-api-docs"},api:{public:{get:["ohlcdata","orderbook","ticker","trades"]},private:{get:["balance","openOrders","userTransactions"],post:["exchange","cancelOrder"]}},fees:{trading:{maker:.00236,taker:.003*1.18}}})}async fetchMarkets(e={}){const t=await this.publicGetTicker(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"pair");let a=s.slice(0,3),n=s.slice(3,6);const o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);a=a.toLowerCase(),n=n.toLowerCase();const d=o+"/"+c,h={amount:8,price:8},u=!0;i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:u,info:e,precision:h,limits:{amount:{min:Math.pow(10,-h.amount),max:void 0},price:{min:Math.pow(10,-h.price),max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currencies[e],n=a.id+"_available",o=a.id+"_balance",c=a.id+"_reserved";if(n in t){const r=this.account();r.free=this.safeFloat(t,n),r.total=this.safeFloat(t,o),r.used=this.safeFloat(t,c),i[e]=r}}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pairSymbol:this.market(e).id},s=await this.publicGetOrderbook(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){let i=void 0;t&&(i=t.symbol);const r=this.safeTimestamp(e,"timestamp"),s=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"average"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"pair");let a=t,n=void 0;t in this.markets_by_id&&(n=this.markets_by_id[a],a=n.symbol),r[a]=this.parseTicker(e,n)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.fetchTickers(t);return this.safeValue2(r,i.id,e)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==a&&void 0!==s&&(n=a*s);let o=void 0;return void 0!==t&&(o=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pairSymbol:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(this.safeString(e,"Time")),this.safeFloat(e,"Open"),this.safeFloat(e,"High"),this.safeFloat(e,"Low"),this.safeFloat(e,"Close"),this.safeFloat(e,"Volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={};void 0!==r&&(n.last=r);const o=await this.publicGetOhlcdata(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const o={PairSymbol:this.marketId(e),OrderType:"buy"===i?0:1,OrderMethod:"market"===t?1:0};if("market"===t){if(!("Total"in n))throw new s(this.id+' createOrder requires the "Total" extra parameter for market orders (amount and price are both ignored)')}else o.Price=a,o.Amount=r;const c=await this.privatePostExchange(this.extend(o,n));return{info:c,id:this.safeString(c,"id")}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostCancelOrder(this.extend(r,i))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},a,n){if("btctrader"===this.id)throw new s(this.id+" is an abstract base API for BTCExchange, BTCTurk");let o=this.urls.api+"/"+e;if("public"===t)Object.keys(r).length&&(o+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString();n=this.urlencode(r);const t=this.base64ToBinary(this.secret),i=this.apiKey+e;a={"X-PCK":this.apiKey,"X-Stamp":e,"X-Signature":this.stringToBase64(this.hmac(this.encode(i),t,"sha256","binary")),"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:n,headers:a}}}},"MV+h":function(e,t,i){var r=i("pRMk").Buffer;function s(e,t,i){for(var r,s,n=-1,o=0;++n<8;)r=t&1<<7-n?128:0,o+=(128&(s=e._cipher.encryptBlock(e._prev)[0]^r))>>n%8,e._prev=a(e._prev,i?r:s);return o}function a(e,t){var i=e.length,s=-1,a=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++s<i;)a[s]=e[s]<<1|e[s+1]>>7;return a}t.encrypt=function(e,t,i){for(var a=t.length,n=r.allocUnsafe(a),o=-1;++o<a;)n[o]=s(e,t[o],i);return n}},MceK:function(e){e.exports=JSON.parse('{"name":"mainnet","chainId":1,"networkId":1,"comment":"The Ethereum main chain","url":"https://ethstats.net/","genesis":{"hash":"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3","timestamp":null,"gasLimit":5000,"difficulty":17179869184,"nonce":"0x0000000000000042","extraData":"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa","stateRoot":"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544"},"hardforks":[{"name":"chainstart","block":0,"consensus":"pow","finality":null},{"name":"homestead","block":1150000,"consensus":"pow","finality":null},{"name":"dao","block":1920000,"consensus":"pow","finality":null},{"name":"tangerineWhistle","block":2463000,"consensus":"pow","finality":null},{"name":"spuriousDragon","block":2675000,"consensus":"pow","finality":null},{"name":"byzantium","block":4370000,"consensus":"pow","finality":null},{"name":"constantinople","block":7280000,"consensus":"pow","finality":null},{"name":"petersburg","block":7280000,"consensus":"pow","finality":null},{"name":"istanbul","block":9069000,"consensus":"pow","finality":null},{"name":"muirGlacier","block":9200000,"consensus":"pow","finality":null}],"bootstrapNodes":[{"ip":"13.93.211.84","port":30303,"id":"3f1d12044546b76342d59d4a05532c14b85aa669704bfe1f864fe079415aa2c02d743e03218e57a33fb94523adb54032871a6c51b2cc5514cb7c7e35b3ed0a99","location":"US-WEST","comment":"Go Bootnode"},{"ip":"191.235.84.50","port":30303,"id":"78de8a0916848093c73790ead81d1928bec737d565119932b98c6b100d944b7a95e94f847f689fc723399d2e31129d182f7ef3863f2b4c820abbf3ab2722344d","location":"BR","comment":"Go Bootnode"},{"ip":"13.75.154.138","port":30303,"id":"158f8aab45f6d19c6cbf4a089c2670541a8da11978a2f90dbf6a502a4a3bab80d288afdbeb7ec0ef6d92de563767f3b1ea9e8e334ca711e9f8e2df5a0385e8e6","location":"AU","comment":"Go Bootnode"},{"ip":"52.74.57.123","port":30303,"id":"1118980bf48b0a3640bdba04e0fe78b1add18e1cd99bf22d53daac1fd9972ad650df52176e7c7d89d1114cfef2bc23a2959aa54998a46afcf7d91809f0855082","location":"SG","comment":"Go Bootnode"}]}')},MeJq:function(e,t,i){"use strict";var r=i("72iz");e.exports=r},Mjob:function(e,t,i){"use strict";var r=i("HpGB"),s=i("a/ED");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,s),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},MzSH:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ExchangeNotAvailable:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"_1btcxe",name:"1BTCXE",countries:["PA"],comment:"Crypto Capital API",has:{CORS:!0,withdraw:!0},timeframes:{"1d":"1year"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766049-2b294408-5ecc-11e7-85cc-adaff013dc1a.jpg",api:"https://1btcxe.com/api",www:"https://1btcxe.com",doc:"https://1btcxe.com/api-docs.php"},api:{public:{get:["stats","historical-prices","order-book","transactions"]},private:{post:["balances-and-info","open-orders","user-transactions","btc-deposit-address/get","btc-deposit-address/new","deposits/get","withdrawals/get","orders/new","orders/edit","orders/cancel","orders/status","withdrawals/new"]}}})}async fetchMarkets(e={}){return[{id:"USD",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"BTC",quoteId:"USD"},{id:"EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR"},{id:"CNY",symbol:"BTC/CNY",base:"BTC",quote:"CNY",baseId:"BTC",quoteId:"CNY"},{id:"RUB",symbol:"BTC/RUB",base:"BTC",quote:"RUB",baseId:"BTC",quoteId:"RUB"},{id:"CHF",symbol:"BTC/CHF",base:"BTC",quote:"CHF",baseId:"BTC",quoteId:"CHF"},{id:"JPY",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"BTC",quoteId:"JPY"},{id:"GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"BTC",quoteId:"GBP"},{id:"CAD",symbol:"BTC/CAD",base:"BTC",quote:"CAD",baseId:"BTC",quoteId:"CAD"},{id:"AUD",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"BTC",quoteId:"AUD"},{id:"AED",symbol:"BTC/AED",base:"BTC",quote:"AED",baseId:"BTC",quoteId:"AED"},{id:"BGN",symbol:"BTC/BGN",base:"BTC",quote:"BGN",baseId:"BTC",quoteId:"BGN"},{id:"CZK",symbol:"BTC/CZK",base:"BTC",quote:"CZK",baseId:"BTC",quoteId:"CZK"},{id:"DKK",symbol:"BTC/DKK",base:"BTC",quote:"DKK",baseId:"BTC",quoteId:"DKK"},{id:"HKD",symbol:"BTC/HKD",base:"BTC",quote:"HKD",baseId:"BTC",quoteId:"HKD"},{id:"HRK",symbol:"BTC/HRK",base:"BTC",quote:"HRK",baseId:"BTC",quoteId:"HRK"},{id:"HUF",symbol:"BTC/HUF",base:"BTC",quote:"HUF",baseId:"BTC",quoteId:"HUF"},{id:"ILS",symbol:"BTC/ILS",base:"BTC",quote:"ILS",baseId:"BTC",quoteId:"ILS"},{id:"INR",symbol:"BTC/INR",base:"BTC",quote:"INR",baseId:"BTC",quoteId:"INR"},{id:"MUR",symbol:"BTC/MUR",base:"BTC",quote:"MUR",baseId:"BTC",quoteId:"MUR"},{id:"MXN",symbol:"BTC/MXN",base:"BTC",quote:"MXN",baseId:"BTC",quoteId:"MXN"},{id:"NOK",symbol:"BTC/NOK",base:"BTC",quote:"NOK",baseId:"BTC",quoteId:"NOK"},{id:"NZD",symbol:"BTC/NZD",base:"BTC",quote:"NZD",baseId:"BTC",quoteId:"NZD"},{id:"PLN",symbol:"BTC/PLN",base:"BTC",quote:"PLN",baseId:"BTC",quoteId:"PLN"},{id:"RON",symbol:"BTC/RON",base:"BTC",quote:"RON",baseId:"BTC",quoteId:"RON"},{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK",baseId:"BTC",quoteId:"SEK"},{id:"SGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD",baseId:"BTC",quoteId:"SGD"},{id:"THB",symbol:"BTC/THB",base:"BTC",quote:"THB",baseId:"BTC",quoteId:"THB"},{id:"TRY",symbol:"BTC/TRY",base:"BTC",quote:"TRY",baseId:"BTC",quoteId:"TRY"},{id:"ZAR",symbol:"BTC/ZAR",base:"BTC",quote:"ZAR",baseId:"BTC",quoteId:"ZAR"}]}async fetchBalance(e={}){const t=(await this.privatePostBalancesAndInfo(e))["balances-and-info"],i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currency(e).id,n=this.account();n.free=this.safeFloat(t.available,a),n.used=this.safeFloat(t.on_hold,a),i[e]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){const r={currency:this.marketId(e)},s=await this.publicGetOrderBook(this.extend(r,i));return this.parseOrderBook(s["order-book"],void 0,"bid","ask","price","order_amount")}async fetchTicker(e,t={}){const i={currency:this.marketId(e)},r=await this.publicGetStats(this.extend(i,t)),s=this.safeValue(r,"stats",{}),a=this.safeFloat(s,"last_price");return{symbol:e,timestamp:void 0,datetime:void 0,high:this.safeFloat(s,"max"),low:this.safeFloat(s,"min"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(s,"open"),close:a,last:a,previousClose:void 0,change:this.safeFloat(s,"daily_change"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(s,"total_btc_traded"),info:s}}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(e.date+" 00:00:00"),void 0,void 0,void 0,this.safeFloat(e,"price"),void 0]}async fetchOHLCV(e,t="1d",i,r,s={}){const a=this.market(e),n=await this.publicGetHistoricalPrices(this.extend({currency:a.id,timeframe:this.timeframes[t]},s)),o=this.toArray(this.omit(n["historical-prices"],"request_currency"));return this.parseOHLCVs(o,a,t,i,r)}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"id");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeString(e,"maker_type"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;return void 0!==o&&void 0!==n&&(c=o*n),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){const s=this.market(e),a={currency:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTransactions(this.extend(a,r)),o=this.toArray(this.omit(n.transactions,"request_currency"));return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){const n={side:i,type:t,currency:this.marketId(e),amount:r};"limit"===t&&(n.limit_price=s);const o=await this.privatePostOrdersNew(this.extend(n,a));return{info:o,id:o}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostOrdersCancel(this.extend(r,i))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:parseFloat(t),address:i},n=await this.privatePostWithdrawalsNew(this.extend(a,s));return{info:n,id:n.result.uuid}}sign(e,t="public",i="GET",r={},a,n){if("cryptocapital"===this.id)throw new s(this.id+" is an abstract base API for _1btcxe");let o=this.urls.api+"/"+e;if("public"===t)Object.keys(r).length&&(o+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.extend({api_key:this.apiKey,nonce:this.nonce()},r),t=this.json(e);e.signature=this.hmac(this.encode(t),this.encode(this.secret)),n=this.json(e),a={"Content-Type":"application/json"}}return{url:o,method:i,body:n,headers:a}}async request(e,t="public",i="GET",r={},n,o){const c=await this.fetch2(e,t,i,r,n,o);if("string"===typeof c&&c.indexOf("Maintenance")>=0)throw new a(this.id+" on maintenance");if("errors"in c){let e=[];for(let t=0;t<c.errors.length;t++){const i=c.errors[t];e.push(i.code+": "+i.message)}throw e=e.join(" "),new s(this.id+" "+e)}return c}}},N4x7:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidOrder:c,InvalidNonce:d,InsufficientFunds:h,AuthenticationError:u,PermissionDenied:l,NotSupported:f,OnMaintenance:p,RateLimitExceeded:m}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gemini",name:"Gemini",countries:["US"],rateLimit:1500,version:"v1",has:{fetchDepositAddress:!1,createDepositAddress:!0,CORS:!1,fetchBidsAsks:!1,fetchTickers:!1,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!1,createMarketOrder:!1,withdraw:!0,fetchTransactions:!0,fetchWithdrawals:!1,fetchDeposits:!1,fetchOHLCV:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27816857-ce7be644-6096-11e7-82d6-3c257263229c.jpg",api:{public:"https://api.gemini.com",private:"https://api.gemini.com",web:"https://docs.gemini.com"},www:"https://gemini.com/",doc:["https://docs.gemini.com/rest-api","https://docs.sandbox.gemini.com"],test:"https://api.sandbox.gemini.com",fees:["https://gemini.com/api-fee-schedule","https://gemini.com/trading-fees","https://gemini.com/transfer-fees"]},api:{web:{get:["rest-api"]},public:{get:["v1/symbols","v1/pubticker/{symbol}","v1/book/{symbol}","v1/trades/{symbol}","v1/auction/{symbol}","v1/auction/{symbol}/history","v2/candles/{symbol}/{timeframe}","v2/ticker/{symbol}"]},private:{post:["v1/order/new","v1/order/cancel","v1/order/cancel/session","v1/order/cancel/all","v1/order/status","v1/orders","v1/mytrades","v1/notionalvolume","v1/tradevolume","v1/transfers","v1/balances","v1/deposit/{currency}/newAddress","v1/withdraw/{currency}","v1/heartbeat","v1/transfers"]}},fees:{trading:{taker:.0035,maker:.001}},httpExceptions:{400:n,403:l,404:o,406:h,429:m,500:s,502:s,503:p},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1hr","6h":"6hr","1d":"1day"},exceptions:{exact:{AuctionNotOpen:n,ClientOrderIdTooLong:n,ClientOrderIdMustBeString:n,ConflictingOptions:n,EndpointMismatch:n,EndpointNotFound:n,IneligibleTiming:n,InsufficientFunds:h,InvalidJson:n,InvalidNonce:d,InvalidOrderType:c,InvalidPrice:c,InvalidQuantity:c,InvalidSide:c,InvalidSignature:u,InvalidSymbol:n,InvalidTimestampInPayload:n,Maintenance:p,MarketNotOpen:c,MissingApikeyHeader:u,MissingOrderField:c,MissingRole:u,MissingPayloadHeader:u,MissingSignatureHeader:u,NoSSL:u,OptionsMustBeArray:n,OrderNotFound:o,RateLimit:m,System:s,UnsupportedOption:n},broad:{"The Gemini Exchange is currently undergoing maintenance.":p}},options:{fetchMarketsMethod:"fetch_markets_from_web"}})}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarketsMethod","fetch_markets_from_api");return await this[t](e)}async fetchMarketsFromWeb(e,t={}){const i=(await this.webGetRestApi(t)).split('<h1 id="symbols-and-minimums">Symbols and minimums</h1>'),r=i.length,s=this.id+" the "+this.name+" API doc HTML markup has changed, breaking the parser of order limits and precision info for "+this.name+" markets.";if(2!==r)throw new f(s);const a=i[1].split("tbody>");if(a.length<2)throw new f(s);const n=a[1].split("<tr>\n"),o=n.length;if(o<2)throw new f(s);const c=[];for(let d=1;d<o;d++){const e=n[d],t=e.split("</td>\n");if(t.length<7)throw new f(s);let i=t[0].replace("<td>","");i=i.replace('<code class="prettyprint">',""),i=i.replace("</code>","");let r=t[2].replace("<td>",""),a=t[1].replace("<td>","");const o=t[3].replace("<td>",""),h=t[4].replace("<td>",""),u=t[5].replace("<td>",""),l=o.split(" "),p=h.split(" "),m=u.split(" ");r=r.toLowerCase(),a=a.toLowerCase();const y=this.safeCurrencyCode(r),b=this.safeCurrencyCode(a),v=y+"/"+b,g={amount:this.precisionFromString(p[0]),price:this.precisionFromString(m[0])},w=void 0;c.push({id:i,info:e,symbol:v,base:y,quote:b,baseId:r,quoteId:a,active:w,precision:g,limits:{amount:{min:parseFloat(l[0]),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return c}async fetchMarketsFromAPI(e={}){const t=await this.publicGetV1Symbols(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e,a=e.slice(0,3),n=e.slice(3,6),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:void 0,price:void 0};i.push({id:e,info:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,precision:h,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetV1BookSymbol(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetV1PubtickerSymbol(this.extend(r,t)),a=this.safeInteger(s.volume,"timestamp"),n=i.base,o=i.quote,c=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s.volume,n),quoteVolume:this.safeFloat(s.volume,o),info:s}}parseTrade(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"tid"),s=this.safeString(e,"order_id"),a=this.safeString(e,"fee_currency"),n=this.safeCurrencyCode(a),o={cost:this.safeFloat(e,"fee_amount"),currency:n},c=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount");let h=void 0;void 0!==c&&void 0!==d&&(h=c*d);const u=this.safeStringLower(e,"type");let l=void 0;return void 0!==t&&(l=t.symbol),{id:r,order:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,type:void 0,side:u,takerOrMaker:void 0,price:c,cost:h,amount:d,fee:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetV1TradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostV1Balances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"available"),n.total=this.safeFloat(e,"amount"),i[a]=n}return this.parseBalance(i)}parseOrder(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeFloat(e,"original_amount"),s=this.safeFloat(e,"remaining_amount"),a=this.safeFloat(e,"executed_amount");let n="closed";e.is_live&&(n="open"),e.is_cancelled&&(n="canceled");const o=this.safeFloat(e,"price"),c=this.safeFloat(e,"avg_execution_price");let d=void 0;void 0!==a&&void 0!==c&&(d=a*c);let h=this.safeString(e,"type");h="exchange limit"===h?"limit":"market buy"===h||"market sell"===h?"market":e.type;let u=void 0;if(void 0===t){const i=this.safeString(e,"symbol");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(u=t.symbol);const l=this.safeString(e,"order_id"),f=this.safeStringLower(e,"side");return{id:l,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:n,symbol:u,type:h,side:f,price:o,average:c,cost:d,amount:r,filled:a,remaining:s,fee:void 0}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePostV1OrderStatus(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostV1Orders(r);let a=this.parseOrders(s,void 0,t,i);if(void 0!==e){const t=this.market(e);a=this.filterBySymbol(a,t.symbol)}return a}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o={client_order_id:this.nonce().toString(),symbol:this.marketId(e),amount:r.toString(),price:a.toString(),side:i,type:"exchange limit"},c=await this.privatePostV1OrderNew(this.extend(o,n));return{info:c,id:c.order_id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostV1OrderCancel(this.extend(r,i))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id};void 0!==i&&(n.limit_trades=i),void 0!==t&&(n.timestamp=parseInt(t/1e3));const o=await this.privatePostV1Mytrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i},n=await this.privatePostV1WithdrawCurrency(this.extend(a,s));return{info:n,id:this.safeString(n,"txHash")}}nonce(){return this.milliseconds()}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit_transfers=i),void 0!==t&&(s.timestamp=t);const a=await this.privatePostV1Transfers(this.extend(s,r));return this.parseTransactions(a)}parseTransaction(e,t){const i=this.safeInteger(e,"timestampms"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r,t),a=this.safeString(e,"destination"),n=this.safeStringLower(e,"type");let o="pending";e.status&&(o="ok");let c=void 0;const d=this.safeFloat(e,"feeAmount");return void 0!==d&&(c={cost:d,currency:s}),{info:e,id:this.safeString(e,"eid"),txid:this.safeString(e,"txHash"),timestamp:i,datetime:this.iso8601(i),address:a,tag:void 0,type:n,amount:this.safeFloat(e,"amount"),currency:s,status:o,updated:void 0,fee:c}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({request:n,nonce:e},o);let i=this.json(t);i=this.stringToBase64(this.encode(i));const r=this.hmac(i,this.encode(this.secret),"sha384");s={"Content-Type":"text/plain","X-GEMINI-APIKEY":this.apiKey,"X-GEMINI-PAYLOAD":this.decode(i),"X-GEMINI-SIGNATURE":r}}else Object.keys(o).length&&(n+="?"+this.urlencode(o));return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o){if("string"===typeof n){const e=this.id+" "+n;this.throwBroadlyMatchedException(this.exceptions.broad,n,e)}return}if("error"===this.safeString(o,"result")){const e=this.safeString(o,"reason"),t=this.safeString(o,"message"),i=this.id+" "+t;throw this.throwExactlyMatchedException(this.exceptions.exact,e,i),this.throwExactlyMatchedException(this.exceptions.exact,t,i),this.throwBroadlyMatchedException(this.exceptions.broad,t,i),new s(i)}}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostV1DepositCurrencyNewAddress(this.extend(i,t)),s=this.safeString(r,"address");return this.checkAddress(s),{currency:e,address:s,tag:void 0,info:r}}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={timeframe:this.timeframes[t],symbol:a.id},o=await this.publicGetV2CandlesSymbolTimeframe(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}}},NCIG:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coincheck",name:"coincheck",countries:["JP","ID"],rateLimit:1500,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766464-3b5c3c74-5ed9-11e7-840e-31b32968e1da.jpg",api:"https://coincheck.com/api",www:"https://coincheck.com",doc:"https://coincheck.com/documents/exchange/api",fees:["https://coincheck.com/exchange/fee","https://coincheck.com/info/fee"]},api:{public:{get:["exchange/orders/rate","order_books","rate/{pair}","ticker","trades"]},private:{get:["accounts","accounts/balance","accounts/leverage_balance","bank_accounts","deposit_money","exchange/orders/opens","exchange/orders/transactions","exchange/orders/transactions_pagination","exchange/leverage/positions","lending/borrows/matches","send_money","withdraws"],post:["bank_accounts","deposit_money/{id}/fast","exchange/orders","exchange/transfers/to_leverage","exchange/transfers/from_leverage","lending/borrows","lending/borrows/{id}/repay","send_money","withdraws"],delete:["bank_accounts/{id}","exchange/orders/{id}","withdraws/{id}"]}},markets:{"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:0}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountsBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currencyId(e);if(a in t){const r=this.account(),s=a+"_reserved";r.free=this.safeFloat(t,a),r.used=this.safeFloat(t,s),i[e]=r}}return this.parseBalance(i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a=await this.privateGetExchangeOrdersOpens(r),n=this.safeValue(a,"orders",[]),o=this.parseOrders(n,s,t,i),c=[];for(let d=0;d<o.length;d++)c.push(this.extend(o[d],{status:"open"}));return c}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"order_type"),s=this.parse8601(this.safeString(e,"created_at")),a=this.safeFloat(e,"pending_amount"),n=this.safeFloat(e,"pending_amount"),o=this.safeFloat(e,"rate");let c=void 0,d=void 0;void 0!==n&&void 0!==a&&(c=Math.max(a-n,0),void 0!==o&&(d=c*o));const h=this.safeString(e,"pair");let u=void 0;if(void 0!==h)if(h in this.markets_by_id)u=this.markets_by_id[h].symbol;else{const[e,t]=h.split("_");u=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}return{id:i,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,amount:a,remaining:n,filled:c,side:r,type:void 0,status:void 0,symbol:u,price:o,cost:d,fee:void 0,info:e}}async fetchOrderBook(e,t,i={}){if("BTC/JPY"!==e)throw new s(this.id+" fetchOrderBook () supports BTC/JPY only");await this.loadMarkets();const r=await this.publicGetOrderBooks(i);return this.parseOrderBook(r)}async fetchTicker(e,t={}){if("BTC/JPY"!==e)throw new s(this.id+" fetchTicker () supports BTC/JPY only");await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeTimestamp(i,"timestamp"),a=this.safeFloat(i,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"volume"),quoteVolume:void 0,info:i}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeFloat(e,"rate"),a=this.safeString(e,"pair");t=this.safeValue(this.markets_by_id,a,t);let n=void 0,o=void 0,c=void 0;if(void 0!==a)if(a in this.markets_by_id)o=(t=this.markets_by_id[a]).baseId,c=t.quoteId,n=t.symbol;else{const e=a.split("_");o=e[0],c=e[1],n=this.safeCurrencyCode(o)+"/"+this.safeCurrencyCode(c)}void 0===n&&void 0!==t&&(n=t.symbol);let d=void 0,h=void 0,u=void 0,l=void 0,f=void 0,p=void 0;if("liquidity"in e){"T"===this.safeString(e,"liquidity")?d="taker":"M"===this.safeString(e,"liquidity")&&(d="maker");const t=this.safeValue(e,"funds",{});h=this.safeFloat(t,o),u=this.safeFloat(t,c),f={currency:this.safeString(e,"fee_currency"),cost:this.safeFloat(e,"fee")},l=this.safeString(e,"side"),p=this.safeString(e,"order_id")}else h=this.safeFloat(e,"amount"),l=this.safeString(e,"order_type");return void 0===u&&void 0!==h&&void 0!==s&&(u=h*s),{id:r,info:e,datetime:this.iso8601(i),timestamp:i,symbol:n,type:void 0,side:l,order:p,takerOrMaker:d,price:s,amount:h,cost:u,fee:f}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=await this.privateGetExchangeOrdersTransactions(this.extend({},r)),n=this.safeValue(a,"transactions",[]);return this.parseTrades(n,s,t,i)}async fetchTrades(e,t,i,r={}){if("BTC/JPY"!==e)throw new s(this.id+" fetchTrades () supports BTC/JPY only");await this.loadMarkets();const a=this.market(e),n={pair:a.id};void 0!==i&&(n.limit=i);const o=await this.publicGetTrades(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={pair:this.marketId(e)};if("market"===t){const e=t+"_"+i;n.order_type=e,n[("buy"===i?e+"_":"")+"amount"]=r}else n.order_type=i,n.rate=s,n.amount=r;const o=await this.privatePostExchangeOrders(this.extend(n,a));return{info:o,id:this.safeString(o,"id")}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privateDeleteExchangeOrdersId(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(this.keysort(o))):Object.keys(o).length&&(t=a=this.urlencode(this.keysort(o)));const r=e+n+t;s={"Content-Type":"application/x-www-form-urlencoded","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":e,"ACCESS-SIGNATURE":this.hmac(this.encode(r),this.encode(this.secret))}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},s,n){const o=await this.fetch2(e,t,i,r,s,n);if("public"===t)return o;if("success"in o&&o.success)return o;throw new a(this.id+" "+this.json(o))}}},NCU5:function(e,t,i){"use strict";var r=i("pRMk").Buffer,s=i("2AsB"),a=r.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=r.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,i){var s=r.from(i?a:n);return e.copy(s,i?8:9),t.copy(s,i?181:214),s},t.privateKeyImport=function(e){var t=e.length,i=0;if(!(t<i+1||48!==e[i])&&!(t<(i+=1)+1)&&128&e[i]){var r=127&e[i];if(i+=1,!(r<1||r>2)&&!(t<i+r)){var s=e[i+r-1]|(r>1?e[i+r-2]<<8:0);if(!(t<(i+=r)+s)&&!(t<i+3||2!==e[i]||1!==e[i+1]||1!==e[i+2])&&!(t<(i+=3)+2||4!==e[i]||e[i+1]>32||t<i+2+e[i+1]))return e.slice(i+2,i+2+e[i+1])}}},t.signatureExport=function(e){for(var t=r.concat([r.from([0]),e.r]),i=33,a=0;i>1&&0===t[a]&&!(128&t[a+1]);--i,++a);for(var n=r.concat([r.from([0]),e.s]),o=33,c=0;o>1&&0===n[c]&&!(128&n[c+1]);--o,++c);return s.encode(t.slice(a),n.slice(c))},t.signatureImport=function(e){var t=r.alloc(32,0),i=r.alloc(32,0);try{var a=s.decode(e);if(33===a.r.length&&0===a.r[0]&&(a.r=a.r.slice(1)),a.r.length>32)throw new Error("R length is too long");if(33===a.s.length&&0===a.s[0]&&(a.s=a.s.slice(1)),a.s.length>32)throw new Error("S length is too long")}catch(n){return}return a.r.copy(t,32-a.r.length),a.s.copy(i,32-a.s.length),{r:t,s:i}},t.signatureImportLax=function(e){var t=r.alloc(32,0),i=r.alloc(32,0),s=e.length,a=0;if(48===e[a++]){var n=e[a++];if(!(128&n&&(a+=n-128)>s)&&2===e[a++]){var o=e[a++];if(128&o){if(a+(n=o-128)>s)return;for(;n>0&&0===e[a];a+=1,n-=1);for(o=0;n>0;a+=1,n-=1)o=(o<<8)+e[a]}if(!(o>s-a)){var c=a;if(a+=o,2===e[a++]){var d=e[a++];if(128&d){if(a+(n=d-128)>s)return;for(;n>0&&0===e[a];a+=1,n-=1);for(d=0;n>0;a+=1,n-=1)d=(d<<8)+e[a]}if(!(d>s-a)){var h=a;for(a+=d;o>0&&0===e[c];o-=1,c+=1);if(!(o>32)){var u=e.slice(c,c+o);for(u.copy(t,32-u.length);d>0&&0===e[h];d-=1,h+=1);if(!(d>32)){var l=e.slice(h,h+d);return l.copy(i,32-l.length),{r:t,s:i}}}}}}}}}},NQdM:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,InvalidNonce:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,DDoSProtection:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinegg",name:"CoinEgg",countries:["CN","UK"],has:{fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:"emulated",fetchMyTrades:!1,fetchTickers:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/36770310-adfa764e-1c5a-11e8-8e09-449daac3d2fb.jpg",api:{web:"https://trade.coinegg.com/web",rest:"https://api.coinegg.com/api/v1"},www:"https://www.coinegg.com",doc:"https://www.coinegg.com/explain.api.html",fees:"https://www.coinegg.com/fee.html",referral:"https://www.coinegg.com/user/register?invite=523218"},api:{web:{get:["symbol/ticker?right_coin={quote}","{quote}/trends","{quote}/{base}/order","{quote}/{base}/trades","{quote}/{base}/depth.js"]},public:{get:["ticker/region/{quote}","depth/region/{quote}","orders/region/{quote}"]},private:{post:["balance","trade_add/region/{quote}","trade_cancel/region/{quote}","trade_view/region/{quote}","trade_list/region/{quote}"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.008,BCH:.002,LTC:.001,ETH:.01,ETC:.01,NEO:0,QTUM:"1%",XRP:"1%",DOGE:"1%",LSK:"1%",XAS:"1%",BTS:"1%",GAME:"1%",GOOC:"1%",NXT:"1%",IFC:"1%",DNC:"1%",BLK:"1%",VRC:"1%",XPM:"1%",VTC:"1%",TFC:"1%",PLC:"1%",EAC:"1%",PPC:"1%",FZ:"1%",ZET:"1%",RSS:"1%",PGC:"1%",SKT:"1%",JBC:"1%",RIO:"1%",LKC:"1%",ZCC:"1%",MCC:"1%",QEC:"1%",MET:"1%",YTC:"1%",HLB:"1%",MRYC:"1%",MTC:"1%",KTC:0}}},exceptions:{103:a,104:a,105:a,106:n,200:o,201:c,202:c,203:d,402:h},errorMessages:{100:"Required parameters can not be empty",101:"Illegal parameter",102:"coin does not exist",103:"Key does not exist",104:"Signature does not match",105:"Insufficient permissions",106:"Request expired(nonce error)",200:"Lack of balance",201:"Too small for the number of trading",202:"Price must be in 0 - 1000000",203:"Order does not exist",204:"Pending order amount must be above 0.001 BTC",205:"Restrict pending order prices",206:"Decimal place error",401:"System error",402:"Requests are too frequent",403:"Non-open API",404:"IP restriction does not request the resource",405:"Currency transactions are temporarily closed"},options:{quoteIds:["btc","eth","usc","usdt"]},commonCurrencies:{JBC:"JubaoCoin"}})}async fetchMarkets(e={}){const t=this.options.quoteIds,i=[];for(let r=0;r<t.length;r++){const e=t[r],s=await this.webGetSymbolTickerRightCoinQuote({quote:e}),a=this.safeValue(s,"data",[]);for(let t=0;t<a.length;t++){const r=a[t],s=r.symbol,n=s.split("_")[0];let o=n.toUpperCase(),c=e.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c,h={amount:8,price:8};i.push({id:s,symbol:d,base:o,quote:c,baseId:n,quoteId:e,active:!0,precision:h,limits:{amount:{min:Math.pow(10,-h.amount),max:Math.pow(10,h.amount)},price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)},cost:{min:void 0,max:void 0}},info:r})}}return i}parseTicker(e,t){const i=t.symbol,r=this.milliseconds(),s=this.safeFloat(e,"last"),a=this.safeFloat(e,"change");let n=void 0,o=void 0,c=void 0;if(void 0!==a){const e=a/100;n=s/this.sum(1,e),o=s-n,c=this.sum(s,n)/2}return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:n,close:s,last:s,previousClose:void 0,change:o,percentage:a,average:c,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"quoteVol"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={coin:i.baseId,quote:i.quoteId},s=await this.publicGetTickerRegionQuote(this.extend(r,t));return this.parseTicker(s,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={coin:r.baseId,quote:r.quoteId},a=await this.publicGetDepthRegionQuote(this.extend(s,i));return this.parseOrderBook(a)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),a=t.symbol;let n=void 0;void 0!==s&&void 0!==r&&(n=this.costToPrecision(a,r*s));const o=this.safeString(e,"type");return{id:this.safeString(e,"tid"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,order:void 0,type:"limit",side:o,takerOrMaker:void 0,price:r,amount:s,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={coin:s.baseId,quote:s.quoteId},n=await this.publicGetOrdersRegionQuote(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.safeValue(t,"data",{}),s=this.omit(r,"uid"),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],[t,r]=e.split("_"),o=this.safeCurrencyCode(t);o in i||(i[o]=this.account());const c="lock"===r?"used":"free";i[o][c]=this.safeFloat(s,e)}return this.parseBalance(i)}parseOrder(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.parse8601(this.safeString(e,"datetime")),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount_original"),n=this.safeFloat(e,"amount_outstanding");let o=void 0;void 0!==a&&void 0!==n&&(o=a-n);let c=this.safeString(e,"status");c="cancelled"===c?"canceled":n?"open":"closed";const d=this.safeValue(e,"info",e),h=this.safeString(e,"type");return{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:c,symbol:i,type:"limit",side:h,price:s,cost:void 0,amount:a,filled:o,remaining:n,trades:void 0,fee:void 0,info:d}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={coin:n.baseId,quote:n.quoteId,type:i,amount:r,price:s},c=await this.privatePostTradeAddRegionQuote(this.extend(o,a)),d=this.safeString(c,"id"),h=this.parseOrder({id:d,datetime:this.ymdhms(this.milliseconds()),amount_original:r,amount_outstanding:r,price:s,type:i,info:c},n);return this.orders[d]=h,h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,coin:r.baseId,quote:r.quoteId};return await this.privatePostTradeCancelRegionQuote(this.extend(s,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={id:e,coin:r.baseId,quote:r.quoteId},a=await this.privatePostTradeViewRegionQuote(this.extend(s,i));return this.parseOrder(a.data,r)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={coin:s.baseId,quote:s.quoteId};void 0!==t&&(a.since=t/1e3);const n=await this.privatePostTradeListRegionQuote(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({type:"open"},r))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="rest";"web"===t&&(n=t);let o=this.urls.api[n]+"/"+this.implodeParams(e,r),c=this.omit(r,this.extractParams(e));if("public"===t||"web"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),c=this.urlencode(this.extend({key:this.apiKey,nonce:this.nonce()},c));const e=this.hash(this.encode(this.secret));c+="&signature="+this.hmac(this.encode(c),this.encode(e)),"GET"===i?o+="?"+c:(s={"Content-type":"application/x-www-form-urlencoded"},a=c)}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"result");if(void 0===h)return;if(!0===h)return;const u=this.safeString(o,"code"),l=this.errorMessages,f=this.safeString(l,u,"Unknown Error"),p=this.id+" "+f;throw this.throwExactlyMatchedException(this.exceptions,u,p),new s(this.id+" "+f)}}},"NY/1":function(e,t,i){var r=i("qykS").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),i=e.length,s=0;s<i;s++)t[s]=e[s];return t.buffer}throw new Error("Argument must be a Buffer")}},NYr8:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},NzZW:function(e,t,i){var r=i("+fA7"),s=i("E5rJ"),a=function(){};e.exports=function(e,t){delete e.uri;var i=!1;"json"===e.responseType&&(e.responseType="text",i=!0);var n=r(e,(function(r,n,o){if(i&&!r)try{var c=n.rawRequest.responseText;o=JSON.parse(c)}catch(d){r=d}n=s(e,n),t(r,r?null:o,n),t=a})),o=n.onabort;return n.onabort=function(){var e=o.apply(n,Array.prototype.slice.call(arguments));return t(new Error("XHR Aborted")),t=a,e},n}},"O+UX":function(e,t,i){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(t){function i(){var e=t.call(this)||this;return e._contentType=null,e._body=null,e._reset(),e}return r(i,t),i.prototype._reset=function(){this._contentType=null,this._body=null},i.prototype._setData=function(t){if(null!=t)if("string"===typeof t)0!==t.length&&(this._contentType="text/plain;charset=UTF-8"),this._body=new e(t,"utf-8");else if(e.isBuffer(t))this._body=t;else if(t instanceof ArrayBuffer){for(var i=new e(t.byteLength),r=new Uint8Array(t),s=0;s<t.byteLength;s++)i[s]=r[s];this._body=i}else{if(!(t.buffer&&t.buffer instanceof ArrayBuffer))throw new Error("Unsupported send() data "+t);i=new e(t.byteLength);var a=t.byteOffset;for(r=new Uint8Array(t.buffer),s=0;s<t.byteLength;s++)i[s]=r[s+a];this._body=i}},i.prototype._finalizeHeaders=function(e,t){this._contentType&&!t["content-type"]&&(e["Content-Type"]=this._contentType),this._body&&(e["Content-Length"]=this._body.length.toString())},i.prototype._startUpload=function(e){this._body&&e.write(this._body),e.end()},i}(i("x+kU").XMLHttpRequestEventTarget);t.XMLHttpRequestUpload=s}).call(this,i("qykS").Buffer)},O2Am:function(e,t,i){"use strict";e.exports=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"ttl",outputs:[{name:"",type:"uint64"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!0,name:"label",type:"bytes32"},{indexed:!1,name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"node",type:"bytes32"},{indexed:!1,name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"}]},O477:function(e,t,i){"use strict";var r=i("tFbo"),s=i("LRLT"),a=i("siiD");function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=s.toArray(e.entropy,e.entropyEnc||"hex"),i=s.toArray(e.nonce,e.nonceEnc||"hex"),r=s.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,r)}e.exports=n,n.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,t,i,r){"string"!==typeof t&&(r=i,i=t,t=null),e=s.toArray(e,t),i=s.toArray(i,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},n.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=i,i=t,t=null),i&&(i=s.toArray(i,r||"hex"),this._update(i));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var n=a.slice(0,e);return this._update(i),this._reseed++,s.encode(n,t)}},O7hL:function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.SecurityError=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.InvalidStateError=a;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.NetworkError=n;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(Error);t.SyntaxError=o},O8Ce:function(e,t,i){"use strict";var r,s=null;try{r=Function("return this")()}catch(a){r=window}"undefined"!==typeof r.ethereumProvider?s=r.ethereumProvider:"undefined"!==typeof r.web3&&r.web3.currentProvider&&(r.web3.currentProvider.sendAsync&&(r.web3.currentProvider.send=r.web3.currentProvider.sendAsync,delete r.web3.currentProvider.sendAsync),!r.web3.currentProvider.on&&r.web3.currentProvider.connection&&"ipcProviderWrapper"===r.web3.currentProvider.connection.constructor.name&&(r.web3.currentProvider.on=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.connection.on("data",(function(e){var i="";e=e.toString();try{i=JSON.parse(e)}catch(a){return t(new Error("Couldn't parse response data"+e))}i.id||-1===i.method.indexOf("_subscription")||t(null,i)}));break;default:this.connection.on(e,t)}}),s=r.web3.currentProvider),e.exports=s},ODEr:function(e,t,i){var r=i("ql4I"),s=i("oBSY"),a=i("wfEq"),n=i("pRMk").Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(e){r.call(this);var t,i=e.mode.toLowerCase(),s=o[i];t=e.decrypt?"decrypt":"encrypt";var a=e.key;n.isBuffer(a)||(a=n.from(a)),"des-ede"!==i&&"des-ede-cbc"!==i||(a=n.concat([a,a.slice(0,8)]));var c=e.iv;n.isBuffer(c)||(c=n.from(c)),this._des=s.create({key:a,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,a(c,r),c.prototype._update=function(e){return n.from(this._des.update(e))},c.prototype._final=function(){return n.from(this._des.final())}},OFZ7:function(e,t,i){var r=i("PoH+"),s=i("WZyW"),a=new(0,i("GoAl").AbiCoder)((function(e,t){return!e.match(/^u?int/)||r.isArray(t)||r.isObject(t)&&"BN"===t.constructor.name?t:t.toString()}));function n(){}var o=function(){};o.prototype.encodeFunctionSignature=function(e){return r.isObject(e)&&(e=s._jsonInterfaceMethodToString(e)),s.sha3(e).slice(0,10)},o.prototype.encodeEventSignature=function(e){return r.isObject(e)&&(e=s._jsonInterfaceMethodToString(e)),s.sha3(e)},o.prototype.encodeParameter=function(e,t){return this.encodeParameters([e],[t])},o.prototype.encodeParameters=function(e,t){return a.encode(this.mapTypes(e),t.map((function(e){return s.isBN(e)||s.isBigNumber(e)?e.toString(10):e})))},o.prototype.mapTypes=function(e){var t=this,i=[];return e.forEach((function(e){if(t.isSimplifiedStructFormat(e)){var r=Object.keys(e)[0];i.push(Object.assign(t.mapStructNameAndType(r),{components:t.mapStructToCoderFormat(e[r])}))}else i.push(e)})),i},o.prototype.isSimplifiedStructFormat=function(e){return"object"===typeof e&&"undefined"===typeof e.components&&"undefined"===typeof e.name},o.prototype.mapStructNameAndType=function(e){var t="tuple";return e.indexOf("[]")>-1&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}},o.prototype.mapStructToCoderFormat=function(e){var t=this,i=[];return Object.keys(e).forEach((function(r){"object"!==typeof e[r]?i.push({name:r,type:e[r]}):i.push(Object.assign(t.mapStructNameAndType(r),{components:t.mapStructToCoderFormat(e[r])}))})),i},o.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")},o.prototype.decodeParameter=function(e,t){return this.decodeParameters([e],t)[0]},o.prototype.decodeParameters=function(e,t){if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var i=a.decode(this.mapTypes(e),"0x"+t.replace(/0x/i,"")),s=new n;return s.__length__=0,e.forEach((function(e,t){var a=i[s.__length__];a="0x"===a?null:a,s[t]=a,r.isObject(e)&&e.name&&(s[e.name]=a),s.__length__++})),s},o.prototype.decodeLog=function(e,t,i){var s=this;i=r.isArray(i)?i:[i],t=t||"";var a=[],o=[],c=0;e.forEach((function(e,t){e.indexed?(o[t]=["bool","int","uint","address","fixed","ufixed"].find((function(t){return-1!==e.type.indexOf(t)}))?s.decodeParameter(e.type,i[c]):i[c],c++):a[t]=e}));var d=t,h=d?this.decodeParameters(a,d):[],u=new n;return u.__length__=0,e.forEach((function(e,t){u[t]="string"===e.type?"":null,"undefined"!==typeof h[t]&&(u[t]=h[t]),"undefined"!==typeof o[t]&&(u[t]=o[t]),e.name&&(u[e.name]=u[t]),u.__length__++})),u};var c=new o;e.exports=c},OLMR:function(e,t,i){"use strict";e.exports=a;var r=i("+t3Y"),s=Object.create(i("nrnY"));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}s.inherits=i("wfEq"),s.inherits(a,r),a.prototype._transform=function(e,t,i){i(null,e)}},OUq3:function(e,t,i){"use strict";var r=i("RmdU"),s=i("9eKw"),a=i("WZyW"),n=i("owCW"),o=i("/mWR").formatters,c=function(){var e=this;r.packageInit(this,arguments),this.net=new n(this.currentProvider);var t=null,i="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return t},set:function(e){return e&&(t=a.toChecksumAddress(o.inputAddressFormatter(e))),c.forEach((function(e){e.defaultAccount=t})),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return i},set:function(e){return i=e,c.forEach((function(e){e.defaultBlock=i})),e},enumerable:!0});var c=[new s({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:a.toChecksumAddress}),new s({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:a.toChecksumAddress}),new s({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[o.inputAddressFormatter,null,null]}),new s({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[o.inputAddressFormatter]}),new s({name:"importRawKey",call:"personal_importRawKey",params:2}),new s({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new s({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new s({name:"sign",call:"personal_sign",params:3,inputFormatter:[o.inputSignFormatter,o.inputAddressFormatter,null]}),new s({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[o.inputSignFormatter,null]})];c.forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount}))};r.addProviders(c),e.exports=c},OacK:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,NotSupported:a,AuthenticationError:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"xbtce",name:"xBTCe",countries:["RU"],rateLimit:2e3,version:"v1",has:{CORS:!1,fetchTickers:!0,createMarketOrder:!1,fetchOHLCV:!1},urls:{referral:"https://xbtce.com/?agent=XX97BTCXXXG687021000B",logo:"https://user-images.githubusercontent.com/1294454/28059414-e235970c-662c-11e7-8c3a-08e31f78684b.jpg",api:"https://cryptottlivewebapi.xbtce.net:8443/api",www:"https://www.xbtce.com",doc:["https://www.xbtce.com/tradeapi","https://support.xbtce.info/Knowledgebase/Article/View/52/25/xbtce-exchange-api"]},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["currency","currency/{filter}","level2","level2/{filter}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/level2","quotehistory/{symbol}/ticks","symbol","symbol/{filter}","tick","tick/{filter}","ticker","ticker/{filter}","tradesession"]},private:{get:["tradeserverinfo","tradesession","currency","currency/{filter}","level2","level2/{filter}","symbol","symbol/{filter}","tick","tick/{filter}","account","asset","asset/{id}","position","position/{id}","trade","trade/{id}","quotehistory/{symbol}/{periodicity}/bars/ask","quotehistory/{symbol}/{periodicity}/bars/ask/info","quotehistory/{symbol}/{periodicity}/bars/bid","quotehistory/{symbol}/{periodicity}/bars/bid/info","quotehistory/{symbol}/level2","quotehistory/{symbol}/level2/info","quotehistory/{symbol}/periodicities","quotehistory/{symbol}/ticks","quotehistory/{symbol}/ticks/info","quotehistory/cache/{symbol}/{periodicity}/bars/ask","quotehistory/cache/{symbol}/{periodicity}/bars/bid","quotehistory/cache/{symbol}/level2","quotehistory/cache/{symbol}/ticks","quotehistory/symbols","quotehistory/version"],post:["trade","tradehistory"],put:["trade"],delete:["trade"]}},commonCurrencies:{DSH:"DASH"}})}async fetchMarkets(e={}){const t=await this.privateGetSymbol(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"Symbol"),a=this.safeString(e,"MarginCurrency"),n=this.safeString(e,"ProfitCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);let d=o+"/"+c;d=e.IsTradeAllowed?d:s,i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAsset(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"Currency"),a=this.safeCurrencyCode(s),n={free:this.safeFloat(e,"FreeAmount"),used:this.safeFloat(e,"LockedAmount"),total:this.safeFloat(e,"Amount")};i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={filter:this.market(e).id},s=(await this.privateGetLevel2Filter(this.extend(r,i)))[0],a=this.safeInteger(s,"Timestamp");return this.parseOrderBook(s,a,"Bids","Asks","Price","Volume")}parseTicker(e,t){let i=0,r=void 0;"LastBuyTimestamp"in e&&i<e.LastBuyTimestamp&&(i=e.LastBuyTimestamp,r=e.LastBuyPrice),"LastSellTimestamp"in e&&i<e.LastSellTimestamp&&(i=e.LastSellTimestamp,r=e.LastSellPrice),i||(i=this.milliseconds());let s=void 0;return t&&(s=t.symbol),{symbol:s,timestamp:i,datetime:this.iso8601(i),high:e.DailyBestBuyPrice,low:e.DailyBestSellPrice,bid:e.BestBid,bidVolume:void 0,ask:e.BestAsk,askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:e.DailyTradedTotalVolume,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.indexBy(i,"Symbol"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n];let t=void 0,i=void 0;if(e in this.markets_by_id)t=this.markets_by_id[e],i=t.symbol;else{const t=e.slice(0,3),r=e.slice(3,6);i=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(r)}const o=r[e];a[i]=this.parseTicker(o,t)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={filter:i.id},a=await this.publicGetTickerFilter(this.extend(r,t));if(a.length<1)throw new s(this.id+" fetchTicker returned empty response, xBTCe public API error");const n=this.indexBy(a,"Symbol")[i.id];return this.parseTicker(n,i)}async fetchTrades(e,t,i,r={}){return await this.loadMarkets(),await this.privateGetTrade(r)}parseOHLCV(e,t,i="1m",r,s){return[e.Timestamp,e.Open,e.High,e.Low,e.Close,e.Volume]}async fetchOHLCV(e,t="1m",i,r,s={}){throw new a(this.id+" fetchOHLCV is disabled by the exchange")}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o={pair:this.marketId(e),type:i,amount:r,rate:a},c=await this.privatePostTrade(this.extend(o,n));return{info:c,id:c.Id.toString()}}async cancelOrder(e,t,i={}){const r={Type:"Cancel",Id:e};return await this.privateDeleteTrade(this.extend(r,i))}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){if(!this.apiKey)throw new n(this.id+" requires apiKey for all requests, their public API is always busy");if(!this.uid)throw new n(this.id+" requires uid property for authentication and trading, their public API is always busy");let o=this.urls.api+"/"+this.version;"public"===t&&(o+="/"+t),o+="/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),s={"Accept-Encoding":"gzip, deflate"};const e=this.nonce().toString();"POST"===i&&(Object.keys(c).length?(s["Content-Type"]="application/json",a=this.json(c)):o+="?"+this.urlencode(c));let t=e+this.uid+this.apiKey+i+o;a&&(t+=a);const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64"),n=this.uid+":"+this.apiKey+":"+e+":"+this.decode(r);s.Authorization="HMAC "+n}return{url:o,method:i,body:a,headers:s}}}},OjXq:function(e,t,i){"use strict";(function(t){const r=i("cdDq"),{isNode:s,keys:a,values:n,deepExtend:o,extend:c,clone:d,flatten:h,unique:u,indexBy:l,sortBy:f,groupBy:p,aggregate:m,uuid:y,unCamelCase:b,precisionFromString:v,throttle:g,capitalize:w,now:k,timeout:_,TimedOut:T,buildOHLCVC:S,decimalToPrecision:x,defaultFetch:O}=r,{ExchangeError:C,BadSymbol:M,InvalidAddress:A,NotSupported:E,AuthenticationError:I,DDoSProtection:B,RequestTimeout:F,ExchangeNotAvailable:P,RateLimitExceeded:R}=i("ucJe"),{TRUNCATE:q,ROUND:L,DECIMAL_PLACES:D}=r.precisionConstants,N=i("tk5I");let U=void 0,V=void 0,G=void 0,j=void 0;try{U=i("VVEJ"),V=i("QaXa"),G=i("LOya"),j=i("2aPM")}catch(H){}e.exports=class e{describe(){return{id:void 0,name:void 0,countries:void 0,enableRateLimit:!1,rateLimit:2e3,certified:!1,has:{cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!0,createOrder:!0,deposit:!1,editOrder:"emulated",fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!1,fetchCurrencies:!1,fetchDepositAddress:!1,fetchDeposits:!1,fetchFundingFees:!1,fetchL2OrderBook:!0,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:"emulated",fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!1,fetchOrderTrades:!1,fetchStatus:"emulated",fetchTicker:!0,fetchTickers:!1,fetchTime:!1,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!1,privateAPI:!0,publicAPI:!0,withdraw:!1},urls:{logo:void 0,api:void 0,www:void 0,doc:void 0,fees:void 0},api:void 0,requiredCredentials:{apiKey:!0,secret:!0,uid:!1,login:!1,password:!1,twofa:!1,privateKey:!1,walletAddress:!1,token:!1},markets:void 0,currencies:{},timeframes:void 0,fees:{trading:{tierBased:void 0,percentage:void 0,taker:void 0,maker:void 0},funding:{tierBased:void 0,percentage:void 0,withdraw:{},deposit:{}}},status:{status:"ok",updated:void 0,eta:void 0,url:void 0},exceptions:void 0,httpExceptions:{422:C,418:B,429:R,404:P,409:P,500:P,501:P,502:P,520:P,521:P,522:P,525:P,526:P,400:P,403:P,405:P,503:P,530:P,408:F,504:F,401:I,511:I},dontGetUsedBalanceFromStaleCache:!1,commonCurrencies:{XBT:"BTC",BCC:"BCH",DRK:"DASH",BCHABC:"BCH",BCHSV:"BSV"},precisionMode:D,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}constructor(e={}){Object.assign(this,r),this.options={},this.fetchOptions={},this.userAgents={chrome:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36",chrome39:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36"},this.headers={},this.proxy="",this.origin="*",this.minFundingAddressLength=1,this.substituteCommonCurrencyCodes=!0,this.fetchImplementation=O,this.timeout=1e4,this.verbose=!1,this.debug=!1,this.userAgent=void 0,this.twofa=void 0,this.apiKey=void 0,this.secret=void 0,this.uid=void 0,this.login=void 0,this.password=void 0,this.privateKey=void 0,this.walletAddress=void 0,this.token=void 0,this.balance={},this.orderbooks={},this.tickers={},this.orders={},this.trades={},this.transactions={},this.ohlcvs={},this.requiresWeb3=!1,this.precision={},this.enableLastJsonResponse=!0,this.enableLastHttpResponse=!0,this.enableLastResponseHeaders=!0,this.last_http_response=void 0,this.last_json_response=void 0,this.last_response_headers=void 0,this.arrayConcat=(e,t)=>e.concat(t);const t=(e=this)=>{if(null!==e){for(const t of Object.getOwnPropertyNames(e))this[b(t)]=this[t];t(Object.getPrototypeOf(e))}};t();const i=o(this.describe(),e);for(const[r,s]of Object.entries(i))this[r]=o(this[r],s);this.httpAgent||(this.httpAgent=O.http?new O.http.Agent({keepAlive:!0}):void 0),this.httpsAgent||(this.httpsAgent=O.https?new O.https.Agent({keepAlive:!0}):void 0);for(const r in this.has)this["has"+w(r)]=!!this.has[r];if(this.api&&this.defineRestApi(this.api,"request"),this.initRestRateLimiter(),this.markets&&this.setMarkets(this.markets),this.requiresWeb3&&!this.web3&&U){const e=this.web3ProviderURL?new U.providers.HttpProvider(this.web3ProviderURL):new U.providers.HttpProvider;this.web3=new U(U.givenProvider||e)}}defaults(){return{}}nonce(){return this.seconds()}encodeURIComponent(...e){return encodeURIComponent(...e)}checkRequiredCredentials(e=!0){const t=Object.keys(this.requiredCredentials);for(let i=0;i<t.length;i++){const r=t[i];if(this.requiredCredentials[r]&&!this[r]){if(e)throw new I(this.id+" requires `"+r+"` credential");return e}}return!0}checkAddress(e){if(void 0===e)throw new A(this.id+" address is undefined");if(1===u(e).length||e.length<this.minFundingAddressLength||e.includes(" "))throw new A(this.id+" address is invalid or has less than "+this.minFundingAddressLength.toString()+' characters: "'+this.json(e)+'"');return e}initRestRateLimiter(){if(void 0===this.rateLimit)throw new Error(this.id+".rateLimit property is not configured");this.tokenBucket=this.extend({refillRate:1/this.rateLimit,delay:1,capacity:1,defaultCost:1,maxCapacity:1e3},this.tokenBucket),this.throttle=g(this.tokenBucket),this.executeRestRequest=(e,t="GET",i,r)=>{const a=this.fetchImplementation,n={method:t,headers:i,body:r,timeout:this.timeout};this.agent?(this.agent.keepAlive=!0,n.agent=this.agent):this.httpAgent&&0===e.indexOf("http://")?n.agent=this.httpAgent:this.httpsAgent&&0===e.indexOf("https://")&&(n.agent=this.httpsAgent);const o=a(e,this.extend(n,this.fetchOptions)).catch(i=>{if(s)throw new P([this.id,t,e,i.type,i.message].join(" "));throw i}).then(s=>this.handleRestResponse(s,e,t,i,r));return _(this.timeout,o).catch(i=>{if(i instanceof T)throw new F(this.id+" "+t+" "+e+" request timed out ("+this.timeout+" ms)");throw i})}}setSandboxMode(e){if(e){if(!("test"in this.urls))throw new E(this.id+" does not have a sandbox URL");"string"===typeof this.urls.api?(this.urls.api_backup=this.urls.api,this.urls.api=this.urls.test):(this.urls.api_backup=d(this.urls.api),this.urls.api=d(this.urls.test))}else"api_backup"in this.urls&&("string"===typeof this.urls.api?this.urls.api=this.urls.api_backup:this.urls.api=d(this.urls.api_backup))}defineRestApi(e,t,i={}){for(const r of Object.keys(e))for(const s of Object.keys(e[r])){let a=e[r][s];for(let e=0;e<a.length;e++){let n=a[e].trim(),o=n.split(/[^a-zA-Z0-9]/),c=s.toUpperCase(),d=s.toLowerCase(),h=this.capitalize(d),u=o.map(this.capitalize).join(""),l=o.map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).join("_"),f=r+h+this.capitalize(u),p=r+"_"+d+"_"+l;"suffixes"in i&&("camelcase"in i.suffixes&&(f+=i.suffixes.camelcase),"underscore"in i.suffixes&&(p+=i.suffixes.underscore)),"underscore_suffix"in i&&(p+=i.underscoreSuffix),"camelcase_suffix"in i&&(f+=i.camelcaseSuffix);let m=async e=>this[t](n,r,c,e||{});this[f]=m,this[p]=m}}}fetch(e,t="GET",i,r){return s&&this.userAgent&&("string"===typeof this.userAgent?i=c({"User-Agent":this.userAgent},i):"object"===typeof this.userAgent&&"User-Agent"in this.userAgent&&(i=c(this.userAgent,i))),"function"===typeof this.proxy?(e=this.proxy(e),s&&(i=c({Origin:this.origin},i))):"string"===typeof this.proxy&&(this.proxy.length&&s&&(i=c({Origin:this.origin},i)),e=this.proxy+e),i=c(this.headers,i),this.verbose&&console.log("fetch:\n",this.id,t,e,"\nRequest:\n",i,"\n",r,"\n"),this.executeRestRequest(e,t,i,r)}async fetch2(e,t="public",i="GET",r={},s,a){this.enableRateLimit&&await this.throttle();const n=this.sign(e,t,i,r,s,a);return this.fetch(n.url,n.method,n.headers,n.body)}request(e,t="public",i="GET",r={},s,a){return this.fetch2(e,t,i,r,s,a)}parseJson(e){try{if(this.isJsonEncodedObject(e))return JSON.parse(e)}catch(H){return}}throwExactlyMatchedException(e,t,i){if(t in e)throw new e[t](i)}throwBroadlyMatchedException(e,t,i){const r=this.findBroadlyMatchedKey(e,t);if(void 0!==r)throw new e[r](i)}findBroadlyMatchedKey(e,t){const i=Object.keys(e);for(let r=0;r<i.length;r++){const e=i[r];if(t.indexOf(e)>=0)return e}}handleErrors(e,t,i,r,s,a,n,o,c){}defaultErrorHandler(e,t,i,r,s,a,n){if(e>=200&&e<=299)return;let o=a;const c=e.toString();let d=void 0;if(c in this.httpExceptions&&(d=this.httpExceptions[c]),void 0===n){const e=a.match(/offline|busy|retry|wait|unavailable|maintain|maintenance|maintenancing/i),t=a.match(/cloudflare|incapsula|overload|ddos/i);e&&(d=P,o+=" offline, on maintenance, or unreachable from this location at the moment"),t&&(d=B)}if(d===P&&(o+=" (possible reasons: "+["invalid API keys","bad or old nonce","exchange is down or offline","on maintenance","DDoS protection","rate-limiting"].join(", ")+")"),void 0!==d)throw new d([this.id,r,i,e,t,o].join(" "))}getResponseHeaders(e){const t={};return e.headers.forEach((e,i)=>{i=i.split("-").map(e=>w(e)).join("-"),t[i]=e}),t}handleRestResponse(e,t,i="GET",r,s){return e.text().then(a=>{const n=this.parseJson(a),o=this.getResponseHeaders(e);return this.enableLastResponseHeaders&&(this.last_response_headers=o),this.enableLastHttpResponse&&(this.last_http_response=a),this.enableLastJsonResponse&&(this.last_json_response=n),this.verbose&&console.log("handleRestResponse:\n",this.id,i,t,e.status,e.statusText,"\nResponse:\n",o,"\n",a,"\n"),this.handleErrors(e.status,e.statusText,t,i,o,a,n,r,s),this.defaultErrorHandler(e.status,e.statusText,t,i,o,a,n),n||a})}setMarkets(e,t){const i=Object.values(e).map(e=>o({limits:this.limits,precision:this.precision},this.fees.trading,e));if(this.markets=l(i,"symbol"),this.marketsById=l(e,"id"),this.markets_by_id=this.marketsById,this.symbols=Object.keys(this.markets).sort(),this.ids=Object.keys(this.markets_by_id).sort(),t)this.currencies=o(t,this.currencies);else{const e=i.filter(e=>"base"in e).map(e=>({id:e.baseId||e.base,numericId:void 0!==e.baseNumericId?e.baseNumericId:void 0,code:e.base,precision:e.precision?e.precision.base||e.precision.amount:8})),t=i.filter(e=>"quote"in e).map(e=>({id:e.quoteId||e.quote,numericId:void 0!==e.quoteNumericId?e.quoteNumericId:void 0,code:e.quote,precision:e.precision?e.precision.quote||e.precision.price:8})),r=e.concat(t),s=p(r,"code"),a=Object.keys(s).map(e=>s[e].reduce((e,t)=>e.precision>t.precision?e:t,s[e][0])),n=f(h(a),"code");this.currencies=o(l(n,"code"),this.currencies)}return this.currencies_by_id=l(this.currencies,"id"),this.markets}async loadMarkets(e=!1,t={}){if(!e&&this.markets)return this.markets_by_id?this.markets:this.setMarkets(this.markets);let i=void 0;this.has.fetchCurrencies&&(i=await this.fetchCurrencies());const r=await this.fetchMarkets(t);return this.setMarkets(r,i)}async loadAccounts(e=!1,t={}){if(e)this.accounts=await this.fetchAccounts(t);else{if(this.accounts)return this.accounts;this.accounts=await this.fetchAccounts(t)}return this.accountsById=this.indexBy(this.accounts,"id"),this.accounts}fetchBidsAsks(e,t={}){throw new E(this.id+" fetchBidsAsks not supported yet")}async fetchOHLCVC(e,t="1m",i,r,s={}){if(!this.has.fetchTrades)throw new E(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,r,s);return S(a,t,i,r)}async fetchOHLCV(e,t="1m",i,r,s={}){if(!this.has.fetchTrades)throw new E(this.id+" fetchOHLCV() not supported yet");await this.loadMarkets();const a=await this.fetchTrades(e,i,r,s);return S(a,t,i,r).map(e=>e.slice(0,-1))}parseTradingViewOHLCV(e,t,i="1m",r,s){const a=this.convertTradingViewToOHLCV(e);return this.parseOHLCVs(a,t,i,r,s)}convertTradingViewToOHLCV(e){const t=[];for(let i=0;i<e.t.length;i++)t.push([1e3*e.t[i],e.o[i],e.h[i],e.l[i],e.c[i],e.v[i]]);return t}convertOHLCVToTradingView(e){const t={t:[],o:[],h:[],l:[],c:[],v:[]};for(let i=0;i<e.length;i++)t.t.push(parseInt(e[i][0]/1e3)),t.o.push(e[i][1]),t.h.push(e[i][2]),t.l.push(e[i][3]),t.c.push(e[i][4]),t.v.push(e[i][5]);return t}fetchTicker(e,t={}){throw new E(this.id+" fetchTicker not supported yet")}fetchTickers(e,t={}){throw new E(this.id+" fetchTickers not supported yet")}purgeCachedOrders(e){const t=Object.values(this.orders).filter(t=>"open"===t.status||t.timestamp>=e);return this.orders=l(t,"id"),this.orders}fetchOrder(e,t,i={}){throw new E(this.id+" fetchOrder not supported yet")}fetchOrders(e,t,i,r={}){throw new E(this.id+" fetchOrders not supported yet")}fetchOpenOrders(e,t,i,r={}){throw new E(this.id+" fetchOpenOrders not supported yet")}fetchClosedOrders(e,t,i,r={}){throw new E(this.id+" fetchClosedOrders not supported yet")}fetchMyTrades(e,t,i,r={}){throw new E(this.id+" fetchMyTrades not supported yet")}fetchTransactions(e,t,i,r={}){throw new E(this.id+" fetchTransactions not supported yet")}fetchDeposits(e,t,i,r={}){throw new E(this.id+" fetchDeposits not supported yet")}fetchWithdrawals(e,t,i,r={}){throw new E(this.id+" fetchWithdrawals not supported yet")}fetchCurrencies(e={}){return new Promise((e,t)=>e(this.currencies))}fetchMarkets(e={}){return new Promise((e,t)=>e(Object.values(this.markets)))}async fetchOrderStatus(e,t,i={}){return(await this.fetchOrder(e,t,i)).status}account(){return{free:void 0,used:void 0,total:void 0}}commonCurrencyCode(e){return this.substituteCommonCurrencyCodes?this.safeString(this.commonCurrencies,e,e):e}currencyId(e){if(void 0===this.currencies)throw new C(this.id+" currencies not loaded");if(e in this.currencies)return this.currencies[e].id;const t={},i=Object.keys(this.commonCurrencies);for(let r=0;r<i.length;r++){const e=i[r];t[this.commonCurrencies[e]]=e}return this.safeString(t,e,e)}currency(e){if(void 0===this.currencies)throw new C(this.id+" currencies not loaded");if("string"===typeof e&&e in this.currencies)return this.currencies[e];throw new C(this.id+" does not have currency code "+e)}market(e){if(void 0===this.markets)throw new C(this.id+" markets not loaded");if("string"===typeof e&&e in this.markets)return this.markets[e];throw new M(this.id+" does not have market symbol "+e)}marketId(e){const t=this.market(e);return void 0!==t?t.id:e}marketIds(e){return e.map(e=>this.marketId(e))}symbol(e){return this.market(e).symbol||e}url(e,t={}){let i=this.implodeParams(e,t);const r=this.omit(t,this.extractParams(e));return Object.keys(r).length&&(i+="?"+this.urlencode(r)),i}parseBidAsk(e,t=0,i=1){return[parseFloat(e[t]),parseFloat(e[i])]}parseBidsAsks(e,t=0,i=1){return Object.values(e||[]).map(e=>this.parseBidAsk(e,t,i))}async fetchL2OrderBook(e,t,i={}){const r=await this.fetchOrderBook(e,t,i);return c(r,{bids:f(m(r.bids),0,!0),asks:f(m(r.asks),0)})}parseOrderBook(e,t,i="bids",r="asks",s=0,a=1){return{bids:f(i in e?this.parseBidsAsks(e[i],s,a):[],0,!0),asks:f(r in e?this.parseBidsAsks(e[r],s,a):[],0),timestamp:t,datetime:this.iso8601(t),nonce:void 0}}parseBalance(e){const t=Object.keys(this.omit(e,["info","free","used","total"]));e.free={},e.used={},e.total={};for(const i of t)void 0===e[i].total&&void 0!==e[i].free&&void 0!==e[i].used&&(e[i].total=this.sum(e[i].free,e[i].used)),void 0===e[i].free&&void 0!==e[i].total&&void 0!==e[i].used&&(e[i].free=this.sum(e[i].total,-e[i].used)),void 0===e[i].used&&void 0!==e[i].total&&void 0!==e[i].free&&(e[i].used=this.sum(e[i].total,-e[i].free)),e.free[i]=e[i].free,e.used[i]=e[i].used,e.total[i]=e[i].total;return e}async fetchPartialBalance(e,t={}){return(await this.fetchBalance(t))[e]}fetchFreeBalance(e={}){return this.fetchPartialBalance("free",e)}fetchUsedBalance(e={}){return this.fetchPartialBalance("used",e)}fetchTotalBalance(e={}){return this.fetchPartialBalance("total",e)}async fetchStatus(e={}){if(this.has.fetchTime){const t=await this.fetchTime(e);return this.status=this.extend(this.status,{updated:t})}return this.status}async fetchTradingFees(e={}){throw new E(this.id+" fetchTradingFees not supported yet")}async fetchTradingFee(e,t={}){if(!this.has.fetchTradingFees)throw new E(this.id+" fetchTradingFee not supported yet");return await this.fetchTradingFees(t)}async loadTradingLimits(e,t=!1,i={}){if(this.has.fetchTradingLimits&&(t||!("limitsLoaded"in this.options))){const t=await this.fetchTradingLimits(e);for(let i=0;i<e.length;i++){const r=e[i];this.markets[r]=this.deepExtend(this.markets[r],t[r])}this.options.limitsLoaded=this.milliseconds()}return this.markets}filterBySinceLimit(e,t,i,r="timestamp"){return void 0!==t&&null!==t&&(e=e.filter(e=>e[r]>=t)),void 0!==i&&null!==i&&(e=e.slice(0,i)),e}filterByValueSinceLimit(e,t,i,r,s){const a=void 0!==i&&null!==i,n=void 0!==r&&null!==r;return(a||n)&&(e=Object.values(e).filter(e=>(!a||e[t]===i)&&(!n||e.timestamp>=r))),void 0!==s&&null!==s&&(e=Object.values(e).slice(0,s)),e}filterBySymbolSinceLimit(e,t,i,r){return this.filterByValueSinceLimit(e,"symbol",t,i,r)}filterByCurrencySinceLimit(e,t,i,r){return this.filterByValueSinceLimit(e,"currency",t,i,r)}filterByArray(e,t,i,r=!0){if(e=Object.values(e),void 0===i||null===i)return r?l(e,t):e;const s=[];for(let a=0;a<e.length;a++)i.includes(e[a][t])&&s.push(e[a]);return r?l(s,t):s}parseTrades(e,t,i,r,s={}){let a=Object.values(e||[]).map(e=>this.extend(this.parseTrade(e,t),s));a=f(a,"timestamp");const n=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,n,i,r)}parseTransactions(e,t,i,r,s={}){let a=Object.values(e||[]).map(e=>this.extend(this.parseTransaction(e,t),s));a=this.sortBy(a,"timestamp");const n=void 0!==t?t.code:void 0;return this.filterByCurrencySinceLimit(a,n,i,r)}parseLedger(e,t,i,r,s={}){let a=[];const n=Object.values(e||[]);for(let c=0;c<n.length;c++){const e=this.parseLedgerEntry(n[c],t);if(Array.isArray(e))for(let t=0;t<e.length;t++)a.push(this.extend(e[t],s));else a.push(this.extend(e,s))}a=this.sortBy(a,"timestamp");const o=void 0!==t?t.code:void 0;return this.filterByCurrencySinceLimit(a,o,i,r)}parseOrders(e,t,i,r,s={}){let a=Object.values(e).map(e=>this.extend(this.parseOrder(e,t),s));a=f(a,"timestamp");const n=void 0!==t?t.symbol:void 0;return this.filterBySymbolSinceLimit(a,n,i,r)}safeCurrencyCode(e,t){let i=void 0;return void 0!==e&&(i=void 0!==this.currencies_by_id&&e in this.currencies_by_id?this.currencies_by_id[e].code:this.commonCurrencyCode(e.toUpperCase())),void 0===i&&void 0!==t&&(i=t.code),i}filterBySymbol(e,t){return void 0!==t?e.filter(e=>e.symbol===t):e}parseOHLCV(e,t,i="1m",r,s){return Array.isArray(e)?e.slice(0,6):e}parseOHLCVs(e,t,i="1m",r,s){e=Object.values(e||[]);const a=[];for(let n=0;n<e.length&&!(s&&a.length>=s);n++){const o=this.parseOHLCV(e[n],t,i,r,s);r&&o[0]<r||a.push(o)}return this.sortBy(a,0)}editLimitBuyOrder(e,t,...i){return this.editLimitOrder(e,t,"buy",...i)}editLimitSellOrder(e,t,...i){return this.editLimitOrder(e,t,"sell",...i)}editLimitOrder(e,t,...i){return this.editOrder(e,t,"limit",...i)}async editOrder(e,t,...i){if(!this.enableRateLimit)throw new C(this.id+" editOrder() requires enableRateLimit = true");return await this.cancelOrder(e,t),this.createOrder(t,...i)}createLimitOrder(e,...t){return this.createOrder(e,"limit",...t)}createMarketOrder(e,...t){return this.createOrder(e,"market",...t)}createLimitBuyOrder(e,...t){return this.createOrder(e,"limit","buy",...t)}createLimitSellOrder(e,...t){return this.createOrder(e,"limit","sell",...t)}createMarketBuyOrder(e,t,i={}){return this.createOrder(e,"market","buy",t,void 0,i)}createMarketSellOrder(e,t,i={}){return this.createOrder(e,"market","sell",t,void 0,i)}costToPrecision(e,t){return x(t,L,this.markets[e].precision.price,this.precisionMode)}priceToPrecision(e,t){return x(t,L,this.markets[e].precision.price,this.precisionMode)}amountToPrecision(e,t){return x(t,q,this.markets[e].precision.amount,this.precisionMode)}feeToPrecision(e,t){return x(t,L,this.markets[e].precision.price,this.precisionMode)}currencyToPrecision(e,t){return x(t,L,this.currencies[e].precision,this.precisionMode)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a],d=parseFloat(this.costToPrecision(e,r*s));return{type:a,currency:o.quote,rate:c,cost:parseFloat(this.feeToPrecision(e,c*d))}}static hasWeb3(){return U&&G&&V&&j}checkRequiredDependencies(){if(!e.hasWeb3())throw new C("Required dependencies missing: \nnpm i web3 ethereumjs-util ethereumjs-abi bignumber.js --no-save")}ethDecimals(e="ether"){return this.safeValue({wei:0,kwei:3,babbage:3,femtoether:3,mwei:6,lovelace:6,picoether:6,gwei:9,shannon:9,nanoether:9,nano:9,szabo:12,microether:12,micro:12,finney:15,milliether:15,milli:15,ether:18,kether:21,grand:21,mether:24,gether:27,tether:30},e)}ethUnit(e=18){return this.safeValue({0:"wei",3:"kwei",6:"mwei",9:"gwei",12:"szabo",15:"finney",18:"ether",21:"kether",24:"mether",27:"gether",30:"tether"},e)}fromWei(e,t="ether",i=18){return void 0===e?e:(e=18!==i?new j(e).times(new j(10**(18-i))).toFixed():new j(e).toFixed(),parseFloat(this.web3.utils.fromWei(e,t)))}toWei(e,t="ether",i=18){return void 0===e?e:(e=18!==i?new j(this.numberToString(e)).div(new j(10**(18-i))).toFixed():this.numberToString(e),this.web3.utils.toWei(e,t))}soliditySha3(e){const t=this.solidityValues(e),i=this.solidityTypes(t);return"0x"+V.soliditySHA3(i,t).toString("hex")}solidityTypes(e){return e.map(e=>this.web3.utils.isAddress(e)?"address":"uint256")}solidityValues(e){return e.map(e=>this.web3.utils.isAddress(e)?e:new j(e).toFixed())}getZeroExOrderHash(e){return this.soliditySha3([e.exchangeContractAddress,e.maker,e.taker,e.makerTokenAddress,e.takerTokenAddress,e.feeRecipient,e.makerTokenAmount,e.takerTokenAmount,e.makerFee,e.takerFee,e.expirationUnixTimestampSec,e.salt])}getZeroExOrderHashV2(e){const i="000000000000000000000000",r=V.soliditySHA3(["bytes","bytes","address"],[t.from("91ab3d17e3a50a9d89e63fd30b92be7f5336b03b287bb946787a83a9d62a2766f0f24618f4c4be1e62e026fb039a20ef96f4495294817d1027ffaa6d1f70e61ead7c5bef027816a800da1736444fb58a807ef4c9603b7848673f7e3a68eb14a5","hex"),t.from(i,"hex"),e.exchangeAddress]),s=V.soliditySHA3(["bytes","bytes","address","bytes","address","bytes","address","bytes","address","uint256","uint256","uint256","uint256","uint256","uint256","string","string"],[t.from("770501f88a26ede5c04a20ef877969e961eb11fc13b78aaf414b633da0d4f86f","hex"),t.from(i,"hex"),e.makerAddress,t.from(i,"hex"),e.takerAddress,t.from(i,"hex"),e.feeRecipientAddress,t.from(i,"hex"),e.senderAddress,e.makerAssetAmount,e.takerAssetAmount,e.makerFee,e.takerFee,e.expirationTimeSeconds,e.salt,G.keccak(t.from(e.makerAssetData.slice(2),"hex")),G.keccak(t.from(e.takerAssetData.slice(2),"hex"))]);return"0x"+G.keccak(t.concat([t.from("1901","hex"),r,s])).toString("hex")}signZeroExOrder(e,t){const i=this.getZeroExOrderHash(e),r=this.signMessage(i,t);return this.extend(e,{orderHash:i,ecSignature:r})}signZeroExOrderV2(e,t){const i=this.getZeroExOrderHashV2(e),r=this.signMessage(i,t);return this.extend(e,{orderHash:i,signature:this.convertECSignatureToSignatureHex(r)})}convertECSignatureToSignatureHex(e){let t=e.v;return 27!==t&&28!==t&&(t+=27),"0x"+t.toString(16)+e.r.slice(-64)+e.s.slice(-64)+"03"}static remove0xPrefix(e){return"0x"===e.slice(0,2)?e.slice(2):e}hashMessage(t){const i=this.base16ToBinary(e.remove0xPrefix(t)),r=this.stringToBinary("\x19Ethereum Signed Message:\n"+i.sigBytes);return"0x"+this.hash(this.binaryConcat(r,i),"keccak","hex")}signHash(e,t){const i=this.ecdsa(e.slice(-64),t.slice(-64),"secp256k1",void 0);return{r:"0x"+i.r,s:"0x"+i.s,v:27+i.v}}signMessage(e,t){return this.signHash(this.hashMessage(e),t.slice(-64))}oath(){if("undefined"!==typeof this.twofa)return this.totp(this.twofa);throw new C(this.id+" this.twofa has not been set")}integerDivide(e,t){return new N(e).div(new N(t))}integerModulo(e,t){return new N(e).mod(new N(t))}integerPow(e,t){return new N(e).pow(new N(t))}}}).call(this,i("qykS").Buffer)},Olfb:function(e,t,i){"use strict";var r=i("qykS").Buffer,s=i("wfEq"),a=i("ThzV"),n=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function f(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,i,r,s,a,n,o){return p(e+(t^i^r)+a+n|0,o)+s|0}function y(e,t,i,r,s,a,n,o){return p(e+(t&i|~t&r)+a+n|0,o)+s|0}function b(e,t,i,r,s,a,n,o){return p(e+((t|~i)^r)+a+n|0,o)+s|0}function v(e,t,i,r,s,a,n,o){return p(e+(t&r|i&~r)+a+n|0,o)+s|0}function g(e,t,i,r,s,a,n,o){return p(e+(t^(i|~r))+a+n|0,o)+s|0}s(f,a),f.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,r=0|this._b,s=0|this._c,a=0|this._d,f=0|this._e,w=0|this._a,k=0|this._b,_=0|this._c,T=0|this._d,S=0|this._e,x=0;x<80;x+=1){var O,C;x<16?(O=m(i,r,s,a,f,e[o[x]],u[0],d[x]),C=g(w,k,_,T,S,e[c[x]],l[0],h[x])):x<32?(O=y(i,r,s,a,f,e[o[x]],u[1],d[x]),C=v(w,k,_,T,S,e[c[x]],l[1],h[x])):x<48?(O=b(i,r,s,a,f,e[o[x]],u[2],d[x]),C=b(w,k,_,T,S,e[c[x]],l[2],h[x])):x<64?(O=v(i,r,s,a,f,e[o[x]],u[3],d[x]),C=y(w,k,_,T,S,e[c[x]],l[3],h[x])):(O=g(i,r,s,a,f,e[o[x]],u[4],d[x]),C=m(w,k,_,T,S,e[c[x]],l[4],h[x])),i=f,f=a,a=p(s,10),s=r,r=O,w=S,S=T,T=p(_,10),_=k,k=C}var M=this._b+s+T|0;this._b=this._c+a+S|0,this._c=this._d+f+w|0,this._d=this._e+i+k|0,this._e=this._a+r+_|0,this._a=M},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},P1P7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("QOjt");function s(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function a(e,t,i){for(var r=0,s=0;s<i;s++)r=256*r+e[t+s];return r}function n(e,t,i,r){for(var s=[];i<t+1+r;){var a=o(e,i);if(s.push(a.result),(i+=a.consumed)>t+1+r)throw new Error("invalid rlp")}return{consumed:1+r,result:s}}function o(e,t){if(0===e.length)throw new Error("invalid rlp data");if(e[t]>=248){if(t+1+(i=e[t]-247)>e.length)throw new Error("too short");if(t+1+i+(s=a(e,t+1,i))>e.length)throw new Error("to short");return n(e,t,t+1+i,i+s)}if(e[t]>=192){if(t+1+(s=e[t]-192)>e.length)throw new Error("invalid rlp data");return n(e,t,t+1,s)}if(e[t]>=184){var i;if(t+1+(i=e[t]-183)>e.length)throw new Error("invalid rlp data");if(t+1+i+(s=a(e,t+1,i))>e.length)throw new Error("invalid rlp data");return{consumed:1+i+s,result:r.hexlify(e.slice(t+1+i,t+1+i+s))}}if(e[t]>=128){var s;if(t+1+(s=e[t]-128)>e.length)throw new Error("invlaid rlp data");return{consumed:1+s,result:r.hexlify(e.slice(t+1,t+1+s))}}return{consumed:1,result:r.hexlify(e[t])}}t.encode=function(e){return r.hexlify(function e(t){if(Array.isArray(t)){var i=[];return t.forEach((function(t){i=i.concat(e(t))})),i.length<=55?(i.unshift(192+i.length),i):((a=s(i.length)).unshift(247+a.length),a.concat(i))}var a,n=Array.prototype.slice.call(r.arrayify(t));return 1===n.length&&n[0]<=127?n:n.length<=55?(n.unshift(128+n.length),n):((a=s(n.length)).unshift(183+a.length),a.concat(n))}(e))},t.decode=function(e){var t=r.arrayify(e),i=o(t,0);if(i.consumed!==t.length)throw new Error("invalid rlp data");return i.result}},P8tw:function(e,t,i){var r=function(){throw"This swarm.js function isn't available on the browser."},s={readFile:r},a={download:r,safeDownloadArchived:r,directoryTree:r},n={platform:r,arch:r},o={join:r,slice:r},c={spawn:r},d={lookup:r},h=i("2SZN"),u=i("0gAC"),l=i("nH+y"),f=i("zIi3"),p=i("L+bV");e.exports=p({fs:s,files:a,os:n,path:o,child_process:c,defaultArchives:{},mimetype:d,request:h,downloadUrl:null,bytes:u,hash:l,pick:f})},PD4I:function(e,t){var i=function(e,t){for(var i=[],r=0;r<e;++r)i.push(t(r));return i};e.exports={generate:i,replicate:function(e,t){return i(e,(function(){return t}))},concat:function(e,t){return e.concat(t)},flatten:function(e){for(var t=[],i=0,r=e.length;i<r;++i)for(var s=0,a=e[i].length;s<a;++s)t.push(e[i][s]);return t},chunksOf:function(e,t){for(var i=[],r=0,s=t.length;r<s;r+=e)i.push(t.slice(r,r+e));return i}}},PPJh:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,DDoSProtection:n,InvalidOrder:o,InsufficientFunds:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcalpha",name:"BTC-Alpha",countries:["US"],version:"v1",has:{fetchTicker:!1,fetchOHLCV:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","1d":"D"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42625213-dabaa5da-85cf-11e8-8f99-aa8f8f7699f0.jpg",api:"https://btc-alpha.com/api",www:"https://btc-alpha.com",doc:"https://btc-alpha.github.io/api-docs",fees:"https://btc-alpha.com/fees/",referral:"https://btc-alpha.com/?r=123788"},api:{public:{get:["currencies/","pairs/","orderbook/{pair_name}/","exchanges/","charts/{pair}/{type}/chart/"]},private:{get:["wallets/","orders/own/","order/{id}/","exchanges/own/","deposits/","withdraws/"],post:["order/","order-cancel/"]}},fees:{trading:{maker:.002,taker:.002},funding:{withdraw:{BTC:.00135,LTC:.0035,XMR:.018,ZEC:.002,ETH:.01,ETC:.01,SIB:1.5,CCRB:4,PZM:.05,ITI:.05,DCY:5,R:5,ATB:.05,BRIA:.05,KZC:.05,HWC:1,SPA:1,SMS:.001,REC:.01,SUP:1,BQ:100,GDS:.1,EVN:300,TRKC:.01,UNI:1,STN:1,BCH:void 0,QBIC:.5}}},commonCurrencies:{CBC:"Cashbery"},exceptions:{exact:{},broad:{"Out of balance":c}}})}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"name"),a=this.safeString(e,"currency1"),n=this.safeString(e,"currency2"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:8,price:this.safeInteger(e,"price_precision")};i.push({id:s,symbol:d,base:o,quote:c,active:!0,precision:h,limits:{amount:{min:this.safeFloat(e,"minimum_order_size"),max:this.safeFloat(e,"maximum_order_size")},price:{min:Math.pow(10,-h.price),max:Math.pow(10,h.price)},cost:{min:void 0,max:void 0}},info:e})}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair_name:this.marketId(e)};t&&(r.limit_sell=t,r.limit_buy=t);const s=await this.publicGetOrderbookPairName(this.extend(r,i));return this.parseOrderBook(s,void 0,"buy","sell","price","amount")}parseBidsAsks(e,t=0,i=1){const r=[];for(let s=0;s<e.length;s++){const a=e[s];a&&r.push(this.parseBidAsk(a,t,i))}return r}parseTrade(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.marketsById,e.pair)),void 0!==t&&(i=t.symbol);const r=this.safeTimestamp(e,"timestamp"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=parseFloat(this.costToPrecision(i,s*a)));const o=this.safeString2(e,"id","tid"),c=this.safeString2(e,"my_side","side"),d=this.safeString(e,"o_id");return{id:o,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:d,type:"limit",side:c,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.pair=s.id),void 0!==i&&(a.limit=i);const n=await this.publicGetExchanges(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="5m",r,s){return[this.safeTimestamp(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,type:this.timeframes[t]};void 0!==r&&(n.limit=r),void 0!==i&&(n.since=parseInt(i/1e3));const o=await this.publicGetChartsPairTypeChart(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWallets(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.used=this.safeFloat(e,"reserve"),n.total=this.safeFloat(e,"balance"),i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({1:"open",2:"canceled",3:"closed"},e,e)}parseOrder(e,t){let i=void 0;void 0===t&&(t=this.safeValue(this.marketsById,e.pair)),void 0!==t&&(i=t.symbol);const r=this.safeTimestamp(e,"date"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeString2(e,"oid","id");let c=this.safeValue(e,"trades",[]);c=this.parseTrades(c,t);const d=this.safeString2(e,"my_side","type");let h=void 0;const u=c.length;if(u>0){h=0;for(let e=0;e<u;e++)h=this.sum(h,c[e].amount)}let l=void 0;return void 0!==a&&a>0&&void 0!==h&&(l=Math.max(0,a-h)),{id:o,datetime:this.iso8601(r),timestamp:r,status:n,symbol:i,type:"limit",side:d,price:s,cost:void 0,amount:a,filled:h,remaining:l,trades:c,fee:void 0,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),c={pair:n.id,type:i,amount:r,price:this.priceToPrecision(e,s)},d=await this.privatePostOrder(this.extend(c,a));if(!d.success)throw new o(this.id+" "+this.json(d));const h=this.parseOrder(d,n);return r=h.amount>0?h.amount:r,this.extend(h,{amount:r})}async cancelOrder(e,t,i={}){const r={order:e};return await this.privatePostOrderCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.pair=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetOrdersOwn(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"1"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"3"},r))}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==e){const t=this.market(e);s.pair=t.id}void 0!==i&&(s.limit=i);const a=await this.privateGetExchangesOwn(this.extend(s,r));return this.parseTrades(a,void 0,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.urlencode(this.keysort(this.omit(r,this.extractParams(e))));let o=this.urls.api+"/";if("charts/{pair}/{type}/chart/"!==e&&(o+="v1/"),o+=this.implodeParams(e,r),s={Accept:"application/json"},"public"===t)n.length&&(o+="?"+n);else{this.checkRequiredCredentials();let e=this.apiKey;"POST"===i?(s["Content-Type"]="application/x-www-form-urlencoded",e+=a=n):n.length&&(o+="?"+n),s["X-KEY"]=this.apiKey,s["X-SIGN"]=this.hmac(this.encode(e),this.encode(this.secret)),s["X-NONCE"]=this.nonce().toString()}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,o,c,d,h,u){if(void 0===d)return;const l=this.safeString(d,"error"),f=this.id+" "+c;if(void 0!==l&&(this.throwExactlyMatchedException(this.exceptions.exact,l,f),this.throwBroadlyMatchedException(this.exceptions.broad,l,f)),401===e||403===e)throw new a(f);if(429===e)throw new n(f);if(!(e<400))throw new s(f)}}},PlM5:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,NotSupported:o,InvalidOrder:c,OrderNotFound:d,ExchangeNotAvailable:h,RateLimitExceeded:u,InsufficientFunds:l}=i("ucJe"),{TRUNCATE:f,DECIMAL_PLACES:p}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"livecoin",name:"LiveCoin",countries:["US","UK","RU"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{fetchDepositAddress:!0,fetchDeposits:!0,CORS:!1,fetchTickers:!0,fetchCurrencies:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchOrders:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27980768-f22fc424-638a-11e7-89c9-6010a54ff9be.jpg",api:"https://api.livecoin.net",www:"https://www.livecoin.net",doc:"https://www.livecoin.net/api?lang=en",referral:"https://livecoin.net/?from=Livecoin-CQ1hfx44"},api:{public:{get:["exchange/all/order_book","exchange/last_trades","exchange/maxbid_minask","exchange/order_book","exchange/restrictions","exchange/ticker","info/coinInfo"]},private:{get:["exchange/client_orders","exchange/order","exchange/trades","exchange/commission","exchange/commissionCommonInfo","payment/balances","payment/balance","payment/get/address","payment/history/size","payment/history/transactions"],post:["exchange/buylimit","exchange/buymarket","exchange/cancellimit","exchange/selllimit","exchange/sellmarket","payment/out/capitalist","payment/out/card","payment/out/coin","payment/out/okpay","payment/out/payeer","payment/out/perfectmoney","payment/voucher/amount","payment/voucher/make","payment/voucher/redeem"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0018,taker:.0018}},commonCurrencies:{BTCH:"Bithash",CPC:"Capricoin",CPT:"Cryptos",EDR:"E-Dinar Coin",eETT:"EETT",FirstBlood:"1ST",FORTYTWO:"42",LEO:"LeoCoin",ORE:"Orectic",PLN:"Plutaneum",RUR:"RUB",SCT:"SpaceCoin",TPI:"ThaneCoin",wETT:"WETT",XBT:"Bricktox"},exceptions:{exact:{1:s,10:n,100:s,101:n,102:n,103:c,104:c,105:c,11:n,12:n,2:n,20:n,30:n,31:o,32:s,429:u,503:h},broad:{"insufficient funds":l,"NOT FOUND":d,"Cannot find order":d,"Minimal amount is":c}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeTicker(e),i=await this.publicGetExchangeRestrictions(),r=this.indexBy(i.restrictions,"currencyPair"),s=[];for(let a=0;a<t.length;a++){const e=t[a],i=this.safeString(e,"symbol"),[n,o]=i.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=this.safeValue(r,h),l={price:5,amount:8,cost:8},f={amount:{min:Math.pow(10,-l.amount),max:Math.pow(10,l.amount)}};u&&(l.price=this.safeInteger(u,"priceScale",5),f.amount.min=this.safeFloat(u,"minLimitQuantity",f.amount.min)),f.price={min:Math.pow(10,-l.price),max:Math.pow(10,l.price)},s.push({id:i,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:l,limits:f,info:e})}return s}async fetchCurrencies(e={}){const t=await this.publicGetInfoCoinInfo(e),i=this.safeValue(t,"info");let r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),a=this.safeCurrencyCode(t),n=8,o="normal"===this.safeString(e,"walletStatus"),c=this.safeString(e,"name"),d=this.safeFloat(e,"withdrawFee");r[a]={id:t,code:a,info:e,name:c,active:o,fee:d,precision:n,limits:{amount:{min:this.safeFloat(e,"minOrderAmount"),max:Math.pow(10,n)},price:{min:Math.pow(10,-n),max:Math.pow(10,n)},cost:{min:this.safeFloat(e,"minOrderAmount"),max:void 0},withdraw:{min:this.safeFloat(e,"minWithdrawAmount"),max:Math.pow(10,n)},deposit:{min:this.safeFloat(e,"minDepositAmount"),max:void 0}}}}return r=this.appendFiatCurrencies(r),r}appendFiatCurrencies(e){const t={info:void 0,active:!0,fee:void 0,precision:8,limits:{withdraw:{min:void 0,max:void 0},deposit:{min:void 0,max:void 0},amount:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},price:{min:Math.pow(10,-8),max:Math.pow(10,8)}}},i=[{id:"USD",code:"USD",name:"US Dollar"},{id:"EUR",code:"EUR",name:"Euro"}];i.push({id:"RUR",code:this.safeCurrencyCode("RUR"),name:"Russian ruble"});for(let r=0;r<i.length;r++){const s=i[r];e[s.code]=this.extend(t,s)}return e}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetPaymentBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s);let n=void 0;n=a in i?i[a]:this.account(),"total"===e.type&&(n.total=this.safeFloat(e,"value")),"available"===e.type&&(n.free=this.safeFloat(e,"value")),"trade"===e.type&&(n.used=this.safeFloat(e,"value")),i[a]=n}return this.parseBalance(i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetExchangeCommissionCommonInfo(e),i=this.safeFloat(t,"commission");return{info:t,maker:i,taker:i}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e),groupByPrice:"false"};void 0!==t&&(r.depth=t);const s=await this.publicGetExchangeOrderBook(this.extend(r,i)),a=this.safeInteger(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"vwap"),a=this.safeFloat(e,"volume");let n=void 0;void 0!==a&&void 0!==s&&(n=a*s);const o=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:n,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetExchangeTicker(t),r=this.indexBy(i,"symbol"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n],t=this.markets_by_id[e],i=t.symbol,o=r[e];a[i]=this.parseTicker(o,t)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currencyPair:i.id},s=await this.publicGetExchangeTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp2(e,"time","datetime");let r=void 0;const s=this.safeFloat(e,"commission");if(void 0!==s){r={cost:s,currency:t?t.quote:void 0}}const a=this.safeString(e,"clientorderid"),n=this.safeString(e,"id"),o=this.safeStringLower(e,"type"),c=this.safeFloat(e,"quantity"),d=this.safeFloat(e,"price");let h=void 0;void 0!==c&&void 0!==d&&(h=c*d);let u=void 0;return void 0!==t&&(u=t.symbol),{id:n,info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,order:a,type:void 0,side:o,takerOrMaker:void 0,price:d,amount:c,cost:h,fee:r}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={currencyPair:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetExchangeTrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id},n=await this.publicGetExchangeLastTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateGetExchangeOrder(this.extend(r,i));return this.parseOrder(s)}parseOrderStatus(e){return this.safeString({OPEN:"open",PARTIALLY_FILLED:"open",EXECUTED:"closed",CANCELLED:"canceled",PARTIALLY_FILLED_AND_CANCELLED:"canceled"},e,e)}parseOrder(e,t){let i=void 0;"lastModificationTime"in e&&(i=this.safeString(e,"lastModificationTime"),void 0!==i&&(i=i.indexOf("T")>=0?this.parse8601(i):this.safeInteger(e,"lastModificationTime")));const r=this.parseOrderStatus(this.safeString2(e,"status","orderStatus"));let s=void 0;if(void 0===t){let i=this.safeString(e,"currencyPair");i=this.safeString(e,"symbol",i),i in this.markets_by_id&&(t=this.markets_by_id[i])}let a=this.safeStringLower(e,"type"),n=void 0;if(void 0!==a){const e=a.split("_");a=e[0],n=e[1]}const o=this.safeFloat(e,"price");let c=this.safeFloat(e,"remainingQuantity");c=this.safeFloat(e,"remaining_quantity",c);const d=this.safeFloat(e,"quantity",c);let h=void 0;void 0!==c&&(h=d-c);let u=void 0;void 0!==h&&void 0!==o&&(u=h*o);const l=this.safeFloat(e,"commission_rate");let f=void 0;void 0!==u&&void 0!==l&&(f=u*l);let p=void 0;return void 0!==t&&(s=t.symbol,p=t.quote),{info:e,id:e.id,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:r,symbol:s,type:a,side:n,price:o,amount:d,cost:u,filled:h,remaining:c,trades:void 0,fee:{cost:f,currency:p,rate:l}}}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.currencyPair=s.id),void 0!==t&&(a.issuedFrom=parseInt(t)),void 0!==i&&(a.endRow=i-1);const n=await this.privateGetExchangeClientOrders(this.extend(a,r)),o=[];let c=[];n.data&&(c=n.data);for(let d=0;d<c.length;d++){const e=c[d];o.push(this.parseOrder(e,s))}return this.sortBy(o,"timestamp")}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({openClosed:"OPEN"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({openClosed:"CLOSED"},r))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="privatePostExchange"+this.capitalize(i)+t,o=this.market(e),c={quantity:this.amountToPrecision(e,r),currencyPair:o.id};"limit"===t&&(c.price=this.priceToPrecision(e,s));const d=await this[n](this.extend(c,a)),h={info:d,id:d.orderId.toString()};return this.safeValue(d,"success")&&(h.status="open"),h}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={orderId:e,currencyPair:this.market(t).id},n=await this.privatePostExchangeCancellimit(this.extend(r,i)),o=this.safeString(n,"message",this.json(n));if("success"in n){if(!n.success)throw new c(o);if("cancelled"in n){if(n.cancelled)return{status:"canceled",info:n};throw new d(o)}}throw new s(this.id+" cancelOrder() failed: "+this.json(n))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e);let n=i;void 0!==r&&(n+="::"+r);const o={amount:this.decimalToPrecision(t,f,a.precision,p),currency:a.id,wallet:n},c=await this.privatePostPaymentOutCoin(this.extend(o,s)),d=this.safeInteger(c,"id");if(void 0===d)throw new l(this.id+" insufficient funds to cover requested withdrawal amount post fees "+this.json(c));return{info:c,id:d}}parseTransaction(e,t){let i=void 0,r=void 0;const s=this.safeString(e,"documentId"),a=this.safeFloat(e,"amount"),n=this.safeInteger(e,"date"),o=this.safeStringLower(e,"type"),c=this.safeString(e,"fixedCurrency"),d=this.safeFloat(e,"fee"),h=this.safeCurrencyCode(c,t);"withdrawal"===o?(i=this.safeString(e,"externalKey"),r=this.safeString(e,"id")):"deposit"===o&&(r=this.safeString(e,"externalKey"),i=this.safeString(e,"id"));let u=void 0;return"deposit"===o&&(u="ok"),{info:e,id:s,currency:h,amount:a,address:r,tag:void 0,status:u,type:o,updated:void 0,txid:i,timestamp:n,datetime:this.iso8601(n),fee:{currency:h,cost:d}}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s=this.milliseconds(),a={types:"DEPOSIT",end:s,start:void 0!==t?parseInt(t):s-25056e5};let n=void 0;void 0!==e&&(n=this.currency(e)),void 0!==i&&(a.limit=i);const o=await this.privateGetPaymentHistoryTransactions(this.extend(a,r));return this.parseTransactions(o,n,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s=this.milliseconds(),a={types:"WITHDRAWAL",end:s,start:void 0!==t?parseInt(t):s-25056e5};let n=void 0;void 0!==e&&(n=this.currency(e)),void 0!==i&&(a.limit=i),void 0!==t&&(a.start=t);const o=await this.privateGetPaymentHistoryTransactions(this.extend(a,r));return this.parseTransactions(o,n,t,i)}async fetchDepositAddress(e,t={}){const i={currency:e},r=await this.privateGetPaymentGetAddress(this.extend(i,t));let s=this.safeString(r,"wallet"),a=void 0;if(s.indexOf(":")>=0){const e=s.split(":");s=e[0],a=e[2]}return this.checkAddress(s),{currency:e,address:s,tag:a,info:r}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+e;const o=this.urlencode(this.keysort(r));if("GET"===i&&Object.keys(r).length&&(n+="?"+o),"private"===t){this.checkRequiredCredentials(),"POST"===i&&(a=o);const e=this.hmac(this.encode(o),this.encode(this.secret),"sha256");s={"Api-Key":this.apiKey,Sign:e.toUpperCase(),"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;if(e>=300){const e=this.id+" "+n,t=this.safeString(o,"errorCode");throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),new s(e)}if(!this.safeValue(o,"success",!0)){const e=this.id+" "+n,t=this.safeString2(o,"message","exception");throw void 0!==t&&this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new s(e)}}}},"PoH+":function(e,t,i){(function(e,i){var r;!function(){var s="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},a=s._,n=Array.prototype,o=Object.prototype,c="undefined"!==typeof Symbol?Symbol.prototype:null,d=n.push,h=n.slice,u=o.toString,l=o.hasOwnProperty,f=Array.isArray,p=Object.keys,m=Object.create,y=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};t.nodeType?s._=b:(!i.nodeType&&i.exports&&(t=i.exports=b),t._=b),b.VERSION="1.9.1";var v,g=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,r,s){return e.call(t,i,r,s)};case 4:return function(i,r,s,a){return e.call(t,i,r,s,a)}}return function(){return e.apply(t,arguments)}},w=function(e,t,i){return b.iteratee!==v?b.iteratee(e,t):null==e?b.identity:b.isFunction(e)?g(e,t,i):b.isObject(e)&&!b.isArray(e)?b.matcher(e):b.property(e)};b.iteratee=v=function(e,t){return w(e,t,1/0)};var k=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),r=Array(i),s=0;s<i;s++)r[s]=arguments[s+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(s=0;s<t;s++)a[s]=arguments[s];return a[t]=r,e.apply(this,a)}},_=function(e){if(!b.isObject(e))return{};if(m)return m(e);y.prototype=e;var t=new y;return y.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&l.call(e,t)},x=function(e,t){for(var i=t.length,r=0;r<i;r++){if(null==e)return;e=e[t[r]]}return i?e:void 0},O=Math.pow(2,53)-1,C=T("length"),M=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=O};b.each=b.forEach=function(e,t,i){var r,s;if(t=g(t,i),M(e))for(r=0,s=e.length;r<s;r++)t(e[r],r,e);else{var a=b.keys(e);for(r=0,s=a.length;r<s;r++)t(e[a[r]],a[r],e)}return e},b.map=b.collect=function(e,t,i){t=w(t,i);for(var r=!M(e)&&b.keys(e),s=(r||e).length,a=Array(s),n=0;n<s;n++){var o=r?r[n]:n;a[n]=t(e[o],o,e)}return a};var A=function(e){var t=function(t,i,r,s){var a=!M(t)&&b.keys(t),n=(a||t).length,o=e>0?0:n-1;for(s||(r=t[a?a[o]:o],o+=e);o>=0&&o<n;o+=e){var c=a?a[o]:o;r=i(r,t[c],c,t)}return r};return function(e,i,r,s){var a=arguments.length>=3;return t(e,g(i,s,4),r,a)}};b.reduce=b.foldl=b.inject=A(1),b.reduceRight=b.foldr=A(-1),b.find=b.detect=function(e,t,i){var r=(M(e)?b.findIndex:b.findKey)(e,t,i);if(void 0!==r&&-1!==r)return e[r]},b.filter=b.select=function(e,t,i){var r=[];return t=w(t,i),b.each(e,(function(e,i,s){t(e,i,s)&&r.push(e)})),r},b.reject=function(e,t,i){return b.filter(e,b.negate(w(t)),i)},b.every=b.all=function(e,t,i){t=w(t,i);for(var r=!M(e)&&b.keys(e),s=(r||e).length,a=0;a<s;a++){var n=r?r[a]:a;if(!t(e[n],n,e))return!1}return!0},b.some=b.any=function(e,t,i){t=w(t,i);for(var r=!M(e)&&b.keys(e),s=(r||e).length,a=0;a<s;a++){var n=r?r[a]:a;if(t(e[n],n,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,i,r){return M(e)||(e=b.values(e)),("number"!=typeof i||r)&&(i=0),b.indexOf(e,t,i)>=0},b.invoke=k((function(e,t,i){var r,s;return b.isFunction(t)?s=t:b.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),b.map(e,(function(e){var a=s;if(!a){if(r&&r.length&&(e=x(e,r)),null==e)return;a=e[t]}return null==a?a:a.apply(e,i)}))})),b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,i){var r,s,a=-1/0,n=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=M(e)?e:b.values(e)).length;o<c;o++)null!=(r=e[o])&&r>a&&(a=r);else t=w(t,i),b.each(e,(function(e,i,r){((s=t(e,i,r))>n||s===-1/0&&a===-1/0)&&(a=e,n=s)}));return a},b.min=function(e,t,i){var r,s,a=1/0,n=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=M(e)?e:b.values(e)).length;o<c;o++)null!=(r=e[o])&&r<a&&(a=r);else t=w(t,i),b.each(e,(function(e,i,r){((s=t(e,i,r))<n||s===1/0&&a===1/0)&&(a=e,n=s)}));return a},b.shuffle=function(e){return b.sample(e,1/0)},b.sample=function(e,t,i){if(null==t||i)return M(e)||(e=b.values(e)),e[b.random(e.length-1)];var r=M(e)?b.clone(e):b.values(e),s=C(r);t=Math.max(Math.min(t,s),0);for(var a=s-1,n=0;n<t;n++){var o=b.random(n,a),c=r[n];r[n]=r[o],r[o]=c}return r.slice(0,t)},b.sortBy=function(e,t,i){var r=0;return t=w(t,i),b.pluck(b.map(e,(function(e,i,s){return{value:e,index:r++,criteria:t(e,i,s)}})).sort((function(e,t){var i=e.criteria,r=t.criteria;if(i!==r){if(i>r||void 0===i)return 1;if(i<r||void 0===r)return-1}return e.index-t.index})),"value")};var E=function(e,t){return function(i,r,s){var a=t?[[],[]]:{};return r=w(r,s),b.each(i,(function(t,s){var n=r(t,s,i);e(a,t,n)})),a}};b.groupBy=E((function(e,t,i){S(e,i)?e[i].push(t):e[i]=[t]})),b.indexBy=E((function(e,t,i){e[i]=t})),b.countBy=E((function(e,t,i){S(e,i)?e[i]++:e[i]=1}));var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;b.toArray=function(e){return e?b.isArray(e)?h.call(e):b.isString(e)?e.match(I):M(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:M(e)?e.length:b.keys(e).length},b.partition=E((function(e,t,i){e[i?0:1].push(t)}),!0),b.first=b.head=b.take=function(e,t,i){return null==e||e.length<1?null==t?void 0:[]:null==t||i?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,i){return h.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},b.last=function(e,t,i){return null==e||e.length<1?null==t?void 0:[]:null==t||i?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,i){return h.call(e,null==t||i?1:t)},b.compact=function(e){return b.filter(e,Boolean)};var B=function(e,t,i,r){for(var s=(r=r||[]).length,a=0,n=C(e);a<n;a++){var o=e[a];if(M(o)&&(b.isArray(o)||b.isArguments(o)))if(t)for(var c=0,d=o.length;c<d;)r[s++]=o[c++];else B(o,t,i,r),s=r.length;else i||(r[s++]=o)}return r};b.flatten=function(e,t){return B(e,t,!1)},b.without=k((function(e,t){return b.difference(e,t)})),b.uniq=b.unique=function(e,t,i,r){b.isBoolean(t)||(r=i,i=t,t=!1),null!=i&&(i=w(i,r));for(var s=[],a=[],n=0,o=C(e);n<o;n++){var c=e[n],d=i?i(c,n,e):c;t&&!i?(n&&a===d||s.push(c),a=d):i?b.contains(a,d)||(a.push(d),s.push(c)):b.contains(s,c)||s.push(c)}return s},b.union=k((function(e){return b.uniq(B(e,!0,!0))})),b.intersection=function(e){for(var t=[],i=arguments.length,r=0,s=C(e);r<s;r++){var a=e[r];if(!b.contains(t,a)){var n;for(n=1;n<i&&b.contains(arguments[n],a);n++);n===i&&t.push(a)}}return t},b.difference=k((function(e,t){return t=B(t,!0,!0),b.filter(e,(function(e){return!b.contains(t,e)}))})),b.unzip=function(e){for(var t=e&&b.max(e,C).length||0,i=Array(t),r=0;r<t;r++)i[r]=b.pluck(e,r);return i},b.zip=k(b.unzip),b.object=function(e,t){for(var i={},r=0,s=C(e);r<s;r++)t?i[e[r]]=t[r]:i[e[r][0]]=e[r][1];return i};var F=function(e){return function(t,i,r){i=w(i,r);for(var s=C(t),a=e>0?0:s-1;a>=0&&a<s;a+=e)if(i(t[a],a,t))return a;return-1}};b.findIndex=F(1),b.findLastIndex=F(-1),b.sortedIndex=function(e,t,i,r){for(var s=(i=w(i,r,1))(t),a=0,n=C(e);a<n;){var o=Math.floor((a+n)/2);i(e[o])<s?a=o+1:n=o}return a};var P=function(e,t,i){return function(r,s,a){var n=0,o=C(r);if("number"==typeof a)e>0?n=a>=0?a:Math.max(a+o,n):o=a>=0?Math.min(a+1,o):a+o+1;else if(i&&a&&o)return r[a=i(r,s)]===s?a:-1;if(s!==s)return(a=t(h.call(r,n,o),b.isNaN))>=0?a+n:-1;for(a=e>0?n:o-1;a>=0&&a<o;a+=e)if(r[a]===s)return a;return-1}};b.indexOf=P(1,b.findIndex,b.sortedIndex),b.lastIndexOf=P(-1,b.findLastIndex),b.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/i),0),s=Array(r),a=0;a<r;a++,e+=i)s[a]=e;return s},b.chunk=function(e,t){if(null==t||t<1)return[];for(var i=[],r=0,s=e.length;r<s;)i.push(h.call(e,r,r+=t));return i};var R=function(e,t,i,r,s){if(!(r instanceof t))return e.apply(i,s);var a=_(e.prototype),n=e.apply(a,s);return b.isObject(n)?n:a};b.bind=k((function(e,t,i){if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var r=k((function(s){return R(e,r,t,this,i.concat(s))}));return r})),b.partial=k((function(e,t){var i=b.partial.placeholder,r=function(){for(var s=0,a=t.length,n=Array(a),o=0;o<a;o++)n[o]=t[o]===i?arguments[s++]:t[o];for(;s<arguments.length;)n.push(arguments[s++]);return R(e,r,this,this,n)};return r})),b.partial.placeholder=b,b.bindAll=k((function(e,t){var i=(t=B(t,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=t[i];e[r]=b.bind(e[r],e)}})),b.memoize=function(e,t){var i=function(r){var s=i.cache,a=""+(t?t.apply(this,arguments):r);return S(s,a)||(s[a]=e.apply(this,arguments)),s[a]};return i.cache={},i},b.delay=k((function(e,t,i){return setTimeout((function(){return e.apply(null,i)}),t)})),b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,i){var r,s,a,n,o=0;i||(i={});var c=function(){o=!1===i.leading?0:b.now(),r=null,n=e.apply(s,a),r||(s=a=null)},d=function(){var d=b.now();o||!1!==i.leading||(o=d);var h=t-(d-o);return s=this,a=arguments,h<=0||h>t?(r&&(clearTimeout(r),r=null),o=d,n=e.apply(s,a),r||(s=a=null)):r||!1===i.trailing||(r=setTimeout(c,h)),n};return d.cancel=function(){clearTimeout(r),o=0,r=s=a=null},d},b.debounce=function(e,t,i){var r,s,a=function(t,i){r=null,i&&(s=e.apply(t,i))},n=k((function(n){if(r&&clearTimeout(r),i){var o=!r;r=setTimeout(a,t),o&&(s=e.apply(this,n))}else r=b.delay(a,t,this,n);return s}));return n.cancel=function(){clearTimeout(r),r=null},n},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,r=e[t].apply(this,arguments);i--;)r=e[i].call(this,r);return r}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},b.once=b.partial(b.before,2),b.restArguments=k;var q=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],D=function(e,t){var i=L.length,r=e.constructor,s=b.isFunction(r)&&r.prototype||o,a="constructor";for(S(e,a)&&!b.contains(t,a)&&t.push(a);i--;)(a=L[i])in e&&e[a]!==s[a]&&!b.contains(t,a)&&t.push(a)};b.keys=function(e){if(!b.isObject(e))return[];if(p)return p(e);var t=[];for(var i in e)S(e,i)&&t.push(i);return q&&D(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var i in e)t.push(i);return q&&D(e,t),t},b.values=function(e){for(var t=b.keys(e),i=t.length,r=Array(i),s=0;s<i;s++)r[s]=e[t[s]];return r},b.mapObject=function(e,t,i){t=w(t,i);for(var r=b.keys(e),s=r.length,a={},n=0;n<s;n++){var o=r[n];a[o]=t(e[o],o,e)}return a},b.pairs=function(e){for(var t=b.keys(e),i=t.length,r=Array(i),s=0;s<i;s++)r[s]=[t[s],e[t[s]]];return r},b.invert=function(e){for(var t={},i=b.keys(e),r=0,s=i.length;r<s;r++)t[e[i[r]]]=i[r];return t},b.functions=b.methods=function(e){var t=[];for(var i in e)b.isFunction(e[i])&&t.push(i);return t.sort()};var N=function(e,t){return function(i){var r=arguments.length;if(t&&(i=Object(i)),r<2||null==i)return i;for(var s=1;s<r;s++)for(var a=arguments[s],n=e(a),o=n.length,c=0;c<o;c++){var d=n[c];t&&void 0!==i[d]||(i[d]=a[d])}return i}};b.extend=N(b.allKeys),b.extendOwn=b.assign=N(b.keys),b.findKey=function(e,t,i){t=w(t,i);for(var r,s=b.keys(e),a=0,n=s.length;a<n;a++)if(t(e[r=s[a]],r,e))return r};var U,V,G=function(e,t,i){return t in i};b.pick=k((function(e,t){var i={},r=t[0];if(null==e)return i;b.isFunction(r)?(t.length>1&&(r=g(r,t[1])),t=b.allKeys(e)):(r=G,t=B(t,!1,!1),e=Object(e));for(var s=0,a=t.length;s<a;s++){var n=t[s],o=e[n];r(o,n,e)&&(i[n]=o)}return i})),b.omit=k((function(e,t){var i,r=t[0];return b.isFunction(r)?(r=b.negate(r),t.length>1&&(i=t[1])):(t=b.map(B(t,!1,!1),String),r=function(e,i){return!b.contains(t,i)}),b.pick(e,r,i)})),b.defaults=N(b.allKeys,!0),b.create=function(e,t){var i=_(e);return t&&b.extendOwn(i,t),i},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var i=b.keys(t),r=i.length;if(null==e)return!r;for(var s=Object(e),a=0;a<r;a++){var n=i[a];if(t[n]!==s[n]||!(n in s))return!1}return!0},U=function(e,t,i,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var s=typeof e;return("function"===s||"object"===s||"object"==typeof t)&&V(e,t,i,r)},V=function(e,t,i,r){e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var s=u.call(e);if(s!==u.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(t)}var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var n=e.constructor,o=t.constructor;if(n!==o&&!(b.isFunction(n)&&n instanceof n&&b.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var d=(i=i||[]).length;d--;)if(i[d]===e)return r[d]===t;if(i.push(e),r.push(t),a){if((d=e.length)!==t.length)return!1;for(;d--;)if(!U(e[d],t[d],i,r))return!1}else{var h,l=b.keys(e);if(d=l.length,b.keys(t).length!==d)return!1;for(;d--;)if(h=l[d],!S(t,h)||!U(e[h],t[h],i,r))return!1}return i.pop(),r.pop(),!0},b.isEqual=function(e,t){return U(e,t)},b.isEmpty=function(e){return null==e||(M(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=f||function(e){return"[object Array]"===u.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){b["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),b.isArguments(arguments)||(b.isArguments=function(e){return S(e,"callee")});var j=s.document&&s.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof j&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return!b.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&isNaN(e)},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){if(!b.isArray(t))return S(e,t);for(var i=t.length,r=0;r<i;r++){var s=t[r];if(null==e||!l.call(e,s))return!1;e=e[s]}return!!i},b.noConflict=function(){return s._=a,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=function(e){return b.isArray(e)?function(t){return x(t,e)}:T(e)},b.propertyOf=function(e){return null==e?function(){}:function(t){return b.isArray(t)?x(e,t):e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,i){var r=Array(Math.max(0,e));t=g(t,i,1);for(var s=0;s<e;s++)r[s]=t(s);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=b.invert(H),z=function(e){var t=function(t){return e[t]},i="(?:"+b.keys(e).join("|")+")",r=RegExp(i),s=RegExp(i,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(s,t):e}};b.escape=z(H),b.unescape=z(K),b.result=function(e,t,i){b.isArray(t)||(t=[t]);var r=t.length;if(!r)return b.isFunction(i)?i.call(e):i;for(var s=0;s<r;s++){var a=null==e?void 0:e[t[s]];void 0===a&&(a=i,s=r),e=b.isFunction(a)?a.call(e):a}return e};var W=0;b.uniqueId=function(e){var t=++W+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,J=function(e){return"\\"+Y[e]};b.template=function(e,t,i){!t&&i&&(t=i),t=b.defaults({},t,b.templateSettings);var r,s=RegExp([(t.escape||X).source,(t.interpolate||X).source,(t.evaluate||X).source].join("|")+"|$","g"),a=0,n="__p+='";e.replace(s,(function(t,i,r,s,o){return n+=e.slice(a,o).replace(Z,J),a=o+t.length,i?n+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?n+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(n+="';\n"+s+"\n__p+='"),t})),n+="';\n",t.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{r=new Function(t.variable||"obj","_",n)}catch(d){throw d.source=n,d}var o=function(e){return r.call(this,e,b)},c=t.variable||"obj";return o.source="function("+c+"){\n"+n+"}",o},b.chain=function(e){var t=b(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){return b.each(b.functions(e),(function(t){var i=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),Q(this,i.apply(b,e))}})),b},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];b.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],Q(this,i)}})),b.each(["concat","join","slice"],(function(e){var t=n[e];b.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return b}.apply(t,[]))||(i.exports=r)}()}).call(this,i("pCvA"),i("RoC8")(e))},PunD:function(e,t,i){(function(t){var i=Math.pow(2,30)-1;function r(e,i){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(i+" must be a buffer or string")}e.exports=function(e,t,s,a){if(r(e,"Password"),r(t,"Salt"),"number"!==typeof s)throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if("number"!==typeof a)throw new TypeError("Key length not a number");if(a<0||a>i||a!==a)throw new TypeError("Bad key length")}}).call(this,i("qykS").Buffer)},Pvdy:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"idex",name:"IDEX",countries:["US"],rateLimit:1500,certified:!0,requiresWeb3:!0,has:{fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchBalance:!0,createOrder:!0,cancelOrder:!0,fetchOpenOrders:!0,fetchTransactions:!0,fetchTrades:!0,fetchMyTrades:!0,withdraw:!0,fetchOHLCV:!1},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{test:"https://api.idex.market",logo:"https://user-images.githubusercontent.com/1294454/63693236-3415e380-c81c-11e9-8600-ba1634f1407d.jpg",api:"https://api.idex.market",www:"https://idex.market",doc:["https://docs.idex.market/"]},api:{public:{post:["returnTicker","returnCurrenciesWithPairs","returnCurrencies","return24Volume","returnBalances","returnCompleteBalances","returnDepositsWithdrawals","returnOpenOrders","returnOrderBook","returnOrderStatus","returnOrderTrades","returnTradeHistory","returnTradeHistoryMeta","returnContractAddress","returnNextNonce"]},private:{post:["order","cancel","trade","withdraw"]}},options:{contractAddress:void 0,orderNonce:void 0},exceptions:{"Invalid order signature. Please try again.":n,"You have insufficient funds to match this order. If you believe this is a mistake please refresh and try again.":o,"Order no longer available.":c},requiredCredentials:{walletAddress:!0,privateKey:!0,apiKey:!1,secret:!1},commonCurrencies:{ONE:"Menlo One",FT:"Fabric Token"}})}async fetchMarkets(e={}){const t=await this.publicPostReturnCurrenciesWithPairs(this.extend({includeDelisted:!0},e)),i={},r=t.tokens;for(let c=0;c<r.length;c++){const e=r[c];i[e.symbol]=e}const s=[],a={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},n=t.pairs,o=Object.keys(n);for(let c=0;c<o.length;c++){const e=o[c],t=n[e],r=this.safeCurrencyCode(e),d=i[e];for(let n=0;n<t.length;n++){const o=t[n],c=e+"_"+o,h=this.safeCurrencyCode(o),u=h+"/"+r,l=i[o],f=l.address,p=d.address,m={price:this.safeInteger(d,"decimals"),amount:this.safeInteger(l,"decimals")};s.push({symbol:u,precision:m,base:h,quote:r,baseId:f,quoteId:p,limits:a,id:c,info:l,tierBased:!1})}}return s}parseTicker(e,t){let i=void 0;t&&(i=t.symbol);const r=this.safeFloat(e,"baseVolume"),s=this.safeFloat(e,"quoteVolume"),a=this.safeFloat(e,"last"),n=this.safeFloat(e,"percentChange");return{symbol:i,timestamp:void 0,datetime:void 0,high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:n,average:void 0,baseVolume:s,quoteVolume:r,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicPostReturnTicker(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a];let t=void 0,n=void 0;if(e in this.markets_by_id)n=this.markets_by_id[e],t=n.symbol;else{const[i,r]=e.split("_");t=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(i),n={symbol:t}}const o=i[e];s[t]=this.parseTicker(o,n)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicPostReturnTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r.quote+"_"+r.base,count:100};void 0!==t&&(s.count=t);const a=await this.publicPostReturnOrderBook(this.extend(s,i));return this.parseOrderBook(a,void 0,"bids","asks","price","amount")}parseBidAsk(e,t=0,i=1){return[this.safeFloat(e,t),this.safeFloat(e,i),e]}async fetchBalance(e={}){const t={address:this.walletAddress},i=await this.publicPostReturnCompleteBalances(this.extend(t,e)),r={info:i},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=i[e];r[this.safeCurrencyCode(e)]={free:this.safeFloat(t,"available"),used:this.safeFloat(t,"onOrders")}}return this.parseBalance(r)}async createOrder(e,t,i,r,s,n={}){this.checkRequiredDependencies(),await this.loadMarkets();const o=this.market(e);if("limit"===t){const e=1e5,t=await this.getContractAddress();let a=void 0,n=void 0,c=void 0,d=void 0;const h=parseFloat(s)*parseFloat(r);"buy"===i?(a=o.baseId,n=o.quoteId,c=this.toWei(r,"ether",o.precision.amount),d=this.toWei(h,"ether",18)):(a=o.quoteId,n=o.baseId,c=this.toWei(h,"ether",18),d=this.toWei(r,"ether",o.precision.amount));const u=await this.getNonce(),l={contractAddress:t,tokenBuy:a,amountBuy:c,tokenSell:n,amountSell:d,expires:e,nonce:u,address:this.walletAddress},f=this.getIdexCreateOrderHash(l),p=this.signMessage(f,this.privateKey),m={tokenBuy:a,amountBuy:c,tokenSell:n,amountSell:d,address:this.walletAddress,nonce:u,expires:e},y=await this.privatePostOrder(this.extend(m,p));return this.parseOrder(y,o)}if("market"===t){if(!("orderHash"in n))throw new a(this.id+" market order requires an order structure such as that in fetchOrderBook()['bids'][0][2], fetchOrder()['info'], or fetchOpenOrders()[0]['info']");const e={orderHash:n.orderHash,amount:n.params.amountBuy,address:n.params.user,nonce:n.params.nonce},t=this.getIdexMarketOrderHash(e),i=this.signMessage(t,this.privateKey),r=this.extend(e,i);r.address=this.walletAddress,r.nonce=await this.getNonce();const s=await this.privatePostTrade(r);return this.parseOrders(s,o)}}async getNonce(){if(void 0===this.options.orderNonce){const e=await this.publicPostReturnNextNonce({address:this.walletAddress});return this.safeInteger(e,"nonce")}{const e=this.options.orderNonce;return this.options.orderNonce=this.sum(this.options.orderNonce,1),e}}async getContractAddress(){if(void 0!==this.options.contractAddress)return this.options.contractAddress;const e=await this.publicPostReturnContractAddress();return this.options.contractAddress=this.safeString(e,"address"),this.options.contractAddress}async cancelOrder(e,t,i={}){const r=await this.getNonce(),a={orderHash:e,nonce:r},n=this.getIdexCancelOrderHash(a),o=this.signMessage(n,this.privateKey),c={orderHash:e,address:this.walletAddress,nonce:r},d=await this.privatePostCancel(this.extend(c,o));if("success"in d)return{info:d};throw new s(this.id+" cancel order failed "+this.json(d))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=this.currency(e),a={address:this.walletAddress};void 0!==t&&(a.start=parseInt(Math.floor(t/1e3)));const n=await this.publicPostReturnDepositsWithdrawals(this.extend(a,r)),o=this.parseTransactions(n.deposits,s,t,i),c=this.parseTransactions(n.withdrawals,s,t,i);return this.arrayConcat(o,c)}parseTransaction(e,t){const i=this.safeFloat(e,"amount"),r=this.safeTimestamp(e,"timestamp"),s=this.safeString(e,"transactionHash");let a=void 0,n=void 0,o=void 0,c=void 0,d=void 0;"depositNumber"in e?(a=this.safeString(e,"depositNumber"),n="deposit",c=this.walletAddress,d=this.options.contractAddress):"withdrawalNumber"in e&&(a=this.safeString(e,"withdrawalNumber"),n="withdrawal",o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.options.contractAddress,d=this.walletAddress);const h=this.safeCurrencyCode(this.safeString(e,"currency"));return{info:e,id:a,txid:s,timestamp:r,datetime:this.iso8601(r),currency:h,amount:i,status:o,type:n,updated:void 0,comment:void 0,addressFrom:c,tagFrom:void 0,addressTo:d,tagTo:void 0,fee:{currency:h,cost:void 0,rate:void 0}}}parseTransactionStatus(e){return this.safeString({COMPLETE:"ok"},e)}async fetchOpenOrders(e,t,i,r={}){if(void 0===this.walletAddress)throw new a(this.id+" fetchOpenOrders requires a walletAddress");await this.loadMarkets();const s={address:this.walletAddress};let n=void 0;void 0!==e&&(n=this.market(e),s.market=n.id);const o=await this.publicPostReturnOpenOrders(this.extend(s,r));return this.parseOrders(o,n,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;void 0!==t&&(r=this.market(t));const s={orderHash:e},a=await this.publicPostReturnOrderStatus(this.extend(s,i));return this.parseOrder(a,r)}parseOrder(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"type");let s=void 0,a=void 0,n=void 0;"initialAmount"in e?(a=this.safeFloat(e,"initialAmount"),n=this.safeFloat(e,"amount")):a=this.safeFloat(e,"amount");const o=this.safeFloat(e,"filled"),c=this.safeFloat(e,"total"),d=this.safeFloat(e,"price");if("market"in e){const t=e.market;s=this.markets_by_id[t].symbol}else if(void 0!==r&&"params"in e){const t=e.params,i=this.safeCurrencyCode(this.safeString(t,"tokenBuy")),a=this.safeCurrencyCode(this.safeString(t,"tokenSell"));void 0!==i&&void 0!==a&&(s="buy"===r?i+"/"+a:a+"/"+i)}void 0===s&&void 0!==t&&(s=t.symbol);const h=this.safeString(e,"orderHash"),u=this.parseOrderStatus(this.safeString(e,"status"));return{info:e,id:h,symbol:s,timestamp:i,datetime:this.iso8601(i),side:r,amount:a,price:d,type:"limit",filled:o,remaining:n,cost:c,status:u}}parseOrderStatus(e){return this.safeString({open:"open"},e,e)}async fetchMyTrades(e,t,i,r={}){if(void 0===this.walletAddress)throw new a(this.id+" fetchOpenOrders requires a walletAddress");await this.loadMarkets();const s={address:this.walletAddress};let n=void 0;void 0!==e&&(n=this.market(e),s.market=n.id),void 0!==i&&(s.start=parseInt(Math.floor(i)));const o=await this.publicPostReturnTradeHistory(this.extend(s,r));if(Array.isArray(o))return this.parseTrades(o,n,t,i);{let e=[];const r=Object.keys(o);for(let s=0;s<r.length;s++){const a=o[r[s]],c=this.parseTrades(a,n,t,i);e=this.arrayConcat(e,c)}return e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.start=parseInt(Math.floor(i)));const n=await this.publicPostReturnTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){const i=this.safeString(e,"type");let r=void 0,s=void 0;const a=this.safeString(e,"maker");let n=void 0;void 0!==a&&void 0!==this.walletAddress&&(n=a.toLowerCase()===this.walletAddress.toLowerCase()?"maker":"taker");const o=this.safeCurrencyCode(this.safeString(e,"tokenBuy")),c=this.safeCurrencyCode(this.safeString(e,"tokenSell"));let d=void 0;void 0!==o&&void 0!==c&&("buy"===i?(d="buyerFee","maker"===n?(s=o+"/"+c,r=o):(s=c+"/"+o,r=c)):(d="sellerFee","maker"===n?(s=c+"/"+o,r=o):(s=o+"/"+c,r=c))),void 0===s&&void 0!==t&&(s=t.symbol);const h=this.safeTimestamp(e,"timestamp"),u=this.safeString(e,"tid"),l=this.safeFloat(e,"amount"),f=this.safeFloat(e,"price"),p=this.safeFloat(e,"total");let m=this.safeFloat(e,d);if(m<0){const t=this.safeFloat(e,"gasFee");m=this.sum(t,m)}const y={currency:r,cost:m};if(void 0!==m&&void 0!==l){const e="ETH"===r?p:l;y.rate=m/e}const b=this.safeString(e,"orderHash");return{info:e,id:u,timestamp:h,datetime:this.iso8601(h),fee:y,price:f,amount:l,cost:p,takerOrMaker:n,side:i,order:b,symbol:s,type:"limit"}}async withdraw(e,t,i,r,s={}){this.checkRequiredDependencies(),this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=a.id,o=await this.getNonce();t=this.toWei(t,"ether",a.precision);const c={contractAddress:await this.getContractAddress(),token:n,amount:t,address:i,nonce:o},d=this.getIdexWithdrawHash(c),h=this.signMessage(d,this.privateKey),u={address:i,amount:t,token:n,nonce:o};return{info:await this.privatePostWithdraw(this.extend(u,h)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){a=this.json(r);const n=this.urls.api+"/"+e;return s={"Content-Type":"application/json",Accept:"application/json"},"private"===t&&(this.checkRequiredCredentials(),s["API-Key"]=this.apiKey),{url:n,method:i,body:a,headers:s}}getIdexCreateOrderHash(e){return this.soliditySha3([e.contractAddress,e.tokenBuy,e.amountBuy,e.tokenSell,e.amountSell,e.expires,e.nonce,e.address])}getIdexCancelOrderHash(e){return this.soliditySha3([e.orderHash,e.nonce])}getIdexMarketOrderHash(e){return this.soliditySha3([e.orderHash,e.amount,e.address,e.nonce])}getIdexWithdrawHash(e){return this.soliditySha3([e.contractAddress,e.token,e.amount,e.address,e.nonce])}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"error"in o){if(o.error in this.exceptions)throw new this.exceptions[o.error](this.id+" "+o.error);throw new s(this.id+" "+n)}}}},Q0Bw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=i("QOjt");!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(r=t.UnicodeNormalizationForm||(t.UnicodeNormalizationForm={})),t.toUtf8Bytes=function(e,t){void 0===t&&(t=r.current),t!=r.current&&(e=e.normalize(t));for(var i=[],a=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?i[a++]=o:o<2048?(i[a++]=o>>6|192,i[a++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),i[a++]=o>>18|240,i[a++]=o>>12&63|128,i[a++]=o>>6&63|128,i[a++]=63&o|128):(i[a++]=o>>12|224,i[a++]=o>>6&63|128,i[a++]=63&o|128)}return s.arrayify(i)},t.toUtf8String=function(e){e=s.arrayify(e);for(var t="",i=0;i<e.length;){var r=e[i++];if(r>>7!=0){if(r>>6!=2){var a=null;if(r>>5==6)a=1;else if(r>>4==14)a=2;else if(r>>3==30)a=3;else if(r>>2==62)a=4;else{if(r>>1!=126)continue;a=5}if(i+a>e.length){for(;i<e.length&&e[i]>>6==2;i++);if(i!=e.length)continue;return t}var n,o=r&(1<<8-a-1)-1;for(n=0;n<a;n++){var c=e[i++];if(c>>6!=2)break;o=o<<6|63&c}n==a?o<=65535?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(55296+(o>>10&1023),56320+(1023&o))):i--}}else t+=String.fromCharCode(r)}return t}},"Q6g+":function(e,t,i){(function(t){var r=i("6MVH"),s=i("8kJ5");e.exports=function(e){return new n(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function o(e,i,r){Array.isArray(e)||(e=e.toArray());var s=new t(e);if(r&&s.length<r){var a=new t(r-s.length);a.fill(0),s=t.concat([a,s])}return i?s.toString(i):s}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(e,i,r){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),o(i,e)},n.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},n.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=new s(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,i("qykS").Buffer)},QA75:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hardforks=[["chainstart",i("VF92")],["homestead",i("pfAZ")],["dao",i("++kv")],["tangerineWhistle",i("HtTd")],["spuriousDragon",i("65qu")],["byzantium",i("0MHh")],["constantinople",i("VdIK")],["petersburg",i("+rti")],["istanbul",i("dLTP")],["muirGlacier",i("YVp3")]]},QEnC:function(e,t,i){var r=i("ODEr"),s=i("Ih9J"),a=i("89XF"),n=i("NYr8"),o=i("peDq");function c(e,t,i){if(e=e.toLowerCase(),a[e])return s.createCipheriv(e,t,i);if(n[e])return new r({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function d(e,t,i){if(e=e.toLowerCase(),a[e])return s.createDecipheriv(e,t,i);if(n[e])return new r({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var i,r;if(e=e.toLowerCase(),a[e])i=a[e].key,r=a[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");i=8*n[e].key,r=n[e].iv}var s=o(t,!1,i,r);return c(e,s.key,s.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var i,r;if(e=e.toLowerCase(),a[e])i=a[e].key,r=a[e].iv;else{if(!n[e])throw new TypeError("invalid suite type");i=8*n[e].key,r=n[e].iv}var s=o(t,!1,i,r);return d(e,s.key,s.iv)},t.createDecipheriv=t.Decipheriv=d,t.listCiphers=t.getCiphers=function(){return Object.keys(n).concat(s.getCiphers())}},QOjt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("BFfO"),s=i("pa9A");function a(e){return e instanceof r.BigNumber}function n(e){return e.slice?e:(e.slice=function(){var t=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(e,t))},e)}function o(e){if(!e||parseInt(String(e.length))!=e.length||"string"===typeof e)return!1;for(var t=0;t<e.length;t++){var i=e[t];if(i<0||i>=256||parseInt(String(i))!=i)return!1}return!0}function c(e){if(null==e&&s.throwError("cannot convert null value to array",s.INVALID_ARGUMENT,{arg:"value",value:e}),a(e)&&(e=e.toHexString()),"string"===typeof e){var t=e.match(/^(0x)?[0-9a-fA-F]*$/);t||s.throwError("invalid hexidecimal string",s.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==t[1]&&s.throwError("hex string must have 0x prefix",s.INVALID_ARGUMENT,{arg:"value",value:e}),(e=e.substring(2)).length%2&&(e="0"+e);for(var i=[],r=0;r<e.length;r+=2)i.push(parseInt(e.substr(r,2),16));return n(new Uint8Array(i))}return o(e)?n(new Uint8Array(e)):(s.throwError("invalid arrayify value",null,{arg:"value",value:e,type:typeof e}),null)}function d(e){for(var t=[],i=0,r=0;r<e.length;r++){var s=c(e[r]);t.push(s),i+=s.length}var a=new Uint8Array(i),o=0;for(r=0;r<t.length;r++)a.set(t[r],o),o+=t[r].length;return n(a)}function h(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}t.AddressZero="0x0000000000000000000000000000000000000000",t.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",t.isArrayish=o,t.arrayify=c,t.concat=d,t.stripZeros=function(e){var t=c(e);if(0===t.length)return t;for(var i=0;0===t[i];)i++;return i&&(t=t.slice(i)),t},t.padZeros=function(e,t){if(t<(e=c(e)).length)throw new Error("cannot pad");var i=new Uint8Array(t);return i.set(e,t-e.length),n(i)},t.isHexString=h;var u="0123456789abcdef";function l(e){if(a(e))return e.toHexString();if("number"===typeof e){e<0&&s.throwError("cannot hexlify negative value",s.INVALID_ARGUMENT,{arg:"value",value:e});for(var t="";e;)t=u[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("string"===typeof e){var i=e.match(/^(0x)?[0-9a-fA-F]*$/);return i||s.throwError("invalid hexidecimal string",s.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==i[1]&&s.throwError("hex string must have 0x prefix",s.INVALID_ARGUMENT,{arg:"value",value:e}),e.length%2&&(e="0x0"+e.substring(2)),e}if(o(e)){for(var r=[],n=0;n<e.length;n++){var c=e[n];r.push(u[(240&c)>>4]+u[15&c])}return"0x"+r.join("")}return s.throwError("invalid hexlify value",null,{arg:"value",value:e}),"never"}function f(e,t){for(h(e)||s.throwError("invalid hex string",s.INVALID_ARGUMENT,{arg:"value",value:e});e.length<2*t+2;)e="0x0"+e.substring(2);return e}function p(e){var t,i=0,r="0x",a="0x";if((t=e)&&null!=t.r&&null!=t.s){null==e.v&&null==e.recoveryParam&&s.throwError("at least on of recoveryParam or v must be specified",s.INVALID_ARGUMENT,{argument:"signature",value:e}),r=f(e.r,32),a=f(e.s,32),"string"===typeof(i=e.v)&&(i=parseInt(i,16));var n=e.recoveryParam;null==n&&null!=e.v&&(n=1-i%2),i=27+n}else{var o=c(e);if(65!==o.length)throw new Error("invalid signature");r=l(o.slice(0,32)),a=l(o.slice(32,64)),27!==(i=o[64])&&28!==i&&(i=27+i%2)}return{r:r,s:a,recoveryParam:i-27,v:i}}t.hexlify=l,t.hexDataLength=function(e){return h(e)&&e.length%2===0?(e.length-2)/2:null},t.hexDataSlice=function(e,t,i){return h(e)||s.throwError("invalid hex data",s.INVALID_ARGUMENT,{arg:"value",value:e}),e.length%2!==0&&s.throwError("hex data length must be even",s.INVALID_ARGUMENT,{arg:"value",value:e}),t=2+2*t,null!=i?"0x"+e.substring(t,t+2*i):"0x"+e.substring(t)},t.hexStripZeros=function(e){for(h(e)||s.throwError("invalid hex string",s.INVALID_ARGUMENT,{arg:"value",value:e});e.length>3&&"0x0"===e.substring(0,3);)e="0x"+e.substring(3);return e},t.hexZeroPad=f,t.splitSignature=p,t.joinSignature=function(e){return l(d([(e=p(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},QaXa:function(e,t,i){e.exports=i("zRfg")},QpdZ:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,InsufficientFunds:n,InvalidOrder:o,OrderNotFound:c,AuthenticationError:d,BadSymbol:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"indodax",name:"INDODAX",countries:["ID"],has:{CORS:!1,createMarketOrder:!1,fetchTickers:!1,fetchOrder:!0,fetchOrders:!1,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchMyTrades:!1,fetchCurrencies:!1,withdraw:!0},version:"1.8",urls:{logo:"https://user-images.githubusercontent.com/1294454/37443283-2fddd0e4-281c-11e8-9741-b4f1419001b5.jpg",api:{public:"https://indodax.com/api",private:"https://indodax.com/tapi"},www:"https://www.indodax.com",doc:"https://indodax.com/downloads/BITCOINCOID-API-DOCUMENTATION.pdf",referral:"https://indodax.com/ref/testbitcoincoid/1"},api:{public:{get:["{pair}/ticker","{pair}/trades","{pair}/depth"]},private:{post:["getInfo","transHistory","trade","tradeHistory","getOrder","openOrders","cancelOrder","orderHistory","withdrawCoin"]}},markets:{"BTC/IDR":{id:"btc_idr",symbol:"BTC/IDR",base:"BTC",quote:"IDR",baseId:"btc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e-4,max:void 0}}},"TEN/IDR":{id:"ten_idr",symbol:"TEN/IDR",base:"TEN",quote:"IDR",baseId:"ten",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"ABYSS/IDR":{id:"abyss_idr",symbol:"ABYSS/IDR",base:"ABYSS",quote:"IDR",baseId:"abyss",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"ACT/IDR":{id:"act_idr",symbol:"ACT/IDR",base:"ACT",quote:"IDR",baseId:"act",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"ADA/IDR":{id:"ada_idr",symbol:"ADA/IDR",base:"ADA",quote:"IDR",baseId:"ada",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"AOA/IDR":{id:"aoa_idr",symbol:"AOA/IDR",base:"AOA",quote:"IDR",baseId:"aoa",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"ATOM/IDR":{id:"atom_idr",symbol:"ATOM/IDR",base:"ATOM",quote:"IDR",baseId:"atom",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BAT/IDR":{id:"bat_idr",symbol:"BAT/IDR",base:"BAT",quote:"IDR",baseId:"bat",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCD/IDR":{id:"bcd_idr",symbol:"BCD/IDR",base:"BCD",quote:"IDR",baseId:"bcd",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"BCH/IDR":{id:"bchabc_idr",symbol:"BCH/IDR",base:"BCH",quote:"IDR",baseId:"bchabc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BSV/IDR":{id:"bchsv_idr",symbol:"BSV/IDR",base:"BSV",quote:"IDR",baseId:"bchsv",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BNB/IDR":{id:"bnb_idr",symbol:"BNB/IDR",base:"BNB",quote:"IDR",baseId:"bnb",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.001,max:void 0}}},"BTG/IDR":{id:"btg_idr",symbol:"BTG/IDR",base:"BTG",quote:"IDR",baseId:"btg",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"BTS/IDR":{id:"bts_idr",symbol:"BTS/IDR",base:"BTS",quote:"IDR",baseId:"bts",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"BTT/IDR":{id:"btt_idr",symbol:"BTT/IDR",base:"BTT",quote:"IDR",baseId:"btt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e3,max:void 0}}},"COAL/IDR":{id:"coal_idr",symbol:"COAL/IDR",base:"COAL",quote:"IDR",baseId:"coal",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:50,max:void 0}}},"CRO/IDR":{id:"cro_idr",symbol:"CRO/IDR",base:"CRO",quote:"IDR",baseId:"cro",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"DASH/IDR":{id:"drk_idr",symbol:"DASH/IDR",base:"DASH",quote:"IDR",baseId:"drk",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"DAX/IDR":{id:"dax_idr",symbol:"DAX/IDR",base:"DAX",quote:"IDR",baseId:"dax",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"DOGE/IDR":{id:"doge_idr",symbol:"DOGE/IDR",base:"DOGE",quote:"IDR",baseId:"doge",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1e3,max:void 0}}},"ETH/IDR":{id:"eth_idr",symbol:"ETH/IDR",base:"ETH",quote:"IDR",baseId:"eth",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"EOS/IDR":{id:"eos_idr",symbol:"EOS/IDR",base:"EOS",quote:"IDR",baseId:"eos",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"ETC/IDR":{id:"etc_idr",symbol:"ETC/IDR",base:"ETC",quote:"IDR",baseId:"etc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"GARD/IDR":{id:"gard_idr",symbol:"GARD/IDR",base:"GARD",quote:"IDR",baseId:"gard",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"GSC/IDR":{id:"gsc_idr",symbol:"GSC/IDR",base:"GSC",quote:"IDR",baseId:"gsc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"GXC/IDR":{id:"gxs_idr",symbol:"GXC/IDR",base:"GXC",quote:"IDR",baseId:"gxs",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"HPB/IDR":{id:"hpb_idr",symbol:"HPB/IDR",base:"HPB",quote:"IDR",baseId:"hpb",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"IGNIS/IDR":{id:"ignis_idr",symbol:"IGNIS/IDR",base:"IGNIS",quote:"IDR",baseId:"ignis",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"INX/IDR":{id:"inx_idr",symbol:"INX/IDR",base:"INX",quote:"IDR",baseId:"inx",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"IOTA/IDR":{id:"iota_idr",symbol:"IOTA/IDR",base:"IOTA",quote:"IDR",baseId:"iota",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"LINK/IDR":{id:"link_idr",symbol:"LINK/IDR",base:"LINK",quote:"IDR",baseId:"link",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"LTC/IDR":{id:"ltc_idr",symbol:"LTC/IDR",base:"LTC",quote:"IDR",baseId:"ltc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"MBL/IDR":{id:"mbl_idr",symbol:"MBL/IDR",base:"MBL",quote:"IDR",baseId:"mbl",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"NEO/IDR":{id:"neo_idr",symbol:"NEO/IDR",base:"NEO",quote:"IDR",baseId:"neo",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"NPXS/IDR":{id:"npxs_idr",symbol:"NPXS/IDR",base:"NPXS",quote:"IDR",baseId:"npxs",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"NXT/IDR":{id:"nxt_idr",symbol:"NXT/IDR",base:"NXT",quote:"IDR",baseId:"nxt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"OKB/IDR":{id:"okb_idr",symbol:"OKB/IDR",base:"OKB",quote:"IDR",baseId:"okb",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.5,max:void 0}}},"ONT/IDR":{id:"ont_idr",symbol:"ONT/IDR",base:"ONT",quote:"IDR",baseId:"ont",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"PXG/IDR":{id:"pxg_idr",symbol:"PXG/IDR",base:"PXG",quote:"IDR",baseId:"pxg",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"QTUM/IDR":{id:"qtum_idr",symbol:"QTUM/IDR",base:"QTUM",quote:"IDR",baseId:"qtum",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"RVN/IDR":{id:"rvn_idr",symbol:"RVN/IDR",base:"RVN",quote:"IDR",baseId:"rvn",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"SSP/IDR":{id:"ssp_idr",symbol:"SSP/IDR",base:"SSP",quote:"IDR",baseId:"ssp",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"SUMO/IDR":{id:"sumo_idr",symbol:"SUMO/IDR",base:"SUMO",quote:"IDR",baseId:"sumo",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:5,max:void 0}}},"TRX/IDR":{id:"trx_idr",symbol:"TRX/IDR",base:"TRX",quote:"IDR",baseId:"trx",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"USDC/IDR":{id:"usdc_idr",symbol:"USDC/IDR",base:"USDC",quote:"IDR",baseId:"usdc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"USDT/IDR":{id:"usdt_idr",symbol:"USDT/IDR",base:"USDT",quote:"IDR",baseId:"usdt",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"VEX/IDR":{id:"vex_idr",symbol:"VEX/IDR",base:"VEX",quote:"IDR",baseId:"vex",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:void 0,max:void 0}}},"VIDY/IDR":{id:"vidy_idr",symbol:"VIDY/IDR",base:"VIDY",quote:"IDR",baseId:"vidy",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:100,max:void 0}}},"WAVES/IDR":{id:"waves_idr",symbol:"WAVES/IDR",base:"WAVES",quote:"IDR",baseId:"waves",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"XEM/IDR":{id:"nem_idr",symbol:"XEM/IDR",base:"XEM",quote:"IDR",baseId:"nem",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:1,max:void 0}}},"XLM/IDR":{id:"str_idr",symbol:"XLM/IDR",base:"XLM",quote:"IDR",baseId:"str",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:20,max:void 0}}},"XDCE/IDR":{id:"xdce_idr",symbol:"XDCE/IDR",base:"XDCE",quote:"IDR",baseId:"xdce",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:10,max:void 0}}},"XMR/IDR":{id:"xmr_idr",symbol:"XMR/IDR",base:"XMR",quote:"IDR",baseId:"xmr",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"XRP/IDR":{id:"xrp_idr",symbol:"XRP/IDR",base:"XRP",quote:"IDR",baseId:"xrp",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:10,max:void 0}}},"XZC/IDR":{id:"xzc_idr",symbol:"XZC/IDR",base:"XZC",quote:"IDR",baseId:"xzc",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"VSYS/IDR":{id:"vsys_idr",symbol:"VSYS/IDR",base:"VSYS",quote:"IDR",baseId:"vsys",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.1,max:void 0}}},"ZEC/IDR":{id:"zec_idr",symbol:"ZEC/IDR",base:"ZEC",quote:"IDR",baseId:"zec",quoteId:"idr",precision:{amount:8,price:0},limits:{amount:{min:.01,max:void 0}}},"BTS/BTC":{id:"bts_btc",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"DASH/BTC":{id:"drk_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"drk",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",precision:{amount:8,price:5},limits:{amount:{min:.001,max:void 0}}},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",precision:{amount:8,price:6},limits:{amount:{min:.01,max:void 0}}},"NXT/BTC":{id:"nxt_btc",symbol:"NXT/BTC",base:"NXT",quote:"BTC",baseId:"nxt",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"SUMO/BTC":{id:"sumo_btc",symbol:"SUMO/BTC",base:"SUMO",quote:"BTC",baseId:"sumo",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"TEN/BTC":{id:"ten_btc",symbol:"TEN/BTC",base:"TEN",quote:"BTC",baseId:"ten",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XEM/BTC":{id:"nem_btc",symbol:"XEM/BTC",base:"XEM",quote:"BTC",baseId:"nem",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:1,max:void 0}}},"XLM/BTC":{id:"str_btc",symbol:"XLM/BTC",base:"XLM",quote:"BTC",baseId:"str",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}},"XRP/BTC":{id:"xrp_btc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",precision:{amount:8,price:8},limits:{amount:{min:.01,max:void 0}}}},fees:{trading:{tierBased:!1,percentage:!0,maker:0,taker:.003}},exceptions:{exact:{invalid_pair:h,"Insufficient balance.":n,"invalid order.":c,"Invalid credentials. API not found or session has expired.":d,"Invalid credentials. Bad sign.":d},broad:{"Minimum price":o,"Minimum order":o}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetInfo(e),i=this.safeValue(t,"return",{}),r=this.safeValue(i,"balance",{}),s=this.safeValue(i,"balance_hold",{}),a={info:t},n=Object.keys(r);for(let o=0;o<n.length;o++){const e=n[o],t=this.safeCurrencyCode(e),i=this.account();i.free=this.safeFloat(r,e),i.used=this.safeFloat(s,e),a[t]=i}return this.parseBalance(a)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i));return this.parseOrderBook(s,void 0,"buy","sell")}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=(await this.publicGetPairTicker(this.extend(r,t))).ticker,a=this.safeTimestamp(s,"server_time"),n="vol_"+i.baseId.toLowerCase(),o="vol_"+i.quoteId.toLowerCase(),c=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,n),quoteVolume:this.safeFloat(s,o),info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeString(e,"type"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;return void 0!==n&&void 0!==o&&(c=n*o),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:a,order:void 0,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetPairTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrder(e,t){let i=void 0;"type"in e&&(i=e.type);let r=this.safeString(e,"status","open");"filled"===r?r="closed":"cancelled"===r&&(r="canceled");let s=void 0,a=void 0;const n=this.safeFloat(e,"price");let o=void 0,c=void 0,d=void 0;if(void 0!==t){s=t.symbol;let i=t.quoteId,r=t.baseId;if("idr"===t.quoteId&&"order_rp"in e&&(i="rp"),"idr"===t.baseId&&"remain_rp"in e&&(r="rp"),a=this.safeFloat(e,"order_"+i),a){o=a/n;const t=this.safeFloat(e,"remain_"+i);void 0!==t&&(c=t/n,d=o-c)}else o=this.safeFloat(e,"order_"+r),a=n*o,c=this.safeFloat(e,"remain_"+r),d=o-c}let h=void 0;d&&(h=a/d);const u=this.safeInteger(e,"submit_time");return{info:e,id:this.safeString(e,"order_id"),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:s,type:"limit",side:i,price:n,cost:a,average:h,amount:o,filled:d,remaining:c,status:r,fee:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" fetchOrder requires a symbol");await this.loadMarkets();const r=this.market(t),a={pair:r.id,order_id:e},n=await this.privatePostGetOrder(this.extend(a,i)),o=n.return,c=this.parseOrder(this.extend({id:e},o.order),r);return this.extend({info:n},c)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.pair=s.id);const n=(await this.privatePostOpenOrders(this.extend(a,r))).return.orders;if(!n)return[];if(void 0!==e)return this.parseOrders(n,s,t,i);const o=Object.keys(n);let c=[];for(let d=0;d<o.length;d++){const e=o[d],r=n[e];s=this.markets_by_id[e];const a=this.parseOrders(r,s,t,i);c=this.arrayConcat(c,a)}return c}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOrders requires a symbol");await this.loadMarkets();const a={};let n=void 0;void 0!==e&&(n=this.market(e),a.pair=n.id);const o=await this.privatePostOrderHistory(this.extend(a,r));let c=this.parseOrders(o.return.orders,n,t,i);return c=this.filterBy(c,"status","closed"),void 0!==e?this.filterBySymbol(c,e):c}async createOrder(e,t,i,r,a,n={}){if("limit"!==t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={pair:o.id,type:i,price:a},d=o.baseId;"buy"===i?c[o.quoteId]=r*a:c[o.baseId]=r,c[d]=r;const h=await this.privatePostTrade(this.extend(c,n));return{info:h,id:h.return.order_id.toString()}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder requires a symbol argument");const r=this.safeValue(i,"side");if(void 0===r)throw new s(this.id+' cancelOrder requires an extra "side" param');await this.loadMarkets();const n={order_id:e,pair:this.market(t).id,type:r};return await this.privatePostCancelOrder(this.extend(n,i))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.milliseconds(),o={currency:a.id,withdraw_amount:t,withdraw_address:i,request_id:n.toString()};r&&(o.withdraw_memo=r);const c=await this.privatePostWithdrawCoin(this.extend(o,s));let d=void 0;return"txid"in c&&c.txid.length>0&&(d=c.txid),{info:c,id:d}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];return"public"===t?n+="/"+this.implodeParams(e,r):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,nonce:this.nonce()},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;if(Array.isArray(o))return;const h=this.safeValue(o,"error","");if(!("success"in o)&&""===h)return;if(1===this.safeInteger(o,"success",0)){if("return"in o)return;throw new s(this.id+": malformed response: "+this.json(o))}const u=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,h,u),this.throwBroadlyMatchedException(this.exceptions.broad,h,u),new s(u)}}},QxbU:function(e,t){for(var i=[],r=0;r<256;++r)i[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,s=i;return[s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]]].join("")}},R3fu:function(e,t,i){var r;try{r=i("7x+o")}catch(o){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var s=r.WebSocket||r.MozWebSocket,a=i("VH/k");function n(e,t){return t?new s(e,t):new s(e)}s&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(n,e,{get:function(){return s[e]}})})),e.exports={w3cwebsocket:s?n:null,version:a}},RRnc:function(e,t,i){const r=i("8kJ5"),s=i("sMSM"),a=e=>new r(e.slice(2),16),n=e=>{const t="0x"+("0x"===e.slice(0,2)?new r(e.slice(2),16):new r(e,10)).toString("hex");return"0x0"===t?"0x":t},o=e=>"string"===typeof e?/^0x/.test(e)?e:"0x"+e:"0x"+new r(e).toString("hex"),c=e=>a(e).toNumber(),d=e=>(t,i)=>(e=>"0x"+e.toString("hex"))(a(t)[e](a(i))),h=d("add"),u=d("mul"),l=d("div"),f=d("sub");e.exports={toString:e=>a(e).toString(10),fromString:n,toNumber:c,fromNumber:o,toEther:e=>c(l(e,n("10000000000")))/1e8,fromEther:e=>u(o(Math.floor(1e8*e)),n("10000000000")),toUint256:e=>s.pad(32,e),add:h,mul:u,div:l,sub:f}},Rcnz:function(e,t,i){"use strict";const r=i("uS8B");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"vbtc",name:"VBTC",countries:["VN"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991481-1f53d1d8-6481-11e7-884e-21d17e7939db.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://vbtc.exchange",doc:"https://blinktrade.com/docs"},options:{brokerId:"3"}})}}},RfOT:function(e,t,i){var r=i("Xr9Y");t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},RmdU:function(e,t,i){"use strict";var r=i("BsBH"),s=i("kmZU");e.exports={packageInit:function(e,t){if(t=Array.prototype.slice.call(t),!e)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(e,"currentProvider",{get:function(){return e._provider},set:function(t){return e.setProvider(t)},enumerable:!0,configurable:!0}),t[0]&&t[0]._requestManager?e._requestManager=new r.Manager(t[0].currentProvider):(e._requestManager=new r.Manager,e._requestManager.setProvider(t[0],t[1])),e.givenProvider=r.Manager.givenProvider,e.providers=r.Manager.providers,e._provider=e._requestManager.provider,e.setProvider||(e.setProvider=function(t,i){return e._requestManager.setProvider(t,i),e._provider=e._requestManager.provider,!0}),e.BatchRequest=r.BatchManager.bind(null,e._requestManager),e.extend=s(e)},addProviders:function(e){e.givenProvider=r.Manager.givenProvider,e.providers=r.Manager.providers}}},S29b:function(e,t,i){"use strict";var r=i("PoH+"),s=i("Fq6B"),a=i("06z4"),n=i("pmRz"),o=i("O2Am"),c=i("C9Yi");function d(e){var t=this;this.ens=e,this.contract=e.checkNetwork().then((function(e){var i=new s(o,e);return i.setProvider(t.ens.eth.currentProvider),i}))}d.prototype.owner=function(e,t){var i=new n(!0);return this.contract.then((function(s){s.methods.owner(a.hash(e)).call().then((function(e){i.resolve(e),r.isFunction(t)&&t(e)})).catch((function(e){i.reject(e),r.isFunction(t)&&t(e)}))})),i.eventEmitter},d.prototype.resolver=function(e){var t=this;return this.contract.then((function(t){return t.methods.resolver(a.hash(e)).call()})).then((function(e){var i=new s(c,e);return i.setProvider(t.ens.eth.currentProvider),i}))},e.exports=d},S2bg:function(e,t,i){var r=i("pRMk").Buffer,s=r.alloc(16,0);function a(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function n(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,i,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],s=[0,0,0,0],n=-1;++n<128;){for(0!==(this.state[~~(n/8)]&1<<7-n%8)&&(s[0]^=r[0],s[1]^=r[1],s[2]^=r[2],s[3]^=r[3]),i=0!==(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,i&&(r[0]=r[0]^225<<24)}this.state=a(s)},n.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},n.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,s],16)),this.ghash(a([0,e,0,t])),this.state},e.exports=n},S63X:function(e,t,i){"use strict";var r=i("xQh+"),s=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},o=function(e,t,i){if(e){var r=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(r),o=n?r.slice(0,n.index):r,c=[];if(o){if(!i.plainObjects&&s.call(Object.prototype,o)&&!i.allowPrototypes)return;c.push(o)}for(var d=0;null!==(n=a.exec(r))&&d<i.depth;){if(d+=1,!i.plainObjects&&s.call(Object.prototype,n[1].slice(1,-1))&&!i.allowPrototypes)return;c.push(n[1])}return n&&c.push("["+r.slice(n.index)+"]"),function(e,t,i){for(var r=t,s=e.length-1;s>=0;--s){var a,n=e[s];if("[]"===n&&i.parseArrays)a=[].concat(r);else{a=i.plainObjects?Object.create(null):{};var o="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,c=parseInt(o,10);i.parseArrays||""!==o?!isNaN(c)&&n!==o&&String(c)===o&&c>=0&&i.parseArrays&&c<=i.arrayLimit?(a=[])[c]=r:a[o]=r:a={0:r}}r=a}return r}(c,t,i)}};e.exports=function(e,t){var i=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth?e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return i.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){var i,o={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,d),u=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<h.length;++i)0===h[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[i]?l="utf-8":"utf8=%26%2310003%3B"===h[i]&&(l="iso-8859-1"),u=i,i=h.length);for(i=0;i<h.length;++i)if(i!==u){var f,p,m=h[i],y=m.indexOf("]="),b=-1===y?m.indexOf("="):y+1;-1===b?(f=t.decoder(m,a.decoder,l),p=t.strictNullHandling?null:""):(f=t.decoder(m.slice(0,b),a.decoder,l),p=t.decoder(m.slice(b+1),a.decoder,l)),p&&t.interpretNumericEntities&&"iso-8859-1"===l&&(p=n(p)),p&&t.comma&&p.indexOf(",")>-1&&(p=p.split(",")),s.call(o,f)?o[f]=r.combine(o[f],p):o[f]=p}return o}(e,i):e,d=i.plainObjects?Object.create(null):{},h=Object.keys(c),u=0;u<h.length;++u){var l=h[u],f=o(l,c[l],i);d=r.merge(d,f,i)}return r.compact(d)}},SPmb:function(e,t,i){"use strict";var r=i("+Gs+"),s=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),a=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),n=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(a)})),d=r.define("RDNSequence",(function(){this.seqof(c)})),h=r.define("Name",(function(){this.choice({rdnSequence:this.use(d)})})),u=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),l=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(h),this.key("validity").use(u),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())}));e.exports=p},SUNt:function(e,t,i){var r=i("nIf0"),s=i("Olfb"),a=i("thXI"),n=i("PunD"),o=i("cDjl"),c=i("pRMk").Buffer,d=c.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(e,t,i){var n=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new s).update(e).digest()}:"md5"===e?r:function(t){return a(e).update(t).digest()}}(e),o="sha512"===e||"sha384"===e?128:64;t.length>o?t=n(t):t.length<o&&(t=c.concat([t,d],o));for(var u=c.allocUnsafe(o+h[e]),l=c.allocUnsafe(o+h[e]),f=0;f<o;f++)u[f]=54^t[f],l[f]=92^t[f];var p=c.allocUnsafe(o+i+4);u.copy(p,0,0,o),this.ipad1=p,this.ipad2=u,this.opad=l,this.alg=e,this.blocksize=o,this.hash=n,this.size=h[e]}u.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,i,r,s){n(e,t,i,r),c.isBuffer(e)||(e=c.from(e,o)),c.isBuffer(t)||(t=c.from(t,o));var a=new u(s=s||"sha1",e,t.length),d=c.allocUnsafe(r),l=c.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var f=0,p=h[s],m=Math.ceil(r/p),y=1;y<=m;y++){l.writeUInt32BE(y,t.length);for(var b=a.run(l,a.ipad1),v=b,g=1;g<i;g++){v=a.run(v,a.ipad2);for(var w=0;w<p;w++)b[w]^=v[w]}b.copy(d,f),f+=p}return d}},SY6p:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,RateLimitExceeded:o}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbase",name:"Coinbase",countries:["US"],rateLimit:400,version:"v2",userAgent:this.userAgents.chrome,headers:{"CB-VERSION":"2018-05-30"},has:{CORS:!0,cancelOrder:!1,createDepositAddress:!0,createOrder:!1,deposit:!1,fetchBalance:!0,fetchClosedOrders:!1,fetchCurrencies:!0,fetchDepositAddress:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!1,fetchOpenOrders:!1,fetchOrder:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchLedger:!0,fetchOrders:!1,fetchTicker:!0,fetchTickers:!1,fetchTime:!0,fetchBidsAsks:!1,fetchTrades:!1,withdraw:!1,fetchTransactions:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchMySells:!0,fetchMyBuys:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/40811661-b6eceae2-653a-11e8-829e-10bfadb078cf.jpg",api:"https://api.coinbase.com",www:"https://www.coinbase.com",doc:"https://developers.coinbase.com/api/v2",fees:"https://support.coinbase.com/customer/portal/articles/2109597-buy-sell-bank-transfer-fees",referral:"https://www.coinbase.com/join/58cbe25a355148797479dbd2"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["currencies","time","exchange-rates","users/{user_id}","prices/{symbol}/buy","prices/{symbol}/sell","prices/{symbol}/spot"]},private:{get:["accounts","accounts/{account_id}","accounts/{account_id}/addresses","accounts/{account_id}/addresses/{address_id}","accounts/{account_id}/addresses/{address_id}/transactions","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}","accounts/{account_id}/deposits","accounts/{account_id}/deposits/{deposit_id}","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}","payment-methods","payment-methods/{payment_method_id}","user","user/auth"],post:["accounts","accounts/{account_id}/primary","accounts/{account_id}/addresses","accounts/{account_id}/transactions","accounts/{account_id}/transactions/{transaction_id}/complete","accounts/{account_id}/transactions/{transaction_id}/resend","accounts/{account_id}/buys","accounts/{account_id}/buys/{buy_id}/commit","accounts/{account_id}/sells","accounts/{account_id}/sells/{sell_id}/commit","accounts/{account_id}/deposists","accounts/{account_id}/deposists/{deposit_id}/commit","accounts/{account_id}/withdrawals","accounts/{account_id}/withdrawals/{withdrawal_id}/commit"],put:["accounts/{account_id}","user"],delete:["accounts/{id}","accounts/{account_id}/transactions/{transaction_id}"]}},exceptions:{two_factor_required:n,param_required:s,validation_error:s,invalid_request:s,personal_details_required:n,identity_verification_required:n,jumio_verification_required:n,jumio_face_match_verification_required:n,unverified_email:n,authentication_error:n,invalid_token:n,revoked_token:n,expired_token:n,invalid_scope:n,not_found:s,rate_limit_exceeded:o,internal_server_error:s},options:{fetchCurrencies:{expires:5e3},accounts:["wallet","fiat"]}})}async fetchTime(e={}){const t=await this.publicGetTime(e),i=this.safeValue(t,"data",{});return this.parse8601(this.safeString(i,"iso"))}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeValue(e,"currency",{}),a=this.safeString(t,"code"),n=this.safeCurrencyCode(a);r.push({id:this.safeString(e,"id"),type:this.safeString(e,"type"),code:n,info:e})}return r}async createDepositAddress(e,t={}){let i=this.safeString(t,"account_id");if(t=this.omit(t,"account_id"),void 0===i){await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const r=this.accounts[t];if(r.code===e&&"wallet"===r.type){i=r.id;break}}}if(void 0===i)throw new s(this.id+" createDepositAddress could not find the account with matching currency code, specify an `account_id` extra param");const r={account_id:i},a=await this.privatePostAccountsAccountIdAddresses(this.extend(r,t)),n=this.safeValue(a,"data",{});return{currency:e,tag:this.safeString(n,"destination_tag"),address:this.safeString(n,"address"),info:a}}async fetchMySells(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const a=this.omit(r,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdSells(this.extend(s,a));return this.parseTrades(n.data,void 0,t,i)}async fetchMyBuys(e,t,i,r={}){const s=await this.prepareAccountRequest(i,r);await this.loadMarkets();const a=this.omit(r,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdBuys(this.extend(s,a));return this.parseTrades(n.data,void 0,t,i)}async fetchTransactionsWithMethod(e,t,i,r,s={}){const a=await this.prepareAccountRequestWithCurrencyCode(t,r,s);await this.loadMarkets();const n=this.omit(s,["account_id","accountId"]),o=await this[e](this.extend(a,n));return this.parseTransactions(o.data,void 0,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdWithdrawals",e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsWithMethod("privateGetAccountsAccountIdDeposits",e,t,i,r)}parseTransactionStatus(e){return this.safeString({created:"pending",completed:"ok",canceled:"canceled"},e,e)}parseTransaction(e,t){const i=this.safeValue(e,"subtotal",{}),r=this.safeValue(e,"fee",{}),s=this.safeString(e,"id"),a=this.parse8601(this.safeValue(e,"created_at")),n=this.parse8601(this.safeValue(e,"updated_at")),o=this.safeString(e,"resource"),c=this.safeFloat(i,"amount"),d=this.safeString(i,"currency"),h=this.safeCurrencyCode(d),u=this.safeFloat(r,"amount"),l=this.safeString(r,"currency"),f={cost:u,currency:this.safeCurrencyCode(l)};let p=this.parseTransactionStatus(this.safeString(e,"status"));if(void 0===p){p=this.safeValue(e,"committed")?"ok":"pending"}return{info:e,id:s,txid:s,timestamp:a,datetime:this.iso8601(a),address:void 0,tag:void 0,type:o,amount:c,currency:h,status:p,updated:n,fee:f}}parseTrade(e,t){let i=void 0;const r=this.safeValue(e,"total",{}),s=this.safeValue(e,"amount",{}),a=this.safeValue(e,"subtotal",{}),n=this.safeValue(e,"fee",{}),o=this.safeString(e,"id"),c=this.parse8601(this.safeValue(e,"created_at"));if(void 0===t){const e=this.safeString(r,"currency"),t=this.safeString(s,"currency");if(void 0!==e&&void 0!==t){i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}const d=this.safeString(e,"resource"),h=this.safeFloat(a,"amount"),u=this.safeFloat(s,"amount");let l=void 0;void 0!==h&&void 0!==u&&(l=h/u);const f=this.safeFloat(n,"amount"),p=this.safeString(n,"currency"),m={cost:f,currency:this.safeCurrencyCode(p)};return{info:e,id:o,order:void 0,timestamp:c,datetime:this.iso8601(c),symbol:i,type:void 0,side:d,takerOrMaker:void 0,price:l,amount:u,cost:h,fee:m}}async fetchMarkets(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),a=this.indexBy(s,"id"),n=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(n),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=this.safeCurrencyCode(e);if("crypto"===(e in a?"fiat":"crypto"))for(let i=0;i<s.length;i++){const r=s[i],a=this.safeString(r,"id"),n=this.safeCurrencyCode(a),o=t+"/"+n,d=e+"-"+a;c.push({id:d,symbol:o,base:t,quote:n,baseId:e,quoteId:a,active:void 0,info:r,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(r,"min_size"),max:void 0}}})}}return c}async fetchCurrenciesFromCache(e={}){const t=this.safeValue(this.options,"fetchCurrencies",{}),i=this.safeInteger(t,"timestamp"),r=this.safeInteger(t,"expires",1e3),s=this.milliseconds();if(void 0===i||s-i>r){const i=await this.publicGetCurrencies(e),r=await this.publicGetExchangeRates(e);this.options.fetchCurrencies=this.extend(t,{currencies:i,exchangeRates:r,timestamp:s})}return this.safeValue(this.options,"fetchCurrencies",{})}async fetchCurrencies(e={}){const t=await this.fetchCurrenciesFromCache(e),i=this.safeValue(t,"currencies",{}),r=this.safeValue(t,"exchangeRates",{}),s=this.safeValue(i,"data",[]),a=this.indexBy(s,"id"),n=this.safeValue(this.safeValue(r,"data",{}),"rates",{}),o=Object.keys(n),c={};for(let d=0;d<o.length;d++){const e=o[d],t=e in a?"fiat":"crypto",i=this.safeValue(a,e,{}),r=this.safeString(i,"id",e),s=this.safeString(i,"name"),n=this.safeCurrencyCode(r);c[n]={id:r,code:n,info:i,type:t,name:s,active:!0,fee:void 0,precision:void 0,limits:{amount:{min:this.safeFloat(i,"min_size"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return c}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.seconds(),r=this.market(e),s=this.extend({symbol:r.id},t),a=await this.publicGetPricesSymbolBuy(s),n=await this.publicGetPricesSymbolSell(s),o=await this.publicGetPricesSymbolSpot(s),c=this.safeFloat(a.data,"amount"),d=this.safeFloat(n.data,"amount"),h=this.safeFloat(o.data,"amount");return{symbol:e,timestamp:i,datetime:this.iso8601(i),bid:d,ask:c,last:h,high:void 0,low:void 0,bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:{buy:a,sell:n,spot:o}}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data"),r=this.safeValue(e,"type",this.options.accounts),s={info:t};for(let a=0;a<i.length;a++){const e=i[a];if(this.inArray(e.type,r)){const t=this.safeString(e.balance,"currency"),i=this.safeCurrencyCode(t),r=this.safeFloat(e.balance,"amount"),a=r,n=void 0;if(i in s)s[i].free=this.sum(s[i].free,r),s[i].total=this.sum(s[i].total,r);else{const e={free:a,used:n,total:r};s[i]=e}}}return this.parseBalance(s)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=await this.prepareAccountRequestWithCurrencyCode(e,i,r),a=this.omit(r,["account_id","accountId"]),n=await this.privateGetAccountsAccountIdTransactions(this.extend(s,a));return this.parseLedger(n.data,void 0,t,i)}parseLedgerEntryStatus(e){return this.safeString({completed:"ok"},e,e)}parseLedgerEntryType(e){return this.safeString({buy:"trade",sell:"trade",fiat_deposit:"transaction",fiat_withdrawal:"transaction",exchange_deposit:"transaction",exchange_withdrawal:"transaction",send:"transaction",pro_deposit:"transaction",pro_withdrawal:"transaction"},e,e)}parseLedgerEntry(e,t){const i=this.safeValue(e,"amount",{});let r=this.safeFloat(i,"amount"),s=void 0;r<0?(s="out",r=-r):s="in";const a=this.safeString(i,"currency"),n=this.safeCurrencyCode(a,t);let o=void 0;const c=this.safeValue(e,"network",{}),d=this.safeValue(c,"transaction_fee");if(void 0!==d){const e=this.safeString(d,"currency"),i=this.safeCurrencyCode(e,t);o={cost:this.safeFloat(d,"amount"),currency:i}}const h=this.parse8601(this.safeValue(e,"created_at")),u=this.safeString(e,"id"),l=this.parseLedgerEntryType(this.safeString(e,"type")),f=this.parseLedgerEntryStatus(this.safeString(e,"status")),p=this.safeString(e,"resource_path");let m=void 0;if(void 0!==p){const e=p.split("/");e.length>3&&(m=e[3])}return{info:e,id:u,timestamp:h,datetime:this.iso8601(h),direction:s,account:m,referenceId:void 0,referenceAccount:void 0,type:l,currency:n,amount:r,before:void 0,after:void 0,status:f,fee:o}}async findAccountId(e){await this.loadMarkets(),await this.loadAccounts();for(let t=0;t<this.accounts.length;t++){const i=this.accounts[t];if(i.code===e)return i.id}}prepareAccountRequest(e,t={}){const i=this.safeString2(t,"account_id","accountId");if(void 0===i)throw new a(this.id+" method requires an account_id (or accountId) parameter");const r={account_id:i};return void 0!==e&&(r.limit=e),r}async prepareAccountRequestWithCurrencyCode(e,t,i={}){let r=this.safeString2(i,"account_id","accountId");if(void 0===r){if(void 0===e)throw new a(this.id+" method requires an account_id (or accountId) parameter OR a currency code argument");if(r=await this.findAccountId(e),void 0===r)throw new s(this.id+" could not find account id for "+e)}const n={account_id:r};return void 0!==t&&(n.limit=t),n}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(t=a=this.json(o));const r=e+i+n+t,c=this.hmac(this.encode(r),this.encode(this.secret));s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":c,"CB-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.id+" "+n;let u=this.safeString(o,"error");if(void 0!==u)throw this.throwExactlyMatchedException(this.exceptions,u,h),new s(h);const l=this.safeValue(o,"errors");if(void 0!==l&&Array.isArray(l)){if(l.length>0&&(u=this.safeString(l[0],"id"),void 0!==u))throw this.throwExactlyMatchedException(this.exceptions,u,h),new s(h)}if(void 0===this.safeValue(o,"data"))throw new s(this.id+" failed due to a malformed response "+this.json(o))}}},T0UR:function(e,t,i){(function(t){const r=i("sMSM"),s=i("RRnc"),a=i("6MVH"),n=(i("DYCR"),new a.ec("secp256k1")),{keccak256:o,keccak256s:c}=i("lxb6"),d=e=>{const t=c(e.slice(2));let i="0x";for(let r=0;r<40;r++)i+=parseInt(t[r+2],16)>7?e[r+2].toUpperCase():e[r+2];return i},h=e=>{const i=new t(e.slice(2),"hex"),r="0x"+n.keyFromPrivate(i).getPublic(!1,"hex").slice(2),s=o(r);return{address:d("0x"+s.slice(-40)),privateKey:e}},u=([e,t,i])=>r.flatten([t,i,e]),l=e=>[r.slice(64,r.length(e),e),r.slice(0,32,e),r.slice(32,64,e)],f=e=>(i,a)=>{const o=n.keyFromPrivate(new t(a.slice(2),"hex")).sign(new t(i.slice(2),"hex"),{canonical:!0});return u([s.fromString(r.fromNumber(e+o.recoveryParam)),r.pad(32,r.fromNat("0x"+o.r.toString(16))),r.pad(32,r.fromNat("0x"+o.s.toString(16)))])},p=f(27);e.exports={create:e=>{const t=o(r.concat(r.random(32),e||r.random(32))),i=r.concat(r.concat(r.random(32),t),r.random(32)),s=o(i);return h(s)},toChecksum:d,fromPrivate:h,sign:p,makeSigner:f,recover:(e,i)=>{const s=l(i),a={v:r.toNumber(s[0]),r:s[1].slice(2),s:s[2].slice(2)},c="0x"+n.recoverPubKey(new t(e.slice(2),"hex"),a,a.v<2?a.v:1-a.v%2).encode("hex",!1).slice(2),h=o(c);return d("0x"+h.slice(-40))},encodeSignature:u,decodeSignature:l}}).call(this,i("qykS").Buffer)},T24p:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,NotSupported:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinspot",name:"CoinSpot",countries:["AU"],rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28208429-3cacdf9a-6896-11e7-854e-4c79a772a30f.jpg",api:{public:"https://www.coinspot.com.au/pubapi",private:"https://www.coinspot.com.au/api"},www:"https://www.coinspot.com.au",doc:"https://www.coinspot.com.au/api",referral:"https://www.coinspot.com.au/register?code=PJURCU"},api:{public:{get:["latest"]},private:{post:["orders","orders/history","my/coin/deposit","my/coin/send","quote/buy","quote/sell","my/balances","my/orders","my/buy","my/sell","my/buy/cancel","my/sell/cancel"]}},markets:{"BTC/AUD":{id:"btc",symbol:"BTC/AUD",base:"BTC",quote:"AUD",baseId:"btc",quoteId:"aud"},"LTC/AUD":{id:"ltc",symbol:"LTC/AUD",base:"LTC",quote:"AUD",baseId:"ltc",quoteId:"aud"},"DOGE/AUD":{id:"doge",symbol:"DOGE/AUD",base:"DOGE",quote:"AUD",baseId:"doge",quoteId:"aud"}},commonCurrencies:{DRK:"DASH"}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostMyBalances(e),i={info:t},r=this.safeValue(t,"balance",{}),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.account();n.total=this.safeFloat(r,e),i[t]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={cointype:this.market(e).id},s=await this.privatePostOrders(this.extend(r,i));return this.parseOrderBook(s,void 0,"buyorders","sellorders","rate","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetLatest(t);let r=this.marketId(e);r=r.toLowerCase();const s=i.prices[r],a=this.milliseconds(),n=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={cointype:s.id},n=await this.privatePostOrdersHistory(this.extend(a,r)),o=this.safeValue(n,"orders",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const o="privatePostMy"+this.capitalize(i);if("market"===t)throw new s(this.id+" allows limit orders only");const c={cointype:this.marketId(e),amount:r,rate:a};return await this[o](this.extend(c,n))}async cancelOrder(e,t,i={}){throw new n(this.id+" cancelOrder () is not fully implemented yet")}sign(e,t="public",i="GET",r={},s,n){if(!this.apiKey)throw new a(this.id+" requires apiKey for all requests");const o=this.urls.api[t]+"/"+e;if("private"===t){this.checkRequiredCredentials();const e=this.nonce();n=this.json(this.extend({nonce:e},r)),s={"Content-Type":"application/json",key:this.apiKey,sign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}return{url:o,method:i,body:n,headers:s}}}},TGNe:function(e,t,i){"use strict";const r=i("OjXq"),{InsufficientFunds:s,ArgumentsRequired:a,ExchangeError:n,InvalidOrder:o,InvalidAddress:c,AuthenticationError:d,NotSupported:h,OrderNotFound:u,OnMaintenance:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbasepro",name:"Coinbase Pro",countries:["US"],rateLimit:1e3,userAgent:this.userAgents.chrome,has:{cancelAllOrders:!0,CORS:!0,deposit:!0,fetchAccounts:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,createDepositAddress:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderTrades:!0,fetchOrders:!0,fetchTime:!0,fetchTransactions:!0,withdraw:!0},timeframes:{"1m":60,"5m":300,"15m":900,"1h":3600,"6h":21600,"1d":86400},urls:{test:{public:"https://api-public.sandbox.pro.coinbase.com",private:"https://api-public.sandbox.pro.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/41764625-63b7ffde-760a-11e8-996d-a6328fa9347a.jpg",api:{public:"https://api.pro.coinbase.com",private:"https://api.pro.coinbase.com"},www:"https://pro.coinbase.com/",doc:"https://docs.pro.coinbase.com",fees:["https://docs.pro.coinbase.com/#fees","https://support.pro.coinbase.com/customer/en/portal/articles/2945310-fees"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["currencies","products","products/{id}/book","products/{id}/candles","products/{id}/stats","products/{id}/ticker","products/{id}/trades","time"]},private:{get:["accounts","accounts/{id}","accounts/{id}/holds","accounts/{id}/ledger","accounts/{id}/transfers","coinbase-accounts","coinbase-accounts/{id}/addresses","fills","funding","fees","orders","orders/{id}","otc/orders","payment-methods","position","reports/{id}","users/self/trailing-volume"],post:["conversions","deposits/coinbase-account","deposits/payment-method","coinbase-accounts/{id}/addresses","funding/repay","orders","position/close","profiles/margin-transfer","reports","withdrawals/coinbase","withdrawals/crypto","withdrawals/payment-method"],delete:["orders","orders/{id}"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.005,taker:.005},funding:{tierBased:!1,percentage:!1,withdraw:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:25},deposit:{BCH:0,BTC:0,LTC:0,ETH:0,EUR:.15,USD:10}}},exceptions:{exact:{"Insufficient funds":s,NotFound:u,"Invalid API Key":d,"invalid signature":d,"Invalid Passphrase":d,"Invalid order id":o},broad:{"Order already done":u,"order not found":u,"price too small":o,"price too precise":o,"under maintenance":l}}})}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeString(e,"base_currency"),n=this.safeString(e,"quote_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={min:this.safeFloat(e,"quote_increment"),max:void 0},u={amount:this.precisionFromString(this.safeString(e,"base_increment")),price:this.precisionFromString(this.safeString(e,"quote_increment"))},l="online"===e.status;i.push(this.extend(this.fees.trading,{id:s,symbol:d,baseId:a,quoteId:n,base:o,quote:c,precision:u,limits:{amount:{min:this.safeFloat(e,"base_min_size"),max:this.safeFloat(e,"base_max_size")},price:h,cost:{min:this.safeFloat(e,"min_market_funds"),max:this.safeFloat(e,"max_market_funds")}},active:l,info:e}))}return i}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a);i.push({id:s,type:void 0,currency:n,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n={free:this.safeFloat(e,"available"),used:this.safeFloat(e,"hold"),total:this.safeFloat(e,"balance")};i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e),level:2},s=await this.publicGetProductsIdBook(this.extend(r,i)),a=this.parseOrderBook(s);return a.nonce=this.safeInteger(s,"sequence"),a}parseTicker(e,t){const i=this.parse8601(this.safeValue(e,"time")),r=this.safeFloat(e,"bid"),s=this.safeFloat(e,"ask"),a=this.safeFloat(e,"price");return{symbol:void 0===t?void 0:t.symbol,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:r,bidVolume:void 0,ask:s,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=this.safeString(this.options,"fetchTickerMethod","publicGetProductsIdTicker"),a=await this[s](this.extend(r,t));return this.parseTicker(a,i)}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"time","created_at"));let r=void 0;const s=this.safeString(e,"product_id");if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);let a=void 0,n=void 0,o=void 0;void 0!==t&&(n=t.quote,"liquidity"in e&&(o="T"===e.liquidity?"taker":"maker",a=t[o]));const c={cost:this.safeFloat2(e,"fill_fees","fee"),currency:n,rate:a},d=this.safeString(e,"trade_id");let h="buy"===e.side?"sell":"buy";const u=this.safeString(e,"order_id");void 0!==u&&(h="buy"===e.side?"buy":"sell");const l=this.safeFloat(e,"price"),f=this.safeFloat(e,"size");return{id:d,order:u,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,takerOrMaker:o,side:h,price:l,amount:f,fee:c,cost:l*f}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={product_id:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetFills(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id},n=await this.publicGetProductsIdTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[3],e[2],e[1],e[4],e[5]]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.timeframes[t],o={id:a.id,granularity:n};void 0!==i&&(o.start=this.iso8601(i),void 0===r&&(r=300),o.end=this.iso8601(this.sum((r-1)*n*1e3,i)));const c=await this.publicGetProductsIdCandles(this.extend(o,s));return this.parseOHLCVs(c,a,t,i,r)}async fetchTime(e={}){const t=await this.publicGetTime(e);return this.parse8601(this.safeString(t,"iso"))}parseOrderStatus(e){return this.safeString({pending:"open",active:"open",open:"open",done:"closed",canceled:"canceled",canceling:"open"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let r=void 0;const s=this.safeString(e,"product_id");let a=void 0;if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-"),i=this.safeCurrencyCode(e);a=this.safeCurrencyCode(t),r=i+"/"+a}const n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"filled_size"),d=this.safeFloat(e,"size",c);let h=void 0;void 0!==d&&void 0!==c&&(h=d-c);const u=this.safeFloat(e,"executed_value"),l=this.safeFloat(e,"fill_fees");let f=void 0;if(void 0!==l){let e=void 0;void 0!==t?e=t.quote:void 0!==a&&(e=a),f={cost:l,currency:e,rate:void 0}}void 0===r&&void 0!==t&&(r=t.symbol);const p=this.safeString(e,"id"),m=this.safeString(e,"type"),y=this.safeString(e,"side");return{id:p,info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:n,symbol:r,type:m,side:y,price:o,cost:u,amount:d,filled:c,remaining:h,fee:f}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.privateGetFills(this.extend(n,s));return this.parseTrades(o,a,i,r)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={status:"all"};let a=void 0;void 0!==e&&(a=this.market(e),s.product_id=a.id);const n=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.product_id=a.id);const n=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={status:"done"};let a=void 0;void 0!==e&&(a=this.market(e),s.product_id=a.id);const n=await this.privateGetOrders(this.extend(s,r));return this.parseOrders(n,a,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={product_id:this.marketId(e),side:i,size:this.amountToPrecision(e,r),type:t};"limit"===t&&(n.price=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.privateDeleteOrdersId({id:e})}async cancelAllOrders(e,t={}){return await this.privateDeleteOrders(t)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a],d=r*s,h=o.quote;return{type:a,currency:h,rate:c,cost:parseFloat(this.currencyToPrecision(h,c*d))}}async fetchPaymentMethods(e={}){return await this.privateGetPaymentMethods(e)}async deposit(e,t,i,r={}){await this.loadMarkets();const s={currency:this.currency(e).id,amount:t};let a="privatePostDeposits";if("payment_method_id"in r)a+="PaymentMethod";else{if(!("coinbase_account_id"in r))throw new h(this.id+" deposit() requires one of `coinbase_account_id` or `payment_method_id` extra params");a+="CoinbaseAccount"}const o=await this[a](this.extend(s,r));if(!o)throw new n(this.id+" deposit() error: "+this.json(o));return{info:o,id:o.id}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t};let o="privatePostWithdrawals";"payment_method_id"in s?o+="PaymentMethod":"coinbase_account_id"in s?o+="CoinbaseAccount":(o+="Crypto",a.crypto_address=i);const c=await this[o](this.extend(a,s));if(!c)throw new n(this.id+" withdraw() error: "+this.json(c));return{info:c,id:c.id}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0,o=this.safeString(r,"id");if(void 0===o){if(void 0===e)throw new a(this.id+" fetchTransactions() requires a currency code argument if no account id specified in params");s=this.currency(e);const t=this.indexBy(this.accounts,"currency"),i=this.safeValue(t,e);if(void 0===i)throw new n(this.id+" fetchTransactions() could not find account id for "+e);o=i.id}const c={id:o};void 0!==i&&(c.limit=i);const d=await this.privateGetAccountsIdTransfers(this.extend(c,r));for(let a=0;a<d.length;a++)d[a].currency=e;return this.parseTransactions(d,s,t,i)}parseTransactionStatus(e){if(this.safeValue(e,"canceled_at"))return"canceled";const t=this.safeValue(e,"processed_at"),i=this.safeValue(e,"completed_at");return i?"ok":t&&!i?"failed":"pending"}parseTransaction(e,t){const i=this.safeValue(e,"details",{}),r=this.safeString(e,"id"),s=this.safeString(i,"crypto_transaction_hash"),a=this.parse8601(this.safeString(e,"created_at")),n=this.parse8601(this.safeString(e,"processed_at")),o=this.safeString(e,"currency"),c=this.safeCurrencyCode(o,t),d=this.parseTransactionStatus(e),h=this.safeFloat(e,"amount");let u=this.safeString(e,"type"),l=this.safeString(i,"crypto_address");const f=this.safeString(i,"destination_tag");return l=this.safeString(e,"crypto_address",l),"withdraw"===u&&(u="withdrawal",l=this.safeString(i,"sent_to_address",l)),{info:e,id:r,txid:s,timestamp:a,datetime:this.iso8601(a),address:l,tag:f,type:u,amount:h,currency:c,status:d,updated:n,fee:void 0}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api[t]+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t="";"GET"!==i&&Object.keys(o).length&&(t=a=this.json(o));const r=e+i+n+t,c=this.base64ToBinary(this.secret),d=this.hmac(this.encode(r),c,"sha256","base64");s={"CB-ACCESS-KEY":this.apiKey,"CB-ACCESS-SIGN":this.decode(d),"CB-ACCESS-TIMESTAMP":e,"CB-ACCESS-PASSPHRASE":this.password,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeValue(this.options,"coinbaseAccounts");void 0===r&&(r=await this.privateGetCoinbaseAccounts(),this.options.coinbaseAccounts=r,this.options.coinbaseAccountsByCurrencyId=this.indexBy(r,"currency"));const s=i.id,a=this.safeValue(this.options.coinbaseAccountsByCurrencyId,s);if(void 0===a)throw new c(this.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+s+" in this.options['coinbaseAccountsByCurrencyId']");const n={id:a.id},o=await this.privateGetCoinbaseAccountsIdAddresses(this.extend(n,t)),d=this.safeString(o,"address"),h=this.safeString(o,"destination_tag");return{currency:e,address:this.checkAddress(d),tag:h,info:o}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeValue(this.options,"coinbaseAccounts");void 0===r&&(r=await this.privateGetCoinbaseAccounts(),this.options.coinbaseAccounts=r,this.options.coinbaseAccountsByCurrencyId=this.indexBy(r,"currency"));const s=i.id,a=this.safeValue(this.options.coinbaseAccountsByCurrencyId,s);if(void 0===a)throw new c(this.id+" fetchDepositAddress() could not find currency code "+e+" with id = "+s+" in this.options['coinbaseAccountsByCurrencyId']");const n={id:a.id},o=await this.privatePostCoinbaseAccountsIdAddresses(this.extend(n,t)),d=this.safeString(o,"address"),h=this.safeString(o,"destination_tag");return{currency:e,address:this.checkAddress(d),tag:h,info:o}}handleErrors(e,t,i,r,s,a,o,c,d){if(400===e||404===e){if("{"===a[0]){const e=o.message,t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new n(t)}throw new n(this.id+" "+a)}}async request(e,t="public",i="GET",r={},s,a){const o=await this.fetch2(e,t,i,r,s,a);if("string"!==typeof o&&"message"in o)throw new n(this.id+" "+this.json(o));return o}}},TJ1y:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("Gi7R"),s=i("+oaW"),a=i("e0KM"),n=i("vb3U"),o=i("BbEw");t.keccak=function(t,i){return void 0===i&&(i=256),t="string"!==typeof t||a.isHexString(t)?o.toBuffer(t):e.from(t,"utf8"),i||(i=256),r("keccak"+i).update(t).digest()},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=o.toBuffer(e),s("sha256").update(e).digest()},t.ripemd160=function(e,t){e=o.toBuffer(e);var i=s("rmd160").update(e).digest();return!0===t?o.setLength(i,32):i},t.rlphash=function(e){return t.keccak(n.encode(e))}}).call(this,i("qykS").Buffer)},"TPo/":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"fybse",name:"FYB-SE",countries:["SE"],has:{CORS:!1},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766512-31019772-5edb-11e7-8241-2e675e6797f1.jpg",api:"https://www.fybse.se/api/SEK",www:"https://www.fybse.se",doc:"https://fyb.docs.apiary.io"},api:{public:{get:["ticker","tickerdetailed","orderbook","trades"]},private:{post:["test","getaccinfo","getpendingorders","getorderhistory","cancelpendingorder","placeorder","withdraw"]}},markets:{"BTC/SEK":{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetaccinfo(e),i=this.safeFloat(t,"btcBal"),r=this.symbols[0],s=this.markets[r].quote,a=s.toLowerCase()+"Bal",n=this.safeFloat(t,a),o=this.account();o.total=i;const c={BTC:o};return c[s]=this.account(),c[s].total=n,c.info=t,this.parseBalance(c)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=await this.publicGetOrderbook(i);return this.parseOrderBook(r)}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetTickerdetailed(t),r=this.milliseconds(),s=this.safeFloat(i,"last"),a=this.safeFloat(i,"vol");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:void 0,info:i}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;return void 0!==a&&void 0!==n&&(o=a*n),{id:r,info:e,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=await this.publicGetTrades(r);return this.parseTrades(a,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={qty:r,price:s,type:i[0].toUpperCase()},o=await this.privatePostPlaceorder(this.extend(n,a));return{info:o,id:o.pending_oid}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderNo:e};return await this.privatePostCancelpendingorder(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+e;if("public"===t)n+=".json";else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({timestamp:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sig:this.hmac(this.encode(a),this.encode(this.secret),"sha1")}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("private"===t&&"error"in o&&o.error)throw new s(this.id+" "+this.json(o));return o}}},"Te/i":function(e,t,i){(function(t){var r=i("JxtV")._;function s(e,i){null!=e&&("number"==typeof e?this.fromNumber(e,i):t.isBuffer(e)?this.fromBuffer(e):null==i&&"string"!=typeof e?this.fromByteArray(e):this.fromString(e,i))}function a(){return new s(null)}s.prototype.am=function(e,t,i,r,s,a){for(var n=16383&t,o=t>>14;--a>=0;){var c=16383&this[e],d=this[e++]>>14,h=o*c+d*n;s=((c=n*c+((16383&h)<<14)+i[r]+s)>>28)+(h>>14)+o*d,i[r++]=268435455&c}return s},s.prototype.DB=28,s.prototype.DM=268435455,s.prototype.DV=1<<28;s.prototype.FV=Math.pow(2,52),s.prototype.F1=24,s.prototype.F2=4;var n,o,c="0123456789abcdefghijklmnopqrstuvwxyz",d=new Array;for(n="0".charCodeAt(0),o=0;o<=9;++o)d[n++]=o;for(n="a".charCodeAt(0),o=10;o<36;++o)d[n++]=o;for(n="A".charCodeAt(0),o=10;o<36;++o)d[n++]=o;function h(e){return c.charAt(e)}function u(e,t){var i=d[e.charCodeAt(t)];return null==i?-1:i}function l(e){var t=a();return t.fromInt(e),t}function f(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function p(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function b(e,t){return e|t}function v(e,t){return e^t}function g(e){if(0===e)return-1;var t=0;return 0===(65535&e)&&(e>>=16,t+=16),0===(255&e)&&(e>>=8,t+=8),0===(15&e)&&(e>>=4,t+=4),0===(3&e)&&(e>>=2,t+=2),0===(1&e)&&++t,t}function w(){}function k(e){return e}function _(e){this.r2=a(),this.q3=a(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}p.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},p.prototype.revert=function(e){return e},p.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},p.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],r=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.convert=k,w.prototype.revert=k,w.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0},s.prototype.fromString=function(e,t,i){var r;switch(t){case 2:r=1;break;case 4:r=2;break;case 8:r=3;break;case 16:r=4;break;case 32:r=5;break;case 256:r=8;break;default:return void this.fromRadix(e,t)}this.t=0,this.s=0;for(var a=e.length,n=!1,o=0;--a>=0;){var c=8==r?255&e[a]:u(e,a);c<0?"-"==e.charAt(a)&&(n=!0):(n=!1,0===o?this[this.t++]=c:o+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,(o+=r)>=this.DB&&(o-=this.DB))}i||8!=r||0==(128&e[0])||(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&s.ZERO.subTo(this,this)},s.prototype.fromByteArray=function(e,t){this.fromString(e,256,t)},s.prototype.fromBuffer=function(e){this.fromString(e,256,!0)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var i,r=e%this.DB,s=this.DB-r,a=(1<<s)-1,n=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t[i+n+1]=this[i]>>s|o,o=(this[i]&a)<<r;for(i=n-1;i>=0;--i)t[i]=0;t[n]=o,t.t=this.t+n+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var r=e%this.DB,s=this.DB-r,a=(1<<r)-1;t[0]=this[i]>>r;for(var n=i+1;n<this.t;++n)t[n-i-1]|=(this[n]&a)<<s,t[n-i]=this[n]>>r;r>0&&(t[this.t-i-1]|=(this.s&a)<<s),t.t=this.t-i,t.clamp()}},s.prototype.subTo=function(e,t){for(var i=0,r=0,s=Math.min(e.t,this.t);i<s;)r+=this[i]-e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r-=e[i],t[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[i++]=this.DV+r:r>0&&(t[i++]=r),t.t=i,t.clamp()},s.prototype.multiplyTo=function(e,t){var i=this.abs(),r=e.abs(),a=i.t;for(t.t=a+r.t;--a>=0;)t[a]=0;for(a=0;a<r.t;++a)t[a+i.t]=i.am(0,r[a],t,a,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,i){var r=e.abs();if(!(r.t<=0)){var n=this.abs();if(n.t<r.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=a());var o=a(),c=this.s,d=e.s,h=this.DB-f(r[r.t-1]);h>0?(r.lShiftTo(h,o),n.lShiftTo(h,i)):(r.copyTo(o),n.copyTo(i));var u=o.t,l=o[u-1];if(0!==l){var p=l*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),m=this.FV/p,y=(1<<this.F1)/p,b=1<<this.F2,v=i.t,g=v-u,w=null==t?a():t;for(o.dlShiftTo(g,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),s.ONE.dlShiftTo(u,w),w.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--g>=0;){var k=i[--v]==l?this.DM:Math.floor(i[v]*m+(i[v-1]+b)*y);if((i[v]+=o.am(0,k,i,g,0,u))<k)for(o.dlShiftTo(g,w),i.subTo(w,i);i[v]<--k;)i.subTo(w,i)}null!=t&&(i.drShiftTo(u,t),c!=d&&s.ZERO.subTo(t,t)),i.t=u,i.clamp(),h>0&&i.rShiftTo(h,i),c<0&&s.ZERO.subTo(i,i)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0===(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0===(this.t>0?1&this[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var i=a(),r=a(),n=t.convert(this),o=f(e)-1;for(n.copyTo(i);--o>=0;)if(t.sqrTo(i,r),(e&1<<o)>0)t.mulTo(r,n,i);else{var c=i;i=r,r=c}return t.revert(i)},s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0===this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=l(i),s=a(),n=a(),o="";for(this.divRemTo(r,s,n);s.signum()>0;)o=(i+n.intValue()).toString(e).substr(1)+o,s.divRemTo(r,s,n);return n.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),a=!1,n=0,o=0,c=0;c<e.length;++c){var d=u(e,c);d<0?"-"==e.charAt(c)&&0===this.signum()&&(a=!0):(o=t*o+d,++n>=i&&(this.dMultiply(r),this.dAddOffset(o,0),n=0,o=0))}n>0&&(this.dMultiply(Math.pow(t,n)),this.dAddOffset(o,0)),a&&s.ZERO.subTo(this,this)},s.prototype.bitwiseTo=function(e,t,i){var r,s,a=Math.min(e.t,this.t);for(r=0;r<a;++r)i[r]=t(this[r],e[r]);if(e.t<this.t){for(s=e.s&this.DM,r=a;r<this.t;++r)i[r]=t(this[r],s);i.t=this.t}else{for(s=this.s&this.DM,r=a;r<e.t;++r)i[r]=t(s,e[r]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},s.prototype.addTo=function(e,t){for(var i=0,r=0,s=Math.min(e.t,this.t);i<s;)r+=this[i]+e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r+=e[i],t[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[i++]=r:r<-1&&(t[i++]=this.DV+r),t.t=i,t.clamp()},s.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!==e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},s.prototype.multiplyLowerTo=function(e,t,i){var r,s=Math.min(this.t+e.t,t);for(i.s=0,i.t=s;s>0;)i[--s]=0;for(r=i.t-this.t;s<r;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(r=Math.min(e.t,t);s<r;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()},s.prototype.multiplyUpperTo=function(e,t,i){--t;var r=i.t=this.t+e.t-t;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)i[this.t+r-t]=this.am(t-r,e[r],i,0,0,this.t+r-t);i.clamp(),i.drShiftTo(1,i)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,s=!1,a="",n=this.t,o=this.DB-n*this.DB%t;if(n-- >0)for(o<this.DB&&(i=this[n]>>o)>0&&(s=!0,a=h(i));n>=0;)o<t?(i=(this[n]&(1<<o)-1)<<t-o,i|=this[--n]>>(o+=this.DB-t)):(i=this[n]>>(o-=t)&r,o<=0&&(o+=this.DB,--n)),i>0&&(s=!0),s&&(a+=h(i));return s?a:"0"},s.prototype.negate=function(){var e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.clone=function(){var e=a();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var i,r=this.DB-e*this.DB%8,s=0;if(e-- >0)for(r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=i|this.s<<this.DB-r);e>=0;)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&i)&&(i|=-256),0===s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i);return t},s.prototype.toBuffer=function(e){var i=t.from(this.toByteArray());if(!0===e&&0===i[0])i=i.slice(1);else if(r.isNumber(e)){if(i.length>e){for(var s=0;s<i.length-e;s++)if(0!==i[s])return null;return i.slice(i.length-e)}if(i.length<e){var a=t.alloc(e);return a.fill(0,0,e-i.length),i.copy(a,e-i.length),a}}return i},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=a();return this.bitwiseTo(e,y,t),t},s.prototype.or=function(e){var t=a();return this.bitwiseTo(e,b,t),t},s.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,v,t),t},s.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+g(this[e]);return this.s<0?this.t*this.DB:-1},s.prototype.add=function(e){var t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},s.prototype.modPow=function(e,t){var i,r,s=e.bitLength(),n=l(1);if(s<=0)return n;i=s<18?1:s<48?3:s<144?4:s<768?5:6,r=s<8?new p(t):t.isEven()?new _(t):new m(t);var o=new Array,c=3,d=i-1,h=(1<<i)-1;if(o[1]=r.convert(this),i>1){var u=a();for(r.sqrTo(o[1],u);c<=h;)o[c]=a(),r.mulTo(u,o[c-2],o[c]),c+=2}var y,b,v=e.t-1,g=!0,w=a();for(s=f(e[v])-1;v>=0;){for(s>=d?y=e[v]>>s-d&h:(y=(e[v]&(1<<s+1)-1)<<d-s,v>0&&(y|=e[v-1]>>this.DB+s-d)),c=i;0===(1&y);)y>>=1,--c;if((s-=c)<0&&(s+=this.DB,--v),g)o[y].copyTo(n),g=!1;else{for(;c>1;)r.sqrTo(n,w),r.sqrTo(w,n),c-=2;c>0?r.sqrTo(n,w):(b=n,n=w,w=b),r.mulTo(w,o[y],n)}for(;v>=0&&0===(e[v]&1<<s);)r.sqrTo(n,w),b=n,n=w,w=b,--s<0&&(s=this.DB-1,--v)}return r.revert(n)},s.prototype.pow=function(e){return this.exp(e,new w)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var r=t;t=i,i=r}var s=t.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)return t;for(s<a&&(a=s),a>0&&(t.rShiftTo(a,t),i.rShiftTo(a,i));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return a>0&&i.lShiftTo(a,i),i},s.int2char=h,s.ZERO=l(0),s.ONE=l(1),s.prototype.square=function(){var e=a();return this.squareTo(e),e},e.exports=s}).call(this,i("qykS").Buffer)},ThzV:function(e,t,i){"use strict";var r=i("pRMk").Buffer,s=i("ZG6w").Transform;function a(e){s.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("wfEq")(a,s),a.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(s){r=s}i(r)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(i){t=i}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var i=this._block,s=0;this._blockOffset+e.length-s>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)i[a++]=e[s++];this._update(),this._blockOffset=0}for(;s<e.length;)i[this._blockOffset++]=e[s++];for(var n=0,o=8*e.length;o>0;++n)this._length[n]+=o,(o=this._length[n]/4294967296|0)>0&&(this._length[n]-=4294967296*o);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},TlxL:function(e,t,i){"use strict";(function(e,r){var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e};Object.defineProperty(t,"__esModule",{value:!0});var n=i("sOO9"),o=i("w7gO"),c=i("nfnL"),d=i("so/P"),h=i("ei5w"),u=i("O7hL"),l=i("x+kU"),f=i("O+UX"),p=i("/bNh"),m=function(t){function i(r){void 0===r&&(r={});var s=t.call(this)||this;return s.UNSENT=i.UNSENT,s.OPENED=i.OPENED,s.HEADERS_RECEIVED=i.HEADERS_RECEIVED,s.LOADING=i.LOADING,s.DONE=i.DONE,s.onreadystatechange=null,s.readyState=i.UNSENT,s.response=null,s.responseText="",s.responseType="",s.status=0,s.statusText="",s.timeout=0,s.upload=new f.XMLHttpRequestUpload,s.responseUrl="",s.withCredentials=!1,s._method=null,s._url=null,s._sync=!1,s._headers={},s._loweredHeaders={},s._mimeOverride=null,s._request=null,s._response=null,s._responseParts=null,s._responseHeaders=null,s._aborting=null,s._error=null,s._loadedBytes=0,s._totalBytes=0,s._lengthComputable=!1,s._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},s._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},s._privateHeaders={"set-cookie":!0,"set-cookie2":!0},s._userAgent="Mozilla/5.0 ("+c.type()+" "+c.arch()+") node.js/"+e.versions.node+" v8/"+e.versions.v8,s._anonymous=r.anon||!1,s}return s(i,t),i.prototype.open=function(e,t,r,s,a){if(void 0===r&&(r=!0),e=e.toUpperCase(),this._restrictedMethods[e])throw new i.SecurityError("HTTP method "+e+" is not allowed in XHR");var n=this._parseUrl(t,s,a);this.readyState===i.HEADERS_RECEIVED||(this.readyState,i.LOADING),this._method=e,this._url=n,this._sync=!r,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(i.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},i.prototype.setRequestHeader=function(e,t){if(this.readyState!==i.OPENED)throw new i.InvalidStateError("XHR readyState must be OPENED");var r=e.toLowerCase();this._restrictedHeaders[r]||/^sec-/.test(r)||/^proxy-/.test(r)?console.warn('Refused to set unsafe header "'+e+'"'):(t=t.toString(),null!=this._loweredHeaders[r]?(e=this._loweredHeaders[r],this._headers[e]=this._headers[e]+", "+t):(this._loweredHeaders[r]=e,this._headers[e]=t))},i.prototype.send=function(e){if(this.readyState!==i.OPENED)throw new i.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new i.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(e);case"http:":case"https:":return this._sendHttp(e);default:throw new i.NetworkError("Unsupported protocol "+this._url.protocol)}},i.prototype.abort=function(){null!=this._request&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},i.prototype.getResponseHeader=function(e){if(null==this._responseHeaders||null==e)return null;var t=e.toLowerCase();return this._responseHeaders.hasOwnProperty(t)?this._responseHeaders[e.toLowerCase()]:null},i.prototype.getAllResponseHeaders=function(){var e=this;return null==this._responseHeaders?"":Object.keys(this._responseHeaders).map((function(t){return t+": "+e._responseHeaders[t]})).join("\r\n")},i.prototype.overrideMimeType=function(e){if(this.readyState===i.LOADING||this.readyState===i.DONE)throw new i.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=e.toLowerCase()},i.prototype.nodejsSet=function(e){if(this.nodejsHttpAgent=e.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=e.httpsAgent||this.nodejsHttpsAgent,e.hasOwnProperty("baseUrl")){if(null!=e.baseUrl)if(!d.parse(e.baseUrl,!1,!0).protocol)throw new i.SyntaxError("baseUrl must be an absolute URL");this.nodejsBaseUrl=e.baseUrl}},i.nodejsSet=function(e){i.prototype.nodejsSet(e)},i.prototype._setReadyState=function(e){this.readyState=e,this.dispatchEvent(new h.ProgressEvent("readystatechange"))},i.prototype._sendFile=function(e){throw new Error("Protocol file: not implemented")},i.prototype._sendHttp=function(e){if(this._sync)throw new Error("Synchronous XHR processing not implemented");!e||"GET"!==this._method&&"HEAD"!==this._method?e=e||"":(console.warn("Discarding entity body for "+this._method+" requests"),e=null),this.upload._setData(e),this._finalizeHeaders(),this._sendHxxpRequest()},i.prototype._sendHxxpRequest=function(){var e=this;if(this.withCredentials){var t=i.cookieJar.getCookies(p.CookieAccessInfo(this._url.hostname,this._url.pathname,"https:"===this._url.protocol)).toValueString();this._headers.cookie=this._headers.cookie2=t}var r="http:"===this._url.protocol?[n,this.nodejsHttpAgent]:[o,this.nodejsHttpsAgent],s=r[0],a=r[1],c=s.request.bind(s)({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:a});this._request=c,this.timeout&&c.setTimeout(this.timeout,(function(){return e._onHttpTimeout(c)})),c.on("response",(function(t){return e._onHttpResponse(c,t)})),c.on("error",(function(t){return e._onHttpRequestError(c,t)})),this.upload._startUpload(c),this._request===c&&this._dispatchProgress("loadstart")},i.prototype._finalizeHeaders=function(){this._headers=a({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},i.prototype._onHttpResponse=function(e,t){var r=this;if(this._request===e){if(this.withCredentials&&(t.headers["set-cookie"]||t.headers["set-cookie2"])&&i.cookieJar.setCookies(t.headers["set-cookie"]||t.headers["set-cookie2"]),[301,302,303,307,308].indexOf(t.statusCode)>=0)return this._url=this._parseUrl(t.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),null!=this._headers["Content-Type"]&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),void this._sendHxxpRequest();this._response=t,this._response.on("data",(function(e){return r._onHttpResponseData(t,e)})),this._response.on("end",(function(){return r._onHttpResponseEnd(t)})),this._response.on("close",(function(){return r._onHttpResponseClose(t)})),this.responseUrl=this._url.href.split("#")[0],this.status=t.statusCode,this.statusText=n.STATUS_CODES[this.status],this._parseResponseHeaders(t);var s=this._responseHeaders["content-length"]||"";this._totalBytes=+s,this._lengthComputable=!!s,this._setReadyState(i.HEADERS_RECEIVED)}},i.prototype._onHttpResponseData=function(e,t){this._response===e&&(this._responseParts.push(new r(t)),this._loadedBytes+=t.length,this.readyState!==i.LOADING&&this._setReadyState(i.LOADING),this._dispatchProgress("progress"))},i.prototype._onHttpResponseEnd=function(e){this._response===e&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(i.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},i.prototype._onHttpResponseClose=function(e){if(this._response===e){var t=this._request;this._setError(),t.abort(),this._setReadyState(i.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},i.prototype._onHttpTimeout=function(e){this._request===e&&(this._setError(),e.abort(),this._setReadyState(i.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},i.prototype._onHttpRequestError=function(e,t){this._request===e&&(this._setError(),e.abort(),this._setReadyState(i.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},i.prototype._dispatchProgress=function(e){var t=new i.ProgressEvent(e);t.lengthComputable=this._lengthComputable,t.loaded=this._loadedBytes,t.total=this._totalBytes,this.dispatchEvent(t)},i.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},i.prototype._parseUrl=function(e,t,i){var r=null==this.nodejsBaseUrl?e:d.resolve(this.nodejsBaseUrl,e),s=d.parse(r,!1,!0);s.hash=null;var a=(s.auth||"").split(":"),n=a[0],o=a[1];return(n||o||t||i)&&(s.auth=(t||n||"")+":"+(i||o||"")),s},i.prototype._parseResponseHeaders=function(e){for(var t in this._responseHeaders={},e.headers){var i=t.toLowerCase();this._privateHeaders[i]||(this._responseHeaders[i]=e.headers[t])}null!=this._mimeOverride&&(this._responseHeaders["content-type"]=this._mimeOverride)},i.prototype._parseResponse=function(){var e=r.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(e.toString("utf-8"))}catch(a){this.response=null}return;case"buffer":return this.responseText=null,void(this.response=e);case"arraybuffer":this.responseText=null;for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),s=0;s<e.length;s++)i[s]=e[s];return void(this.response=t);case"text":default:try{this.responseText=e.toString(this._parseResponseEncoding())}catch(n){this.responseText=e.toString("binary")}this.response=this.responseText}},i.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},i.ProgressEvent=h.ProgressEvent,i.InvalidStateError=u.InvalidStateError,i.NetworkError=u.NetworkError,i.SecurityError=u.SecurityError,i.SyntaxError=u.SyntaxError,i.XMLHttpRequestUpload=f.XMLHttpRequestUpload,i.UNSENT=0,i.OPENED=1,i.HEADERS_RECEIVED=2,i.LOADING=3,i.DONE=4,i.cookieJar=p.CookieJar(),i}(l.XMLHttpRequestEventTarget);t.XMLHttpRequest=m,m.prototype.nodejsHttpAgent=n.globalAgent,m.prototype.nodejsHttpsAgent=o.globalAgent,m.prototype.nodejsBaseUrl=null}).call(this,i("5IsQ"),i("qykS").Buffer)},U63y:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AccountSuspended:a,ArgumentsRequired:n,AuthenticationError:o,DDoSProtection:c,ExchangeNotAvailable:d,InvalidOrder:h,OrderNotFound:u,PermissionDenied:l,InsufficientFunds:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bibox",name:"Bibox",countries:["CN","US","KR"],version:"v1",has:{CORS:!1,publicAPI:!1,fetchBalance:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchFundingFees:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchOHLCV:!0,createMarketOrder:!1,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"day","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/34902611-2be8bf1a-f830-11e7-91a2-11b2f292e750.jpg",api:"https://api.bibox.com",www:"https://www.bibox.com",doc:["https://biboxcom.github.io/en/"],fees:"https://bibox.zendesk.com/hc/en-us/articles/360002336133",referral:"https://www.bibox.com/signPage?id=11114745&lang=en"},api:{public:{post:["mdata"],get:["mdata"]},private:{post:["user","orderpending","transfer"]},v2private:{post:["assets/transfer/spot"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{2011:a,2015:o,2021:f,2027:f,2033:u,2067:h,2068:h,2085:h,3012:o,3024:l,3025:o,4e3:d,4003:c},commonCurrencies:{KEY:"Bihu",MTC:"MTC Mesh Network",PAI:"PCHAIN"}})}async fetchMarkets(e={}){const t=await this.publicGetMdata(this.extend({cmd:"marketAll"},e)),i=this.safeValue(t,"result"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeInteger(e,"id"),a=this.safeString(e,"coin_symbol"),n=this.safeString(e,"currency_symbol"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=a+"_"+n,u={amount:4,price:8};r.push({id:h,numericId:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:!0,info:e,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:void 0},price:{min:Math.pow(10,-u.price),max:void 0}}})}return r}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;if(void 0!==t)r=t.symbol;else{const t=this.safeString(e,"coin_symbol"),i=this.safeString(e,"currency_symbol");r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}const s=this.safeFloat(e,"last"),a=this.safeFloat(e,"change"),n=this.safeFloat2(e,"vol","vol24H");let o=void 0;void 0!==s&&void 0!==a&&(o=s-a);let c=this.safeString(e,"percent");return void 0!==c&&(c=c.replace("%",""),c=parseFloat(c)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:o,close:s,last:s,previousClose:void 0,change:a,percentage:c,average:void 0,baseVolume:n,quoteVolume:this.safeFloat(e,"amount"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={cmd:"ticker",pair:i.id},s=await this.publicGetMdata(this.extend(r,t));return this.parseTicker(s.result,i)}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++){const s=this.parseTicker(e[r]);(void 0===t||this.inArray(s.symbol,t))&&i.push(s)}return i}async fetchTickers(e,t={}){const i=await this.publicGetMdata(this.extend({cmd:"marketAll"},t)),r=this.parseTickers(i.result,e);return this.indexBy(r,"symbol")}parseTrade(e,t){const i=this.safeInteger2(e,"time","createdAt");let r=this.safeInteger2(e,"side","order_side");r=1===r?"buy":"sell";let s=void 0;if(void 0===t){let i=this.safeString(e,"pair");if(void 0===i){const t=this.safeString(e,"coin_symbol"),r=this.safeString(e,"currency_symbol");void 0!==t&&void 0!==r&&(i=t+"_"+r)}i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(s=t.symbol);let a=void 0;const n=this.safeFloat(e,"fee");let o=this.safeString(e,"fee_symbol");void 0!==o&&(o=o in this.currencies_by_id?this.currencies_by_id[o].code:this.safeCurrencyCode(o));const c=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount");let h=void 0;return void 0!==c&&void 0!==d&&(h=c*d),void 0!==n&&(a={cost:n,currency:o,rate:void 0}),{info:e,id:this.safeString(e,"id"),order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:"limit",takerOrMaker:void 0,side:r,price:c,amount:d,cost:h,fee:a}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={cmd:"deals",pair:s.id};void 0!==i&&(a.size=i);const n=await this.publicGetMdata(this.extend(a,r));return this.parseTrades(n.result,s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={cmd:"depth",pair:this.market(e).id};void 0!==t&&(r.size=t);const s=await this.publicGetMdata(this.extend(r,i));return this.parseOrderBook(s.result,this.safeFloat(s.result,"update_time"),"bids","asks","price","volume")}parseOHLCV(e,t,i="1m",r,s){return[e.time,this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"vol")]}async fetchOHLCV(e,t="1m",i,r=1e3,s={}){await this.loadMarkets();const a=this.market(e),n={cmd:"kline",pair:a.id,period:this.timeframes[t],size:r},o=await this.publicGetMdata(this.extend(n,s));return this.parseOHLCVs(o.result,a,t,i,r)}async fetchCurrencies(e={}){if(!this.apiKey||!this.secret)throw new o(this.id+" fetchCurrencies is an authenticated endpoint, therefore it requires 'apiKey' and 'secret' credentials. If you don't need currency details, set exchange.has['fetchCurrencies'] = false before calling its methods.");const t=await this.privatePostTransfer(this.extend({cmd:"transfer/coinList",body:{}},e)),i=this.safeValue(t,"result"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol"),a=e.name,n=this.safeCurrencyCode(t),o=8,c=this.safeValue(e,"enable_deposit"),d=this.safeValue(e,"enable_withdraw"),h=c&&d;r[n]={id:t,code:n,info:e,name:a,active:h,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},price:{min:Math.pow(10,-o),max:Math.pow(10,o)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","assets");e=this.omit(e,"type");const i={cmd:"transfer/"+t,body:this.extend({select:1},e)},r=await this.privatePostTransfer(i),s=this.safeValue(r,"result"),a={info:s};let n=void 0;n="assets_list"in s?this.indexBy(s.assets_list,"coin_symbol"):s;const o=Object.keys(n);for(let c=0;c<o.length;c++){const e=o[c];let t=e.toUpperCase();t.indexOf("TOTAL_")>=0&&(t=t.slice(6)),t in this.currencies_by_id&&(t=this.currencies_by_id[t].code);const i=this.account();let r=n[e];"string"===typeof r?(r=parseFloat(r),i.free=r,i.used=0,i.total=r):(i.free=this.safeFloat(r,"balance"),i.used=this.safeFloat(r,"freeze")),a[t]=i}return this.parseBalance(a)}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={page:1};void 0!==e&&(s=this.currency(e),a.symbol=s.id),a.size=void 0!==i?i:100;const n=await this.privatePostTransfer({cmd:"transfer/transferInList",body:this.extend(a,r)}),o=this.safeValue(n.result,"items",[]);for(let c=0;c<o.length;c++)o[c].type="deposit";return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={page:1};void 0!==e&&(s=this.currency(e),a.symbol=s.id),a.size=void 0!==i?i:100;const n=await this.privatePostTransfer({cmd:"transfer/transferOutList",body:this.extend(a,r)}),o=this.safeValue(n.result,"items",[]);for(let c=0;c<o.length;c++)o[c].type="withdrawal";return this.parseTransactions(o,s,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"to_address"),s=this.safeString(e,"coin_symbol"),a=this.safeCurrencyCode(s,t),n=this.safeString(e,"createdAt");let o=this.safeString(e,"addr_remark");const c=this.safeString(e,"type"),d=this.parseTransactionStatusByType(this.safeString(e,"status"),c),h=this.safeFloat(e,"amount");let u=this.safeFloat(e,"fee");"deposit"===c&&(u=0,o=void 0);const l={cost:u,currency:a};return{info:e,id:i,txid:void 0,timestamp:n,datetime:this.iso8601(n),address:r,tag:o,type:c,amount:h,currency:a,status:d,updated:void 0,fee:l}}parseTransactionStatusByType(e,t){return this.safeString(this.safeValue({deposit:{1:"pending",2:"ok"},withdrawal:{0:"pending",3:"ok"}},t,{}),e,e)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o="limit"===t?2:1,c="buy"===i?1:2,d={cmd:"orderpending/trade",body:this.extend({pair:n.id,account_type:0,order_type:o,order_side:c,pay_bix:0,amount:r,price:s},a)},h=await this.privatePostOrderpending(d);return{info:h,id:this.safeString(h,"result")}}async cancelOrder(e,t,i={}){const r={cmd:"orderpending/cancelTrade",body:this.extend({orders_id:e},i)};return await this.privatePostOrderpending(r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={cmd:"orderpending/order",body:this.extend({id:e.toString(),account_type:0},i)},s=await this.privatePostOrderpending(r),a=this.safeValue(s,"result");if(this.isEmpty(a))throw new u(this.id+" order "+e+" not found");return this.parseOrder(a)}parseOrder(e,t){let i=void 0;if(void 0===t){let i=void 0;const r=this.safeString(e,"coin_symbol"),s=this.safeString(e,"currency_symbol");void 0!==r&&void 0!==s&&(i=r+"_"+s),i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(i=t.symbol);const r=1===e.order_type?"market":"limit",s=e.createdAt,a=this.safeFloat(e,"price"),n=this.safeFloat(e,"deal_price"),o=this.safeFloat(e,"deal_amount"),c=this.safeFloat(e,"amount");let d=this.safeFloat2(e,"deal_money","money"),h=void 0;void 0!==o&&(void 0!==c&&(h=c-o),void 0===d&&(d=a*o));const u=1===e.order_side?"buy":"sell",l=this.parseOrderStatus(this.safeString(e,"status")),f=this.safeString(e,"id"),p=this.safeFloat(e,"fee");let m=void 0;return void 0!==p&&(m={cost:p,currency:void 0}),d=d||parseFloat(a)*o,{info:e,id:f,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:i,type:r,side:u,price:a,amount:c,cost:d,average:n,filled:o,remaining:h,status:l,fee:m}}parseOrderStatus(e){return this.safeString({1:"open",2:"open",3:"closed",4:"canceled",5:"canceled",6:"canceled"},e,e)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,a=void 0;void 0!==e&&(s=this.market(e),a=s.id);const n=i||200,o={cmd:"orderpending/orderPendingList",body:this.extend({pair:a,account_type:0,page:1,size:n},r)},c=await this.privatePostOrderpending(o),d=this.safeValue(c.result,"items",[]);return this.parseOrders(d,s,t,i)}async fetchClosedOrders(e,t,i=200,r={}){if(void 0===e)throw new n(this.id+" fetchClosedOrders requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={cmd:"orderpending/pendingHistoryList",body:this.extend({pair:s.id,account_type:0,page:1,size:i},r)},o=await this.privatePostOrderpending(a),c=this.safeValue(o.result,"items",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a=i||200,o={cmd:"orderpending/orderHistoryList",body:this.extend({pair:s.id,account_type:0,page:1,size:a,coin_symbol:s.baseId,currency_symbol:s.quoteId},r)},c=await this.privatePostOrderpending(o),d=this.safeValue(c.result,"items",[]);return this.parseTrades(d,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={cmd:"transfer/transferIn",body:this.extend({coin_symbol:i.id},t)},s=await this.privatePostTransfer(r),a=this.safeString(s,"result");let n=a,o=void 0;if(this.isJsonEncodedObject(a)){const e=JSON.parse(a);n=this.safeString(e,"account"),o=this.safeString(e,"memo")}return{currency:e,address:n,tag:o,info:s}}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);if(void 0===this.password&&!("trade_pwd"in a))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a trade_pwd parameter");if(!("totp_code"in a))throw new s(this.id+" withdraw() requires a totp_code parameter for 2FA authentication");const o={trade_pwd:this.password,coin_symbol:n.id,amount:t,addr:i};return void 0!==r&&(o.address_remark=r),{info:await this.privatePostTransfer({cmd:"transfer/transferOut",body:this.extend(o,a)}),id:void 0}}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={};void 0===e&&(e=Object.keys(this.currencies));for(let s=0;s<e.length;s++){const a=e[s],n=this.currency(a),o={cmd:"transfer/coinConfig",body:this.extend({coin_symbol:n.id},t)},c=await this.privatePostTransfer(o);r[a]=c,i[a]=this.safeFloat(c.result,"withdraw_fee")}return{info:r,withdraw:i,deposit:{}}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;const o=this.json([r]);if("public"===t)"GET"!==i?a={cmds:o}:Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("v2private"===t){this.checkRequiredCredentials(),n=this.urls.api+"/v2/"+e;const t=this.json(r);a={body:t,apikey:this.apiKey,sign:this.hmac(this.encode(t),this.encode(this.secret),"md5")}}else this.checkRequiredCredentials(),a={cmds:o,apikey:this.apiKey,sign:this.hmac(this.encode(o),this.encode(this.secret),"md5")};return void 0!==a&&(a=this.json(a,{convertArraysToObjects:!0})),{url:n,method:i,body:a,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o){if("error"in o){if("code"in o.error){const e=this.safeString(o.error,"code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}throw new s(this.id+" "+n)}if(!("result"in o))throw new s(this.id+" "+n)}}async request(e,t="public",i="GET",r={},s,a){const n=await this.fetch2(e,t,i,r,s,a);return"GET"===i?n:n.result[0]}}},UNxl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("JAg6");t.Transaction=r.default;var s=i("JhKc");t.FakeTransaction=s.default},Uvjz:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(i("8kJ5")),a=i("QOjt"),n=i("yoUs"),o=i("P1P7"),c=i("pa9A");function d(e){"string"===typeof e&&e.match(/^0x[0-9A-Fa-f]{40}$/)||c.throwError("invalid address",c.INVALID_ARGUMENT,{arg:"address",value:e});for(var t=(e=e.toLowerCase()).substring(2).split(""),i=new Uint8Array(40),r=0;r<40;r++)i[r]=t[r].charCodeAt(0);i=a.arrayify(n.keccak256(i));for(var s=0;s<40;s+=2)i[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(15&i[s>>1])>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}for(var h={},u=0;u<10;u++)h[String(u)]=String(u);for(u=0;u<26;u++)h[String.fromCharCode(65+u)]=String(10+u);var l,f=Math.floor((l=9007199254740991,Math.log10?Math.log10(l):Math.log(l)/Math.LN10));function p(e){e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00";var t="";for(e.split("").forEach((function(e){t+=h[e]}));t.length>=f;){var i=t.substring(0,f);t=parseInt(i,10)%97+t.substring(i.length)}for(var r=String(98-parseInt(t,10)%97);r.length<2;)r="0"+r;return r}function m(e){var t=null;if("string"!==typeof e&&c.throwError("invalid address",c.INVALID_ARGUMENT,{arg:"address",value:e}),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=d(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&c.throwError("bad address checksum",c.INVALID_ARGUMENT,{arg:"address",value:e});else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==p(e)&&c.throwError("bad icap checksum",c.INVALID_ARGUMENT,{arg:"address",value:e}),t=new s.default.BN(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=d("0x"+t)}else c.throwError("invalid address",c.INVALID_ARGUMENT,{arg:"address",value:e});return t}t.getAddress=m,t.getIcapAddress=function(e){for(var t=new s.default.BN(m(e).substring(2),16).toString(36).toUpperCase();t.length<30;)t="0"+t;return"XE"+p("XE00"+t)+t},t.getContractAddress=function(e){if(!e.from)throw new Error("missing from address");var t=e.nonce;return m("0x"+n.keccak256(o.encode([m(e.from),a.stripZeros(a.hexlify(t))])).substring(26))}},VBY1:function(e,t,i){i("JxtV")._;e.exports={pkcs1:i("HFei"),pkcs8:i("Dgeu"),components:i("vY55"),detectAndImport:function(t,i,r){if(void 0===r){for(var s in e.exports)if("function"===typeof e.exports[s].autoImport&&e.exports[s].autoImport(t,i))return!0}else if(r){var a=formatParse(r);if(!e.exports[a.scheme])throw Error("Unsupported key format");"private"===a.keyType?e.exports[a.scheme].privateImport(t,i,a.keyOpt):e.exports[a.scheme].publicImport(t,i,a.keyOpt)}return!1}}},VF92:function(e){e.exports=JSON.parse('{"name":"chainstart","comment":"Start of the Ethereum main chain","eip":{"url":"","status":""},"status":"","gasConfig":{"minGasLimit":{"v":5000,"d":"Minimum the gas limit may ever be"},"gasLimitBoundDivisor":{"v":1024,"d":"The bound divisor of the gas limit, used in update calculations"}},"gasPrices":{"base":{"v":2,"d":"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},"tierStep":{"v":[0,2,3,5,8,10,20],"d":"Once per operation, for a selection of them"},"exp":{"v":10,"d":"Once per EXP instuction"},"expByte":{"v":10,"d":"Times ceil(log256(exponent)) for the EXP instruction"},"sha3":{"v":30,"d":"Once per SHA3 operation"},"sha3Word":{"v":6,"d":"Once per word of the SHA3 operation\'s data"},"sload":{"v":50,"d":"Once per SLOAD operation"},"sstoreSet":{"v":20000,"d":"Once per SSTORE operation if the zeroness changes from zero"},"sstoreReset":{"v":5000,"d":"Once per SSTORE operation if the zeroness does not change from zero"},"sstoreRefund":{"v":15000,"d":"Once per SSTORE operation if the zeroness changes to zero"},"jumpdest":{"v":1,"d":"Refunded gas, once per SSTORE operation if the zeroness changes to zero"},"log":{"v":375,"d":"Per LOG* operation"},"logData":{"v":8,"d":"Per byte in a LOG* operation\'s data"},"logTopic":{"v":375,"d":"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},"create":{"v":32000,"d":"Once per CREATE operation & contract-creation transaction"},"call":{"v":40,"d":"Once per CALL operation & message call transaction"},"callStipend":{"v":2300,"d":"Free gas given at beginning of call"},"callValueTransfer":{"v":9000,"d":"Paid for CALL when the value transfor is non-zero"},"callNewAccount":{"v":25000,"d":"Paid for CALL when the destination address didn\'t exist prior"},"selfdestructRefund":{"v":24000,"d":"Refunded following a selfdestruct operation"},"memory":{"v":3,"d":"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},"quadCoeffDiv":{"v":512,"d":"Divisor for the quadratic particle of the memory cost equation"},"createData":{"v":200,"d":""},"tx":{"v":21000,"d":"Per transaction. NOTE: Not payable on data of calls between transactions"},"txCreation":{"v":32000,"d":"The cost of creating a contract via tx"},"txDataZero":{"v":4,"d":"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},"txDataNonZero":{"v":68,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"copy":{"v":3,"d":"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},"ecRecover":{"v":3000,"d":""},"sha256":{"v":60,"d":""},"sha256Word":{"v":12,"d":""},"ripemd160":{"v":600,"d":""},"ripemd160Word":{"v":120,"d":""},"identity":{"v":15,"d":""},"identityWord":{"v":3,"d":""}},"vm":{"stackLimit":{"v":1024,"d":"Maximum size of VM stack allowed"},"callCreateDepth":{"v":1024,"d":"Maximum depth of call/create stack"},"maxExtraDataSize":{"v":32,"d":"Maximum size extra data may be after Genesis"}},"pow":{"minimumDifficulty":{"v":131072,"d":"The minimum that the difficulty may ever be"},"difficultyBoundDivisor":{"v":2048,"d":"The bound divisor of the difficulty, used in the update calculations"},"durationLimit":{"v":13,"d":"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},"epochDuration":{"v":30000,"d":"Duration between proof-of-work epochs"},"timebombPeriod":{"v":100000,"d":"Exponential difficulty timebomb period"},"minerReward":{"v":"5000000000000000000","d":"the amount a miner get rewarded for mining a block"}},"casper":{},"sharding":{}}')},VGMt:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,AuthenticationError:o,DDoSProtection:c,BadResponse:d}=i("ucJe"),{TRUNCATE:h,NO_PADDING:u,DECIMAL_PLACES:l}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bytetrade",name:"ByteTrade",countries:["HK"],rateLimit:500,requiresWeb3:!0,certified:!0,has:{fetchCurrencies:!0,fetchDepositAddress:!0,CORS:!1,fetchBidsAsks:!0,fetchTickers:!0,fetchOHLCV:!0,fetchMyTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","5d":"5d","1w":"1w","1M":"1M"},urls:{test:"https://api-v2-test.bytetrade.com",logo:"https://user-images.githubusercontent.com/1294454/67288762-2f04a600-f4e6-11e9-9fd6-c60641919491.jpg",api:"https://api-v2.bytetrade.com",www:"https://www.bytetrade.com",doc:"https://github.com/Bytetrade/bytetrade-official-api-docs/wiki"},api:{market:{get:["klines","depth","trades","tickers"]},public:{get:["symbols","currencies","balance","orders/open","orders/closed","orders/all","orders","orders/trades","depositaddress","withdrawals","deposits","transfers"],post:["transaction/createorder","transaction/cancelorder","transaction/withdraw","transaction/transfer"]}},fees:{trading:{taker:8e-4,maker:8e-4}},commonCurrencies:{48:"Blocktonic"},exceptions:{"vertify error":o,"verify error":o,"transaction already in network":n,"invalid argument":n}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"code");let a=void 0;a=s in this.commonCurrencies?this.commonCurrencies[s]:this.safeString(e,"name");const n=this.safeString(e,"fullname"),o=this.safeValue(e,"active"),c=this.safeValue(e,"limits"),d=this.safeValue(c,"deposit"),h=this.safeInteger(e,"basePrecision");let u=this.safeFloat(d,"max");-1===u&&(u=void 0);const l=this.safeValue(c,"withdraw");let f=this.safeFloat(l,"max");-1===f&&(f=void 0),i[a]={id:s,code:a,name:n,active:o,precision:{amount:h,price:void 0},fee:void 0,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(d,"min"),max:u},withdraw:{min:this.safeFloat(l,"min"),max:f}},info:e}}return i}async fetchMarkets(e={}){const t=await this.publicGetSymbols(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol");let a=this.safeString(e,"baseName"),n=this.safeString(e,"quoteName");const o=this.safeString(e,"base"),c=this.safeString(e,"quote");o in this.commonCurrencies&&(a=this.commonCurrencies[o]),c in this.commonCurrencies&&(n=this.commonCurrencies[c]);const d=a+"/"+n,h=this.safeValue(e,"limits",{}),u=this.safeValue(h,"amount",{}),l=this.safeValue(h,"price",{}),f=this.safeValue(e,"precision",{}),p=this.safeString(e,"active"),m=a.split("@")[0]+"/"+n.split("@")[0],y={id:s,symbol:d,base:a,quote:n,baseId:o,quoteId:c,info:e,active:p,precision:{amount:this.safeInteger(f,"amount"),price:this.safeInteger(f,"price")},normalSymbol:m,limits:{amount:{min:this.safeFloat(u,"min"),max:this.safeFloat(u,"max")},price:{min:this.safeFloat(l,"min"),max:this.safeFloat(l,"max")},cost:{min:void 0,max:void 0}}};i.push(y)}return i}async fetchBalance(e={}){if(!("userid"in e)&&void 0===this.apiKey)throw new a(this.id+" fetchDeposits requires this.apiKey or userid argument");await this.loadMarkets();const t={userid:this.apiKey},i=await this.publicGetBalance(this.extend(t,e)),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"code"),a=this.safeCurrencyCode(t,void 0),n=this.account();n.free=this.safeFloat(e,"free"),n.used=this.safeFloat(e,"used"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.marketGetDepth(this.extend(r,i)),a=this.safeValue(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;const s=this.safeString(e,"symbol");if(s in this.markets_by_id)t=this.markets_by_id[s];else{const t=this.safeString(e,"base"),i=this.safeString(e,"quote");if(void 0!==t&&void 0!==i){r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}}return void 0===r&&void 0!==t&&(r=t.symbol),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:this.safeFloat(e,"weightedAvgPrice"),open:this.safeFloat(e,"open"),close:this.safeFloat(e,"close"),last:this.safeFloat(e,"last"),previousClose:void 0,change:this.safeFloat(e,"change"),percentage:this.safeFloat(e,"percentage"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.marketGetTickers(this.extend(r,t));if(Array.isArray(s)){const e=this.safeValue(s,0);if(void 0===e)throw new d(this.id+" fetchTicker() returned an empty response");return this.parseTicker(e,i)}return this.parseTicker(s,i)}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}async fetchBidsAsks(e,t={}){await this.loadMarkets();const i=await this.marketGetDepth(t);return this.parseTickers(i,e)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.marketGetTickers(t);return this.parseTickers(i,e)}parseOHLCV(e,t,i="1m",r,s){return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,timeframe:this.timeframes[t]};void 0!==i&&(n.since=i),void 0!==r&&(n.limit=r);const o=await this.marketGetKlines(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),a=this.safeFloat(e,"cost"),n=this.safeString(e,"id"),o=this.safeString(e,"type"),c=this.safeString(e,"takerOrMaker"),d=this.safeString(e,"side"),h=this.safeString(e,"datetime"),u=this.safeString(e,"order"),l=this.safeValue(e,"fee");let f=void 0;if(void 0===t){const i=this.safeString(e,"symbol");t=this.safeValue(this.markets_by_id,i)}return void 0!==t&&(f=t.symbol),{info:e,timestamp:i,datetime:h,symbol:f,id:n,order:u,type:o,takerOrMaker:c,side:d,price:r,amount:s,cost:a,fee:l}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.since=t),void 0!==i&&(a.limit=i);const n=await this.marketGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOrder(e,t){const i=this.safeString(e,"status");let r=void 0;const s=this.safeString(e,"symbol");if(s in this.markets_by_id)t=this.markets_by_id[s];else{const t=this.safeString(e,"base"),i=this.safeString(e,"quote");if(void 0!==t&&void 0!==i){r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeInteger(e,"timestamp"),n=this.safeString(e,"datetime"),o=this.safeInteger(e,"lastTradeTimestamp"),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),h=this.safeFloat(e,"filled"),u=this.safeFloat(e,"remaining"),l=this.safeFloat(e,"cost"),f=this.safeFloat(e,"average");return{info:e,id:this.safeString(e,"id"),timestamp:a,datetime:n,lastTradeTimestamp:o,symbol:r,type:this.safeString(e,"type"),side:this.safeString(e,"side"),price:c,amount:d,cost:l,average:f,filled:h,remaining:u,status:i,fee:this.safeValue(e,"fee")}}async createOrder(e,t,i,r,s,n={}){if(this.checkRequiredDependencies(),void 0===this.apiKey)throw new a("createOrder requires this.apiKey or userid in params");await this.loadMarkets();const o=this.market(e);let c=void 0,d=void 0;c="sell"===i?1:2,d="limit"===t?1:2;const h=o.normalSymbol,u=o.baseId,l=this.currency(o.base),f=this.amountToPrecision(e,r),p=this.toWei(f,"ether",l.precision.amount),m=o.quoteId,y=this.currency(o.quote),b=this.priceToPrecision(e,s),v=this.toWei(b,"ether",y.precision.amount),g=this.milliseconds(),w=this.milliseconds();let k=this.iso8601(g);k=k.split(".")[0];let _=this.iso8601(w);_=_.split(".")[0];const T=this.safeString(this.options,"fee","300000000000000"),S=this.safeString(n,"fee",T),x=this.integerPow("2","64"),O=[this.numberToBE(1,32),this.numberToLE(Math.floor(g/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(w/1e3),4),this.numberToLE(1,1),this.numberToLE(32,1),this.numberToLE(0,8),this.numberToLE(S,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(c,1),this.numberToLE(d,1),this.numberToLE(h.length,1),this.stringToBinary(this.encode(h)),this.numberToLE(this.integerDivide(p,x),8),this.numberToLE(this.integerModulo(p,x),8),this.numberToLE(this.integerDivide(v,x),8),this.numberToLE(this.integerModulo(v,x),8),this.numberToLE(0,2),this.numberToLE(Math.floor(g/1e3),4),this.numberToLE(Math.floor(w/1e3),4),this.numberToLE(0,2),this.numberToLE(parseInt(m),4),this.numberToLE(parseInt(u),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)],C=[this.numberToLE(Math.floor(g/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(w/1e3),4),this.numberToLE(1,1),this.numberToLE(32,1),this.numberToLE(0,8),this.numberToLE(S,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(c,1),this.numberToLE(d,1),this.numberToLE(h.length,1),this.stringToBinary(this.encode(h)),this.numberToLE(this.integerDivide(p,x),8),this.numberToLE(this.integerModulo(p,x),8),this.numberToLE(this.integerDivide(v,x),8),this.numberToLE(this.integerModulo(v,x),8),this.numberToLE(0,2),this.numberToLE(Math.floor(g/1e3),4),this.numberToLE(Math.floor(w/1e3),4),this.numberToLE(0,2),this.numberToLE(parseInt(m),4),this.numberToLE(parseInt(u),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)],M=this.binaryConcatArray(C),A=this.hash(M,"sha256","hex").slice(0,40),E=[this.numberToLE(A.length,1),this.stringToBinary(this.encode(A)),this.numberToBE(0,4)],I=this.binaryConcatArray(E),B=this.hash(I,"sha256","hex").slice(0,40),F=this.binaryConcatArray(O),P=this.hash(F,"sha256","hex"),R=this.ecdsa(P,this.secret,"secp256k1",void 0,!0),q=this.decode(this.binaryToBase16(this.numberToLE(this.sum(R.v,31),1)))+R.r+R.s,L={timestamp:k,expiration:_,operations:[[32,{now:k,expiration:_,fee:S,creator:this.apiKey,side:c,order_type:d,market_name:h,amount:p,price:v,use_btt_as_fee:!1,money_id:parseInt(m),stock_id:parseInt(u)}]],validate_type:0,dapp:"Sagittarius",signatures:[q]},D={trObj:this.json(L)},N=await this.publicPostTransactionCreateorder(D),U=this.milliseconds(),V="0"===this.safe_string(N,"code")?"open":"failed";return{info:N,id:B,timestamp:U,datetime:this.iso8601(U),lastTradeTimestamp:void 0,status:V,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async fetchOrder(e,t,i={}){if(!("userid"in i)&&void 0===this.apiKey)throw new a("fetchOrder requires this.apiKey or userid argument");await this.loadMarkets();const r={userid:this.apiKey};let s=void 0;void 0!==t&&(s=this.markets[t],r.symbol=s.id),r.id=e;const n=await this.publicGetOrders(this.extend(r,i));return this.parseOrder(n,s)}async fetchOpenOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchOpenOrders requires this.apiKey or userid argument");await this.loadMarkets();const s={userid:this.apiKey};let n=void 0;void 0!==e&&(n=this.market(e),s.symbol=n.id),void 0!==i&&(s.limit=i);const o=await this.publicGetOrdersOpen(this.extend(s,r));return this.parseOrders(o,n,t,i)}async fetchClosedOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchClosedOrders requires this.apiKey or userid argument");await this.loadMarkets();let s=void 0;const n={userid:this.apiKey};void 0!==e&&(s=this.market(e),n.symbol=s.id),void 0!==i&&(n.limit=i);const o=await this.publicGetOrdersClosed(this.extend(n,r));return this.parseOrders(o,s,t,i)}async fetchOrders(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchOrders requires this.apiKey or userid argument");await this.loadMarkets();let s=void 0;const n={userid:this.apiKey};void 0!==e&&(s=this.market(e),n.symbol=s.id),void 0!==i&&(n.limit=i);const o=await this.publicGetOrdersAll(this.extend(n,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===this.apiKey)throw new a("cancelOrder requires hasAlreadyAuthenticatedSuccessfully");if(void 0===t)throw new a(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.baseId,n=r.quoteId,o=r.normalSymbol,c=this.milliseconds();let d=this.iso8601(c);d=d.split(".")[0];let h=this.iso8601(0);h=h.split(".")[0];const u=[this.numberToBE(1,32),this.numberToLE(Math.floor(c/1e3),4),this.numberToLE(1,1),this.numberToLE(0,4),this.numberToLE(1,1),this.numberToLE(33,1),this.numberToLE(0,8),this.numberToLE("300000000000000",8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(o.length,1),this.stringToBinary(this.encode(o)),this.base16ToBinary(e),this.numberToLE(parseInt(n),4),this.numberToLE(parseInt(s),4),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)],l=this.binaryConcatArray(u),f=this.hash(l,"sha256","hex"),p=this.ecdsa(f,this.secret,"secp256k1",void 0,!0),m=this.decode(this.binaryToBase16(this.numberToLE(this.sum(p.v,31),1)))+p.r+p.s,y={timestamp:d,expiration:h,operations:[[33,{fee:"300000000000000",creator:this.apiKey,order_id:e,market_name:o,money_id:parseInt(n),stock_id:parseInt(s)}]],validate_type:0,dapp:"Sagittarius",signatures:[m]},b={trObj:this.json(y)},v=await this.publicPostTransactionCancelorder(b),g=this.milliseconds(),w="0"===this.safe_string(v,"code")?"canceled":"failed";return{info:v,id:void 0,timestamp:g,datetime:this.iso8601(g),lastTradeTimestamp:void 0,status:w,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async transfer(e,t,i,r={}){if(this.checkRequiredDependencies(),void 0===this.apiKey)throw new a("transfer requires this.apiKey");await this.loadMarkets();const s=this.currency(e),n=this.decimalToPrecision(t,h,s.info.transferPrecision,l,u),o=this.toWei(n,"ether",s.precision.amount),c=parseInt(s.id),d=this.milliseconds(),f=d;let p=this.iso8601(d);p=p.split(".")[0];let m=this.iso8601(f);m=m.split(".")[0];const y=this.integerPow("2","64"),b=[this.numberToBE(1,32),this.numberToLE(Math.floor(d/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(f/1e3),4),this.numberToLE(1,1),this.numberToLE(0,1),this.numberToLE(0,8),this.numberToLE("300000000000000",8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(i.length,1),this.stringToBinary(this.encode(i)),this.numberToLE(c,4),this.numberToLE(this.integerDivide(o,y),8),this.numberToLE(this.integerModulo(o,y),8),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)],v=this.binaryConcatArray(b),g=this.hash(v,"sha256","hex"),w=this.ecdsa(g,this.secret,"secp256k1",void 0,!0),k=this.decode(this.binaryToBase16(this.numberToLE(this.sum(w.v,31),1)))+w.r+w.s,_={timestamp:p,expiration:m,operations:[[0,{fee:"300000000000000",from:this.apiKey,to:i,asset_type:parseInt(s.id),amount:o.toString()}]],validate_type:0,dapp:"Sagittarius",signatures:[k]},T={trObj:this.json(_)},S=await this.publicPostTransactionTransfer(T),x=this.milliseconds();let O="";return O="0"===this.safe_string(S,"code")?"submit success":"submit fail",{info:S,id:"",timestamp:x,datetime:this.iso8601(x),lastTradeTimestamp:void 0,status:O,symbol:void 0,type:void 0,side:void 0,price:void 0,amount:void 0,filled:void 0,remaining:void 0,cost:void 0,fee:void 0}}async fetchMyTrades(e,t,i,r={}){if(!("userid"in r)&&void 0===this.apiKey)throw new a("fetchMyTrades requires this.apiKey or userid argument");await this.loadMarkets();const s=this.market(e),n={userid:this.apiKey};void 0!==e&&(n.symbol=s.id),void 0!==i&&(n.limit=i);const o=await this.publicGetOrdersTrades(this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),!("userid"in r)&&void 0===this.apiKey)throw new a("fetchDeposits requires this.apiKey or userid argument");let s=void 0;const n={userid:this.apiKey};void 0!==e&&(s=this.currency(e),n.currency=s.id),void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.publicGetDeposits(this.extend(n,r));return this.parseTransactions(o,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),!("userid"in r)&&void 0===this.apiKey)throw new a("fetchWithdrawals requires this.apiKey or userid argument");let s=void 0;const n={userid:this.apiKey};void 0!==e&&(s=this.currency(e),n.currency=s.id),void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.publicGetWithdrawals(this.extend(n,r));return this.parseTransactions(o,s,t,i)}parseTransactionStatus(e){return this.safeString({DEPOSIT_FAILED:"failed",FEE_SEND_FAILED:"failed",FEE_FAILED:"failed",PAY_SEND_FAILED:"failed",PAY_FAILED:"failed",BTT_FAILED:"failed",WITHDDRAW_FAILED:"failed",USER_FAILED:"failed",FEE_EXECUED:"pending",PAY_EXECUED:"pending",WITHDDRAW_EXECUTED:"pending",USER_EXECUED:"pending",BTT_SUCCED:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address");let s=this.safeString(e,"tag");void 0!==s&&s.length<1&&(s=void 0);const a=this.safeValue(e,"txid"),n=this.safeString(e,"code"),o=this.safeCurrencyCode(n,t),c=this.safeInteger(e,"timestamp"),d=this.safeString(e,"datetime"),h=this.safeString(e,"type"),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"amount"),f=this.safeValue(e,"fee"),p=this.safeFloat(f,"cost"),m=this.safeString(f,"code");return{info:e,id:i,txid:a,timestamp:c,datetime:d,address:r,tag:s,type:h,amount:l,currency:o,status:u,updated:void 0,fee:{cost:p,currency:this.safeCurrencyCode(m,t)}}}async fetchDepositAddress(e,t={}){if(await this.loadMarkets(),!("userid"in t)&&void 0===this.apiKey)throw new a("fetchDepositAddress requires this.apiKey or userid argument");const i=this.currency(e),r={userid:this.apiKey,code:i.id},s=await this.publicGetDepositaddress(r),n=this.safeString(s[0],"address"),o=this.safeString(s[0],"tag"),c=this.safeString(s[0],"chainType");return this.checkAddress(n),{currency:e,address:n,tag:o,chainType:c,info:s}}async withdraw(e,t,i,r,s={}){if(this.checkRequiredDependencies(),this.checkAddress(i),await this.loadMarkets(),void 0===this.apiKey)throw new a("withdraw requires this.apiKey");const n=await this.fetchDepositAddress(e),o=this.safeString(n,"chainType"),c=this.safeString(n.info[0],"chainId");let d="";d="eos"===o?i:this.safeString(n,"address");let f=18;"ethereum"!==o&&"etc"!==o&&"eos"!==o&&"cmt"!==o&&"naka"!==o&&(f=26);const p=this.milliseconds();let m=this.iso8601(p);m=m.split(".")[0];let y=this.iso8601(0);y=y.split(".")[0];const b="300000000000000",v=this.currency(e),g=v.id,w=this.decimalToPrecision(t,h,v.info.transferPrecision,l,u),k=this.toWei(w,"ether",v.info.externalPrecision),_=this.integerPow("2","64");let T=0,S=[];26===f?(T=v.info.fee,S=[this.numberToBE(1,32),this.numberToLE(Math.floor(p/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(0),4),this.numberToLE(1,1),this.numberToLE(f,1),this.numberToLE(0,8),this.numberToLE(b,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(i.length,1),this.stringToBinary(this.encode(i)),this.numberToLE(parseInt(g),4),this.numberToLE(Math.floor(parseInt(parseFloat(this.integerDivide(k,_)))),8),this.numberToLE(this.integerModulo(k,_),8),this.numberToLE(1,1),this.numberToLE(this.integerDivide(T,_),8),this.numberToLE(this.integerModulo(T,_),8),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)]):S=[this.numberToBE(1,32),this.numberToLE(Math.floor(p/1e3),4),this.numberToLE(1,1),this.numberToLE(Math.floor(0),4),this.numberToLE(1,1),this.numberToLE(f,1),this.numberToLE(0,8),this.numberToLE(b,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(Math.floor(p/1e3),4),this.numberToLE(1,1),this.numberToLE(4,1),this.numberToLE(0,8),this.numberToLE(b,8),this.numberToLE(this.apiKey.length,1),this.stringToBinary(this.encode(this.apiKey)),this.numberToLE(d.length,1),this.stringToBinary(this.encode(d)),this.numberToLE(parseInt(g),4),this.numberToLE(Math.floor(parseInt(parseFloat(this.integerDivide(k,_)))),8),this.numberToLE(this.integerModulo(k,_),8),this.numberToLE(0,1),this.numberToLE(1,1),this.numberToLE("Sagittarius".length,1),this.stringToBinary(this.encode("Sagittarius")),this.numberToLE(0,1)];const x=this.binaryConcatArray(S),O=this.hash(x,"sha256","hex"),C=this.ecdsa(O,this.secret,"secp256k1",void 0,!0),M=this.decode(this.binaryToBase16(this.numberToLE(this.sum(C.v,31),1)))+C.r+C.s;let A=void 0,E=void 0,I=void 0;const B=this.safeString(v.info,"chainContractAddress");if(26===f)I={fee:b,from:this.apiKey,to_external_address:i,asset_type:parseInt(g),amount:k,asset_fee:T},A={timestamp:m,expiration:y,operations:[[f,I]],validate_type:0,dapp:"Sagittarius",signatures:[M]},E={chainType:c,trObj:this.json(A),chainContractAddresss:B};else{I={fee:b,from:this.apiKey,to_external_address:d,asset_type:parseInt(g),amount:k,asset_fee:T},A={timestamp:m,expiration:y,operations:[[f,{fee:b,proposaler:this.apiKey,expiration_time:m,proposed_ops:[{op:[4,I]}]}]],validate_type:0,dapp:"Sagittarius",signatures:[M]},E="eos"===o?{chainType:c,toExternalAddress:"noneed",trObj:this.json(A),chainContractAddresss:B}:{chainType:c,toExternalAddress:i,trObj:this.json(A),chainContractAddresss:B}}const F=await this.publicPostTransactionWithdraw(E);return{info:F,id:this.safeString(F,"id")}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api;return n+="/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r)),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,d,h){if(503===e)throw new c(this.id+" "+e.toString()+" "+t+" "+n);if(void 0!==o&&"code"in o){if("1"===this.safeString(o,"code")){const e=this.safeString(o,"msg"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}}}}},"VH/k":function(e,t,i){e.exports=i("kIt2").version},VVEJ:function(e,t,i){"use strict";var r=i("Y3cV").version,s=i("RmdU"),a=i("HtD+"),n=i("owCW"),o=i("OUq3"),c=i("fjfX"),d=i("FaQb"),h=i("WZyW"),u=function(){var e=this;s.packageInit(this,arguments),this.version=r,this.utils=h,this.eth=new a(this),this.shh=new c(this),this.bzz=new d(this);var t=this.setProvider;this.setProvider=function(i,r){return t.apply(e,arguments),this.eth.setProvider(i,r),this.shh.setProvider(i,r),this.bzz.setProvider(i),!0}};u.version=r,u.utils=h,u.modules={Eth:a,Net:n,Personal:o,Shh:c,Bzz:d},s.addProviders(u),e.exports=u},VdIK:function(e){e.exports=JSON.parse('{"name":"constantinople","comment":"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)","eip":{"url":"https://eips.ethereum.org/EIPS/eip-1013","status":"Final"},"gasConfig":{},"gasPrices":{"netSstoreNoopGas":{"v":200,"d":"Once per SSTORE operation if the value doesn\'t change"},"netSstoreInitGas":{"v":20000,"d":"Once per SSTORE operation from clean zero"},"netSstoreCleanGas":{"v":5000,"d":"Once per SSTORE operation from clean non-zero"},"netSstoreDirtyGas":{"v":200,"d":"Once per SSTORE operation from dirty"},"netSstoreClearRefund":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"},"netSstoreResetRefund":{"v":4800,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"netSstoreResetClearRefund":{"v":19800,"d":"Once per SSTORE operation for resetting to the original zero value"}},"vm":{},"pow":{"minerReward":{"v":"2000000000000000000","d":"The amount a miner gets rewarded for mining a block"}},"casper":{},"sharding":{}}')},Vf3q:function(e,t,i){"use strict";const r=i("GiW5");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"binanceus",name:"Binance US",countries:["US"],certified:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/65177307-217b7c80-da5f-11e9-876e-0b748ba0a358.jpg",api:{web:"https://www.binance.us",wapi:"https://api.binance.us/wapi/v3",public:"https://api.binance.us/api/v1",private:"https://api.binance.us/api/v3",v3:"https://api.binance.us/api/v3",v1:"https://api.binance.us/api/v1"},www:"https://www.binance.us",referral:"https://www.binance.us/?ref=35005074",doc:"https://github.com/binance-us/binance-official-api-docs",fees:"https://www.binance.us/en/fee/schedule"},fees:{trading:{tierBased:!1,percentage:!0,taker:0,maker:0}}})}}},"WZ+2":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,PermissionDenied:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,RateLimitExceeded:h,NotSupported:u,BadRequest:l,AuthenticationError:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"timex",name:"TimeX",countries:["AU"],version:"v1",rateLimit:1500,has:{CORS:!1,cancelOrders:!0,editOrder:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTradingFee:!0},timeframes:{"1m":"I1","5m":"I5","15m":"I15","30m":"I30","1h":"H1","2h":"H2","4h":"H4","6h":"H6","12h":"H12","1d":"D1","1w":"W1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/70423869-6839ab00-1a7f-11ea-8f94-13ae72c31115.jpg",api:"https://plasma-relay-backend.timex.io",www:"https://timex.io",doc:"https://docs.timex.io"},api:{custody:{get:["credentials","credentials/h/{hash}","credentials/k/{key}","credentials/me/address","deposit-addresses","deposit-addresses/h/{hash}"]},history:{get:["orders","orders/details","orders/export/csv","trades","trades/export/csv"]},currencies:{get:["a/{address}","i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},markets:{get:["i/{id}","s/{symbol}"],post:["perform","prepare","remove/perform","s/{symbol}/remove/prepare","s/{symbol}/update/perform","s/{symbol}/update/prepare"]},public:{get:["candles","currencies","markets","orderbook","orderbook/raw","orderbook/v2","tickers","trades"]},statistics:{get:["address"]},trading:{get:["balances","fees","orders"],post:["orders","orders/json"],put:["orders","orders/json"],delete:["orders","orders/json"]},tradingview:{get:["config","history","symbol_info","time"]}},exceptions:{exact:{0:s,1:u,4e3:l,4001:l,4002:o,4003:f,4004:f,4005:l,4006:l,4007:l,4300:a,4100:f,4400:c,5001:d,5002:s,400:l,401:f,403:a,404:c,429:h,500:s,503:n},broad:{Insufficient:o}},options:{fetchTickers:{period:"1d"},fetchTrades:{sort:"timestamp,asc"},fetchMyTrades:{sort:"timestamp,asc"},fetchOpenOrders:{sort:"createdAt,asc"},fetchClosedOrders:{sort:"createdAt,asc"},defaultSort:"timestamp,asc",defaultSortOrders:"createdAt,asc"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++)i.push(this.parseMarket(t[r]));return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=[];for(let r=0;r<t.length;r++){const e=t[r];i.push(this.parseCurrency(e))}return this.indexBy(i,"code")}async fetchTickers(e,t={}){await this.loadMarkets();const i=this.safeString(this.options.fetchTickers,"period","1d"),r={period:this.timeframes[i]},s=await this.publicGetTickers(this.extend(r,t));return this.parseTickers(s,e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.safeString(this.options.fetchTickers,"period","1d"),s={market:i.id,period:this.timeframes[r]},a=await this.publicGetTickers(this.extend(s,t)),n=this.safeValue(a,0);return this.parseTicker(n,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderbookV2(this.extend(r,i)),a=this.parse8601(this.safeString(s,"timestamp"));return this.parseOrderBook(s,a,"bid","ask","price","baseTokenAmount")}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=this.safeValue(this.options,"fetchTrades",{}),n=this.safeValue(a,"sort","timestamp,asc"),o=this.safeString(r,"sort",n),c=this.omit(r,"sort"),d={market:s.id,sort:o};void 0!==t&&(d.from=this.iso8601(t)),void 0!==i&&(d.size=i);const h=await this.publicGetTrades(this.extend(d,c));return this.parseTrades(h,s,t,i)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={market:a.id,period:this.timeframes[t]},o=this.parseTimeframe(t);if(void 0!==i)n.from=this.iso8601(i),void 0!==r&&(n.till=this.iso8601(this.sum(i,this.sum(r,1)*o*1e3)));else if(void 0!==r){const e=this.milliseconds();n.till=this.iso8601(e),n.from=this.iso8601(e-r*o*1e3-1)}else n.till=this.iso8601(this.milliseconds());const c=await this.publicGetCandles(this.extend(n,s));return this.parseOHLCVs(c,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.tradingGetBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeFloat(e,"totalBalance"),n.used=this.safeFloat(e,"lockedBalance"),i[a]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n.id,quantity:this.amountToPrecision(e,r),side:i.toUpperCase()};let c=a;if("limit"===t){o.price=this.priceToPrecision(e,s);const i=this.safeInteger(this.options,"expireIn"),r=this.safeValue(a,"expireTime"),n=this.safeValue(a,"expireIn",i);if(void 0!==r)o.expireTime=r;else{if(void 0===n)throw new d(this.id+" createOrder method requires a expireTime or expireIn param for a "+t+" order, you can also set the expireIn exchange-wide option");o.expireIn=n}c=this.omit(a,["expireTime","expireIn"])}else o.price=0;const h=await this.tradingPostOrders(this.extend(o,c)),u=this.safeValue(h,"orders",[]),l=this.safeValue(u,0,{});return this.parseOrder(l,n)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o=this.market(t),c={id:e};void 0!==s&&(c.quantity=this.amountToPrecision(t,s)),void 0!==a&&(c.price=this.priceToPrecision(t,a));const d=await this.tradingPutOrders(this.extend(c,n));if("unchangedOrders"in d){const e=this.safeValue(d,"unchangedOrders",[]);return{id:this.safeString(e,0),info:d}}const h=this.safeValue(d,"changedOrders",[]),u=this.safeValue(h,0,{}),l=this.safeValue(u,"newOrder",{});return this.parseOrder(l,o)}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.cancelOrders([e],t,i)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.tradingDeleteOrders(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderHash:e},s=await this.historyGetOrdersDetails(r),a=this.safeValue(s,"order",{}),n=this.safeValue(s,"trades",[]);return this.parseOrder(this.extend(a,{trades:n}))}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchOpenOrders",{}),a=this.safeValue(s,"sort","createdAt,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n};let d=void 0;void 0!==e&&(d=this.market(e),c.symbol=d.id),void 0!==i&&(c.size=i);const h=await this.tradingGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchClosedOrders",{}),a=this.safeValue(s,"sort","createdAt,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n,side:"BUY"};let d=void 0;void 0!==e&&(d=this.market(e),c.symbol=d.id),void 0!==t&&(c.from=this.iso8601(t)),void 0!==i&&(c.size=i);const h=await this.historyGetOrders(this.extend(c,o)),u=this.safeValue(h,"orders",[]);return this.parseOrders(u,d,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.safeValue(this.options,"fetchMyTrades",{}),a=this.safeValue(s,"sort","timestamp,asc"),n=this.safeString(r,"sort",a),o=this.omit(r,"sort"),c={sort:n};let d=void 0;void 0!==e&&(d=this.market(e),c.symbol=d.id),void 0!==t&&(c.from=this.iso8601(t)),void 0!==i&&(c.size=i);const h=await this.historyGetTrades(this.extend(c,o)),u=this.safeValue(h,"trades",[]);return this.parseTrades(u,d,t,i)}async fetchTradingFee(e,t={}){await this.loadMarkets();const i={markets:this.market(e).id},r=await this.tradingGetFees(this.extend(i,t)),s=this.safeValue(r,0,{});return{info:r,maker:this.safeFloat(s,"fee"),taker:void 0}}parseMarket(e){const t=!this.safeValue(e,"locked"),i=this.safeString(e,"symbol"),r=this.safeString(e,"baseCurrency"),s=this.safeString(e,"quoteCurrency"),a=this.safeCurrencyCode(r),n=this.safeCurrencyCode(s),o=a+"/"+n,c={amount:this.precisionFromString(this.safeString(e,"quantityIncrement")),price:this.precisionFromString(this.safeString(e,"tickSize"))},d=this.safeFloat(e,"quantityIncrement"),h=this.safeFloat(e,"baseMinSize"),u=Math.max(d,h),l=this.safeFloat(e,"tickSize"),f=this.safeFloat(e,"quoteMinSize");return{id:i,symbol:o,base:a,quote:n,baseId:r,quoteId:s,type:"spot",active:t,precision:c,limits:{amount:{min:u,max:void 0},price:{min:l,max:void 0},cost:{min:Math.max(f,u*l),max:void 0}},taker:this.safeFloat(e,"takerFee"),maker:this.safeFloat(e,"makerFee"),info:e}}parseCurrency(e){const t=this.safeString(e,"symbol"),i=this.safeCurrencyCode(t),r=this.safeString(e,"name"),s=this.safeInteger(e,"decimals"),a=this.safeValue(e,"active"),n=this.safeString(e,"withdrawalFee");let o=void 0;const c=n.length-this.safeInteger(e,"tradeDecimals");if(c>0){const e=n.slice(0,c),t=n.slice(-c);o=parseFloat(e+"."+t)}else{let e=".";for(let t=0;t<-c;t++)e+="0";o=parseFloat(e+n)}return{id:i,code:i,info:e,type:void 0,name:r,active:a,fee:o,precision:s,limits:{withdraw:{min:o,max:void 0},amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}}}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"market");if(void 0!==r)if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol;else{const[e,t]=r.split("/");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeFloat(e,"last"),n=this.safeFloat(e,"open");let o=void 0,c=void 0;void 0!==a&&void 0!==n&&(o=a-n,c=this.sum(a,n)/2);let d=void 0;return void 0!==o&&n&&(d=o/n*100),{symbol:i,info:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:o,percentage:d,average:c,baseVolume:this.safeFloat(e,"volume"),quoteVolume:this.safeFloat(e,"volumeQuote")}}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"symbol");r in this.markets_by_id&&(i=(t=this.markets_by_id[r]).symbol),void 0===i&&void 0!==t&&(i=t.symbol);const s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"quantity"),o=this.safeString(e,"id"),c=this.safeStringLower2(e,"direction","side"),d=this.safeStringLower(e,"makerOrTaker");let h=void 0;void 0!==d&&(h=this.safeString(e,d+"OrderId"));let u=void 0;const l=this.safeFloat(e,"fee");if(void 0!==l){u={cost:l,currency:void 0===t?void 0:t.quote}}let f=void 0;return void 0!==a&&void 0!==n&&(f=this.costToPrecision(i,n*a)),{info:e,id:o,timestamp:s,datetime:this.iso8601(s),symbol:i,order:h,type:void 0,side:c,price:a,amount:n,cost:f,takerOrMaker:d,fee:u}}parseOHLCV(e,t,i="1m",r,s){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volumeQuote")]}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeStringLower(e,"type"),s=this.safeStringLower(e,"side");let a=void 0;const n=this.safeString(e,"symbol");n in this.markets_by_id&&(a=(t=this.markets_by_id[n]).symbol),void 0===a&&void 0!==t&&(a=t.symbol);const o=this.parse8601(this.safeString(e,"createdAt")),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity"),h=this.safeFloat(e,"filledQuantity"),u=this.safeFloat(e,"cancelledQuantity");let l=void 0,f=void 0;void 0!==d&&void 0!==h&&(l=Math.max(d-h,0),f=h>=d?"closed":void 0!==u&&u>0?"canceled":"open");const p=parseFloat(this.costToPrecision(a,c*h));let m=void 0,y=void 0;const b=this.safeValue(e,"trades");if(void 0!==b&&(y=this.parseTrades(b,t,void 0,void 0,{order:i})),void 0!==y){const e=y.length;e>0&&(m=y[e-1].timestamp)}return{info:e,id:i,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:m,symbol:a,type:r,side:s,price:c,amount:d,cost:p,average:void 0,filled:h,remaining:l,status:f,fee:void 0,trades:y}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+t+"/"+e;if(Object.keys(r).length&&(n+="?"+this.urlencodeWithArrayRepeat(r)),"public"!==t){this.checkRequiredCredentials();const e=this.stringToBase64(this.encode(this.apiKey+":"+this.secret));s={authorization:"Basic "+this.decode(e)}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&e>=400){const e=this.id+" "+n;let t=this.safeValue(o,"error");void 0===t&&(t=o);const i=this.safeString2(t,"code","status"),r=this.safeString2(t,"message","debugMessage");throw this.throwBroadlyMatchedException(this.exceptions.broad,r,e),this.throwExactlyMatchedException(this.exceptions.exact,i,e),this.throwExactlyMatchedException(this.exceptions.exact,r,e),new s(e)}}}},WZyW:function(e,t,i){var r=i("PoH+"),s=i("elDD"),a=i("yCtF"),n=i("YeFZ"),o=i("bPso"),c=function(e,t){var i=[];return t.forEach((function(t){if("object"===typeof t.components){if("tuple"!==t.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var s="",a=t.type.indexOf("[");a>=0&&(s=t.type.substring(a));var n=c(e,t.components);r.isArray(n)&&e?i.push("tuple("+n.join(",")+")"+s):e?i.push("("+n+")"):i.push("("+n.join(",")+")"+s)}else i.push(t.type)})),i},d=function(e){if(!a.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",i=0,r=e.length;for("0x"===e.substring(0,2)&&(i=2);i<r;i+=2){var s=parseInt(e.substr(i,2),16);t+=String.fromCharCode(s)}return t},h=function(e){if(!e)return"0x00";for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},u=function(e){if(e=e?e.toLowerCase():"ether",!s.unitMap[e])throw new Error('This unit "'+e+"\" doesn't exist, please use the one of the following units"+JSON.stringify(s.unitMap,null,2));return e};e.exports={_fireError:function(e,t,i,s,a){return!r.isObject(e)||e instanceof Error||!e.data||((r.isObject(e.data)||r.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+"\n"+e.data),r.isString(e)&&(e=new Error(e)),r.isFunction(s)&&s(e,a),r.isFunction(i)&&((t&&r.isFunction(t.listeners)&&t.listeners("error").length||r.isFunction(s))&&t.catch((function(){})),setTimeout((function(){i(e)}),1)),t&&r.isFunction(t.emit)&&setTimeout((function(){t.emit("error",e,a),t.removeAllListeners()}),1),t},_jsonInterfaceMethodToString:function(e){return r.isObject(e)&&e.name&&-1!==e.name.indexOf("(")?e.name:e.name+"("+c(!1,e.inputs).join(",")+")"},_flattenTypes:c,randomHex:function(e){return"0x"+o(e).toString("hex")},_:r,BN:a.BN,isBN:a.isBN,isBigNumber:a.isBigNumber,isHex:a.isHex,isHexStrict:a.isHexStrict,sha3:a.sha3,sha3Raw:a.sha3Raw,keccak256:a.sha3,soliditySha3:n.soliditySha3,soliditySha3Raw:n.soliditySha3Raw,isAddress:a.isAddress,checkAddressChecksum:a.checkAddressChecksum,toChecksumAddress:function(e){if("undefined"===typeof e)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=a.sha3(e).replace(/^0x/i,""),i="0x",r=0;r<e.length;r++)parseInt(t[r],16)>7?i+=e[r].toUpperCase():i+=e[r];return i},toHex:a.toHex,toBN:a.toBN,bytesToHex:a.bytesToHex,hexToBytes:a.hexToBytes,hexToNumberString:a.hexToNumberString,hexToNumber:a.hexToNumber,toDecimal:a.hexToNumber,numberToHex:a.numberToHex,fromDecimal:a.numberToHex,hexToUtf8:a.hexToUtf8,hexToString:a.hexToUtf8,toUtf8:a.hexToUtf8,utf8ToHex:a.utf8ToHex,stringToHex:a.utf8ToHex,fromUtf8:a.utf8ToHex,hexToAscii:d,toAscii:d,asciiToHex:h,fromAscii:h,unitMap:s.unitMap,toWei:function(e,t){if(t=u(t),!a.isBN(e)&&!r.isString(e))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return a.isBN(e)?s.toWei(e,t):s.toWei(e,t).toString(10)},fromWei:function(e,t){if(t=u(t),!a.isBN(e)&&!r.isString(e))throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return a.isBN(e)?s.fromWei(e,t):s.fromWei(e,t).toString(10)},padLeft:a.leftPad,leftPad:a.leftPad,padRight:a.rightPad,rightPad:a.rightPad,toTwosComplement:a.toTwosComplement,isBloom:a.isBloom,isUserEthereumAddressInBloom:a.isUserEthereumAddressInBloom,isContractAddressInBloom:a.isContractAddressInBloom,isTopic:a.isTopic,isTopicInBloom:a.isTopicInBloom,isInBloom:a.isInBloom}},WeoI:function(e,t,i){var r=i("smmp"),s=i("pRMk").Buffer,a=i("3qw6");function n(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}t.encrypt=function(e,t){var i=Math.ceil(t.length/16),a=e._cache.length;e._cache=s.concat([e._cache,s.allocUnsafe(16*i)]);for(var o=0;o<i;o++){var c=n(e),d=a+16*o;e._cache.writeUInt32BE(c[0],d+0),e._cache.writeUInt32BE(c[1],d+4),e._cache.writeUInt32BE(c[2],d+8),e._cache.writeUInt32BE(c[3],d+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,h)}},WfKs:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"ice3x",name:"ICE3X",countries:["ZA"],rateLimit:1e3,version:"v1",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38012176-11616c32-3269-11e8-9f05-e65cf885bb15.jpg",api:"https://ice3x.com/api",www:["https://ice3x.com","https://ice3x.co.za"],doc:"https://ice3x.co.za/ice-cubed-bitcoin-exchange-api-documentation-1-june-2017",fees:["https://help.ice3.com/support/solutions/articles/11000033293-trading-fees","https://help.ice3.com/support/solutions/articles/11000033288-fees-explained","https://help.ice3.com/support/solutions/articles/11000008131-what-are-your-fiat-deposit-and-withdrawal-fees-","https://help.ice3.com/support/solutions/articles/11000033289-deposit-fees"],referral:"https://ice3x.com?ref=14341802"},api:{public:{get:["currency/list","currency/info","pair/list","pair/info","stats/marketdepthfull","stats/marketdepthbtcav","stats/marketdepth","orderbook/info","trade/list","trade/info"]},private:{post:["balance/list","balance/info","order/new","order/cancel","order/list","order/info","trade/list","trade/info","transaction/list","transaction/info","invoice/list","invoice/info","invoice/pdf"]}},fees:{trading:{maker:.005,taker:.005}},precision:{amount:8,price:8}})}async fetchCurrencies(e={}){const t=(await this.publicGetCurrencyList(e)).response.entities,i=this.precision.amount,r={};for(let s=0;s<t.length;s++){const e=t[s],a=this.safeString(e,"currency_id"),n=this.safeString(e,"iso"),o=this.safeCurrencyCode(n);r[o]={id:a,code:o,name:e.name,active:!0,precision:i,limits:{amount:{min:void 0,max:Math.pow(10,i)},price:{min:Math.pow(10,-i),max:Math.pow(10,i)},cost:{min:void 0,max:void 0}},info:e}}return r}async fetchMarkets(e={}){void 0===this.currencies_by_id&&(this.currencies=await this.fetchCurrencies(),this.currencies_by_id=this.indexBy(this.currencies,"id"));const t=await this.publicGetPairList(e),i=this.safeValue(t.response,"entities"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"pair_id"),a=this.safeString(e,"currency_id_from"),n=this.safeString(e,"currency_id_to"),o=this.currencies_by_id[a],c=this.currencies_by_id[n],d=o.code,h=c.code,u=d+"/"+h;r.push({id:t,symbol:u,base:d,quote:h,baseId:a,quoteId:n,active:void 0,info:e})}return r}parseTicker(e,t){const i=this.milliseconds(),r=t.symbol,s=this.safeFloat(e,"last_price");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"max_bid"),bidVolume:void 0,ask:this.safeFloat(e,"min_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:void 0,quoteVolume:this.safeFloat(e,"vol"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair_id:i.id},s=await this.publicGetStatsMarketdepthfull(this.extend(r,t)),a=this.safeValue(s.response,"entity");return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetStatsMarketdepthfull(t),r=this.safeValue(i.response,"entities"),s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"pair_id"),i=this.safeValue(this.marketsById,t);if(void 0!==i){s[i.symbol]=this.parseTicker(e,i)}}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair_id:this.marketId(e)};if(void 0!==t){const e=this.safeString(i,"type");if("ask"!==e&&"bid"!==e)throw new s(this.id+" fetchOrderBook requires an exchange-specific extra 'type' param ('bid' or 'ask') when used with a limit");r.items_per_page=t}const a=await this.publicGetOrderbookInfo(this.extend(r,i)),n=this.safeValue(a.response,"entities");return this.parseOrderBook(n,void 0,"bids","asks","price","amount")}parseTrade(e,t){const i=this.safeTimestamp(e,"created"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"volume");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);let n=void 0;const o=this.safeFloat(e,"fee");void 0!==o&&(n={cost:o,currency:t.quote});const c=this.safeString(e,"type"),d=this.safeString(e,"trade_id");let h=void 0;return void 0!==t&&(h=t.symbol),{id:d,info:e,timestamp:i,datetime:this.iso8601(i),symbol:h,order:void 0,type:"limit",side:c,takerOrMaker:void 0,price:r,amount:s,cost:a,fee:n}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair_id:s.id},n=await this.publicGetTradeList(this.extend(a,r)),o=this.safeValue(n.response,"entities");return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalanceList(e),i={info:t},r=this.safeValue(t.response,"entities",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency_id"),a=this.safeCurrencyCode(t),n=this.account();n.total=this.safeFloat(e,"balance"),i[a]=n}return this.parseBalance(i)}parseOrder(e,t){const i=this.safeInteger(e,"pair_id");let r=void 0;i&&!t&&i in this.marketsById&&(r=(t=this.marketsById[i]).symbol);const s=this.safeTimestamp(e,"created"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"volume");let o=this.safeInteger(e,"active"),c=this.safeFloat(e,"remaining"),d=void 0;1===o?o="open":(o="closed",c=0,d=n);let h=void 0;const u=this.safeFloat(e,"fee");return void 0!==u&&(h={cost:u},void 0!==t&&(h.currency=t.quote)),{id:this.safeString(e,"order_id"),datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:o,symbol:r,type:"limit",side:this.safeStrin(e,"type"),price:a,cost:void 0,amount:n,filled:d,remaining:c,trades:void 0,fee:h,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={pair_id:n.id,type:i,amount:r,price:s},c=await this.privatePostOrderNew(this.extend(o,a)),d=this.parseOrder({order_id:c.response.entity.order_id,created:this.seconds(),active:1,type:i,price:s,volume:r,remaining:r,info:c},n),h=d.id;return this.orders[h]=d,d}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostOrderCancel(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={"order _id":e},s=await this.privatePostOrderInfo(this.extend(r,i)),a=this.safeValue(s.response,"entity");return this.parseOrder(a)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostOrderList(r),a=this.safeValue(s.response,"entities");return this.parseOrders(a,void 0,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair_id:s.id};void 0!==i&&(a.items_per_page=i),void 0!==t&&(a.date_from=parseInt(t/1e3));const n=await this.privatePostTradeList(this.extend(a,r)),o=this.safeValue(n.response,"entities");return this.parseTrades(o,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency_id:this.currency(e).id},r=await this.privatePostBalanceInfo(this.extend(i,t)),s=this.safeValue(r.response,"entity"),a=this.safeString(s,"address");return{currency:e,address:a,tag:void 0,status:a?"ok":"none",info:r}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;return"public"===t?Object.keys(r).length&&(n+="?"+this.urlencode(r)):(this.checkRequiredCredentials(),a=this.urlencode(this.extend({nonce:this.nonce()},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},n,o){const c=await this.fetch2(e,t,i,r,n,o),d=this.safeValue(c,"errors"),h=this.safeValue(c,"response");if(d||!h){const e=["Key","user_id","Sign"];for(let t=0;t<e.length;t++){const i=e[t],r=this.safeString(d,i);if(r&&!("user_id"===i&&r.indexOf("authorization")<0))throw new a(r)}throw new s(this.json(d))}return c}}},WmoY:function(e,t,i){"use strict";const r=i("OjXq"),{ROUND:s}=i("rwG2"),{ExchangeError:a,ArgumentsRequired:n,AuthenticationError:o,InsufficientFunds:c,InvalidOrder:d,OrderNotFound:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"rightbtc",name:"RightBTC",countries:["AE"],has:{privateAPI:!1,fetchTickers:!0,fetchOHLCV:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!1,fetchOrder:"emulated",fetchMyTrades:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hr1","1d":"day1","1w":"week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/42633917-7d20757e-85ea-11e8-9f53-fffe9fbb7695.jpg",api:"https://www.rightbtc.com/api",www:"https://www.rightbtc.com",doc:["https://docs.rightbtc.com/api/"]},api:{public:{get:["trading_pairs","ticker/{trading_pair}","tickers","depth/{trading_pair}","depth/{trading_pair}/{count}","trades/{trading_pair}","trades/{trading_pair}/{count}","candlestick/latest/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}","candlestick/{timeSymbol}/{trading_pair}/{count}"]},trader:{get:["balance/{symbol}","balances","deposits/{asset}/{page}","withdrawals/{asset}/{page}","orderpage/{trading_pair}/{cursor}","orders/{trading_pair}/{ids}","history/{trading_pair}/{ids}","historys/{trading_pair}/{page}","trading_pairs"],post:["order"],delete:["order/{trading_pair}/{ids}"]}},fees:{trading:{maker:.001,taker:.002},funding:{withdraw:{ETP:.01,BTC:5e-4,ETH:.005,ETC:.01,STORJ:3,LTC:.01,ZEC:.001,BCC:.001,XRB:0,NXS:.1}}},commonCurrencies:{XRB:"NANO"},exceptions:{ERR_USERTOKEN_NOT_FOUND:o,ERR_ASSET_NOT_EXISTS:a,ERR_ASSET_NOT_AVAILABLE:a,ERR_BALANCE_NOT_ENOUGH:c,ERR_CREATE_ORDER:d,ERR_CANDLESTICK_DATA:a}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],a=t[e],n=this.safeString(a,"bid_asset_symbol"),o=this.safeString(a,"ask_asset_symbol"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(a,"bid_asset_decimals"),price:this.safeInteger(a,"ask_asset_decimals")};r.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:Math.pow(10,u.price)},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)},cost:{min:void 0,max:void 0}},info:a})}return r}divideSafeFloat(e,t,i){const r=this.safeFloat(e,t);return void 0!==r?r/i:r}parseTicker(e,t){const i=t.symbol,r=this.safeInteger(e,"date"),s=this.divideSafeFloat(e,"last",1e8),a=this.divideSafeFloat(e,"high",1e8),n=this.divideSafeFloat(e,"low",1e8),o=this.divideSafeFloat(e,"buy",1e8),c=this.divideSafeFloat(e,"sell",1e8),d=this.divideSafeFloat(e,"vol24h",1e8);return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:a,low:n,bid:o,bidVolume:void 0,ask:c,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:d,quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={trading_pair:i.id},s=await this.publicGetTickerTradingPair(this.extend(r,t)),n=this.safeValue(s,"result");if(void 0===n)throw new a(this.id+" fetchTicker returned an empty response for symbol "+e);return this.parseTicker(n,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=(await this.publicGetTickers(t)).result,r={};for(let s=0;s<i.length;s++){const e=i[s],t=e.market;if(!(t in this.marketsById))continue;const a=this.marketsById[t];r[a.symbol]=this.parseTicker(e,a)}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={trading_pair:this.marketId(e)};let s="publicGetDepthTradingPair";void 0!==t&&(s+="Count",r.count=t);const a=await this[s](this.extend(r,i)),n={},o=["bid","ask"];for(let c=0;c<o.length;c++){const e=o[c];n[e]=[];for(let t=0;t<a.result[e].length;t++){const[i,r,s]=a.result[e][t];n[e].push([i/1e8,r/1e8,s/1e8])}}return this.parseOrderBook(n,void 0,"bid","ask")}parseTrade(e,t){let i=this.safeInteger(e,"date");void 0===i&&(i=this.parse8601(this.safeString(e,"created_at")));let r=this.safeString(e,"tid");r=this.safeString(e,"trade_id",r);const s=this.safeString(e,"order_id"),a=this.divideSafeFloat(e,"price",1e8);let n=this.safeFloat(e,"amount");n=this.safeFloat(e,"quantity",n),void 0!==n&&(n/=1e8);let o=void 0;if(void 0===t){const i=this.safeString(e,"trading_pair");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(o=t.symbol);let c=this.costToPrecision(o,a*n);c=parseFloat(c);let d=this.safeStringLower(e,"side");return"b"===d?d="buy":"s"===d&&(d="sell"),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:s,type:"limit",side:d,takerOrMaker:void 0,price:a,amount:n,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={trading_pair:s.id},n=await this.publicGetTradesTradingPair(this.extend(a,r));return this.parseTrades(n.result,s,t,i)}parseOHLCV(e,t,i="5m",r,s){return[parseInt(e[0]),parseFloat(e[2])/1e8,parseFloat(e[3])/1e8,parseFloat(e[4])/1e8,parseFloat(e[5])/1e8,parseFloat(e[1])/1e8]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={trading_pair:a.id,timeSymbol:this.timeframes[t]},o=await this.publicGetCandlestickTimeSymbolTradingPair(this.extend(n,s));return this.parseOHLCVs(o.result,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.traderGetBalances(e),i={info:t},r=this.safeValue(t,"result",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"asset"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.divideSafeFloat(e,"balance",1e8),n.used=this.divideSafeFloat(e,"frozen",1e8),i[a]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,a,n={}){await this.loadMarkets();const o={trading_pair:this.market(e).id,quantity:parseInt(this.decimalToPrecision(1e8*r,s,0,this.precisionMode)),limit:parseInt(this.decimalToPrecision(1e8*a,s,0,this.precisionMode)),type:t.toUpperCase(),side:i.toUpperCase()},c=await this.traderPostOrder(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={trading_pair:this.market(t).id,ids:e};return await this.traderDeleteOrderTradingPairIds(this.extend(r,i))}parseOrderStatus(e){return this.safeString({NEW:"open",TRADE:"closed",CANCEL:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status")),s=this.safeString(e,"trading_pair");void 0===t&&s in this.markets_by_id&&(t=this.markets_by_id[s]);let a=s;void 0!==t&&(a=t.symbol);let n=this.safeInteger(e,"created");void 0===n&&(n=this.parse8601(this.safeString(e,"created_at"))),"time"in e?n=e.time:"transactTime"in e&&(n=e.transactTime);let o=this.safeFloat2(e,"limit","price");void 0!==o&&(o/=1e8);const c=this.divideSafeFloat(e,"quantity",1e8);let d=this.divideSafeFloat(e,"filled_quantity",1e8),h=this.divideSafeFloat(e,"rest",1e8);const u=this.divideSafeFloat(e,"cost",1e8);void 0!==c&&(void 0===h&&void 0!==d&&(h=Math.max(0,c-d)),void 0===d&&void 0!==h&&(d=Math.max(0,c-h)));const l=this.safeStringLower(e,"side"),f=this.divideSafeFloat(e,"min_fee",1e8);let p=void 0;if(void 0!==f){let i=void 0;void 0!==t&&(i=t.quote),p={rate:this.safeFloat(e,"fee"),cost:f,currency:i}}return{info:e,id:i,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:a,type:"limit",side:l,price:o,amount:c,cost:u,filled:d,remaining:h,status:r,fee:p,trades:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={trading_pair:r.id,ids:e},a=await this.traderGetOrdersTradingPairIds(this.extend(s,i)),o=this.parseOrders(a.result,r),c=this.indexBy(o,"id");if(!(e in c))throw new h(this.id+" fetchOrder could not find order "+e.toString()+" in open orders.");return c[e]}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={trading_pair:s.id,cursor:0},o=await this.traderGetOrderpageTradingPairCursor(this.extend(a,r));return this.parseOrders(o.result.orders,s,t,i)}async fetchOrders(e,t,i,r={}){let s=this.safeString(r,"ids");if(void 0===e||void 0===s)throw new n(this.id+" fetchOrders requires a 'symbol' argument and an extra 'ids' parameter. The 'ids' should be an array or a string of one or more order ids separated with slashes.");Array.isArray(s)&&(s=s.join("/")),await this.loadMarkets();const a={trading_pair:this.market(e).id,ids:s},o=await this.traderGetHistoryTradingPairIds(this.extend(a,r));return this.parseOrders(o.result,void 0,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s={trading_pair:this.market(e).id,page:0},a=await this.traderGetHistorysTradingPairPage(this.extend(s,r));return this.parseTrades(a.result,void 0,t,i)}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.urls.api+"/"+t+"/"+this.implodeParams(e,r);return"public"===t?Object.keys(n).length&&(o+="?"+this.urlencode(n)):(this.checkRequiredCredentials(),s={apikey:this.apiKey,signature:this.secret},"GET"===i?Object.keys(n).length&&(o+="?"+this.urlencode(n)):(a=this.json(n),s["Content-Type"]="application/json")),{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"status");if(void 0!==h){if("1"!==this.safeString(h,"success")){const e=this.safeString(h,"message"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}}}}},WqrZ:function(e){e.exports=JSON.parse('{"name":"kovan","chainId":42,"networkId":42,"comment":"Parity PoA test network","url":"https://kovan-testnet.github.io/website/","genesis":{"hash":"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9","timestamp":null,"gasLimit":6000000,"difficulty":131072,"nonce":"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","extraData":"0x","stateRoot":"0x2480155b48a1cea17d67dbfdfaafe821c1d19cdd478c5358e8ec56dec24502b2"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":0,"consensus":"poa","finality":null},{"name":"dao","block":0,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":0,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":0,"consensus":"poa","finality":null},{"name":"byzantium","block":5067000,"consensus":"poa","finality":null},{"name":"constantinople","block":9200000,"consensus":"poa","finality":null},{"name":"petersburg","block":10255201,"consensus":"poa","finality":null},{"name":"istanbul","block":14111141,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"40.71.221.215","port":30303,"id":"56abaf065581a5985b8c5f4f88bd202526482761ba10be9bfdcd14846dd01f652ec33fde0f8c0fd1db19b59a4c04465681fcef50e11380ca88d25996191c52de","location":"","comment":"Parity Bootnode"},{"ip":"52.166.117.77","port":30303,"id":"d07827483dc47b368eaf88454fb04b41b7452cf454e194e2bd4c14f98a3278fed5d819dbecd0d010407fc7688d941ee1e58d4f9c6354d3da3be92f55c17d7ce3","location":"","comment":"Parity Bootnode"},{"ip":"52.165.239.18","port":30303,"id":"8fa162563a8e5a05eef3e1cd5abc5828c71344f7277bb788a395cce4a0e30baf2b34b92fe0b2dbbba2313ee40236bae2aab3c9811941b9f5a7e8e90aaa27ecba","location":"","comment":"Parity Bootnode"},{"ip":"52.243.47.56","port":30303,"id":"7e2e7f00784f516939f94e22bdc6cf96153603ca2b5df1c7cc0f90a38e7a2f218ffb1c05b156835e8b49086d11fdd1b3e2965be16baa55204167aa9bf536a4d9","location":"","comment":"Parity Bootnode"},{"ip":"40.68.248.100","port":30303,"id":"0518a3d35d4a7b3e8c433e7ffd2355d84a1304ceb5ef349787b556197f0c87fad09daed760635b97d52179d645d3e6d16a37d2cc0a9945c2ddf585684beb39ac","location":"","comment":"Parity Bootnode"}]}')},Wrnp:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,BadRequest:n,OrderNotFound:o,InvalidAddress:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"therock",name:"TheRockTrading",countries:["MT"],rateLimit:1e3,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchMyTrades:!0,fetchLedger:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:"emulated",fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766869-75057fa2-5ee9-11e7-9a6f-13e641fa4707.jpg",api:"https://api.therocktrading.com",www:"https://therocktrading.com",doc:["https://api.therocktrading.com/doc/v1/index.html","https://api.therocktrading.com/doc/"]},api:{public:{get:["funds","funds/{id}/orderbook","funds/{id}/ticker","funds/{id}/trades","funds/tickers"]},private:{get:["balances","balances/{id}","discounts","discounts/{id}","funds","funds/{id}","funds/{id}/trades","funds/{fund_id}/orders","funds/{fund_id}/orders/{id}","funds/{fund_id}/position_balances","funds/{fund_id}/positions","funds/{fund_id}/positions/{id}","transactions","transactions/{id}","withdraw_limits/{id}","withdraw_limits"],post:["atms/withdraw","funds/{fund_id}/orders"],delete:["funds/{fund_id}/orders/{id}","funds/{fund_id}/orders/remove_all"]}},fees:{trading:{maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,BCH:5e-4,PPC:.02,ETH:.001,ZEC:.001,LTC:.002,EUR:2.5},deposit:{BTC:0,BCH:0,PPC:0,ETH:0,ZEC:0,LTC:0,EUR:0}}},exceptions:{exact:{"Request already running":n,"cannot specify multiple address types":n,"Currency is not included in the list":n,"Record not found":o},broad:{"before must be greater than after param":n,"must be shorter than 60 days":n,"must be a multiple of (period param) in minutes":n,"Address allocation limit reached for currency":c,"is not a valid value for param currency":n," is invalid":c}}})}async fetchMarkets(e={}){const t=await this.publicGetFunds(e),i=this.safeValue(t,"funds"),r=[];if(void 0===i)throw new s(this.id+" fetchMarkets got an unexpected response");for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),a=this.safeString(e,"trade_currency"),n=this.safeString(e,"base_currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeFloat(e,"buy_fee"),u=this.safeFloat(e,"sell_fee");let l=Math.max(h,u);l/=100;const f=l;r.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:!0,maker:f,taker:l,precision:{amount:this.safeInteger(e,"trade_currency_decimals"),price:this.safeInteger(e,"base_currency_decimals")},limits:{amount:{min:this.safeFloat(e,"minimum_quantity_offer"),max:void 0},price:{min:this.safeFloat(e,"minimum_price_offer"),max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i=this.safeValue(t,"balances",[]),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"trading_balance"),n.total=this.safeFloat(e,"balance"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetFundsIdOrderbook(this.extend(r,i)),a=this.parse8601(this.safeString(s,"date"));return this.parseOrderBook(s,a,"bids","asks","price","amount")}parseTicker(e,t){const i=this.parse8601(e.date);let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:this.safeFloat(e,"close"),change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume_traded"),quoteVolume:this.safeFloat(e,"volume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetFundsTickers(t),r=this.indexBy(i.tickers,"fund_id"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n],t=this.markets_by_id[e],i=t.symbol,o=r[e];a[i]=this.parseTicker(o,t)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetFundsIdTicker(this.extend({id:i.id},t));return this.parseTicker(r,i)}parseTrade(e,t){t||(t=this.markets_by_id[e.fund_id]);const i=this.parse8601(this.safeString(e,"date")),r=this.safeString(e,"id"),s=this.safeString(e,"order_id"),a=this.safeString(e,"side"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;void 0!==n&&void 0!==o&&(c=n*o);let d=void 0,h=void 0;const u=this.safeValue(e,"transactions",[]),l=this.groupBy(u,"type"),f=this.safeValue(l,"paid_commission",[]);for(let m=0;m<f.length;m++)void 0===h&&(h=0),h=this.sum(h,this.safeFloat(f[m],"price"));void 0!==h&&(d={cost:h,currency:t.quote});let p=void 0;return void 0!==t&&(p=t.symbol),{info:e,id:r,order:s,timestamp:i,datetime:this.iso8601(i),symbol:p,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:d}}parseLedgerEntryDirection(e){return this.safeString({affiliate_earnings:"in",atm_payment:"in",bought_currency_from_fund:"out",bought_shares:"out",paid_commission:"out",paypal_payment:"in",pos_payment:"in",released_currency_to_fund:"out",rollover_commission:"out",sold_currency_to_fund:"in",sold_shares:"in",transfer_received:"in",transfer_sent:"out",withdraw:"out"},e,e)}parseLedgerEntryType(e){return this.safeString({affiliate_earnings:"referral",atm_payment:"transaction",bought_currency_from_fund:"trade",bought_shares:"trade",paid_commission:"fee",paypal_payment:"transaction",pos_payment:"transaction",released_currency_to_fund:"trade",rollover_commission:"fee",sold_currency_to_fund:"trade",sold_shares:"trade",transfer_received:"transfer",transfer_sent:"transfer",withdraw:"transaction"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r=void 0,s=this.safeString(e,"type");const a=this.parseLedgerEntryDirection(s);s=this.parseLedgerEntryType(s),"trade"!==s&&"fee"!==s||(r=this.safeString(e,"trade_id"));const n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n),c=this.safeFloat(e,"price"),d=this.parse8601(this.safeString(e,"date"));return{info:e,id:i,direction:a,account:void 0,referenceId:r,referenceAccount:void 0,type:s,currency:o,amount:c,before:void 0,after:void 0,status:"ok",timestamp:d,datetime:this.iso8601(d),fee:void 0}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.after=this.iso8601(t));const n=await this.privateGetTransactions(this.extend(s,r)),o=this.safeValue(n,"transactions",[]);return this.parseLedger(o,a,t,i)}parseTransactionType(e){return this.safeString({withdraw:"withdrawal",atm_payment:"deposit"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parseTransactionType(this.safeString(e,"type")),s=this.safeValue(e,"transfer_detail",{}),a=this.safeString(s,"method");let n=void 0,o=void 0;void 0!==a&&"wire_transfer"!==a&&(n=this.safeString(s,"id"),o=this.safeString(s,"recipient"));const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.safeFloat(e,"price"),u=this.parse8601(this.safeString(e,"date"));return{info:e,id:i,currency:d,amount:h,addressFrom:void 0,addressTo:o,address:o,tagFrom:void 0,tagTo:void 0,tag:void 0,status:"ok",type:r,updated:void 0,txid:n,timestamp:u,datetime:this.iso8601(u),fee:void 0}}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"withdraw"},r))}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactions(e,t,i,this.extend({type:"atm_payment"},r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==t&&(s.after=this.iso8601(t)),r=this.extend(s,r);const n=await this.privateGetTransactions(r),o=this.safeValue(n,"transactions",[]),c=this.filterByArray(o,"type",["withdraw","atm_payment"],!1);return this.parseTransactions(c,a,t,i)}parseOrderStatus(e){return this.safeString({active:"open",executed:"closed",deleted:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0;const s=this.safeString(e,"fund_id");s in this.markets_by_id&&(r=(t=this.markets_by_id[s]).symbol);const a=this.parseOrderStatus(this.safeString(e,"status")),n=this.parse8601(this.safeString(e,"date")),o=this.safeString(e,"type"),c=this.safeString(e,"side"),d=this.safeFloat(e,"amount"),h=this.safeFloat(e,"amount_unfilled");let u=void 0;void 0!==d&&void 0!==h&&(u=d-h);const l=this.safeFloat(e,"price");let f=this.safeValue(e,"trades"),p=void 0,m=void 0,y=void 0;if(void 0!==f){const e=f.length;if(e>0){f=this.parseTrades(f,t,void 0,void 0,{orderId:i}),p=0,u=0;for(let t=0;t<e;t++){const e=f[t];p=this.sum(p,e.cost),u=this.sum(u,e.amount)}u>0&&(m=p/u),y=f[e-1].timestamp}else p=0}return{id:i,info:e,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:y,status:a,symbol:r,type:o,side:c,price:l,cost:p,amount:d,filled:u,average:m,remaining:h,fee:void 0,trades:f}}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"active"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"executed"},r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={fund_id:s.id};void 0!==t&&(n.after=this.iso8601(t));const o=await this.privateGetFundsFundIdOrders(this.extend(n,r)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,s,t,i)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r={id:e,fund_id:this.market(t).id},s=await this.privatePostFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),"market"===t&&(s=0);const n={fund_id:this.marketId(e),side:i,amount:r,price:s},o=await this.privatePostFundsFundIdOrders(this.extend(n,a));return this.parseOrder(o)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e,fund_id:this.marketId(t)},s=await this.privateDeleteFundsFundIdOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={id:s.id};void 0!==i&&(n.per_page=i),void 0!==t&&(n.after=this.iso8601(t));const o=await this.privateGetFundsIdTrades(this.extend(n,r));return this.parseTrades(o.trades,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id};void 0!==i&&(a.per_page=i),void 0!==t&&(a.after=this.iso8601(t));const n=await this.publicGetFundsIdTrades(this.extend(a,r));return this.parseTrades(n.trades,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(s=void 0===s?{}:s,"private"===t){if(this.checkRequiredCredentials(),Object.keys(o).length)if("POST"===i)a=this.json(o),s["Content-Type"]="application/json";else{const e=this.rawencode(o);e.length&&(n+="?"+e)}const e=this.nonce().toString(),t=e+n;s["X-TRT-KEY"]=this.apiKey,s["X-TRT-NONCE"]=e,s["X-TRT-SIGN"]=this.hmac(this.encode(t),this.encode(this.secret),"sha512")}else"public"===t&&Object.keys(o).length&&(n+="?"+this.rawencode(o));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]),u=h.length;if(u>0){const e=this.id+" "+n;for(let t=0;t<u;t++){const i=h[t],r=this.safeString(i,"message");this.throwExactlyMatchedException(this.exceptions.exact,r,e),this.throwBroadlyMatchedException(this.exceptions.broad,r,e)}throw new s(e)}}}},Wxe8:function(e,t,i){var r;function s(e){this.rand=e}if(e.exports=function(e){return r||(r=new s(null)),r.generate(e)},e.exports.Rand=s,s.prototype.generate=function(e){return this._rand(e)},s.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=i(7);if("function"!==typeof a.randomBytes)throw new Error("Not supported");s.prototype._rand=function(e){return a.randomBytes(e)}}catch(n){}},X3hn:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,BadRequest:a,ExchangeError:n,ArgumentsRequired:o,InvalidOrder:c,OrderNotFound:d,OnMaintenance:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinone",name:"CoinOne",countries:["KR"],rateLimit:667,version:"v2",has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/38003300-adc12fba-323f-11e8-8525-725f53c4a659.jpg",api:"https://api.coinone.co.kr",www:"https://coinone.co.kr",doc:"https://doc.coinone.co.kr"},requiredCredentials:{apiKey:!0,secret:!0},api:{public:{get:["orderbook/","trades/","ticker/"]},private:{post:["account/btc_deposit_address/","account/balance/","account/daily_balance/","account/user_info/","account/virtual_account/","order/cancel_all/","order/cancel/","order/limit_buy/","order/limit_sell/","order/complete_orders/","order/limit_orders/","order/order_info/","transaction/auth_number/","transaction/history/","transaction/krw/history/","transaction/btc/","transaction/coin/"]}},markets:{"BCH/KRW":{id:"bch",symbol:"BCH/KRW",base:"BCH",quote:"KRW",baseId:"bch",quoteId:"krw"},"BTC/KRW":{id:"btc",symbol:"BTC/KRW",base:"BTC",quote:"KRW",baseId:"btc",quoteId:"krw"},"BTG/KRW":{id:"btg",symbol:"BTG/KRW",base:"BTG",quote:"KRW",baseId:"btg",quoteId:"krw"},"ETC/KRW":{id:"etc",symbol:"ETC/KRW",base:"ETC",quote:"KRW",baseId:"etc",quoteId:"krw"},"ETH/KRW":{id:"eth",symbol:"ETH/KRW",base:"ETH",quote:"KRW",baseId:"eth",quoteId:"krw"},"IOTA/KRW":{id:"iota",symbol:"IOTA/KRW",base:"IOTA",quote:"KRW",baseId:"iota",quoteId:"krw"},"LTC/KRW":{id:"ltc",symbol:"LTC/KRW",base:"LTC",quote:"KRW",baseId:"ltc",quoteId:"krw"},"OMG/KRW":{id:"omg",symbol:"OMG/KRW",base:"OMG",quote:"KRW",baseId:"omg",quoteId:"krw"},"QTUM/KRW":{id:"qtum",symbol:"QTUM/KRW",base:"QTUM",quote:"KRW",baseId:"qtum",quoteId:"krw"},"XRP/KRW":{id:"xrp",symbol:"XRP/KRW",base:"XRP",quote:"KRW",baseId:"xrp",quoteId:"krw"},"EOS/KRW":{id:"eos",symbol:"EOS/KRW",base:"EOS",quote:"KRW",baseId:"eos",quoteId:"krw"},"DATA/KRW":{id:"data",symbol:"DATA/KRW",base:"DATA",quote:"KRW",baseId:"data",quoteId:"krw"},"ZIL/KRW":{id:"zil",symbol:"ZIL/KRW",base:"ZIL",quote:"KRW",baseId:"zil",quoteId:"krw"},"KNC/KRW":{id:"knc",symbol:"KNC/KRW",base:"KNC",quote:"KRW",baseId:"knc",quoteId:"krw"},"ZRX/KRW":{id:"zrx",symbol:"ZRX/KRW",base:"ZRX",quote:"KRW",baseId:"zrx",quoteId:"krw"},"LUNA/KRW":{id:"luna",symbol:"LUNA/KRW",base:"LUNA",quote:"KRW",baseId:"luna",quoteId:"krw"},"ATOM/KRW":{id:"atom",symbol:"ATOM/KRW",base:"ATOM",quote:"KRW",baseId:"atom",quoteId:"krw"},"VNT/KRW":{id:"vnt",symbol:"VNT/KRW",base:"VNT",quote:"KRW",baseId:"vnt",quoteId:"krw"}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:.001,tiers:{taker:[[0,.001],[1e8,9e-4],[1e9,8e-4],[5e9,7e-4],[1e10,6e-4],[2e10,5e-4],[3e10,4e-4],[4e10,3e-4],[5e10,2e-4]],maker:[[0,.001],[1e8,8e-4],[1e9,6e-4],[5e9,4e-4],[1e10,2e-4],[2e10,0],[3e10,0],[4e10,0],[5e10,0]]}}},exceptions:{405:h,104:d,108:s,107:a}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostAccountBalance(e),i={info:t},r=this.omit(t,["errorCode","result","normalWallets"]),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=s[a],t=r[e],n=this.safeCurrencyCode(e),o=this.account();o.free=this.safeFloat(t,"avail"),o.total=this.safeFloat(t,"balance"),i[n]=o}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.market(e).id,format:"json"},s=await this.publicGetOrderbook(this.extend(r,i));return this.parseOrderBook(s,void 0,"bid","ask","price","qty")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(this.extend({currency:"all",format:"json"},t)),r={},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a];let t=e,n=void 0;if(e in this.markets_by_id){n=this.markets_by_id[e],t=n.symbol;const s=i[e];r[t]=this.parseTicker(s,n)}}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.id,format:"json"},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){const i=this.milliseconds(),r=this.safeFloat(e,"last"),s=this.safeFloat(e,"yesterday_last");let a=void 0;return void 0!==r&&void 0!==s&&(a=s-r),{symbol:void 0!==t?t.symbol:void 0,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:r,last:r,previousClose:s,change:a,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp"),r=void 0!==t?t.symbol:void 0,s=this.safeString(e,"is_ask");let a=void 0;"1"===s?a="sell":"0"===s&&(a="buy");const n=this.safeFloat(e,"price"),o=this.safeFloat(e,"qty");let c=void 0;return void 0!==n&&void 0!==o&&(c=n*o),{id:void 0,info:e,timestamp:i,datetime:this.iso8601(i),order:void 0,symbol:r,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.id,period:"hour",format:"json"},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n.completeOrders,s,t,i)}async createOrder(e,t,i,r,s,a={}){if(await this.loadMarkets(),"limit"!==t)throw new n(this.id+" allows limit orders only");await this.loadMarkets();const o={price:s,currency:this.marketId(e),qty:r},c="privatePostOrder"+this.capitalize(t)+this.capitalize(i),d=await this[c](this.extend(o,a));let h=this.safeString(d,"orderId");void 0!==h&&(h=h.toUpperCase());const u=this.milliseconds(),l=s*r,f={info:d,id:h,timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,cost:l,average:void 0,amount:r,filled:void 0,remaining:r,status:"open",fee:void 0};return this.orders[h]=f,f}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0,s=void 0;if(void 0===t){if(!(e in this.orders))throw new o(this.id+" fetchOrder() requires a symbol argument for order ids missing in the .orders cache (the order was created with a different instance of this class or within a different run of this code).");s=this.market(this.orders[e].symbol)}else s=this.market(t);try{const t={order_id:e,currency:s.id},a=await this.privatePostOrderOrderInfo(this.extend(t,i));r=this.parseOrder(a),this.orders[e]=r}catch(a){if(!(a instanceof d))throw a;if(!(e in this.orders))throw a;this.orders[e].status="canceled",r=this.orders[e]}return r}parseOrderStatus(e){return this.safeString({live:"open",partially_filled:"open",filled:"closed"},e,e)}parseOrder(e,t){const i=this.safeValue(e,"info"),r=this.safeStringUpper(i,"orderId"),s=this.safeTimestamp(i,"timestamp"),a=this.parseOrderStatus(this.safeString(e,"status"));let n=void 0,o=this.safeString(i,"type");o=o.indexOf("ask")>=0?"sell":"buy";const c=this.safeFloat(i,"price"),d=this.safeFloat(i,"qty"),h=this.safeFloat(i,"remainQty");let u=void 0;void 0!==d&&(void 0!==h&&(u=d-h),void 0!==c&&(n=c*d));const l=this.safeString(i,"currency"),f={currency:l,cost:this.safeFloat(i,"fee"),rate:this.safeFloat(i,"feeRate")};let p=void 0;if(void 0===t){const e=l.toLowerCase();e in this.markets_by_id&&(t=this.markets_by_id[e])}return void 0!==t&&(p=t.symbol),{info:e,id:r,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:p,type:"limit",side:o,price:c,cost:n,amount:d,filled:u,remaining:h,status:a,fee:f}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=this.safeValue(this.orders,e);let s=void 0,a=void 0,n=void 0;if(void 0===r){if(void 0===t)throw new c(this.id+" cancelOrder could not find the order id "+e+" in orders cache. The order was probably created with a different instance of this class earlier. The `symbol` argument is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");if(a=this.safeFloat(i,"price"),void 0===a)throw new c(this.id+" cancelOrder could not find the order id "+e+" in orders cache. The order was probably created with a different instance of this class earlier. The `price` parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");if(s=this.safeFloat(i,"qty"),void 0===s)throw new c(this.id+" cancelOrder could not find the order id "+e+" in orders cache. The order was probably created with a different instance of this class earlier. The `qty` (amount) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.");if(n=this.safeFloat(i,"is_ask"),void 0===n)throw new c(this.id+" cancelOrder could not find the order id "+e+" in orders cache. The order was probably created with a different instance of this class earlier. The `is_ask` (side) parameter is missing. To cancel the order, pass a symbol argument and {'price': 12345, 'qty': 1.2345, 'is_ask': 0} in the params argument of cancelOrder.")}else a=r.price,s=r.amount,n="buy"===r.side?0:1,t=r.symbol;const o={order_id:e,price:a,qty:s,is_ask:n,currency:this.marketId(t)};return this.orders[e].status="canceled",await this.privatePostOrderCancel(this.extend(o,i))}sign(e,t="public",i="GET",r={},s,a){const n=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));let c=this.urls.api+"/";if("public"===t)c+=n,Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),c+=this.version+"/"+n;const e=this.nonce().toString(),t=this.json(this.extend({access_token:this.apiKey,nonce:e},r)),i=this.stringToBase64(this.encode(t));a=this.decode(i);const o=this.secret.toUpperCase();s={"content-type":"application/json","X-COINONE-PAYLOAD":i,"X-COINONE-SIGNATURE":this.hmac(i,this.encode(o),"sha512")}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o){if(!("result"in o))throw new n(this.id+" "+a);if("success"!==o.result){const e=this.safeString(o,"errorCode"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new n(t)}}}}},X7EK:function(e,t,i){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},XKyj:function(e,t,i){var r=i("qykS"),s=r.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=n),a(s,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return s(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},Xr9Y:function(e,t,i){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(i){(0|i)==i&&(i|=0);var r=e[i];t[r]=i})),t},r.der=i("RfOT")},XrIg:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ExchangeNotAvailable:a,RequestTimeout:n,AuthenticationError:o,PermissionDenied:c,DDoSProtection:d,InsufficientFunds:h,OrderNotFound:u,OrderNotCached:l,InvalidOrder:f,AccountSuspended:p,CancelPending:m,InvalidNonce:y}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"poloniex",name:"Poloniex",countries:["US"],rateLimit:1e3,certified:!0,has:{CORS:!1,createDepositAddress:!0,createMarketOrder:!1,editOrder:!0,fetchClosedOrders:"emulated",fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrder:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrderBooks:!0,fetchOrders:"emulated",fetchOrderStatus:"emulated",fetchOrderTrades:!0,fetchTickers:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchTransactions:!0,fetchWithdrawals:!0,cancelAllOrders:!0,withdraw:!0},timeframes:{"5m":300,"15m":900,"30m":1800,"2h":7200,"4h":14400,"1d":86400},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766817-e9456312-5ee6-11e7-9b3c-b628ca5626a5.jpg",api:{public:"https://poloniex.com/public",private:"https://poloniex.com/tradingApi"},www:"https://www.poloniex.com",doc:"https://docs.poloniex.com",fees:"https://poloniex.com/fees",referral:"https://www.poloniex.com/?utm_source=ccxt&utm_medium=web"},api:{public:{get:["return24hVolume","returnChartData","returnCurrencies","returnLoanOrders","returnOrderBook","returnTicker","returnTradeHistory"]},private:{post:["buy","cancelLoanOffer","cancelOrder","cancelAllOrders","closeMarginPosition","createLoanOffer","generateNewAddress","getMarginPosition","marginBuy","marginSell","moveOrder","returnActiveLoans","returnAvailableAccountBalances","returnBalances","returnCompleteBalances","returnDepositAddresses","returnDepositsWithdrawals","returnFeeInfo","returnLendingHistory","returnMarginAccountSummary","returnOpenLoanOffers","returnOpenOrders","returnOrderTrades","returnOrderStatus","returnTradableBalances","returnTradeHistory","sell","toggleAutoRenew","transferBalance","withdraw"]}},fees:{trading:{maker:9e-4,taker:9e-4},funding:{}},limits:{amount:{min:1e-6,max:1e9},price:{min:1e-8,max:1e9},cost:{min:0,max:1e9}},precision:{amount:8,price:8},commonCurrencies:{AIR:"AirCoin",APH:"AphroditeCoin",BCC:"BTCtalkcoin",BDG:"Badgercoin",BTM:"Bitmark",CON:"Coino",GOLD:"GoldEagles",GPUC:"GPU",HOT:"Hotcoin",ITC:"Information Coin",PLX:"ParallaxCoin",KEY:"KEYCoin",STR:"XLM",SOC:"SOCC",XAP:"API Coin"},options:{limits:{cost:{min:{BTC:1e-4,ETH:1e-4,XMR:1e-4,USDT:1}}}},exceptions:{exact:{"You may only place orders that reduce your position.":f,"Invalid order number, or you are not the person who placed the order.":u,"Permission denied":c,"Connection timed out. Please try again.":n,"Internal error. Please try again.":a,"Order not found, or you are not the person who placed it.":u,"Invalid API key/secret pair.":o,"Please do not make more than 8 API calls per second.":d,"Rate must be greater than zero.":f},broad:{"Total must be at least":f,"This account is frozen.":p,"Not enough":h,"Nonce must be greater":y,"You have already called cancelOrder or moveOrder on this order.":m,"Amount must be at least":f,"is either completed or does not exist":f}}})}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=parseFloat(this.costToPrecision(e,r*d));return"sell"===i?h*=s:c="base",{type:a,currency:o[c],rate:d,cost:parseFloat(this.feeToPrecision(e,h))}}parseOHLCV(e,t,i="5m",r,s){return[this.safeTimestamp(e,"date"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"quoteVolume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={currencyPair:a.id,period:this.timeframes[t]};if(void 0===i)n.end=this.seconds(),n.start=void 0===r?n.end-this.parseTimeframe("1w"):n.end-this.sum(r)*this.parseTimeframe(t);else if(n.start=parseInt(i/1e3),void 0!==r){const e=this.sum(n.start,r*this.parseTimeframe(t));n.end=e}const o=await this.publicGetReturnChartData(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchMarkets(e={}){const t=await this.publicGetReturnTicker(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(o),d=this.safeCurrencyCode(n),h=c+"/"+d,u=this.extend(this.limits,{cost:{min:this.safeValue(this.options.limits.cost.min,d)}}),l="1"!==this.safeString(a,"isFrozen"),f=this.safeInteger(a,"id");r.push({id:e,numericId:f,symbol:h,baseId:o,quoteId:n,base:c,quote:d,active:l,limits:u,info:a})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostReturnCompleteBalances(this.extend({account:"all"},e)),i={info:t},r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],a=this.safeValue(t,e,{}),n=this.safeCurrencyCode(e),o=this.account();o.free=this.safeFloat(a,"available"),o.used=this.safeFloat(a,"onOrders"),i[n]=o}return this.parseBalance(i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostReturnFeeInfo(e);return{info:t,maker:this.safeFloat(t,"makerFee"),taker:this.safeFloat(t,"takerFee"),withdraw:{},deposit:{}}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e)};void 0!==t&&(r.depth=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),a=this.parseOrderBook(s);return a.nonce=this.safeInteger(s,"seq"),a}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();const r={currencyPair:"all"};void 0!==t&&(r.depth=t);const s=await this.publicGetReturnOrderBook(this.extend(r,i)),a=Object.keys(s),n={};for(let o=0;o<a.length;o++){const e=a[o];let t=void 0;if(e in this.markets_by_id)t=this.markets_by_id[e].symbol;else{const[i,r]=e.split("_");t=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(i)}const i=this.parseOrderBook(s[e]);i.nonce=this.safeInteger(s[e],"seq"),n[t]=i}return n}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);let s=void 0,a=void 0,n=void 0;const o=this.safeFloat(e,"last"),c=this.safeFloat(e,"percentChange");return-1!==c&&(s=o/this.sum(1,c),a=o-s,n=this.sum(o,s)/2),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:s,close:o,last:o,previousClose:void 0,change:a,percentage:100*c,average:n,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetReturnTicker(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a];let t=void 0,n=void 0;if(e in this.markets_by_id)n=this.markets_by_id[e],t=n.symbol;else{const[i,r]=e.split("_");t=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(i),n={symbol:t}}const o=i[e];s[t]=this.parseTicker(o,n)}return s}async fetchCurrencies(e={}){const t=await this.publicGetReturnCurrencies(e),i=Object.keys(t),r={};for(let s=0;s<i.length;s++){const e=i[s],a=t[e],n=8,o=this.safeCurrencyCode(e),c=0===a.delisted&&!a.disabled,d=this.safeInteger(a,"id");r[o]={id:e,numericId:d,code:o,info:a,name:a.name,active:c,fee:this.safeFloat(a,"txFee"),precision:n,limits:{amount:{min:Math.pow(10,-n),max:Math.pow(10,n)},price:{min:Math.pow(10,-n),max:Math.pow(10,n)},cost:{min:void 0,max:void 0},withdraw:{min:a.txFee,max:Math.pow(10,n)}}}}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=(await this.publicGetReturnTicker(t))[i.id];return this.parseTicker(r,i)}parseTrade(e,t){const i=this.safeString2(e,"globalTradeID","tradeID"),r=this.safeString(e,"orderNumber"),s=this.parse8601(this.safeString(e,"date"));let a=void 0,n=void 0,o=void 0;if(!t&&"currencyPair"in e){const i=e.currencyPair;if(i in this.markets_by_id)t=this.markets_by_id[i];else{const e=i.split("_");o=e[0],n=e[1],a=n+"/"+o}}void 0!==t&&(a=t.symbol,n=t.base,o=t.quote);const c=this.safeString(e,"type");let d=void 0;const h=this.safeFloat(e,"rate"),u=this.safeFloat(e,"total"),l=this.safeFloat(e,"amount");if("fee"in e){const t=this.safeFloat(e,"fee");let i=void 0,r=void 0;"buy"===c?(r=n,i=l*t):(r=o,void 0!==u&&(i=u*t)),d={type:void 0,rate:t,cost:i,currency:r}}let f=void 0;return void 0!==this.safeFloat(e,"takerAdjustment")&&(f="taker"),{id:i,info:e,timestamp:s,datetime:this.iso8601(s),symbol:a,order:r,type:"limit",side:c,takerOrMaker:f,price:h,amount:l,cost:u,fee:d}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id};void 0!==t&&(a.start=parseInt(t/1e3),a.end=this.seconds());const n=await this.publicGetReturnTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a={currencyPair:s?s.id:"all"};void 0!==t&&(a.start=parseInt(t/1e3),a.end=this.sum(this.seconds(),1)),void 0!==i&&(a.limit=parseInt(i));const n=await this.privatePostReturnTradeHistory(this.extend(a,r));let o=[];if(void 0!==s)o=this.parseTrades(n,s);else if(n){const e=Object.keys(n);for(let t=0;t<e.length;t++){const i=e[t];let r=void 0;if(i in this.markets_by_id){r=this.markets_by_id[i];const e=this.parseTrades(n[i],r);for(let t=0;t<e.length;t++)o.push(e[t])}else{const[e,t]=i.split("_"),r=this.safeCurrencyCode(t),s=this.safeCurrencyCode(e),a=r+"/"+s,c=n[i];for(let i=0;i<c.length;i++){const e={symbol:a,base:r,quote:s};o.push(this.parseTrade(c[i],e))}}}}return this.filterBySinceLimit(o,t,i)}parseOrderStatus(e){return this.safeString({Open:"open","Partially filled":"open"},e,e)}parseOrder(e,t){let i=this.safeInteger(e,"timestamp");i||(i=this.parse8601(e.date));let r=void 0;"resultingTrades"in e&&(r=this.parseTrades(e.resultingTrades,t));let s=void 0;const a=this.safeString(e,"currencyPair");void 0!==(t=this.safeValue(this.markets_by_id,a,t))&&(s=t.symbol);const n=this.safeFloat2(e,"price","rate");let o=this.safeFloat(e,"amount"),c=this.safeFloat(e,"startingAmount"),d=void 0,h=0;void 0!==c?void 0!==o&&(d=c-o,void 0!==n&&(h=d*n)):c=o;let u=this.parseOrderStatus(this.safeString(e,"status")),l=void 0,f=void 0;if(void 0===d&&void 0!==r){d=0,h=0;const e=r.length;if(e>0){f=r[0].timestamp;for(let t=0;t<e;t++){const e=r[t],i=e.amount,s=e.price;d=this.sum(d,i),h=this.sum(h,s*i),f=Math.max(f,e.timestamp)}}o=Math.max(c-d,0),d>=c&&(u="closed")}void 0!==d&&void 0!==h&&d>0&&(l=h/d);let p=this.safeString(e,"type");const m=this.safeString(e,"side",p);p===m&&(p=void 0);const y=this.safeString(e,"orderNumber");let b=void 0;const v=this.safeFloat(e,"fee");if(void 0!==v){let e=void 0;void 0!==t&&(e="buy"===m?t.base:t.quote),b={cost:v,currency:e}}return{info:e,id:y,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:f,status:u,symbol:s,type:p,side:m,price:n,cost:h,average:l,amount:c,filled:d,remaining:o,trades:r,fee:b}}parseOpenOrders(e,t,i){for(let r=0;r<e.length;r++){const s=e[r],a=this.extend(s,{status:"open",type:"limit",side:s.type,price:s.rate});i.push(this.parseOrder(a,t))}return i}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a={currencyPair:s?s.id:"all"},n=await this.privatePostReturnOpenOrders(this.extend(a,r));let o=[];if(void 0!==s)o=this.parseOpenOrders(n,s,o);else{const e=Object.keys(n);for(let t=0;t<e.length;t++){const i=e[t],r=n[i],s=this.markets_by_id[i];o=this.parseOpenOrders(r,s,o)}}for(let u=0;u<o.length;u++)this.orders[o[u].id]=o[u];const c=this.indexBy(o,"id"),d=Object.keys(this.orders),h=[];for(let u=0;u<d.length;u++){const t=d[u];if(t in c)this.orders[t]=this.extend(this.orders[t],c[t]);else{let e=this.orders[t];"open"===e.status&&(e=this.extend(e,{status:"closed",cost:void 0,filled:e.amount,remaining:0}),void 0===e.cost&&void 0!==e.filled&&(e.cost=e.filled*e.price),this.orders[t]=e)}const i=this.orders[t];void 0!==s?i.symbol===e&&h.push(i):h.push(i)}return this.filterBySinceLimit(h,t,i)}async fetchOrder(e,t,i={}){const r=this.safeValue(i,"since"),s=this.safeValue(i,"limit"),a=this.omit(i,["since","limit"]),n=await this.fetchOrders(t,r,s,a);for(let o=0;o<n.length;o++)if(n[o].id===e)return n[o];throw new l(this.id+" order id "+e.toString()+' is not in "open" state and not found in cache')}filterOrdersByStatus(e,t){const i=[];for(let r=0;r<e.length;r++)e[r].status===t&&i.push(e[r]);return i}async fetchOpenOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterOrdersByStatus(s,"open")}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterOrdersByStatus(s,"closed")}async createOrder(e,t,i,r,a,n={}){if("limit"!==t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e);r=this.amountToPrecision(e,r);const d={currencyPair:c.id,rate:this.priceToPrecision(e,a),amount:r},h=this.milliseconds(),u=await this[o](this.extend(d,n)),l=this.parseOrder(this.extend({timestamp:h,status:"open",type:t,side:i,price:a,amount:r},u),c),f=l.id;return this.orders[f]=l,this.extend({info:u},l)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets(),a=parseFloat(a);const o={orderNumber:e,rate:this.priceToPrecision(t,a)};void 0!==s&&(o.amount=this.amountToPrecision(t,s));const c=await this.privatePostMoveOrder(this.extend(o,n));let d=void 0;if(e in this.orders){this.orders[e].status="canceled";const t=c.orderNumber;this.orders[t]=this.extend(this.orders[e],{id:t,price:a,status:"open"}),void 0!==s&&(this.orders[t].amount=s),d=this.extend(this.orders[t],{info:c})}else{let e=void 0;void 0!==t&&(e=this.market(t)),d=this.parseOrder(c,e),this.orders[d.id]=d}return d}async cancelOrder(e,t,i={}){await this.loadMarkets();let r=void 0;try{r=await this.privatePostCancelOrder(this.extend({orderNumber:e},i))}catch(s){throw s instanceof m&&e in this.orders&&(this.orders[e].status="canceled"),s}return e in this.orders&&(this.orders[e].status="canceled"),r}async cancelAllOrders(e,t={}){const i={};let r=void 0;void 0!==e&&(r=this.market(e),i.currencyPair=r.id);const s=await this.privatePostCancelAllOrders(this.extend(i,t)),a=this.safeValue(s,"orderNumbers",[]);for(let n=0;n<a.length;n++){const e=a[n].toString();e in this.orders&&(this.orders[e].status="canceled")}return s}async fetchOpenOrder(e,t,i={}){await this.loadMarkets(),e=e.toString();const r=await this.privatePostReturnOrderStatus(this.extend({orderNumber:e},i)),s=this.safeValue(r.result,e);if(void 0===s)throw new u(this.id+" order id "+e+" not found");const a=this.parseOrder(s);return a.id=e,this.orders[e]=a,a}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r=await this.fetchOpenOrders(t,void 0,void 0,i);return e in this.indexBy(r,"id")?"open":"closed"}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={orderNumber:e},n=await this.privatePostReturnOrderTrades(this.extend(a,s));return this.parseTrades(n)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privatePostGenerateNewAddress(this.extend(r,t));let a=void 0,n=void 0;1===s.success&&(a=this.safeString(s,"response")),this.checkAddress(a);const o=this.safeString(i.info,"depositAddress");return void 0!==o&&(n=a,a=o),{currency:e,address:a,tag:n,info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=await this.privatePostReturnDepositAddresses(t),s=i.id;let a=this.safeString(r,s),n=void 0;this.checkAddress(a);const o=this.safeString(i.info,"depositAddress");return void 0!==o&&(n=a,a=o),{currency:e,address:a,tag:n,info:r}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i};r&&(a.paymentId=r);const n=await this.privatePostWithdraw(this.extend(a,s));return{info:n,id:this.safeString(n,"withdrawalNumber")}}async fetchTransactionsHelper(e,t,i,r={}){await this.loadMarkets();const s=this.seconds(),a={start:void 0!==t?parseInt(t/1e3):s-31104e4,end:s};return void 0!==i&&(a.limit=i),await this.privatePostReturnDepositsWithdrawals(this.extend(a,r))}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=await this.fetchTransactionsHelper(e,t,i,r);for(let d=0;d<s.deposits.length;d++)s.deposits[d].type="deposit";for(let d=0;d<s.withdrawals.length;d++)s.withdrawals[d].type="withdrawal";let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.parseTransactions(s.withdrawals,a,t,i),o=this.parseTransactions(s.deposits,a,t,i),c=this.arrayConcat(o,n);return this.filterByCurrencySinceLimit(this.sortBy(c,"timestamp"),e,t,i)}async fetchWithdrawals(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);for(let o=0;o<s.withdrawals.length;o++)s.withdrawals[o].type="withdrawal";let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.parseTransactions(s.withdrawals,a,t,i);return this.filterByCurrencySinceLimit(n,e,t,i)}async fetchDeposits(e,t,i,r={}){const s=await this.fetchTransactionsHelper(e,t,i,r);for(let o=0;o<s.deposits.length;o++)s.deposits[o].type="deposit";let a=void 0;void 0!==e&&(a=this.currency(e));const n=this.parseTransactions(s.deposits,a,t,i);return this.filterByCurrencySinceLimit(n,e,t,i)}parseTransactionStatus(e){return this.safeString({COMPLETE:"ok"},e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"timestamp"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r);let a=this.safeString(e,"status","pending"),n=this.safeString(e,"txid");if(void 0!==a){const e=a.split(": "),t=e.length;a=e[0],t>1&&void 0===n&&(n=e[1]),a=this.parseTransactionStatus(a)}const o=this.safeString(e,"type"),c=this.safeString2(e,"withdrawalNumber","depositNumber");let d=this.safeFloat(e,"amount");const h=this.safeString(e,"address");let u=this.safeFloat(e,"fee");return void 0===u&&(u=0),"withdrawal"===o&&(d-=u),{info:e,id:c,currency:s,amount:d,address:h,tag:void 0,status:a,type:o,updated:void 0,txid:n,timestamp:i,datetime:this.iso8601(i),fee:{currency:s,cost:u}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];const o=this.extend({command:e},r);return"public"===t?n+="?"+this.urlencode(o):(this.checkRequiredCredentials(),o.nonce=this.nonce(),a=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"error"in o){const e=o.error,t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(t)}}}},"Y/HJ":function(e,t,i){"use strict";var r=t,s=i("tk5I");function a(e,t){var i=[];return t>0&&i.push(e>>>24),t>1&&i.push(e>>>16&255),t>2&&i.push(e>>>8&255),t>3&&i.push(255&e),i}r.assert=function(e,t){if(!e)throw new Error(t)},r.getNAF=function(e,t){for(var i=[],r=1<<t+1,s=e.clone();s.cmpn(1)>=0;){var a;if(s.isOdd()){var n=s.andln(r-1);a=n>(r>>1)-1?(r>>1)-n:n,s.isubn(a)}else a=0;i.push(a);for(var o=0!==s.cmpn(0)&&0===s.andln(r-1)?t+1:1,c=1;c<o;c++)i.push(0);s.iushrn(o)}return i},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r=0,s=0;e.cmpn(-r)>0||t.cmpn(-s)>0;){var a,n,o,c=e.andln(3)+r&3,d=t.andln(3)+s&3;if(3===c&&(c=-1),3===d&&(d=-1),0===(1&c))a=0;else a=3!==(o=e.andln(7)+r&7)&&5!==o||2!==d?c:-c;if(i[0].push(a),0===(1&d))n=0;else n=3!==(o=t.andln(7)+s&7)&&5!==o||2!==c?d:-d;i[1].push(n),2*r===a+1&&(r=1-r),2*s===n+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new s(e,"hex","le")},r.wordArrayToBuffer=function(e){let t=void 0;if(!e.hasOwnProperty("sigBytes")||!e.hasOwnProperty("words"))throw Error("Argument not a wordArray");t=e.sigBytes,e=e.words;const i=[];let r=[],s=0;for(;t>0;)r=a(e[s],Math.min(4,t)),t-=r.length,i.push(r),s++;return[].concat.apply([],i)}},Y3cV:function(e){e.exports=JSON.parse('{"name":"web3","version":"1.2.6","description":"Ethereum JavaScript API","repository":"https://github.com/ethereum/web3.js","license":"LGPL-3.0","engines":{"node":">=8.0.0"},"main":"src/index.js","bugs":{"url":"https://github.com/ethereum/web3.js/issues"},"keywords":["Ethereum","JavaScript","API"],"author":"ethereum.org","types":"types/index.d.ts","scripts":{"dtslint":"dtslint types --onlyTestTsNext","postinstall":"node angular-patch.js"},"authors":[{"name":"Fabian Vogelsteller","email":"fabian@ethereum.org","homepage":"http://frozeman.de"},{"name":"Marek Kotewicz","email":"marek@parity.io","url":"https://github.com/debris"},{"name":"Marian Oancea","url":"https://github.com/cubedro"},{"name":"Gav Wood","email":"g@parity.io","homepage":"http://gavwood.com"},{"name":"Jeffery Wilcke","email":"jeffrey.wilcke@ethereum.org","url":"https://github.com/obscuren"}],"dependencies":{"@types/node":"^12.6.1","web3-bzz":"1.2.6","web3-core":"1.2.6","web3-eth":"1.2.6","web3-eth-personal":"1.2.6","web3-net":"1.2.6","web3-shh":"1.2.6","web3-utils":"1.2.6"},"devDependencies":{"definitelytyped-header-parser":"^1.0.1","dtslint":"0.4.2"},"gitHead":"c20bcf09b04f773406ce3532e88fd105bb04e244"}')},Y8lO:function(e,t,i){var r=i("gkn6"),s=i("HUZ1"),a=s;a.v1=r,a.v4=s,e.exports=a},Y9G6:function(e,t,i){var r=i("wfEq"),s=i("2ozp"),a=i("KSsY"),n=i("pRMk").Buffer,o=new Array(160);function c(){this.init(),this._w=o,a.call(this,128,112)}r(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=n.allocUnsafe(48);function t(t,i,r){e.writeInt32BE(t,r),e.writeInt32BE(i,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},YB7M:function(e,t,i){"use strict";const r=i("pRMk").Buffer,s=i("ZG6w").Transform,a=i("wfEq");e.exports=function(e){function t(t,i,r,a){s.call(this,a),this._rate=t,this._capacity=i,this._delimitedSuffix=r,this._options=a,this._state=new e,this._state.initialize(t,i),this._finalized=!1}return a(t,s),t.prototype._transform=function(e,t,i){let r=null;try{this.update(e,t)}catch(s){r=s}i(r)},t.prototype._flush=function(){},t.prototype._read=function(e){this.push(this.squeeze(e))},t.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return r.isBuffer(e)||(e=r.from(e,t)),this._state.absorb(e),this},t.prototype.squeeze=function(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(e);return void 0!==t&&(i=i.toString(t)),i},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},YBGL:function(e,t,i){"use strict";const r=i("OjXq"),{BadRequest:s,ExchangeError:a,ArgumentsRequired:n,AuthenticationError:o,InsufficientFunds:c,OrderNotFound:d,ExchangeNotAvailable:h,DDoSProtection:u,InvalidOrder:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"zb",name:"ZB",countries:["CN"],rateLimit:1e3,version:"v1",has:{CORS:!1,createMarketOrder:!1,fetchDepositAddress:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,fetchTickers:!0,withdraw:!0},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},exceptions:{1001:a,1002:a,1003:o,1004:o,1005:o,1006:o,1009:h,2001:c,2002:c,2003:c,2005:c,2006:c,2007:c,2009:c,3001:d,3002:l,3003:l,3004:o,3005:s,3006:o,3007:o,3008:d,4001:h,4002:u},urls:{logo:"https://user-images.githubusercontent.com/1294454/32859187-cd5214f0-ca5e-11e7-967d-96568e2e2bd1.jpg",api:{public:"http://api.zb.cn/data",private:"https://trade.zb.cn/api"},www:"https://www.zb.com",doc:"https://www.zb.com/i/developer",fees:"https://www.zb.com/i/rate"},api:{public:{get:["markets","ticker","allTicker","depth","trades","kline"]},private:{get:["order","cancelOrder","getOrder","getOrders","getOrdersNew","getOrdersIgnoreTradeType","getUnfinishedOrdersIgnoreTradeType","getAccountInfo","getUserAddress","getWithdrawAddress","getWithdrawRecord","getChargeRecord","getCnyWithdrawRecord","getCnyChargeRecord","withdraw","getLeverAssetsInfo","getLeverBills","transferInLever","transferOutLever","loan","cancelLoan","getLoans","getLoanRecords","borrow","repay","getRepayments"]}},fees:{funding:{withdraw:{BTC:1e-4,BCH:6e-4,LTC:.005,ETH:.01,ETC:.01,BTS:3,EOS:1,QTUM:.01,HSR:.001,XRP:.1,USDT:"0.1%",QCASH:5,DASH:.002,BCD:0,UBTC:0,SBTC:0,INK:20,TV:.1,BTH:0,BCX:0,LBTC:0,CHAT:20,bitCNY:20,HLC:20,BTP:0,BCW:0}},trading:{maker:.002,taker:.002}},commonCurrencies:{ENT:"ENTCash"}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=Object.keys(t),r=[];for(let s=0;s<i.length;s++){const e=i[s],a=t[e],[n,o]=e.split("_"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(a,"amountScale"),price:this.safeInteger(a,"priceScale")};r.push({id:e,symbol:h,baseId:n,quoteId:o,base:c,quote:d,active:!0,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:void 0},price:{min:Math.pow(10,-u.price),max:void 0},cost:{min:0,max:void 0}},info:a})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetAccountInfo(e),i=this.safeValue(t.result,"coins"),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.account(),a=this.safeString(e,"key"),n=this.safeCurrencyCode(a);t.free=this.safeFloat(e,"available"),t.used=this.safeFloat(e,"freez"),r[n]=t}return this.parseBalance(r)}getMarketFieldName(){return"market"}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetGetUserAddress(this.extend(i,t));let s=r.message.datas.key,a=void 0;if(s.indexOf("_")>=0){const e=s.split("_");s=e[0],a=e[1]}return{currency:e,address:s,tag:a,info:r}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};s[this.getMarketFieldName()]=r.id,void 0!==t&&(s.size=t);const a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetAllTicker(t),r={},s={},a=Object.keys(this.marketsById);for(let o=0;o<a.length;o++){s[a[o].replace("_","")]=this.marketsById[a[o]]}const n=Object.keys(i);for(let o=0;o<n.length;o++){const e=s[n[o]];r[e.symbol]=this.parseTicker(i[n[o]],e)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};r[this.getMarketFieldName()]=i.id;const s=(await this.publicGetTicker(this.extend(r,t))).ticker;return this.parseTicker(s,i)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=1e3);const n={market:a.id,type:this.timeframes[t],limit:r};void 0!==i&&(n.since=i);const o=await this.publicGetKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=this.safeString(e,"trade_type");r="bid"===r?"buy":"sell";const s=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);let c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:s,timestamp:i,datetime:this.iso8601(i),symbol:c,type:void 0,side:r,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={};a[this.getMarketFieldName()]=s.id;const n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){if("limit"!==t)throw new l(this.id+" allows limit orders only");await this.loadMarkets();const n={price:this.priceToPrecision(e,s),amount:this.amountToPrecision(e,r),tradeType:"buy"===i?"1":"0",currency:this.marketId(e)},o=await this.privateGetOrder(this.extend(n,a));return{info:o,id:o.id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)};return await this.privateGetCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder() requires a symbol argument");await this.loadMarkets();const r={id:e.toString(),currency:this.marketId(t)},s=await this.privateGetGetOrder(this.extend(r,i));return this.parseOrder(s,void 0)}async fetchOrders(e,t,i=50,r={}){if(void 0===e)throw new a(this.id+"fetchOrders requires a symbol parameter");await this.loadMarkets();const s=this.market(e),n={currency:s.id,pageIndex:1,pageSize:i};let o="privateGetGetOrdersIgnoreTradeType";"tradeType"in r&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(n,r))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,s,t,i)}async fetchOpenOrders(e,t,i=10,r={}){if(void 0===e)throw new a(this.id+"fetchOpenOrders requires a symbol parameter");await this.loadMarkets();const s=this.market(e),n={currency:s.id,pageIndex:1,pageSize:i};let o="privateGetGetUnfinishedOrdersIgnoreTradeType";"tradeType"in r&&(o="privateGetGetOrdersNew");let c=void 0;try{c=await this[o](this.extend(n,r))}catch(h){if(h instanceof d)return[];throw h}return this.parseOrders(c,s,t,i)}parseOrder(e,t){let i=this.safeInteger(e,"type");i=1===i?"buy":"sell";let r=void 0;const s=this.getCreateDateField();s in e&&(r=e[s]);let a=void 0;const n=this.safeString(e,"currency");n in this.markets_by_id&&(t=this.marketsById[n]),void 0!==t&&(a=t.symbol);const o=this.safeFloat(e,"price"),c=this.safeFloat(e,"trade_amount"),d=this.safeFloat(e,"total_amount");let h=void 0;void 0!==d&&void 0!==c&&(h=d-c);const u=this.safeFloat(e,"trade_money");let l=void 0;const f=this.parseOrderStatus(this.safeString(e,"status"));return void 0!==u&&void 0!==c&&c>0&&(l=u/c),{info:e,id:this.safeString(e,"id"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:a,type:"limit",side:i,price:o,average:l,cost:u,amount:d,filled:c,remaining:h,status:f,fee:void 0}}parseOrderStatus(e){return this.safeString({0:"open",1:"canceled",2:"closed",3:"open"},e,e)}getCreateDateField(){return"trade_date"}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];if("public"===t)n+="/"+this.version+"/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else{let t=this.keysort(this.extend({method:e,accesskey:this.apiKey},r));const i=this.nonce();t=this.keysort(t);const s=this.rawencode(t),a=this.hash(this.encode(this.secret),"sha1");n+="/"+e+"?"+s+"&"+("sign="+this.hmac(this.encode(s),this.encode(a),"md5")+"&reqTime="+i.toString())}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o&&"{"===n[0]){const e=this.id+" "+n;if("code"in o){const t=this.safeString(o,"code");if(this.throwExactlyMatchedException(this.exceptions,t,e),"1000"!==t)throw new a(e)}const t=this.safeValue(o,"result");if(void 0!==t&&!t){throw"\u670d\u52a1\u7aef\u5fd9\u788c"===this.safeString(o,"message")?new h(e):new a(e)}}}}},YEj7:function(e,t,i){"use strict";const r=i("OjXq"),{TICK_SIZE:s}=i("rwG2"),{AuthenticationError:a,BadRequest:n,DDoSProtection:o,ExchangeError:c,ExchangeNotAvailable:d,InsufficientFunds:h,InvalidOrder:u,OrderNotFound:l,PermissionDenied:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmex",name:"BitMEX",countries:["SC"],version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!1,fetchOHLCV:!0,withdraw:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchLedger:!0,fetchTransactions:"emulated"},timeframes:{"1m":"1m","5m":"5m","1h":"1h","1d":"1d"},urls:{test:{public:"https://testnet.bitmex.com",private:"https://testnet.bitmex.com"},logo:"https://user-images.githubusercontent.com/1294454/27766319-f653c6e6-5ed4-11e7-933d-f0bc3699ae8f.jpg",api:{public:"https://www.bitmex.com",private:"https://www.bitmex.com"},www:"https://www.bitmex.com",doc:["https://www.bitmex.com/app/apiOverview","https://github.com/BitMEX/api-connectors/tree/master/official-http"],fees:"https://www.bitmex.com/app/fees",referral:"https://www.bitmex.com/register/rm3C16"},api:{public:{get:["announcement","announcement/urgent","funding","instrument","instrument/active","instrument/activeAndIndices","instrument/activeIntervals","instrument/compositeIndex","instrument/indices","insurance","leaderboard","liquidation","orderBook","orderBook/L2","quote","quote/bucketed","schema","schema/websocketHelp","settlement","stats","stats/history","trade","trade/bucketed"]},private:{get:["apiKey","chat","chat/channels","chat/connected","execution","execution/tradeHistory","notification","order","position","user","user/affiliateStatus","user/checkReferralCode","user/commission","user/depositAddress","user/margin","user/minWithdrawalFee","user/wallet","user/walletHistory","user/walletSummary"],post:["apiKey","apiKey/disable","apiKey/enable","chat","order","order/bulk","order/cancelAllAfter","order/closePosition","position/isolate","position/leverage","position/riskLimit","position/transferMargin","user/cancelWithdrawal","user/confirmEmail","user/confirmEnableTFA","user/confirmWithdrawal","user/disableTFA","user/logout","user/logoutAll","user/preferences","user/requestEnableTFA","user/requestWithdrawal"],put:["order","order/bulk","user"],delete:["apiKey","order","order/all"]}},exceptions:{exact:{"Invalid API Key.":a,"This key is disabled.":f,"Access Denied":f,"Duplicate clOrdID":u,"orderQty is invalid":u,"Invalid price":u,"Invalid stopPx for ordType":u},broad:{"Signature not valid":a,overloaded:d,"Account has insufficient Available Balance":h,"Service unavailable":d}},precisionMode:s,options:{"api-expires":5,fetchOHLCVOpenTimestamp:!0}})}async fetchMarkets(e={}){const t=await this.publicGetInstrumentActiveAndIndices(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s="Unlisted"!==e.state,a=e.symbol,n=e.underlying,o=e.quoteCurrency,c=n+o,d=this.safeCurrencyCode(n),h=this.safeCurrencyCode(o),u=a===c,l=this.safeString2(e,"positionCurrency","quoteCurrency");let f=void 0,p=!1,m=!1;const y=this.safeCurrencyCode(l);let b=a;u?(f="swap",b=d+"/"+h):a.indexOf("B_")>=0?(m=!0,f="prediction"):(p=!0,f="future");const v={amount:void 0,price:void 0},g=this.safeFloat(e,"lotSize"),w=this.safeFloat(e,"tickSize");void 0!==g&&(v.amount=g),void 0!==w&&(v.price=w);const k={amount:{min:void 0,max:void 0},price:{min:w,max:this.safeFloat(e,"maxPrice")},cost:{min:void 0,max:void 0}};k[y===h?"cost":"amount"]={min:g,max:this.safeFloat(e,"maxOrderQty")},i.push({id:a,symbol:b,base:d,quote:h,baseId:n,quoteId:o,active:s,precision:v,limits:k,taker:this.safeFloat(e,"takerFee"),maker:this.safeFloat(e,"makerFee"),type:f,spot:!1,swap:u,future:p,prediction:m,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserMargin(this.extend({currency:"all"},e)),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"availableMargin"),n.total=this.safeFloat(e,"marginBalance"),"BTC"===a&&(n.free=1e-8*n.free,n.total=1e-8*n.total),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.depth=t);const s=await this.publicGetOrderBookL2(this.extend(r,i)),a={bids:[],asks:[],timestamp:void 0,datetime:void 0,nonce:void 0};for(let n=0;n<s.length;n++){const e=s[n],t="Sell"===e.side?"asks":"bids",i=this.safeFloat(e,"size"),r=this.safeFloat(e,"price");void 0!==r&&a[t].push([r,i])}return a.bids=this.sortBy(a.bids,0,!0),a.asks=this.sortBy(a.asks,0),a}async fetchOrder(e,t,i={}){const r={filter:{orderID:e}},s=await this.fetchOrders(t,void 0,void 0,this.deepExtend(r,i));if(1===s.length)return s[0];throw new l(this.id+": The order "+e+" not found.")}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.startTime=this.iso8601(t)),void 0!==i&&(a.count=i),a=this.deepExtend(a,r),"filter"in a&&(a.filter=this.json(a.filter));const n=await this.privateGetOrder(a);return this.parseOrders(n,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.deepExtend({filter:{open:!0}},r))}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0,a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.startTime=this.iso8601(t)),void 0!==i&&(a.count=i),a=this.deepExtend(a,r),"filter"in a&&(a.filter=this.json(a.filter));const n=await this.privateGetExecutionTradeHistory(a);return this.parseTrades(n,s,t,i)}parseLedgerEntryType(e){return this.safeString({Withdrawal:"transaction",RealisedPNL:"margin",UnrealisedPNL:"margin",Deposit:"transaction",Transfer:"transfer",AffiliatePayout:"referral"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"transactID"),r=this.safeString(e,"account"),s=this.safeString(e,"tx"),a=this.parseLedgerEntryType(this.safeString(e,"transactType")),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n,t);let c=this.safeFloat(e,"amount");void 0!==c&&(c*=1e-8);let d=this.parse8601(this.safeString(e,"transactTime"));void 0===d&&(d=0);let h=this.safeFloat(e,"fee",0);void 0!==h&&(h*=1e-8);const u={cost:h,currency:o};let l=this.safeFloat(e,"walletBalance");void 0!==l&&(l*=1e-8);const f=this.sum(l,-c);let p=void 0;c<0?(p="out",c=Math.abs(c)):p="in";const m=this.parseTransactionStatus(this.safeString(e,"transactStatus"));return{id:i,info:e,timestamp:d,datetime:this.iso8601(d),direction:p,account:r,referenceId:s,referenceAccount:void 0,type:a,currency:o,amount:c,before:f,after:l,status:m,fee:u}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.currency(e));const a={};void 0!==i&&(a.count=i);const n=await this.privateGetUserWalletHistory(this.extend(a,r));return this.parseLedger(n,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.count=i);const a=await this.privateGetUserWalletHistory(this.extend(s,r)),n=this.filterByArray(a,"transactType",["Withdrawal","Deposit"],!1);let o=void 0;return void 0!==e&&(o=this.currency(e)),this.parseTransactions(n,o,t,i)}parseTransactionStatus(e){return this.safeString({Canceled:"canceled",Completed:"ok",Pending:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"transactID"),r=this.parse8601(this.safeString(e,"transactTime")),s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeStringLower(e,"transactType");let n=void 0,o=void 0,c=void 0;"withdrawal"===a&&(n=this.safeString(e,"address"),o=this.safeString(e,"tx"),c=n);let d=this.safeInteger(e,"amount");void 0!==d&&(d=1e-8*Math.abs(d));let h=this.safeInteger(e,"fee");void 0!==h&&(h*=1e-8);const u={cost:h,currency:"BTC"};let l=this.safeString(e,"transactStatus");return void 0!==l&&(l=this.parseTransactionStatus(l)),{info:e,id:i,txid:void 0,timestamp:r,datetime:this.iso8601(r),addressFrom:o,address:n,addressTo:c,tagFrom:void 0,tag:void 0,tagTo:void 0,type:a,amount:d,currency:"BTC",status:l,updated:s,comment:void 0,fee:u}}async fetchTicker(e,t={}){if(await this.loadMarkets(),!this.market(e).active)throw new c(this.id+": symbol "+e+" is delisted");const i=await this.fetchTickers([e],t),r=this.safeValue(i,e);if(void 0===r)throw new c(this.id+" ticker symbol "+e+" not found");return r}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetInstrumentActiveAndIndices(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]),t=this.safeString(e,"symbol");void 0!==t&&(r[t]=e)}return r}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"symbol");void 0!==(t=this.safeValue(this.markets_by_id,r,t))&&(i=t.symbol);const s=this.parse8601(this.safeString(e,"timestamp")),a=this.safeFloat(e,"prevPrice24h"),n=this.safeFloat(e,"lastPrice");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&(o=n-a,a>0&&(c=o/a*100)),{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:this.safeFloat(e,"bidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"askPrice"),askVolume:void 0,vwap:this.safeFloat(e,"vwap"),open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:this.sum(a,n)/2,baseVolume:this.safeFloat(e,"homeNotional24h"),quoteVolume:this.safeFloat(e,"foreignNotional24h"),info:e}}parseOHLCV(e,t,i="1m",r,s){return[this.parse8601(this.safeString(e,"timestamp")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,binSize:this.timeframes[t],partial:!0};void 0!==r&&(n.count=r);const o=1e3*this.parseTimeframe(t),c=this.safeValue(this.options,"fetchOHLCVOpenTimestamp",!0);if(void 0!==i){let e=i;c&&(e=this.sum(e,o));const t=this.ymdhms(e);n.startTime=t}const d=await this.publicGetTradeBucketed(this.extend(n,s)),h=this.parseOHLCVs(d,a,t,i,r);if(c)for(let u=0;u<h.length;u++)h[u][0]=h[u][0]-o;return h}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeFloat(e,"price"),s=this.safeFloat2(e,"size","lastQty"),a=this.safeString(e,"trdMatchID"),n=this.safeString(e,"orderID"),o=this.safeStringLower(e,"side");let c=this.safeFloat(e,"execCost");void 0!==c&&(c=Math.abs(c)/1e8);let d=void 0;if("execComm"in e){let t=this.safeFloat(e,"execComm");t/=1e8;const i=this.safeString(e,"settlCurrency");d={cost:t,currency:this.safeCurrencyCode(i),rate:this.safeFloat(e,"commission")}}let h=void 0;void 0!==d&&(h=d.cost<0?"maker":"taker");let u=void 0;const l=this.safeString(e,"symbol");void 0!==l&&(u=l in this.markets_by_id?this.markets_by_id[l].symbol:l);const f=this.safeStringLower(e,"ordType");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:u,id:a,order:n,type:f,takerOrMaker:h,side:o,price:r,cost:c,amount:s,fee:d}}parseOrderStatus(e){return this.safeString({New:"open",PartiallyFilled:"open",Filled:"closed",DoneForDay:"open",Canceled:"canceled",PendingCancel:"open",PendingNew:"open",Rejected:"rejected",Expired:"expired",Stopped:"open",Untriggered:"open",Triggered:"open"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"ordStatus"));let r=void 0;if(void 0!==t)r=t.symbol;else{const i=this.safeString(e,"symbol");i in this.markets_by_id&&(r=(t=this.markets_by_id[i]).symbol)}const s=this.parse8601(this.safeString(e,"timestamp")),a=this.parse8601(this.safeString(e,"transactTime")),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"orderQty"),c=this.safeFloat(e,"cumQty",0);let d=void 0;void 0!==o&&void 0!==c&&(d=Math.max(o-c,0));const h=this.safeFloat(e,"avgPx");let u=void 0;void 0!==c&&(void 0!==h?u=h*c:void 0!==n&&(u=n*c));const l=this.safeString(e,"orderID"),f=this.safeStringLower(e,"ordType"),p=this.safeStringLower(e,"side");return{info:e,id:l,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:a,symbol:r,type:f,side:p,price:n,amount:o,cost:u,average:h,filled:c,remaining:d,status:i,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.startTime=this.iso8601(t)),void 0!==i&&(a.count=i);const n=await this.publicGetTrade(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={symbol:this.marketId(e),side:this.capitalize(i),orderQty:r,ordType:this.capitalize(t)};void 0!==s&&(n.price=s);const o=await this.privatePostOrder(this.extend(n,a)),c=this.parseOrder(o),d=this.safeString(c,"id");return this.orders[d]=c,this.extend({info:o},c)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={orderID:e};void 0!==s&&(o.orderQty=s),void 0!==a&&(o.price=a);const c=await this.privatePutOrder(this.extend(o,n)),d=this.parseOrder(c);return this.orders[d.id]=d,this.extend({info:c},d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=await this.privateDeleteOrder(this.extend({orderID:e},i));let s=r[0];const a=this.safeString(s,"error");if(void 0!==a&&a.indexOf("Unable to cancel order due to existing state")>=0)throw new l(this.id+" cancelOrder() failed: "+a);return s=this.parseOrder(s),this.orders[s.id]=s,this.extend({info:r},s)}isFiat(e){return"EUR"===e||"PLN"===e}async withdraw(e,t,i,r,s={}){if(this.checkAddress(i),await this.loadMarkets(),"BTC"!==e)throw new c(this.id+" supoprts BTC withdrawals only, other currencies coming soon...");const a={currency:"XBt",amount:t,address:i},n=await this.privatePostUserRequestWithdrawal(this.extend(a,s));return{info:n,id:n.transactID}}handleErrors(e,t,i,r,s,a,d,h,u){if(void 0!==d){if(429===e)throw new o(this.id+" "+a);if(e>=400){const t=this.safeValue(d,"error",{}),i=this.safeString(t,"message"),r=this.id+" "+a;if(this.throwExactlyMatchedException(this.exceptions.exact,i,r),this.throwBroadlyMatchedException(this.exceptions.broad,i,r),400===e)throw new n(r);throw new c(r)}}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+e;if("GET"===i)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{const e=this.safeString(r,"_format");void 0!==e&&(n+="?"+this.urlencode({_format:e}),r=this.omit(r,"_format"))}const o=this.urls.api[t]+n;if(this.apiKey&&this.secret){let e=i+n,t=this.safeInteger(this.options,"api-expires");s={"Content-Type":"application/json","api-key":this.apiKey},t=this.sum(this.seconds(),t),t=t.toString(),e+=t,s["api-expires"]=t,"POST"!==i&&"PUT"!==i&&"DELETE"!==i||Object.keys(r).length&&(e+=a=this.json(r)),s["api-signature"]=this.hmac(this.encode(e),this.encode(this.secret))}return{url:o,method:i,body:a,headers:s}}}},YVp3:function(e){e.exports=JSON.parse('{"name":"muirGlacier","comment":"HF to delay the difficulty bomb","eip":{"url":"https://eips.ethereum.org/EIPS/eip-2384","status":"Last Call"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},YZb9:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ExchangeNotAvailable:a,ArgumentsRequired:n,BadRequest:o,AccountSuspended:c,InvalidAddress:d,PermissionDenied:h,DDoSProtection:u,InsufficientFunds:l,InvalidNonce:f,CancelPending:p,InvalidOrder:m,OrderNotFound:y,AuthenticationError:b,RequestTimeout:v,NotSupported:g,BadSymbol:w}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex3",name:"OKEX",countries:["CN","US"],version:"v3",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!1,fetchDeposits:!0,fetchWithdrawals:!0,fetchTime:!0,fetchTransactions:!1,fetchMyTrades:!1,fetchDepositAddress:!0,fetchOrderTrades:!0,fetchTickers:!0,fetchLedger:!0,withdraw:!0,futures:!0},timeframes:{"1m":"60","3m":"180","5m":"300","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:"https://www.okex.com",www:"https://www.okex.com",doc:"https://www.okex.com/docs/en/",fees:"https://www.okex.com/pages/products/fees.html"},api:{general:{get:["time"]},account:{get:["currencies","wallet","wallet/{currency}","withdrawal/fee","withdrawal/history","withdrawal/history/{currency}","ledger","deposit/address","deposit/history","deposit/history/{currency}"],post:["transfer","withdrawal"]},spot:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","orders_pending","orders/{order_id}","orders/{client_oid}","fills","algo","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles"],post:["order_algo","orders","batch_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_algos","cancel_batch_orders"]},margin:{get:["accounts","accounts/{instrument_id}","accounts/{instrument_id}/ledger","accounts/availability","accounts/{instrument_id}/availability","accounts/borrowed","accounts/{instrument_id}/borrowed","orders","orders/{order_id}","orders/{client_oid}","orders_pending","fills"],post:["accounts/borrow","accounts/repayment","orders","batch_orders","cancel_orders","cancel_orders/{order_id}","cancel_orders/{client_oid}","cancel_batch_orders"]},futures:{get:["position","{instrument_id}/position","accounts","accounts/{currency}","accounts/{currency}/leverage","accounts/{currency}/ledger","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","instruments","instruments/{instrument_id}/book","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","accounts/{instrument_id}/holds","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/estimated_price","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/mark_price"],post:["accounts/{currency}/leverage","accounts/margin_mode","order","orders","order_algo","cancel_algos","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}","close_position","cancel_all"]},swap:{get:["position","{instrument_id}/position","accounts","{instrument_id}/accounts","accounts/{instrument_id}/settings","accounts/{instrument_id}/ledger","accounts/{instrument_id}/holds","order_algo/{instrument_id}","orders/{instrument_id}","orders/{instrument_id}/{order_id}","orders/{instrument_id}/{client_oid}","fills","instruments","instruments/{instrument_id}/depth","instruments/ticker","instruments/{instrument_id}/ticker","instruments/{instrument_id}/trades","instruments/{instrument_id}/candles","instruments/{instrument_id}/index","rate","instruments/{instrument_id}/open_interest","instruments/{instrument_id}/price_limit","instruments/{instrument_id}/liquidation","instruments/{instrument_id}/funding_time","instruments/{instrument_id}/mark_price","instruments/{instrument_id}/historical_funding_rate"],post:["accounts/{instrument_id}/leverage","order","order_algo","orders","cancel_algos","cancel_order/{instrument_id}/{order_id}","cancel_order/{instrument_id}/{client_oid}","cancel_batch_orders/{instrument_id}"]},ett:{get:["accounts","accounts/{currency}","accounts/{currency}/ledger","orders","constituents/{ett}","define-price/{ett}"],post:["orders","orders/{order_id}"]}},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},futures:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},requiredCredentials:{apiKey:!0,secret:!0,password:!0},exceptions:{exact:{1:s,"failure to get a peer from the ring-balancer":a,4010:h,30001:b,30002:b,30003:b,30004:b,30005:f,30006:b,30007:o,30008:v,30009:s,30010:b,30011:h,30012:b,30013:b,30014:u,30015:b,30016:s,30017:s,30018:s,30019:a,30020:o,30021:o,30022:h,30023:o,30024:w,30025:o,30026:u,30027:b,30028:h,30029:c,30030:s,30031:o,30032:w,30033:o,30034:s,30035:s,30036:s,30038:b,30037:a,32001:c,32002:h,32003:p,32004:s,32005:m,32006:m,32007:m,32008:m,32009:m,32010:s,32011:s,32012:s,32013:s,32014:s,32015:s,32016:s,32017:s,32018:s,32019:s,32020:s,32021:s,32022:s,32023:s,32024:s,32025:s,32026:s,32029:s,32028:s,32027:s,32044:s,33001:h,33002:c,33003:l,33004:s,33005:s,33006:s,33007:s,33008:s,33009:s,33010:s,33011:s,33012:s,33013:m,33014:y,33015:m,33016:s,33017:l,33018:s,33020:s,33021:o,33022:m,33023:s,33024:m,33025:m,33026:s,33027:m,33028:m,33029:m,33034:s,33059:o,33060:o,34001:h,34002:d,34003:s,34004:s,34005:s,34006:s,34007:s,34008:l,34009:s,34010:s,34011:s,34012:s,34013:s,34014:s,34015:s,34016:h,34017:c,34018:b,34019:h,34020:h,34021:d,34022:s,34023:h,35001:s,35002:s,35003:s,35004:s,35005:b,35008:m,35010:m,35012:m,35014:m,35015:m,35017:s,35019:m,35020:m,35021:m,35022:s,35024:s,35025:l,35026:s,35029:y,35030:m,35031:m,35032:s,35039:s,35040:m,35044:s,35046:l,35047:l,35048:s,35049:m,35050:m,35052:l,35053:s,35055:l,35057:s,35058:s,35059:o,35060:o,35061:o,35062:m,35063:m,35064:m},broad:{}},options:{createMarketBuyOrderRequiresPrice:!0,fetchMarkets:["spot","futures","swap"],defaultType:"spot",auth:{time:"public",currencies:"private",instruments:"public",rate:"public","constituents/{ett}":"public","define-price/{ett}":"public"}},commonCurrencies:{AE:"AET",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",YOYO:"YOYOW",WIN:"WinToken"}})}async fetchTime(e={}){const t=await this.generalGetTime(e);return this.parse8601(this.safeString(t,"iso"))}async fetchMarkets(e={}){const t=this.safeValue(this.options,"fetchMarkets");let i=[];for(let r=0;r<t.length;r++){const s=await this.fetchMarketsByType(t[r],e);i=this.arrayConcat(i,s)}return i}parseMarkets(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseMarket(e[i]));return t}parseMarket(e){const t=this.safeString(e,"instrument_id");let i="spot",r=!0,s=!1,a=!1,n=this.safeString(e,"base_currency");if(void 0!==this.safeFloat(e,"contract_val")){i="swap",r=!1,a=!0,n=this.safeString(e,"coin"),void 0!==this.safeString(e,"alias")&&(a=!1,s=!0,i="futures",n=this.safeString(e,"underlying_index"))}const o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=r?c+"/"+d:t;let u=this.safeString(e,"size_increment");void 0!==u&&(u=this.precisionFromString(u));let l=this.safeString(e,"tick_size");void 0!==l&&(l=this.precisionFromString(l));const f={amount:u,price:l},p=this.safeFloat2(e,"min_size","base_min_size");let m=this.safeFloat(e,"tick_size");void 0!==f.price&&(m=Math.pow(10,-f.price));let y=void 0;void 0!==p&&void 0!==m&&(y=p*m);const b=this.safeValue2(this.fees,i,"trading",{});return this.extend(b,{id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:o,info:e,type:i,spot:r,futures:s,swap:a,active:!0,precision:f,limits:{amount:{min:p,max:void 0},price:{min:m,max:void 0},cost:{min:y,max:void 0}}})}async fetchMarketsByType(e,t={}){const i=e+"GetInstruments",r=await this[i](t);return this.parseMarkets(r)}async fetchCurrencies(e={}){const t=await this.accountGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=8,o=this.safeString(e,"name"),c=this.safeInteger(e,"can_deposit"),d=this.safeInteger(e,"can_withdraw"),h=c&&d;i[a]={id:s,code:a,info:e,type:void 0,name:o,active:h,fee:void 0,precision:n,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(e,"min_withdrawal"),max:void 0}}}}return i}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);let s=r.type+"GetInstrumentsInstrumentId";s+="swap"===r.type?"Depth":"Book";const a={instrument_id:r.id};void 0!==t&&(a.size=t);const n=await this[s](this.extend(a,i)),o=this.parse8601(this.safeString(n,"timestamp"));return this.parseOrderBook(n,o)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp"));let r=void 0;const s=this.safeString(e,"instrument_id");if(s in this.markets_by_id)t=this.markets_by_id[s];else if(void 0!==s){const e=s.split("-");if(2===e.length){const[t,i]=e;r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}else r=s}void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"last"),n=this.safeFloat(e,"open_24h");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high_24h"),low:this.safeFloat(e,"low_24h"),bid:this.safeFloat(e,"best_bid"),bidVolume:void 0,ask:this.safeFloat(e,"best_ask"),askVolume:void 0,vwap:void 0,open:n,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"base_volume_24h"),quoteVolume:this.safeFloat(e,"quote_volume_24h"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=i.type+"GetInstrumentsInstrumentIdTicker",s={instrument_id:i.id},a=await this[r](this.extend(s,t));return this.parseTicker(a)}async fetchTickersByType(e,t,i={}){await this.loadMarkets();const r=e+"GetInstrumentsTicker",s=await this[r](i),a={};for(let n=0;n<s.length;n++){const e=this.parseTicker(s[n]);a[e.symbol]=e}return a}async fetchTickers(e,t={}){const i=this.safeString2(this.options,"fetchTickers","defaultType"),r=this.safeString(t,"type",i);return await this.fetchTickersByType(r,e,this.omit(t,"type"))}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.parse8601(this.safeString2(e,"timestamp","created_at")),s=this.safeFloat(e,"price");let a=this.safeFloat2(e,"size","qty");a=this.safeFloat(e,"order_qty",a);let n=this.safeString2(e,"exec_type","liquidity");"M"===n?n="maker":"T"===n&&(n="taker");const o=this.safeString(e,"side");let c=void 0;void 0!==a&&void 0!==s&&(c=a*s);const d=this.safeFloat(e,"fee");let h=void 0;if(void 0!==d){let e=void 0;void 0!==t&&(e="buy"===o?t.base:t.quote),h={cost:-d,currency:e}}const u=this.safeString(e,"order_id");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,id:this.safeString2(e,"trade_id","ledger_id"),order:u,type:void 0,takerOrMaker:n,side:o,price:s,amount:a,cost:c,fee:h}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=s.type+"GetInstrumentsInstrumentIdTrades";(void 0===i||i>100)&&(i=100);const n={instrument_id:s.id,limit:i},o=await this[a](this.extend(n,r));return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="1m",r,s){if(Array.isArray(e)){const t=e.length>6?6:5;let i=e[0];return"string"===typeof i&&(i=this.parse8601(i)),[i,parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[t])]}return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=a.type+"GetInstrumentsInstrumentIdCandles",o={instrument_id:a.id,granularity:this.timeframes[t]};void 0!==i&&(o.start=this.iso8601(i));const c=await this[n](this.extend(o,s));return this.parseOHLCVs(c,a,t,i,r)}parseAccountBalance(e){const t={info:e};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeFloat(r,"balance"),n.used=this.safeFloat(r,"hold"),n.free=this.safeFloat(r,"available"),t[a]=n}return this.parseBalance(t)}parseMarginBalance(e){const t={info:e};for(let i=0;i<e.length;i++){const r=e[i],s=this.safeString(r,"instrument_id"),a=this.safeValue(this.markets_by_id,s);let n=void 0;if(void 0===a){const[e,t]=s.split("-");n=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}else n=a.symbol;const o=this.omit(r,["instrument_id","liquidation_price","product_id","risk_rate","margin_ratio","maint_margin_ratio","tiers"]),c=Object.keys(o),d={};for(let e=0;e<c.length;e++){const t=c[e],i=r[t];if(!(t.indexOf(":")>=0))throw new g(this.id+" margin balance response format has changed!");{const e=t.split(":")[1],r=this.safeCurrencyCode(e),s=this.account();s.total=this.safeFloat(i,"balance"),s.used=this.safeFloat(i,"hold"),s.free=this.safeFloat(i,"available"),d[r]=s}}t[n]=this.parseBalance(d)}return t}parseFuturesBalance(e){const t={info:e},i=this.safeValue(e,"info",{}),r=Object.keys(i);for(let s=0;s<r.length;s++){const e=r[s],a=this.safeCurrencyCode(e),n=this.safeValue(i,e,{}),o=this.account();o.total=this.safeFloat(n,"equity"),o.free=this.safeFloat(n,"total_avail_balance"),t[a]=o}return this.parseBalance(t)}parseSwapBalance(e){const t={info:e},i=this.safeValue(e,"info",[]);for(let r=0;r<i.length;r++){const e=i[r],s=this.safeString(e,"instrument_id");let a=s;s in this.markets_by_id&&(a=this.markets_by_id[s].symbol);const n=this.account();n.total=this.safeFloat(e,"equity"),n.free=this.safeFloat(e,"total_avail_balance"),t[a]=n}return this.parseBalance(t)}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString2(this.options,"fetchBalance","defaultType"),i=this.safeString(e,"type",t);if(void 0===i)throw new n(this.id+" fetchBalance requires a type parameter (one of 'account', 'spot', 'margin', 'futures', 'swap')");const r=i+"Get"+("account"===i?"Wallet":"Accounts"),s=this.omit(e,"type"),a=await this[r](s);if("account"===i||"spot"===i)return this.parseAccountBalance(a);if("margin"===i)return this.parseMarginBalance(a);if("futures"===i)return this.parseFuturesBalance(a);if("swap"===i)return this.parseSwapBalance(a);throw new g(this.id+" fetchBalance does not support the '"+i+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')")}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o={instrument_id:n.id},c=void 0;if(n.futures||n.swap){const i=n.futures?this.numberToString(r):this.amountToPrecision(e,r);o=this.extend(o,{type:t,size:i,price:this.priceToPrecision(e,s)}),n.futures&&(o.leverage="10"),c=n.type+"PostOrder"}else{const n=this.safeString(a,"margin_trading","1");if(o=this.extend(o,{side:i,type:t,margin_trading:n}),"limit"===t)o.price=this.priceToPrecision(e,s),o.size=this.amountToPrecision(e,r);else if("market"===t)if("buy"===i){let t=this.safeFloat(a,"notional");if(this.safeValue(this.options,"createMarketBuyOrderRequiresPrice",!0))if(void 0!==s)void 0===t&&(t=r*s);else if(void 0===t)throw new m(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount, or, alternatively, add .options['createMarketBuyOrderRequiresPrice'] = false and supply the total cost value in the 'notional' extra parameter (the exchange-specific behaviour)");o.notional=this.costToPrecision(e,t)}else o.size=this.amountToPrecision(e,r);c="2"===n?"marginPostOrders":"spotPostOrders"}const d=await this[c](this.extend(o,a)),h=this.milliseconds();return{info:d,id:this.safeString(d,"order_id"),timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t);let s=r.type+"PostCancelOrder";const a={instrument_id:r.id};r.futures||r.swap?s+="InstrumentId":s+="s";const o=this.safeString(i,"client_oid");void 0!==o?(s+="ClientOid",a.client_oid=o):(s+="OrderId",a.order_id=e);const c=this.omit(i,"type"),d=await this[s](this.extend(a,c)),h="result"in d?d:this.safeValue(d,r.id,{});return this.parseOrder(h,r)}parseOrderStatus(e){return this.safeString({"-2":"failed","-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return this.safeString({1:"buy",2:"sell",3:"sell",4:"buy"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.parse8601(this.safeString(e,"timestamp"));let s=this.safeString(e,"side"),a=this.safeString(e,"type");"buy"!==s&&"sell"!==s&&(s=this.parseOrderSide(a)),"limit"!==a&&"market"!==a&&(a="pnl"in e?"futures":"swap");let n=void 0;const o=this.safeString(e,"instrument_id");n=o in this.markets_by_id?(t=this.markets_by_id[o]).symbol:o,void 0!==t&&void 0===n&&(n=t.symbol);let c=this.safeFloat(e,"size");const d=this.safeFloat2(e,"filled_size","filled_qty");let h=void 0;void 0!==c&&void 0!==d&&(c=Math.max(c,d),h=Math.max(0,c-d)),"market"===a&&(h=0);let u=this.safeFloat2(e,"filled_notional","funds");const l=this.safeFloat(e,"price");let f=this.safeFloat(e,"price_avg");void 0===u?void 0!==d&&void 0!==f&&(u=f*d):void 0===f&&void 0!==d&&d>0&&(f=u/d);const p=this.parseOrderStatus(this.safeString(e,"state")),m=this.safeFloat(e,"fee");let y=void 0;if(void 0!==m){y={cost:m,currency:void 0}}return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:n,type:a,side:s,price:l,average:f,cost:u,amount:c,filled:d,remaining:h,status:p,fee:y}}async fetchOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=this.safeString2(this.options,"fetchOrder","defaultType",r.type),a=this.safeString(i,"type",s);if(void 0===a)throw new n(this.id+" fetchOrder requires a type parameter (one of 'spot', 'margin', 'futures', 'swap').");let o=a+"GetOrders"+(r.futures||r.swap?"InstrumentId":"");const c={instrument_id:r.id},d=this.safeString(i,"client_oid");void 0!==d?(o+="ClientOid",c.client_oid=d):(o+="OrderId",c.order_id=e);const h=this.omit(i,"type"),u=await this[o](this.extend(c,h));return this.parseOrder(u)}async fetchOrdersByState(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchOrdersByState requires a symbol argument");await this.loadMarkets();const a=this.market(t),o=a.type,c={instrument_id:a.id,state:e};let d=o+"GetOrders";(a.futures||a.swap)&&(d+="InstrumentId");const h=this.omit(s,"type"),u=await this[d](this.extend(c,h));let l=void 0;if("swap"===a.type||"futures"===a.type)l=this.safeValue(u,"order_info",[]);else{l=u;const e=u.length;if(e<1)return[];if(e>1){void 0!==this.safeValue(u[1],"before")&&(l=u[0])}}return this.parseOrders(l,a,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("6",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("7",e,t,i,r)}parseDepositAddresses(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.parseDepositAddress(e[i]));return t}parseDepositAddress(e,t){const i=this.safeString(e,"address");let r=this.safeString2(e,"tag","payment_id");r=this.safeString(e,"memo",r);const s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s);return this.checkAddress(i),{currency:a,address:i,tag:r,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.accountGetDepositAddress(this.extend(i,t)),s=this.parseDepositAddresses(r);if(s.length<1)throw new d(this.id+" fetchDepositAddress cannot return nonexistent addresses, you should create withdrawal addresses with the exchange website first");return s[0]}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e);r&&(i=i+":"+r);const o=this.safeString(a,"fee");if(void 0===o)throw new s(this.id+" withdraw() requires a `fee` string parameter, network transaction fee must be \u2265 0. Withdrawals to OKCoin or OKEx are fee-free, please set '0'. Withdrawing to external digital asset address requires network transaction fee.");const c={currency:n.id,to_address:i,destination:"4",amount:this.numberToString(t),fee:o};"password"in a?c.trade_pwd=a.password:"trade_pwd"in a?c.trade_pwd=a.trade_pwd:this.password&&(c.trade_pwd=this.password);const d=this.omit(a,["fee","password","trade_pwd"]);if(!("trade_pwd"in c))throw new s(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");const h=await this.accountPostWithdrawal(this.extend(c,d));return{info:h,id:this.safeString(h,"withdrawal_id")}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a="accountGetDepositHistory",n=void 0;void 0!==e&&(n=this.currency(e),s.code=n.code,a+="Currency");const o=await this[a](this.extend(s,r));return this.parseTransactions(o,n,t,i,r)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a="accountGetWithdrawalHistory",n=void 0;void 0!==e&&(n=this.currency(e),s.code=n.code,a+="Currency");const o=await this[a](this.extend(s,r));return this.parseTransactions(o,n,t,i,r)}parseTransactionStatus(e){return this.safeString({"-3":"pending","-2":"pending","-1":"failed",0:"pending",1:"pending",2:"ok",3:"pending",4:"pending",5:"pending"},e,e)}parseTransaction(e,t){let i=void 0,r=void 0,s=void 0;const a=this.safeString(e,"withdrawal_id"),n=this.safeString(e,"from"),o=this.safeString(e,"to");void 0!==a?(i="withdrawal",r=a,s=o):(r=this.safeString(e,"payment_id"),i="deposit",s=o);const c=this.safeString(e,"currency"),d=this.safeCurrencyCode(c),h=this.safeFloat(e,"amount"),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeString(e,"txid"),f=this.parse8601(this.safeString(e,"timestamp"));let p=void 0;if("deposit"===i)p=0;else if(void 0!==c){const t=this.safeString(e,"fee");if(void 0!==t){const e=c.toLowerCase(),i=t.replace(e,"");p=parseFloat(i)}}return{info:e,id:r,currency:d,amount:h,addressFrom:n,addressTo:o,address:s,tagFrom:void 0,tagTo:void 0,tag:void 0,status:u,type:i,updated:void 0,txid:l,timestamp:f,datetime:this.iso8601(f),fee:{currency:d,cost:p}}}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchOrderTrades requires a symbol argument");await this.loadMarkets();const a=this.market(t);(void 0===r||r>100)&&(r=100);const o={instrument_id:a.id,order_id:e,limit:r},c=this.safeString2(this.options,"fetchMyTrades","defaultType"),d=this.safeString(s,"type",c),h=this.omit(s,"type"),u=d+"GetFills",l=await this[u](this.extend(o,h));return this.parseTrades(l,a,i,r)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s=this.safeString2(this.options,"fetchLedger","defaultType"),a=this.safeString(r,"type",s),o=this.omit(r,"type"),c="account"===a?"":"Accounts";let d="";const h={};void 0!==i&&(h.limit=i);let u=void 0;if("spot"===a||"futures"===a){if(void 0===e)throw new n(this.id+" fetchLedger requires a currency code argument for '"+a+"' markets");d="Currency",u=this.currency(e),h.currency=u.id}else if("margin"===a||"swap"===a){if(void 0===e)throw new n(this.id+" fetchLedger requires a code argument (a market symbol) for '"+a+"' markets");d="InstrumentId";const t=this.market(e);u=this.currency(t.base),h.instrument_id=t.id}else{if("account"!==a)throw new g(this.id+" fetchLedger does not support the '"+a+"' type (the type must be one of 'account', 'spot', 'margin', 'futures', 'swap')");void 0!==e&&(u=this.currency(e),h.currency=u.id)}const l=a+"Get"+c+d+"Ledger",f=await this[l](this.extend(h,o)),p=Array.isArray(f[0]),m="margin"===a&&p?f[0]:f;return this.parseLedger(m,u,t,i)}parseLedgerEntryType(e){return this.safeString({transfer:"transfer",trade:"trade",rebate:"rebate",match:"trade",fee:"fee",settlement:"trade",liquidation:"trade",funding:"fee",margin:"margin"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"ledger_id"),r=this.safeValue(e,"details",{}),s=this.safeString(r,"order_id"),a=this.parseLedgerEntryType(this.safeString(e,"type")),n=this.safeCurrencyCode(this.safeString(e,"currency"),t),o=this.safeFloat(e,"amount"),c=this.parse8601(this.safeString(e,"timestamp")),d={cost:this.safeFloat(e,"fee"),currency:n};return{info:e,id:i,account:void 0,referenceId:s,referenceAccount:void 0,type:a,currency:n,amount:o,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:c,datetime:this.iso8601(c),fee:d}}sign(e,t="public",i="GET",r={},s,a){const n=Array.isArray(r);let o="/api/"+t+"/"+this.version+"/";o+=n?e:this.implodeParams(e,r);const c=n?r:this.omit(r,this.extractParams(e));let d=this.urls.api+o;const h=this.getPathAuthenticationType(e);if("public"===h)Object.keys(c).length&&(d+="?"+this.urlencode(c));else if("private"===h){this.checkRequiredCredentials();const e=this.iso8601(this.milliseconds());s={"OK-ACCESS-KEY":this.apiKey,"OK-ACCESS-PASSPHRASE":this.password,"OK-ACCESS-TIMESTAMP":e};let t=e+i+o;if("GET"===i){if(Object.keys(c).length){const e="?"+this.urlencode(c);d+=e,t+=e}}else(n||Object.keys(c).length)&&(t+=a=this.json(c)),s["Content-Type"]="application/json";const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["OK-ACCESS-SIGN"]=this.decode(r)}return{url:d,method:i,body:a,headers:s}}getPathAuthenticationType(e){const t=this.safeValue(this.options,"auth",{}),i=this.findBroadlyMatchedKey(t,e);return this.safeString(t,i,"private")}handleErrors(e,t,i,r,a,n,o,c,d){const h=this.id+" "+n;if(503===e)throw new s(h);if(!o)return;const u=this.safeString(o,"message"),l=this.safeString2(o,"code","error_code");if(void 0!==u&&(this.throwExactlyMatchedException(this.exceptions.exact,u,h),this.throwBroadlyMatchedException(this.exceptions.broad,u,h)),this.throwExactlyMatchedException(this.exceptions.exact,l,h),void 0!==u)throw new s(h)}}},YeFZ:function(e,t,i){var r=i("PoH+"),s=i("8kJ5"),a=i("yCtF"),n=function(e){var t=typeof e;if("string"===t)return a.isHexStrict(e)?new s(e.replace(/0x/i,""),16):new s(e,10);if("number"===t)return new s(e);if(a.isBigNumber(e))return new s(e.toString(10));if(a.isBN(e))return e;throw new Error(e+" is not a number")},o=function(e,t,i){var r,o;if("bytes"===(e=function(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}(e))){if(t.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+t.length);return t}if("string"===e)return a.utf8ToHex(t);if("bool"===e)return t?"01":"00";if(e.startsWith("address")){if(r=i?64:40,!a.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return a.leftPad(t.toLowerCase(),r)}if(r=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null}(e),e.startsWith("bytes")){if(!r)throw new Error("bytes[] not yet supported in solidity");if(i&&(r=32),r<1||r>32||r<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+r+" for "+t);return a.rightPad(t,2*r)}if(e.startsWith("uint")){if(r%8||r<8||r>256)throw new Error("Invalid uint"+r+" size");if((o=n(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+o.bitLength());if(o.lt(new s(0)))throw new Error("Supplied uint "+o.toString()+" is negative");return r?a.leftPad(o.toString("hex"),r/8*2):o}if(e.startsWith("int")){if(r%8||r<8||r>256)throw new Error("Invalid int"+r+" size");if((o=n(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+o.bitLength());return o.lt(new s(0))?o.toTwos(r).toString("hex"):r?a.leftPad(o.toString("hex"),r/8*2):o}throw new Error("Unsupported or invalid type: "+e)},c=function(e){if(r.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,i,n="";if(r.isObject(e)&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,n=e.hasOwnProperty("v")?e.v:e.value):(t=a.toHex(e,!0),n=a.toHex(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")),!t.startsWith("int")&&!t.startsWith("uint")||"string"!==typeof n||/^(-)?0x/i.test(n)||(n=new s(n)),r.isArray(n)){if((i=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null}(t))&&n.length!==i)throw new Error(t+" is not matching the given array "+JSON.stringify(n));i=n.length}return r.isArray(n)?n.map((function(e){return o(t,e,i).toString("hex").replace("0x","")})).join(""):o(t,n,i).toString("hex").replace("0x","")};e.exports={soliditySha3:function(){var e=Array.prototype.slice.call(arguments),t=r.map(e,c);return a.sha3("0x"+t.join(""))},soliditySha3Raw:function(){return a.sha3Raw("0x"+r.map(Array.prototype.slice.call(arguments),c).join(""))}}},YkuB:function(e){e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')},YrLq:function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},Yrgj:function(e,t,i){"use strict";var r=i("pRMk").Buffer,s=i("+oaW"),a=i("8kJ5"),n=i("6MVH").ec,o=i("5EA2"),c=new n("secp256k1"),d=c.curve;function h(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var i=new a(t);if(i.cmp(d.p)>=0)return null;var r=(i=i.toRed(d.red)).redSqr().redIMul(i).redIAdd(d.b).redSqrt();return 3===e!==r.isOdd()&&(r=r.redNeg()),c.keyPair({pub:{x:i,y:r}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,i){var r=new a(t),s=new a(i);if(r.cmp(d.p)>=0||s.cmp(d.p)>=0)return null;if(r=r.toRed(d.red),s=s.toRed(d.red),(6===e||7===e)&&s.isOdd()!==(7===e))return null;var n=r.redSqr().redIMul(r);return s.redSqr().redISub(n.redIAdd(d.b)).isZero()?c.keyPair({pub:{x:r,y:s}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}t.privateKeyVerify=function(e){var t=new a(e);return t.cmp(d.n)<0&&!t.isZero()},t.privateKeyExport=function(e,t){var i=new a(e);if(i.cmp(d.n)>=0||i.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return r.from(c.keyFromPrivate(e).getPublic(t,!0))},t.privateKeyNegate=function(e){var t=new a(e);return t.isZero()?r.alloc(32):d.n.sub(t).umod(d.n).toArrayLike(r,"be",32)},t.privateKeyModInverse=function(e){var t=new a(e);if(t.cmp(d.n)>=0||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(d.n).toArrayLike(r,"be",32)},t.privateKeyTweakAdd=function(e,t){var i=new a(t);if(i.cmp(d.n)>=0)throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(i.iadd(new a(e)),i.cmp(d.n)>=0&&i.isub(d.n),i.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return i.toArrayLike(r,"be",32)},t.privateKeyTweakMul=function(e,t){var i=new a(t);if(i.cmp(d.n)>=0||i.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return i.imul(new a(e)),i.cmp(d.n)&&(i=i.umod(d.n)),i.toArrayLike(r,"be",32)},t.publicKeyCreate=function(e,t){var i=new a(e);if(i.cmp(d.n)>=0||i.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return r.from(c.keyFromPrivate(e).getPublic(t,!0))},t.publicKeyConvert=function(e,t){var i=h(e);if(null===i)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return r.from(i.getPublic(t,!0))},t.publicKeyVerify=function(e){return null!==h(e)},t.publicKeyTweakAdd=function(e,t,i){var s=h(e);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new a(t)).cmp(d.n)>=0)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var n=d.g.mul(t).add(s.pub);if(n.isInfinity())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return r.from(n.encode(!0,i))},t.publicKeyTweakMul=function(e,t,i){var s=h(e);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new a(t)).cmp(d.n)>=0||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return r.from(s.pub.mul(t).encode(!0,i))},t.publicKeyCombine=function(e,t){for(var i=new Array(e.length),s=0;s<e.length;++s)if(i[s]=h(e[s]),null===i[s])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var a=i[0].pub,n=1;n<i.length;++n)a=a.add(i[n].pub);if(a.isInfinity())throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return r.from(a.encode(!0,t))},t.signatureNormalize=function(e){var t=new a(e.slice(0,32)),i=new a(e.slice(32,64));if(t.cmp(d.n)>=0||i.cmp(d.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var s=r.from(e);return 1===i.cmp(c.nh)&&d.n.sub(i).toArrayLike(r,"be",32).copy(s,32),s},t.signatureExport=function(e){var t=e.slice(0,32),i=e.slice(32,64);if(new a(t).cmp(d.n)>=0||new a(i).cmp(d.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:i}},t.signatureImport=function(e){var t=new a(e.r);t.cmp(d.n)>=0&&(t=new a(0));var i=new a(e.s);return i.cmp(d.n)>=0&&(i=new a(0)),r.concat([t.toArrayLike(r,"be",32),i.toArrayLike(r,"be",32)])},t.sign=function(e,t,i,s){if("function"===typeof i){var n=i;i=function(i){var c=n(e,t,null,s,i);if(!r.isBuffer(c)||32!==c.length)throw new Error(o.ECDSA_SIGN_FAIL);return new a(c)}}var h=new a(t);if(h.cmp(d.n)>=0||h.isZero())throw new Error(o.ECDSA_SIGN_FAIL);var u=c.sign(e,t,{canonical:!0,k:i,pers:s});return{signature:r.concat([u.r.toArrayLike(r,"be",32),u.s.toArrayLike(r,"be",32)]),recovery:u.recoveryParam}},t.verify=function(e,t,i){var r={r:t.slice(0,32),s:t.slice(32,64)},s=new a(r.r),n=new a(r.s);if(s.cmp(d.n)>=0||n.cmp(d.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(1===n.cmp(c.nh)||s.isZero()||n.isZero())return!1;var u=h(i);if(null===u)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,r,{x:u.pub.x,y:u.pub.y})},t.recover=function(e,t,i,s){var n={r:t.slice(0,32),s:t.slice(32,64)},h=new a(n.r),u=new a(n.s);if(h.cmp(d.n)>=0||u.cmp(d.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);try{if(h.isZero()||u.isZero())throw new Error;var l=c.recoverPubKey(e,n,i);return r.from(l.encode(!0,s))}catch(f){throw new Error(o.ECDSA_RECOVER_FAIL)}},t.ecdh=function(e,i){var r=t.ecdhUnsafe(e,i,!0);return s("sha256").update(r).digest()},t.ecdhUnsafe=function(e,t,i){var s=h(e);if(null===s)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var n=new a(t);if(n.cmp(d.n)>=0||n.isZero())throw new Error(o.ECDH_FAIL);return r.from(s.pub.mul(n).encode(!0,i))}},YuN0:function(e,t,i){"use strict";const r=Number.isFinite,s=Array.isArray,a=e=>void 0!==e&&null!==e,n=e=>"string"===typeof e,o=e=>null!==e&&"object"===typeof e,c=e=>a(e)&&e.toString||r(e),d=(e,t)=>o(e)?e[t]:void 0,h=(e,t,i)=>o(e)?t in e&&null!==e[t]?e[t]:e[i]:void 0,u=e=>r(e)||n(e)?parseFloat(e):NaN,l=e=>r(e)||n(e)?parseInt(e,10):NaN;e.exports={isNumber:r,isArray:s,isObject:o,isString:n,isStringCoercible:c,isDictionary:e=>o(e)&&!s(e),hasProps:a,prop:d,asFloat:u,asInteger:l,safeFloat:(e,t,i,s=u(d(e,t)))=>r(s)?s:i,safeInteger:(e,t,i,s=l(d(e,t)))=>r(s)?s:i,safeIntegerProduct:(e,t,i,s,a=l(d(e,t)))=>r(a)?parseInt(a*i):s,safeTimestamp:(e,t,i,s=u(d(e,t)))=>r(s)?parseInt(1e3*s):i,safeValue:(e,t,i,r=d(e,t))=>a(r)?r:i,safeString:(e,t,i,r=d(e,t))=>c(r)?String(r):i,safeStringLower:(e,t,i,r=d(e,t))=>c(r)?String(r).toLowerCase():i,safeStringUpper:(e,t,i,r=d(e,t))=>c(r)?String(r).toUpperCase():i,safeFloat2:(e,t,i,s,a=u(h(e,t,i)))=>r(a)?a:s,safeInteger2:(e,t,i,s,a=l(h(e,t,i)))=>r(a)?a:s,safeIntegerProduct2:(e,t,i,s,a,n=l(h(e,t,i)))=>r(n)?parseInt(n*s):a,safeTimestamp2:(e,t,i,s,a=u(h(e,t,i)))=>r(a)?parseInt(1e3*a):s,safeValue2:(e,t,i,r,s=h(e,t,i))=>a(s)?s:r,safeString2:(e,t,i,r,s=h(e,t,i))=>c(s)?String(s):r,safeStringLower2:(e,t,i,r,s=h(e,t,i))=>c(s)?String(s).toLowerCase():r,safeStringUpper2:(e,t,i,r,s=h(e,t,i))=>c(s)?String(s).toUpperCase():r}},"Z+yf":function(e,t,i){(function(t){var r=i("+oaW"),s=i("ZG6w"),a=i("wfEq"),n=i("MEmy"),o=i("qXhl"),c=i("2Mwr");function d(e){s.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){s.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){return new d(e)}function l(e){return new h(e)}Object.keys(c).forEach((function(e){c[e].id=new t(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),a(d,s.Writable),d.prototype._write=function(e,t,i){this._hash.update(e),i()},d.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},d.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=n(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(h,s.Writable),h.prototype._write=function(e,t,i){this._hash.update(e),i()},h.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},h.prototype.verify=function(e,i,r){"string"===typeof i&&(i=new t(i,r)),this.end();var s=this._hash.digest();return o(i,s,e,this._signType,this._tag)},e.exports={Sign:u,Verify:l,createSign:u,createVerify:l}}).call(this,i("qykS").Buffer)},Z4ft:function(e,t,i){"use strict";var r=i("8kJ5"),s=i("wfEq"),a=i("7ZyU"),n=i("fOyB");function o(e){a.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,i){a.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,a),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},s(c,a.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(n.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),s=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,s)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(i),n=s.redMul(r),o=t.z.redMul(a.redAdd(n).redSqr()),c=t.x.redMul(a.redISub(n).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)0===s[a]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},ZDdG:function(e,t,i){"use strict";const{isObject:r,isNumber:s,isDictionary:a,isArray:n}=i("YuN0"),o=Object.keys,c=e=>n(e)?e:Object.values(e),d=e=>new Set(c(e)),h=(...e)=>Object.assign({},...e),u=e=>n(e)?Array.from(e):h(e);e.exports={keys:o,values:c,extend:h,clone:u,index:d,ordered:e=>e,unique:e=>Array.from(d(e)),inArray:(e,t)=>t.includes(e),toArray:e=>Object.values(e),isEmpty:e=>!e||(Array.isArray(e)?e:Object.keys(e)).length<1,keysort(e,t={}){for(const i of o(e).sort())t[i]=e[i];return t},indexBy(e,t,i={}){for(const r of c(e))t in r&&(i[r[t]]=r);return i},groupBy(e,t,i={}){for(const r of c(e))if(t in r){const e=r[t];i[e]=i[e]||[],i[e].push(r)}return i},filterBy(e,t,i,r=[]){for(const s of c(e))s[t]===i&&r.push(s);return r},sortBy:(e,t,i=!1,r=(i?-1:1))=>e.sort((e,i)=>e[t]<i[t]?-r:e[t]>i[t]?r:0),flatten:function e(t,i=[]){for(const r of t)n(r)?e(r,i):i.push(r);return i},pluck:(e,t)=>c(e).filter(e=>t in e).map(e=>e[t]),omit(e,...t){if(!Array.isArray(e)){const i=u(e);for(const e of t)if(n(e))for(const t of e)delete i[t];else delete i[e];return i}return e},sum(...e){const t=e.filter(s);return t.length>0?t.reduce((e,t)=>e+t,0):void 0},deepExtend:function e(...t){let i=void 0;for(const s of t)if(a(s)){r(i)||(i={});for(const t in s)i[t]=e(i[t],s[t])}else i=s;return i}}},ZERR:function(e,t,i){"use strict";(function(t){var r=i("x9yg");function s(e,t){if(e===t)return 0;for(var i=e.length,r=t.length,s=0,a=Math.min(i,r);s<a;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0}function a(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var n=i("4+3C"),o=Object.prototype.hasOwnProperty,c=Array.prototype.slice,d="foo"===function(){}.name;function h(e){return Object.prototype.toString.call(e)}function u(e){return!a(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var l=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(n.isFunction(e)){if(d)return e.name;var t=e.toString().match(f);return t&&t[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(d||!n.isFunction(e))return n.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,i,r,s){throw new l.AssertionError({message:i,actual:e,expected:t,operator:r,stackStartFunction:s})}function v(e,t){e||b(e,!0,t,"==",l.ok)}function g(e,t,i,r){if(e===t)return!0;if(a(e)&&a(t))return 0===s(e,t);if(n.isDate(e)&&n.isDate(t))return e.getTime()===t.getTime();if(n.isRegExp(e)&&n.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(u(e)&&u(t)&&h(e)===h(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===s(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var o=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,i,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(n.isPrimitive(e)||n.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var s=w(e),a=w(t);if(s&&!a||!s&&a)return!1;if(s)return e=c.call(e),t=c.call(t),g(e,t,i);var o,d,h=T(e),u=T(t);if(h.length!==u.length)return!1;for(h.sort(),u.sort(),d=h.length-1;d>=0;d--)if(h[d]!==u[d])return!1;for(d=h.length-1;d>=0;d--)if(o=h[d],!g(e[o],t[o],i,r))return!1;return!0}(e,t,i,r))}return i?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function k(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(i){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,i,r){var s;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof i&&(r=i,i=null),s=function(e){var t;try{e()}catch(i){t=i}return t}(t),r=(i&&i.name?" ("+i.name+").":".")+(r?" "+r:"."),e&&!s&&b(s,i,"Missing expected exception"+r);var a="string"===typeof r,o=!e&&s&&!i;if((!e&&n.isError(s)&&a&&k(s,i)||o)&&b(s,i,"Got unwanted exception"+r),e&&s&&i&&!k(s,i)||!e&&s)throw s}l.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(y(e.actual),128)+" "+e.operator+" "+m(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var r=i.stack,s=p(t),a=r.indexOf("\n"+s);if(a>=0){var n=r.indexOf("\n",a+1);r=r.substring(n+1)}this.stack=r}}},n.inherits(l.AssertionError,Error),l.fail=b,l.ok=v,l.equal=function(e,t,i){e!=t&&b(e,t,i,"==",l.equal)},l.notEqual=function(e,t,i){e==t&&b(e,t,i,"!=",l.notEqual)},l.deepEqual=function(e,t,i){g(e,t,!1)||b(e,t,i,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(e,t,i){g(e,t,!0)||b(e,t,i,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(e,t,i){g(e,t,!1)&&b(e,t,i,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function e(t,i,r){g(t,i,!0)&&b(t,i,r,"notDeepStrictEqual",e)},l.strictEqual=function(e,t,i){e!==t&&b(e,t,i,"===",l.strictEqual)},l.notStrictEqual=function(e,t,i){e===t&&b(e,t,i,"!==",l.notStrictEqual)},l.throws=function(e,t,i){_(!0,e,t,i)},l.doesNotThrow=function(e,t,i){_(!1,e,t,i)},l.ifError=function(e){if(e)throw e},l.strict=r((function e(t,i){t||b(t,!0,i,"==",e)}),l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var T=Object.keys||function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t}}).call(this,i("pCvA"))},ZG6w:function(e,t,i){e.exports=s;var r=i("hBZP").EventEmitter;function s(){r.call(this)}i("wfEq")(s,r),s.Readable=i("5Ekh"),s.Writable=i("hmUS"),s.Duplex=i("yuDq"),s.Transform=i("C9xR"),s.PassThrough=i("t5Qd"),s.Stream=s,s.prototype.pipe=function(e,t){var i=this;function s(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function a(){i.readable&&i.resume&&i.resume()}i.on("data",s),e.on("drain",a),e._isStdio||t&&!1===t.end||(i.on("end",o),i.on("close",c));var n=!1;function o(){n||(n=!0,e.end())}function c(){n||(n=!0,"function"===typeof e.destroy&&e.destroy())}function d(e){if(h(),0===r.listenerCount(this,"error"))throw e}function h(){i.removeListener("data",s),e.removeListener("drain",a),i.removeListener("end",o),i.removeListener("close",c),i.removeListener("error",d),e.removeListener("error",d),i.removeListener("end",h),i.removeListener("close",h),e.removeListener("close",h)}return i.on("error",d),e.on("error",d),i.on("end",h),i.on("close",h),e.on("close",h),e.emit("pipe",i),e}},ZYG8:function(e,t,i){!function(e){var t,i,r,s=String.fromCharCode;function a(e){for(var t,i,r=[],s=0,a=e.length;s<a;)(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<a?56320==(64512&(i=e.charCodeAt(s++)))?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),s--):r.push(t);return r}function n(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function o(e,t){return s(e>>t&63|128)}function c(e){if(0==(4294967168&e))return s(e);var t="";return 0==(4294965248&e)?t=s(e>>6&31|192):0==(4294901760&e)?(n(e),t=s(e>>12&15|224),t+=o(e,6)):0==(4292870144&e)&&(t=s(e>>18&7|240),t+=o(e,12),t+=o(e,6)),t+=s(63&e|128)}function d(){if(r>=i)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(){var e,s;if(r>i)throw Error("Invalid byte index");if(r==i)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((s=(31&e)<<6|d())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if((s=(15&e)<<12|d()<<6|d())>=2048)return n(s),s;throw Error("Invalid continuation byte")}if(240==(248&e)&&(s=(7&e)<<18|d()<<12|d()<<6|d())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=a(e),i=t.length,r=-1,s="";++r<i;)s+=c(t[r]);return s},e.decode=function(e){t=a(e),i=t.length,r=0;for(var n,o=[];!1!==(n=h());)o.push(n);return function(e){for(var t,i=e.length,r=-1,a="";++r<i;)(t=e[r])>65535&&(a+=s((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=s(t);return a}(o)}}(t)},"a/Al":function(e,t,i){var r=i("wfEq"),s=i("qykS").Buffer,a=i("eIKn");function n(e){a.call(this,e),this.enc="pem"}r(n,a),e.exports=n,n.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,c=-1,d=0;d<i.length;d++){var h=i[d].match(n);if(null!==h&&h[2]===r){if(-1!==o){if("END"!==h[1])break;c=d;break}if("BEGIN"!==h[1])break;o=d}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+r);var u=i.slice(o+1,c).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var l=new s(u,"base64");return a.prototype.decode.call(this,l,t)}},"a/ED":function(e,t,i){"use strict";var r=i("HpGB"),s=i("DDMh"),a=i("Eg+Y"),n=i("siiD"),o=r.sum32,c=r.sum32_4,d=r.sum32_5,h=a.ch32,u=a.maj32,l=a.s0_256,f=a.s1_256,p=a.g0_256,m=a.g1_256,y=s.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}r.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=c(m(i[r-2]),i[r-7],p(i[r-15]),i[r-16]);var s=this.h[0],a=this.h[1],y=this.h[2],b=this.h[3],v=this.h[4],g=this.h[5],w=this.h[6],k=this.h[7];for(n(this.k.length===i.length),r=0;r<i.length;r++){var _=d(k,f(v),h(v,g,w),this.k[r],i[r]),T=o(l(s),u(s,a,y));k=w,w=g,g=v,v=o(b,_),b=y,y=a,a=s,s=o(_,T)}this.h[0]=o(this.h[0],s),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],y),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],v),this.h[5]=o(this.h[5],g),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],k)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},"a2z/":function(e,t,i){"use strict";const r=i("pRMk").Buffer,s=i("ruwT");function a(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}a.prototype.initialize=function(e,t){for(let i=0;i<50;++i)this.state[i]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},a.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(s.p1600(this.state),this.count=0)},a.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&s.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,s.p1600(this.state),this.count=0,this.squeezing=!0},a.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=r.alloc(e);for(var i=0;i<e;++i)t[i]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(s.p1600(this.state),this.count=0);return t},a.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=a},a4pT:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bcex",name:"BCEX",countries:["CN","CA"],version:"1",has:{fetchBalance:!0,fetchMarkets:!0,createOrder:!0,cancelOrder:!0,fetchTicker:!0,fetchTickers:!1,fetchTrades:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchTradingLimits:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/43362240-21c26622-92ee-11e8-9464-5801ec526d77.jpg",api:"https://www.bcex.top",www:"https://www.bcex.top",doc:"https://github.com/BCEX-TECHNOLOGY-LIMITED/API_Docs/wiki/Interface",fees:"https://bcex.udesk.cn/hc/articles/57085",referral:"https://www.bcex.top/register?invite_code=758978&lang=en"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["Api_Market/getPriceList","Api_Order/ticker","Api_Order/depth","Api_Market/getCoinTrade","Api_Order/marketOrder"],post:["Api_Market/getPriceList","Api_Order/ticker","Api_Order/depth","Api_Market/getCoinTrade","Api_Order/marketOrder"]},private:{post:["Api_Order/cancel","Api_Order/coinTrust","Api_Order/orderList","Api_Order/orderInfo","Api_Order/tradeList","Api_Order/trustList","Api_User/userBalance"]}},fees:{trading:{tierBased:!1,percentage:!0,buy:0,sell:.002},funding:{tierBased:!1,percentage:!1,withdraw:{ckusd:0,other:5e-4},deposit:{}}},exceptions:{"\u8be5\u5e01\u4e0d\u5b58\u5728,\u975e\u6cd5\u64cd\u4f5c":s,"\u516c\u94a5\u4e0d\u5408\u6cd5":n,"\u60a8\u7684\u53ef\u7528\u4f59\u989d\u4e0d\u8db3":o,"\u60a8\u7684btc\u4e0d\u8db3":o,"\u53c2\u6570\u975e\u6cd5":c,"\u8ba2\u5355\u4fe1\u606f\u4e0d\u5b58\u5728":d},options:{limits:{"AFC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:6,max:12e4}}},"AFC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:6,max:12e4}}},"AFT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:15,max:3e5}}},"AICC/CNET":{precision:{amount:2,price:2},limits:{amount:{min:5,max:5e4}}},"AIDOC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:1e5}}},"AISI/ETH":{precision:{amount:4,price:2},limits:{amount:{min:.001,max:500}}},"AIT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:4e5}}},"ANS/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.1,max:500}}},"ANS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.1,max:1e3}}},"ARC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:60,max:6e5}}},"AXF/CNET":{precision:{amount:2,price:4},limits:{amount:{min:100,max:1e6}}},"BASH/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:250,max:3e6}}},"BATT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:60,max:15e5}}},"BCD/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.3,max:7e3}}},"BHPC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:2,max:7e4}}},"BHPC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:2,max:6e4}}},"BOPO/BTC":{precision:{amount:2,price:8},limits:{amount:{min:100,max:2e6}}},"BOPO/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:100,max:1e7}}},"BTC/CKUSD":{precision:{amount:4,price:2},limits:{amount:{min:.001,max:10}}},"BTC/CNET":{precision:{amount:4,price:2},limits:{amount:{min:5e-4,max:5}}},"BTC/USDT":{precision:{amount:4,price:2},limits:{amount:{min:2e-4,max:4}}},"BTE/CNET":{precision:{amount:2,price:4},limits:{amount:{min:25,max:25e4}}},"BU/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:4e5}}},"CIC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:3e3,max:3e7}}},"CIT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:4,max:4e4}}},"CIT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:4,max:4e4}}},"CMT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:25e5}}},"CNET/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:12,max:12e4}}},"CNMC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:4,max:5e4}}},"CTC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:5,max:55e4}}},"CZR/ETH":{precision:{amount:2,price:8},limits:{amount:{min:12,max:5e5}}},"DCON/ETH":{precision:{amount:2,price:8},limits:{amount:{min:8,max:3e5}}},"DCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:2,max:4e4}}},"DCT/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:2,max:2e3}}},"DOGE/BTC":{precision:{amount:4,price:8},limits:{amount:{min:3e3,max:14e6}}},"DOGE/CKUSD":{precision:{amount:2,price:6},limits:{amount:{min:500,max:2e6}}},"DRCT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:16,max:19e4}}},"ELA/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.02,max:500}}},"ELF/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.1,max:1e5}}},"ELF/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.01,max:1e5}}},"EOS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.5,max:5e3}}},"EOS/CNET":{precision:{amount:2,price:2},limits:{amount:{min:2.5,max:3e4}}},"EOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:.18,max:1800}}},"ETC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.2,max:2500}}},"ETC/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.2,max:2500}}},"ETF/ETH":{precision:{amount:2,price:8},limits:{amount:{min:7,max:15e4}}},"ETH/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.015,max:100}}},"ETH/CKUSD":{precision:{amount:4,price:4},limits:{amount:{min:.005,max:100}}},"ETH/USDT":{precision:{amount:4,price:2},limits:{amount:{min:.005,max:100}}},"FCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.24,max:1e3}}},"FCT/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.24,max:1e3}}},"GAME/CNET":{precision:{amount:2,price:2},limits:{amount:{min:1,max:1e4}}},"GOOC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:200,max:2e6}}},"GP/CNET":{precision:{amount:2,price:4},limits:{amount:{min:600,max:6e6}}},"HSC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:1e3,max:2e7}}},"IFISH/ETH":{precision:{amount:2,price:8},limits:{amount:{min:300,max:8e6}}},"IIC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:50,max:4e6}}},"IMOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:15,max:3e5}}},"JC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:300,max:3e6}}},"LBTC/BTC":{precision:{amount:2,price:8},limits:{amount:{min:.1,max:3e3}}},"LEC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:500,max:5e6}}},"LKY/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:10,max:7e4}}},"LKY/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:1e5}}},"LMC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:25,max:25e4}}},"LSK/CNET":{precision:{amount:2,price:2},limits:{amount:{min:.3,max:3e3}}},"LTC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.01,max:500}}},"LTC/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.01,max:500}}},"LTC/USDT":{precision:{amount:4,price:2},limits:{amount:{min:.02,max:450}}},"MC/CNET":{precision:{amount:2,price:6},limits:{amount:{min:1e4,max:1e8}}},"MCC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:30,max:35e4}}},"MOC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:25,max:6e5}}},"MRYC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:300,max:3e6}}},"MT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:200,max:6e6}}},"MXI/CNET":{precision:{amount:2,price:6},limits:{amount:{min:5e3,max:6e7}}},"NAI/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:1e5}}},"NAS/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.2,max:15e3}}},"NAS/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.5,max:5e3}}},"NEWOS/ETH":{precision:{amount:2,price:8},limits:{amount:{min:65,max:7e5}}},"NKN/ETH":{precision:{amount:2,price:8},limits:{amount:{min:3,max:35e4}}},"NTK/ETH":{precision:{amount:2,price:8},limits:{amount:{min:2,max:3e4}}},"ONT/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.2,max:2e3}}},"ONT/ETH":{precision:{amount:3,price:8},limits:{amount:{min:.01,max:1e3}}},"PNT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:80,max:8e5}}},"PST/ETH":{precision:{amount:2,price:8},limits:{amount:{min:5,max:1e5}}},"PTT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:450,max:1e7}}},"QTUM/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.4,max:2800}}},"QTUM/CKUSD":{precision:{amount:2,price:2},limits:{amount:{min:.1,max:1e3}}},"RATING/ETH":{precision:{amount:2,price:8},limits:{amount:{min:500,max:1e7}}},"RHC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:1e3,max:1e7}}},"SDA/ETH":{precision:{amount:2,price:8},limits:{amount:{min:20,max:5e5}}},"SDD/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:10,max:1e5}}},"SHC/CNET":{precision:{amount:2,price:4},limits:{amount:{min:250,max:25e5}}},"SHE/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:5e6}}},"SMC/CNET":{precision:{amount:2,price:6},limits:{amount:{min:1e3,max:1e7}}},"SOP/ETH":{precision:{amount:2,price:8},limits:{amount:{min:50,max:1e6}}},"TAC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:35,max:8e5}}},"TIP/ETH":{precision:{amount:2,price:8},limits:{amount:{min:7,max:2e5}}},"TKT/ETH":{precision:{amount:2,price:8},limits:{amount:{min:40,max:4e5}}},"TLC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:500,max:1e7}}},"TNC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:11e4}}},"TUB/ETH":{precision:{amount:2,price:8},limits:{amount:{min:200,max:8e6}}},"UC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:3e6}}},"UDB/CNET":{precision:{amount:2,price:6},limits:{amount:{min:2e3,max:4e7}}},"UIC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:5,max:15e4}}},"VAAC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:10,max:25e4}}},"VPN/CNET":{precision:{amount:2,price:4},limits:{amount:{min:200,max:2e6}}},"VSC/ETH":{precision:{amount:2,price:8},limits:{amount:{min:30,max:65e4}}},"WAVES/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:.15,max:1500}}},"WDNA/ETH":{precision:{amount:2,price:8},limits:{amount:{min:100,max:25e4}}},"WIC/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:3,max:3e4}}},"XAS/CNET":{precision:{amount:2,price:2},limits:{amount:{min:2.5,max:25e3}}},"XLM/BTC":{precision:{amount:4,price:8},limits:{amount:{min:10,max:3e5}}},"XLM/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:1,max:3e5}}},"XLM/USDT":{precision:{amount:2,price:4},limits:{amount:{min:5,max:15e4}}},"XRP/BTC":{precision:{amount:4,price:8},limits:{amount:{min:24,max:1e5}}},"XRP/CKUSD":{precision:{amount:2,price:3},limits:{amount:{min:5,max:5e4}}},"YBCT/BTC":{precision:{amount:4,price:8},limits:{amount:{min:15,max:2e5}}},"YBCT/CKUSD":{precision:{amount:2,price:4},limits:{amount:{min:10,max:2e5}}},"YBY/CNET":{precision:{amount:2,price:6},limits:{amount:{min:25e3,max:25e7}}},"ZEC/BTC":{precision:{amount:4,price:8},limits:{amount:{min:.02,max:100}}},"ZEC/CKUSD":{precision:{amount:4,price:2},limits:{amount:{min:.02,max:100}}}}}})}async fetchTradingLimits(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={};for(let r=0;r<e.length;r++){const s=e[r];i[s]=await this.fetchTradingLimitsById(this.marketId(s),t)}return i}async fetchTradingLimitsById(e,t={}){const i={symbol:e},r=await this.publicPostApiOrderTicker(this.extend(i,t));return this.parseTradingLimits(this.safeValue(r,"data",{}))}parseTradingLimits(e,t,i={}){return{info:e,precision:{amount:this.safeInteger(e,"number_float"),price:this.safeInteger(e,"price_float")},limits:{amount:{min:this.safeFloat(e,"min_trade"),max:this.safeFloat(e,"max_trade")}}}}async fetchMarkets(e={}){const t=await this.publicGetApiMarketGetPriceList(e),i=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const e=t[r[s]];for(let t=0;t<e.length;t++){const r=e[t],s=this.safeString(r,"coin_from"),a=this.safeString(r,"coin_to");let n=s.toUpperCase(),o=a.toUpperCase();n=this.safeCurrencyCode(n),o=this.safeCurrencyCode(o);const c=s+"2"+a,d=n+"/"+o,h=!0,u=this.safeValue(this.options.limits,d,{});i.push(this.extend({id:c,symbol:d,base:n,quote:o,baseId:s,quoteId:a,active:h,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:r},u))}}return i}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeTimestamp2(e,"date","created"),s=this.safeString(e,"tid"),a=this.safeString(e,"order_id"),n=this.safeFloat2(e,"number","amount"),o=this.safeFloat(e,"price");let c=void 0;void 0!==o&&void 0!==n&&(c=n*o);let d=this.safeString(e,"side");return"sale"===d&&(d="sell"),{info:e,id:s,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:d,price:o,amount:n,cost:c,order:a,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==i&&(s.limit=i);const a=this.market(e),n=await this.publicPostApiOrderMarketOrder(this.extend(s,r));return this.parseTrades(n.data,a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostApiUserUserBalance(e),i=this.safeValue(t,"data");let r=Object.keys(i);const s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeFloat(i,e),n=e.split("_"),o=n[0],c=n[1],d=this.safeCurrencyCode(o);d in s||(s[d]=this.account()),"lock"===c?s[d].used=parseFloat(t):s[d].free=parseFloat(t)}r=Object.keys(s);for(let a=0;a<r.length;a++){const e=r[a],t=this.sum(s[e].used,s[e].free);s[e].total=t}return s.info=i,this.parseBalance(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.markets[e],r={part:i.quoteId,coin:i.baseId},s=await this.publicPostApiMarketGetCoinTrade(this.extend(r,t)),a=this.milliseconds();return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"max"),low:this.safeFloat(s,"min"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sale"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(s,"price"),last:this.safeFloat(s,"price"),previousClose:void 0,change:void 0,percentage:this.safeFloat(s,"change_24h"),average:void 0,baseVolume:this.safeFloat(s,"volume_24h"),quoteVolume:void 0,info:s}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicPostApiOrderDepth(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeTimestamp(a,"date");return this.parseOrderBook(a,n)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.privatePostApiOrderOrderList(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}parseOrderStatus(e){return this.safeString({0:"open",1:"open",2:"closed",3:"canceled"},e,e)}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder requires a `symbol` argument");await this.loadMarkets();const r={symbol:this.marketId(t),trust_id:e},s=await this.privatePostApiOrderOrderInfo(this.extend(r,i)),n=this.safeValue(s,"data"),o=this.safeTimestamp(n,"created"),c=this.parseOrderStatus(this.safeString(n,"status"));let d=this.safeString(n,"flag");return"sale"===d&&(d="sell"),{info:n,id:e,timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:t,type:void 0,side:d,price:this.safeFloat(n,"price"),cost:void 0,average:this.safeFloat(n,"avg_price"),amount:this.safeFloat(n,"number"),filled:this.safeFloat(n,"numberdeal"),remaining:this.safeFloat(n,"numberover"),status:c,fee:void 0}}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"datetime");let s=void 0;void 0!==t&&(s=t.symbol);let a=this.safeString(e,"type");"sale"===a&&(a="sell");const n=this.safeFloat(e,"price"),o=this.safeFloat(e,"avg_price"),c=this.safeFloat(e,"amount"),d=this.safeFloat(e,"amount_outstanding"),h=c-d,u=this.parseOrderStatus(this.safeString(e,"status")),l=h*n;return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:s,type:void 0,side:a,price:n,cost:l,average:o,amount:c,filled:h,remaining:d,status:u,fee:void 0}}async fetchOrdersByType(e,t,i,r,s={}){await this.loadMarkets();const a={type:e};let n=void 0;void 0!==t&&(n=this.market(t),a.symbol=n.id);const o=await this.privatePostApiOrderTradeList(this.extend(a,s));return"data"in o?this.parseOrders(o.data,n,i,r):[]}async fetchOpenOrders(e,t,i,r={}){return this.fetchOrdersByType("open",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchOrders(e,t,i,r={}){return this.fetchOrdersByType("all",e,t,i,r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={symbol:this.marketId(e),type:i,price:this.priceToPrecision(e,s),number:this.amountToPrecision(e,r)},o=await this.privatePostApiOrderCoinTrust(this.extend(n,a)),c=this.safeValue(o,"data",{});return{info:o,id:this.safeString(c,"order_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder requires a `symbol` argument");await this.loadMarkets();const r={};return void 0!==t&&(r.symbol=this.marketId(t)),void 0!==e&&(r.order_id=e),await this.privatePostApiOrderCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let e=this.urlencode({api_key:this.apiKey});Object.keys(o).length&&(e+="&"+this.urlencode(this.keysort(o)));const t=e+"&secret_key="+this.secret;a=e+"&sign="+this.hash(this.encode(t)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,d,h){if(void 0===o)return;const u=this.safeValue(o,"code");if(void 0!==u&&0!==u){const e=this.safeString(o,"msg"),t=this.id+" "+e;throw this.throwExactlyMatchedException(this.exceptions,e,t),e.indexOf("\u8bf7\u60a8\u91cd\u65b0\u6302\u5355")>=0?new c(t):new s(t)}}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[i],d=parseFloat(this.costToPrecision(e,r*s));return{type:a,currency:o.quote,rate:c,cost:parseFloat(this.feeToPrecision(e,c*d))}}}},a9C4:function(e,t,i){"use strict";const r=i("TGNe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinbaseprime",name:"Coinbase Prime",urls:{test:{public:"https://api-public.sandbox.prime.coinbase.com",private:"https://api-public.sandbox.prime.coinbase.com"},logo:"https://user-images.githubusercontent.com/1294454/44539184-29f26e00-a70c-11e8-868f-e907fc236a7c.jpg",api:{public:"https://api.prime.coinbase.com",private:"https://api.prime.coinbase.com"},www:"https://prime.coinbase.com",doc:"https://docs.prime.coinbase.com",fees:"https://support.prime.coinbase.com/customer/en/portal/articles/2945629-fees?b_id=17475"}})}}},a9qU:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,InvalidNonce:n,InsufficientFunds:o,InvalidOrder:c,OrderNotFound:d,PermissionDenied:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbank",name:"bitbank",countries:["JP"],version:"v1",has:{fetchOHLCV:!0,fetchOpenOrders:!0,fetchMyTrades:!0,fetchDepositAddress:!0,withdraw:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","4h":"4hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},urls:{logo:"https://user-images.githubusercontent.com/1294454/37808081-b87f2d9c-2e59-11e8-894d-c1900b7584fe.jpg",api:{public:"https://public.bitbank.cc",private:"https://api.bitbank.cc"},www:"https://bitbank.cc/",doc:"https://docs.bitbank.cc/",fees:"https://bitbank.cc/docs/fees/"},api:{public:{get:["{pair}/ticker","{pair}/depth","{pair}/transactions","{pair}/transactions/{yyyymmdd}","{pair}/candlestick/{candletype}/{yyyymmdd}"]},private:{get:["user/assets","user/spot/order","user/spot/active_orders","user/spot/trade_history","user/withdrawal_account"],post:["user/spot/order","user/spot/cancel_order","user/spot/cancel_orders","user/spot/orders_info","user/request_withdrawal"]}},markets:{"BCH/BTC":{id:"bcc_btc",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bcc",quoteId:"btc"},"BCH/JPY":{id:"bcc_jpy",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bcc",quoteId:"jpy"},"MONA/BTC":{id:"mona_btc",symbol:"MONA/BTC",base:"MONA",quote:"BTC",baseId:"mona",quoteId:"btc"},"MONA/JPY":{id:"mona_jpy",symbol:"MONA/JPY",base:"MONA",quote:"JPY",baseId:"mona",quoteId:"jpy"},"ETH/BTC":{id:"eth_btc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"XRP/JPY":{id:"xrp_jpy",symbol:"XRP/JPY",base:"XRP",quote:"JPY",baseId:"xrp",quoteId:"jpy"},"BTC/JPY":{id:"btc_jpy",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy"}},fees:{trading:{maker:-2e-4,taker:.0012},funding:{withdraw:{BTC:.001,LTC:.001,XRP:.15,ETH:5e-4,MONA:.001,BCC:.001}}},precision:{price:8,amount:8},exceptions:{20001:a,20002:a,20003:a,20005:a,20004:n,40020:c,40021:c,40025:s,40013:d,40014:d,50008:h,50009:d,50010:d,60001:o,60005:c}})}parseTicker(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"timestamp"),s=this.safeFloat(e,"last");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetPairTicker(this.extend(r,t));return this.parseTicker(s.data,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetPairDepth(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,n)}parseTrade(e,t){const i=this.safeInteger(e,"executed_at");let r=void 0,s=void 0;void 0!==t&&(r=t.symbol,s=t.quote);const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==a&&void 0!==n&&(o=parseFloat(this.costToPrecision(r,a*n)));const c=this.safeString2(e,"transaction_id","trade_id"),d=this.safeString(e,"maker_taker");let h=void 0;void 0!==this.safeFloat(e,"fee_amount_quote")&&(h={currency:t.quote,cost:s});const u=this.safeString(e,"order_id"),l=this.safeString(e,"type"),f=this.safeString(e,"side");return{timestamp:i,datetime:this.iso8601(i),symbol:r,id:c,order:u,type:l,side:f,takerOrMaker:d,price:a,amount:n,cost:o,fee:h,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetPairTransactions(this.extend(a,r));return this.parseTrades(n.data.transactions,s,t,i)}parseOHLCV(e,t,i="5m",r,s){return[e[5],parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e);let n=this.milliseconds();n=this.ymd(n),n=n.split("-");const o={pair:a.id,candletype:this.timeframes[t],yyyymmdd:n.join("")},c=await this.publicGetPairCandlestickCandletypeYyyymmdd(this.extend(o,s)),d=this.safeValue(c.data.candlestick[0],"ohlcv");return this.parseOHLCVs(d,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAssets(e),i={info:t},r=t.data.assets;for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"asset"),a=this.safeCurrencyCode(t),n={free:this.safeFloat(e,"free_amount"),used:this.safeFloat(e,"locked_amount"),total:this.safeFloat(e,"onhand_amount")};i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({UNFILLED:"open",PARTIALLY_FILLED:"open",FULLY_FILLED:"closed",CANCELED_UNFILLED:"canceled",CANCELED_PARTIALLY_FILLED:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id"),r=this.safeString(e,"pair");let s=void 0;r&&!t&&r in this.marketsById&&(t=this.marketsById[r]),void 0!==t&&(s=t.symbol);const a=this.safeInteger(e,"ordered_at"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"start_amount"),c=this.safeFloat(e,"executed_amount"),d=this.safeFloat(e,"remaining_amount"),h=this.safeFloat(e,"average_price");let u=void 0;void 0!==c&&void 0!==h&&(u=c*h);const l=this.parseOrderStatus(this.safeString(e,"status")),f=this.safeStringLower(e,"type"),p=this.safeStringLower(e,"side");return{id:i,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:void 0,status:l,symbol:s,type:f,side:p,price:n,cost:u,average:h,amount:o,filled:c,remaining:d,trades:void 0,fee:void 0,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);if(void 0===s)throw new c(this.id+" createOrder requires a price argument for both market and limit orders");const o={pair:n.id,amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s),side:i,type:t},d=await this.privatePostUserSpotOrder(this.extend(o,a)),h=this.parseOrder(d.data,n),u=h.id;return this.orders[u]=h,h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e,pair:this.market(t).id};return(await this.privatePostUserSpotCancelOrder(this.extend(r,i))).data}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e,pair:this.market(t).id},s=await this.privateGetUserSpotOrder(this.extend(r,i));return this.parseOrder(s.data)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==i&&(a.count=i),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privateGetUserSpotActiveOrders(this.extend(a,r));return this.parseOrders(n.data.orders,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a={};void 0!==s&&(a.pair=s.id),void 0!==i&&(a.count=i),void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privateGetUserSpotTradeHistory(this.extend(a,r));return this.parseTrades(n.data.trades,s,t,i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={asset:i.id},s=await this.privateGetUserWithdrawalAccount(this.extend(r,t)),a=s.data.accounts;return{currency:i,address:this.safeString(a[0],"address"),tag:void 0,info:s}}async withdraw(e,t,i,r,a={}){if(!("uuid"in a))throw new s(this.id+" uuid is required for withdrawal");await this.loadMarkets();const n={asset:this.currency(e).id,amount:t},o=await this.privatePostUserRequestWithdrawal(this.extend(n,a));return{info:o,id:this.safeString(o.data,"txid")}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.omit(r,this.extractParams(e)),o=this.urls.api[t]+"/";if("public"===t)o+=this.implodeParams(e,r),Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const t=this.nonce().toString();let c=t;o+=this.version+"/"+this.implodeParams(e,r),"POST"===i?c+=a=this.json(n):(c+="/"+this.version+"/"+e,Object.keys(n).length&&(n=this.urlencode(n),o+="?"+n,c+="?"+n)),s={"Content-Type":"application/json","ACCESS-KEY":this.apiKey,"ACCESS-NONCE":t,"ACCESS-SIGNATURE":this.hmac(this.encode(c),this.encode(this.secret))}}return{url:o,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n),c=this.safeInteger(o,"success"),d=this.safeValue(o,"data");if(!c||!d){const e={1e4:"URL does not exist",10001:"A system error occurred. Please contact support",10002:"Invalid JSON format. Please check the contents of transmission",10003:"A system error occurred. Please contact support",10005:"A timeout error occurred. Please wait for a while and try again",20001:"API authentication failed",20002:"Illegal API key",20003:"API key does not exist",20004:"API Nonce does not exist",20005:"API signature does not exist",20011:"Two-step verification failed",20014:"SMS authentication failed",30001:"Please specify the order quantity",30006:"Please specify the order ID",30007:"Please specify the order ID array",30009:"Please specify the stock",30012:"Please specify the order price",30013:"Trade Please specify either",30015:"Please specify the order type",30016:"Please specify asset name",30019:"Please specify uuid",30039:"Please specify the amount to be withdrawn",40001:"The order quantity is invalid",40006:"Count value is invalid",40007:"End time is invalid",40008:"end_id Value is invalid",40009:"The from_id value is invalid",40013:"The order ID is invalid",40014:"The order ID array is invalid",40015:"Too many specified orders",40017:"Incorrect issue name",40020:"The order price is invalid",40021:"The trading classification is invalid",40022:"Start date is invalid",40024:"The order type is invalid",40025:"Incorrect asset name",40028:"uuid is invalid",40048:"The amount of withdrawal is illegal",50003:"Currently, this account is in a state where you can not perform the operation you specified. Please contact support",50004:"Currently, this account is temporarily registered. Please try again after registering your account",50005:"Currently, this account is locked. Please contact support",50006:"Currently, this account is locked. Please contact support",50008:"User identification has not been completed",50009:"Your order does not exist",50010:"Can not cancel specified order",50011:"API not found",60001:"The number of possessions is insufficient",60002:"It exceeds the quantity upper limit of the tender buying order",60003:"The specified quantity exceeds the limit",60004:"The specified quantity is below the threshold",60005:"The specified price is above the limit",60006:"The specified price is below the lower limit",70001:"A system error occurred. Please contact support",70002:"A system error occurred. Please contact support",70003:"A system error occurred. Please contact support",70004:"We are unable to accept orders as the transaction is currently suspended",70005:"Order can not be accepted because purchase order is currently suspended",70006:"We can not accept orders because we are currently unsubscribed ",70009:"We are currently temporarily restricting orders to be carried out. Please use the limit order.",70010:"We are temporarily raising the minimum order quantity as the system load is now rising."},t=this.exceptions,i=this.safeString(d,"code"),r=this.safeString(e,i,"Error"),a=this.safeValue(t,i);throw void 0!==a?new a(r):new s(this.id+" "+this.json(o))}return o}}},aAq9:function(e,t,i){"use strict";var r=t;r.base=i("7ZyU"),r.short=i("cfHP"),r.mont=i("Z4ft"),r.edwards=i("48B7")},aE5k:function(e,t,i){"use strict";const r=i("pRMk").Buffer,s=i("ZG6w").Transform,a=i("wfEq");e.exports=function(e){function t(t,i,r,a,n){s.call(this,n),this._rate=t,this._capacity=i,this._delimitedSuffix=r,this._hashBitLength=a,this._options=n,this._state=new e,this._state.initialize(t,i),this._finalized=!1}return a(t,s),t.prototype._transform=function(e,t,i){let r=null;try{this.update(e,t)}catch(s){r=s}i(r)},t.prototype._flush=function(e){let t=null;try{this.push(this.digest())}catch(i){t=i}e(t)},t.prototype.update=function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return r.isBuffer(e)||(e=r.from(e,t)),this._state.absorb(e),this},t.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t},t.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},t.prototype._clone=function(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e},t}},aFfd:function(e,t,i){"use strict";const r=i("OjXq"),{NotSupported:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitlish",name:"Bitlish",countries:["GB","EU","RU"],rateLimit:1500,version:"v1",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1h":3600},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766275-dcfc6c30-5ed3-11e7-839d-00a846385d0b.jpg",api:"https://bitlish.com/api",www:"https://bitlish.com",doc:"https://bitlish.com/api",fees:"https://bitlish.com/fees"},requiredCredentials:{apiKey:!0,secret:!1},fees:{trading:{tierBased:!1,percentage:!0,taker:.003,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.001,DOGE:.001,ETH:.001,XMR:0,ZEC:.001,DASH:1e-4,EUR:50},deposit:{BTC:0,LTC:0,DOGE:0,ETH:0,XMR:0,ZEC:0,DASH:0,EUR:0}}},api:{public:{get:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"],post:["instruments","ohlcv","pairs","tickers","trades_depth","trades_history"]},private:{post:["accounts_operations","balance","cancel_trade","cancel_trades_by_ids","cancel_all_trades","create_bcode","create_template_wallet","create_trade","deposit","list_accounts_operations_from_ts","list_active_trades","list_bcodes","list_my_matches_from_ts","list_my_trades","list_my_trads_from_ts","list_payment_methods","list_payments","redeem_code","resign","signin","signout","trade_details","trade_options","withdraw","withdraw_by_id"]}},commonCurrencies:{DSH:"DASH",XDG:"DOGE"}})}async fetchMarkets(e={}){const t=await this.publicGetPairs(e),i=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const e=t[r[s]],a=this.safeString(e,"id"),n=this.safeString(e,"name"),[o,c]=n.split("/"),d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=d+"/"+h;i.push({id:a,symbol:u,base:d,quote:h,baseId:o,quoteId:c,info:e})}return i}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{timestamp:i,datetime:this.iso8601(i),symbol:r,high:this.safeFloat(e,"max"),low:this.safeFloat(e,"min"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"first"),close:s,last:s,previousClose:void 0,change:void 0,percentage:100*this.safeFloat(e,"prc"),average:void 0,baseVolume:this.safeFloat(e,"sum"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeValue(this.markets_by_id,e);let n=void 0;if(void 0!==t)n=t.symbol;else{const t=e.slice(0,3),i=e.slice(3,6);n=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}const o=i[e];s[n]=this.parseTicker(o,t)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetTickers(t),s=i.id;return this.parseTicker(r[s],i)}async fetchOHLCV(e,t="1h",i,r,s={}){await this.loadMarkets();let a=this.seconds()-2592e3;void 0!==i&&(a=parseInt(i/1e3));const n={time_range:[a.toString(),void 0]};return await this.publicPostOhlcv(this.extend(n,s))}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair_id:this.marketId(e)},s=await this.publicGetTradesDepth(this.extend(r,i));let a=void 0;const n=this.safeInteger(s,"last");return void 0!==n&&(a=parseInt(n/1e3)),this.parseOrderBook(s,a,"bid","ask","price","volume")}parseTrade(e,t){const i="bid"===e.dir?"buy":"sell";let r=void 0;void 0!==t&&(r=t.symbol);let s=this.safeInteger(e,"created");void 0!==s&&(s=parseInt(s/1e3));const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;return void 0!==n&&void 0!==a&&(o=a*n),{id:void 0,info:e,timestamp:s,datetime:this.iso8601(s),symbol:r,order:void 0,type:void 0,side:i,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=await this.publicGetTradesHistory(this.extend({pair_id:s.id},r));return this.parseTrades(a.list,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],a=this.safeCurrencyCode(e),n=this.account(),o=this.safeValue(t,e,{});n.free=this.safeFloat(o,"funds"),n.used=this.safeFloat(o,"holded"),i[a]=n}return this.parseBalance(i)}async signIn(e={}){const t={login:this.login,passwd:this.password};return await this.privatePostSignin(this.extend(t,e))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={pair_id:this.marketId(e),dir:"buy"===i?"bid":"ask",amount:r};"limit"===t&&(n.price=s);const o=await this.privatePostCreateTrade(this.extend(n,a));return{info:o,id:this.safeString(o,"id")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e};return await this.privatePostCancelTrade(this.extend(r,i))}async withdraw(e,t,i,r,a={}){if("BTC"!==e)throw new s(this.id+" currently supports BTC withdrawals only, until they document other currencies...");this.checkAddress(i),await this.loadMarkets();const n={currency:this.currency(e).id,amount:parseFloat(t),account:i,payment_method:"bitcoin"},o=await this.privatePostWithdraw(this.extend(n,a));return{info:o,id:o.message_id}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;return"public"===t?"GET"===i?Object.keys(r).length&&(n+="?"+this.urlencode(r)):(a=this.json(r),s={"Content-Type":"application/json"}):(this.checkRequiredCredentials(),a=this.json(this.extend({token:this.apiKey},r)),s={"Content-Type":"application/json"}),{url:n,method:i,body:a,headers:s}}}},aIci:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ExchangeNotAvailable:a,ArgumentsRequired:n,BadRequest:o,AuthenticationError:c,InvalidOrder:d,OrderNotFound:h,NotSupported:u,OrderNotFillable:l,InvalidAddress:f,InsufficientFunds:p}=i("ucJe");e.exports=class extends r{describe(){return this.checkRequiredDependencies(),this.deepExtend(super.describe(),{id:"theocean",name:"The Ocean",countries:["US"],rateLimit:3e3,version:"v1",requiresWeb3:!0,timeframes:{"5m":"300","15m":"900","1h":"3600","6h":"21600","1d":"86400"},has:{cancelAllOrders:!0,CORS:!1,fetchClosedOrders:!0,fetchOHLCV:!1,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/43103756-d56613ce-8ed7-11e8-924e-68f9d4bcacab.jpg",api:"https://api.theocean.trade",www:"https://theocean.trade",doc:"https://docs.theocean.trade",fees:"https://theocean.trade/fees"},api:{public:{get:["fee_components","token_pairs","ticker","tickers","candlesticks","candlesticks/intervals","trade_history","order_book","order/{orderHash}","version"]},private:{get:["balance","available_balance","order_history","order/unsigned","order/unsigned/market"],post:["order"],delete:["order/{orderHash}","order"]}},exceptions:{exact:{"Order not found":h},broad:{"Price can't exceed 8 digits in precision.":d,"Order cannot be canceled":d,"Greater than available wallet balance.":p,"Fillable amount under minimum":d,"Fillable amount over maximum":d,"Schema validation failed for 'params'":o,"Service Temporarily Unavailable":a}},options:{decimals:{},fetchOrderMethod:"fetch_order_from_history"}})}async fetchMarkets(e={}){const t=await this.publicGetTokenPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeValue(e,"baseToken",{}),a=this.safeValue(e,"quoteToken",{}),n=this.safeString(s,"address"),o=this.safeString(a,"address"),c=this.safeCurrencyCode(this.safeString(s,"symbol")),d=this.safeCurrencyCode(this.safeString(a,"symbol")),h=c+"/"+d,u=n+"/"+o,l=this.safeInteger(s,"decimals"),f=this.safeInteger(a,"decimals");this.options.decimals[c]=l,this.options.decimals[d]=f;const p={amount:-parseInt(s.precision),price:-parseInt(a.precision)},m={amount:{min:this.fromWei(this.safeString(s,"minAmount"),"ether",l),max:this.fromWei(this.safeString(s,"maxAmount"),"ether",l)},price:{min:void 0,max:void 0},cost:{min:this.fromWei(this.safeString(a,"minAmount"),"ether",f),max:this.fromWei(this.safeString(a,"maxAmount"),"ether",f)}},y=!0;i.push({id:u,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:y,precision:p,limits:m,info:e})}return i}parseOHLCV(e,t,i="5m",r,s){const a=this.safeInteger(this.options.decimals,t.base,18);return[this.safeTimestamp(e,"startTime"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.fromWei(this.safeString(e,"baseVolume"),"ether",a)]}async fetchOHLCV(e,t="5m",i,r,a={}){await this.loadMarkets();const n=this.market(e),o={baseTokenAddress:n.baseId,quoteTokenAddress:n.quoteId,interval:this.timeframes[t]};if(void 0===i)throw new s(this.id+" fetchOHLCV requires a since argument");i=parseInt(i),o.startTime=i;const c=await this.publicGetCandlesticks(this.extend(o,a));return this.parseOHLCVs(c,n,t,i,r)}async fetchBalanceByCode(e,t={}){if(!this.walletAddress||0!==this.walletAddress.indexOf("0x"))throw new f(this.id+' fetchBalanceByCode() requires the .walletAddress to be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377"');await this.loadMarkets();const i=this.currency(e),r={walletAddress:this.walletAddress.toLowerCase(),tokenAddress:i.id},s=await this.privateGetBalance(this.extend(r,t)),a=this.safeInteger(this.options.decimals,e,18);return{free:this.fromWei(this.safeString(s,"available"),"ether",a),used:this.fromWei(this.safeString(s,"committed"),"ether",a),total:this.fromWei(this.safeString(s,"total"),"ether",a)}}async fetchBalance(e={}){if(!this.walletAddress||0!==this.walletAddress.indexOf("0x"))throw new f(this.id+' fetchBalance() requires the .walletAddress to be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377"');let t=this.safeValue(this.options,"fetchBalanceCurrencies");if(void 0===t&&(t=this.safeValue(e,"codes")),void 0===t||!Array.isArray(t))throw new s(this.id+" fetchBalance() requires a `codes` parameter (an array of currency codes)");await this.loadMarkets();const i={};for(let r=0;r<t.length;r++){const e=t[r];i[e]=await this.fetchBalanceByCode(e)}return this.parseBalance(i)}parseBidAsk(e,t=0,i=1,r){if(void 0===r)throw new n(this.id+" parseBidAsk requires a market argument");const s=parseFloat(e[t]),a=this.safeInteger(this.options.decimals,r.base,18);return[s,this.fromWei(e[i],"ether",a)]}parseOrderBook(e,t,i="bids",r="asks",s=0,a=1,n){const o={timestamp:t,datetime:this.iso8601(t),nonce:void 0},c=[i,r];for(let d=0;d<c.length;d++){const t=c[d],i=[],r=this.safeValue(e,t);for(let e=0;e<r.length;e++)i.push(this.parseBidAsk(r[e],s,a,n));o[t]=i}return o[i]=this.sortBy(o[i],0,!0),o[r]=this.sortBy(o[r],0),o}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={baseTokenAddress:r.baseId,quoteTokenAddress:r.quoteId};void 0!==t&&(s.depth=t);const a=await this.publicGetOrderBook(this.extend(s,i));return this.parseOrderBook(a,void 0,"bids","asks","price","availableAmount",r)}parseTicker(e,t){const i=parseInt(this.safeInteger(e,"timestamp")/1e3);let r=void 0,s=void 0;void 0!==t&&(r=t.symbol,s=t.base);const a=this.safeInteger(this.options.decimals,s,18),n=this.fromWei(this.safeString(e,"volume"),"ether",a),o=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"priceChange"),average:void 0,baseVolume:n,quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"baseTokenAddress")+"/"+this.safeString(e,"quoteTokenAddress");let a=void 0,n=t;t in this.markets_by_id&&(a=this.markets_by_id[t],n=a.symbol),r[n]=this.parseTicker(e.ticker,a)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={baseTokenAddress:i.baseId,quoteTokenAddress:i.quoteId},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){let i=this.safeInteger(e,"lastUpdated");void 0!==i&&(i/=1e3);const r=this.safeFloat(e,"price"),s=this.safeString(e,"id"),a=this.safeString(e,"side");let n=void 0,o=void 0;void 0!==t&&(n=t.symbol,o=t.base);const c=this.safeInteger(this.options.decimals,o,18),d=this.fromWei(this.safeString(e,"amount"),"ether",c);let h=void 0;void 0!==d&&void 0!==r&&(h=d*r);return{id:s,order:s,timestamp:i,datetime:this.iso8601(i),symbol:n,type:void 0,side:a,takerOrMaker:"taker",price:r,amount:d,cost:h,fee:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={baseTokenAddress:s.baseId,quoteTokenAddress:s.quoteId},n=await this.publicGetTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){const n=this.id+' createOrder() requires `exchange.walletAddress` and `exchange.privateKey`. The .walletAddress should be a "0x"-prefixed hexstring like "0xbF2d65B3b2907214EEA3562f21B80f6Ed7220377". The .privateKey for that wallet should be a "0x"-prefixed hexstring like "0xe4f40d465efa94c98aec1a51f574329344c772c1bce33be07fa20a56795fdd09".';if(!this.walletAddress||0!==this.walletAddress.indexOf("0x"))throw new f(n);if(!this.privateKey||0!==this.privateKey.indexOf("0x"))throw new f(n);const o=await this.fetchOrderParamsToSign(e,t,i,r,s,a),c=o.unsignedZeroExOrder;if(void 0===c)throw new l(this.id+" "+t+" order to "+i+" "+e+" is not fillable at the moment");const d=await this.signZeroExOrderV2(c,this.privateKey),h=this.safeString(d,"orderHash");await this.postSignedOrder(d,o,a);const u=await this.fetchOrder(h);return u.type=t,u}async fetchOrderParamsToSign(e,t,i,r,a,n={}){if("buy"!==i&&"sell"!==i)throw new s(i+" is not valid side param. Use 'buy' or 'sell'");if("market"!==t&&"limit"!==t)throw new s(t+" is not valid type param. Use 'market' or 'limit'");if("limit"===t&&void 0===a)throw new s("Price is not provided for limit order");await this.loadMarkets();const o=this.market(e),c=this.safeInteger(this.options.decimals,o.base,18),d={walletAddress:this.walletAddress.toLowerCase(),baseTokenAddress:o.baseId,quoteTokenAddress:o.quoteId,side:i,amount:this.toWei(this.amountToPrecision(e,r),"ether",c)};let h=void 0;if("limit"===t)h="privateGetOrderUnsigned",d.price=this.priceToPrecision(e,a);else{if("market"!==t)throw new s("Unsupported order type: "+t);h="privateGetOrderUnsignedMarket"}return await this[h](this.extend(d,n))}async postSignedOrder(e,t,i={}){let r=t;return r.signedZeroExOrder=e,r=this.omit(r,"unsignedZeroExOrder"),await this.privatePostOrder(this.extend(r,i))}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderHash:e},s=await this.privateDeleteOrderOrderHash(this.extend(r,i));let a=void 0;return void 0!==t&&(a=this.market(t)),this.extend(this.parseOrder(s.canceledOrder,a),{status:"canceled"})}async cancelAllOrders(e,t={}){return await this.privateDeleteOrder(t)}parseOrder(e,t){const i=this.safeValue(e,"zeroExOrder");let r=this.safeString(e,"orderHash");void 0===r&&void 0!==i&&(r=this.safeString(i,"orderHash"));const s=this.safeString(e,"side"),a=this.safeString(e,"type");let n=this.safeInteger(e,"creationTimestamp");"undefined"!==n&&(n=parseInt(n/1e3));let o=void 0;const c=this.safeString(e,"baseTokenAddress"),d=this.safeString(e,"quoteTokenAddress");let h=void 0;void 0!==c&&void 0!==d&&(h=c+"/"+d);let l=void 0;void 0!==(t=this.safeValue(this.markets_by_id,h,t))&&(o=t.symbol,l=t.base);const f=this.safeInteger(this.options.decimals,l,18),p=this.safeFloat(e,"price"),m=this.fromWei(this.safeString(e,"filledAmount"),"ether",f),y=this.fromWei(this.safeString(e,"settledAmount"),"ether",f),b=this.fromWei(this.safeString(e,"confirmedAmount"),"ether",f),v=this.fromWei(this.safeString(e,"failedAmount"),"ether",f),g=this.fromWei(this.safeString(e,"deadAmount"),"ether",f),w=this.fromWei(this.safeString(e,"prunedAmount"),"ether",f),k=this.fromWei(this.safeString(e,"initialAmount"),"ether",f),_=this.sum(m,y,b);let T=void 0,S=void 0;const x=this.safeValue(e,"timeline");let O=void 0,C=void 0;if(void 0!==x){if(x.length>0){const e=this.groupBy(x,"action");if("error"in e&&(C="failed"),"filled"in e){const i=this.safeValue(e,"filled"),n=i.length;S=this.safeInteger(i[n-1],"timestamp"),S=S,O=[];for(let e=0;e<n;e++){const n=this.parseTrade(this.extend(i[e],{price:p}),t);O.push(this.extend(n,{order:r,type:a,side:s}))}}}}let M=void 0;void 0!==_&&(void 0===T&&void 0!==k&&(T=k-_),void 0!==p&&(M=_*p));let A=void 0;const E=this.safeString(e,"feeAmount");if(void 0!==E){const i=this.safeString(e,"feeOption");let r=void 0;if("feeInNative"===i)void 0!==t&&(r=t.base);else{if("feeInZRX"!==i)throw new u(this.id+" encountered an unsupported order fee option: "+i);r="ZRX"}const s=this.safeInteger(this.options.decimals,r,18);A={cost:this.fromWei(E,"ether",s),currency:r}}const I=t?t.precision.amount:8;if(void 0!==T&&void 0===C){C="open",T-v-g-w<Math.pow(10,-I)&&(C=_<k?"canceled":"closed")}return{info:e,id:r,symbol:o,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:S,type:a,side:s,price:p,cost:M,amount:k,remaining:T,filled:_,status:C,fee:A,trades:O}}async fetchOpenOrder(e,t,i={}){const r=this.options.fetchOrderMethod;return await this[r](e,t,this.extend({openAmount:1},i))}async fetchClosedOrder(e,t,i={}){const r=this.options.fetchOrderMethod;return await this[r](e,t,this.extend(i))}async fetchOrderFromHistory(e,t,i={}){const r={orderHash:e},s=await this.fetchOrders(t,void 0,void 0,this.extend(r,i)),a=this.indexBy(s,"id");if(e in a)return a[e];throw new h(this.id+" could not find order "+e+" in order history")}async fetchOrderById(e,t,i={}){await this.loadMarkets();const r={orderHash:e},s=await this.publicGetOrderOrderHash(this.extend(r,i));return this.parseOrder(s)}async fetchOrder(e,t,i={}){const r={orderHash:e},s=await this.fetchOrders(t,void 0,void 0,this.extend(r,i));if(1!==s.length)throw new h(this.id+" order "+e+" not found");return s[0]}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.baseTokenAddress=a.baseId,s.quoteTokenAddress=a.quoteId),void 0!==i&&(s.limit=i);const n=await this.privateGetOrderHistory(this.extend(s,r));return this.parseOrders(n,void 0,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({openAmount:1},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({openAmount:0},r))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("private"===t){this.checkRequiredCredentials();const e=this.seconds().toString();let t=this.apiKey+e+i;"POST"===i?t+=a=this.json(o):(Object.keys(o).length&&(n+="?"+this.urlencode(o)),t+=this.json({}));const r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s={"TOX-ACCESS-KEY":this.apiKey,"TOX-ACCESS-SIGN":r,"TOX-ACCESS-TIMESTAMP":e,"Content-Type":"application/json"}}else"public"===t&&Object.keys(o).length&&(n+="?"+this.urlencode(o));return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,d,h){if(void 0===o)return;if("'Authentication failed'"===n)throw new c(this.id+" "+n);const u=this.safeString(o,"message");if(void 0!==u){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,n,e),new s(e)}}}},akY0:function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var n=s(i("8kJ5")),o=i("QOjt"),c=i("sw1+"),d=i("BFfO"),h=a(i("pa9A")),u=new n.default.BN(-1);function l(e){var t=e.toString(16);return"-"===t[0]?t.length%2===0?"-0x0"+t.substring(1):"-0x"+t.substring(1):t.length%2===1?"0x0"+t:"0x"+t}function f(e){return y(e)._bn}function p(e){return new m(l(e))}var m=function(e){function t(i){var r=e.call(this)||this;if(h.checkNew(r,t),"string"===typeof i)o.isHexString(i)?("0x"==i&&(i="0x0"),c.defineReadOnly(r,"_hex",i)):"-"===i[0]&&o.isHexString(i.substring(1))?c.defineReadOnly(r,"_hex",i):i.match(/^-?[0-9]*$/)?(""==i&&(i="0"),c.defineReadOnly(r,"_hex",l(new n.default.BN(i)))):h.throwError("invalid BigNumber string value",h.INVALID_ARGUMENT,{arg:"value",value:i});else if("number"===typeof i){parseInt(String(i))!==i&&h.throwError("underflow",h.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:i,outputValue:parseInt(String(i))});try{c.defineReadOnly(r,"_hex",l(new n.default.BN(i)))}catch(s){h.throwError("overflow",h.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:s.message})}}else i instanceof t?c.defineReadOnly(r,"_hex",i._hex):i.toHexString?c.defineReadOnly(r,"_hex",l(f(i.toHexString()))):o.isArrayish(i)?c.defineReadOnly(r,"_hex",l(new n.default.BN(o.hexlify(i).substring(2),16))):h.throwError("invalid BigNumber value",h.INVALID_ARGUMENT,{arg:"value",value:i});return r}return r(t,e),Object.defineProperty(t.prototype,"_bn",{get:function(){return"-"===this._hex[0]?new n.default.BN(this._hex.substring(3),16).mul(u):new n.default.BN(this._hex.substring(2),16)},enumerable:!0,configurable:!0}),t.prototype.fromTwos=function(e){return p(this._bn.fromTwos(e))},t.prototype.toTwos=function(e){return p(this._bn.toTwos(e))},t.prototype.add=function(e){return p(this._bn.add(f(e)))},t.prototype.sub=function(e){return p(this._bn.sub(f(e)))},t.prototype.div=function(e){return y(e).isZero()&&h.throwError("division by zero",h.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"}),p(this._bn.div(f(e)))},t.prototype.mul=function(e){return p(this._bn.mul(f(e)))},t.prototype.mod=function(e){return p(this._bn.mod(f(e)))},t.prototype.pow=function(e){return p(this._bn.pow(f(e)))},t.prototype.maskn=function(e){return p(this._bn.maskn(e))},t.prototype.eq=function(e){return this._bn.eq(f(e))},t.prototype.lt=function(e){return this._bn.lt(f(e))},t.prototype.lte=function(e){return this._bn.lte(f(e))},t.prototype.gt=function(e){return this._bn.gt(f(e))},t.prototype.gte=function(e){return this._bn.gte(f(e))},t.prototype.isZero=function(){return this._bn.isZero()},t.prototype.toNumber=function(){try{return this._bn.toNumber()}catch(e){h.throwError("overflow",h.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:e.message})}return null},t.prototype.toString=function(){return this._bn.toString(10)},t.prototype.toHexString=function(){return this._hex},t}(d.BigNumber);function y(e){return e instanceof m?e:new m(e)}t.bigNumberify=y,t.ConstantNegativeOne=y(-1),t.ConstantZero=y(0),t.ConstantOne=y(1),t.ConstantTwo=y(2),t.ConstantWeiPerEther=y("1000000000000000000")},"b+ih":function(e,t,i){"use strict";var r=i("xQh+"),s=i("Hy3L"),a=Object.prototype.hasOwnProperty,n={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=Array.prototype.push,d=function(e,t){c.apply(e,o(t)?t:[t])},h=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:s.formatters[s.default],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,i,s,a,n,c,h,l,f,p,m,y,b){var v=t;if("function"===typeof h?v=h(i,v):v instanceof Date?v=p(v):"comma"===s&&o(v)&&(v=v.join(",")),null===v){if(a)return c&&!y?c(i,u.encoder,b):i;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||r.isBuffer(v))return c?[m(y?i:c(i,u.encoder,b))+"="+m(c(v,u.encoder,b))]:[m(i)+"="+m(String(v))];var g,w=[];if("undefined"===typeof v)return w;if(o(h))g=h;else{var k=Object.keys(v);g=l?k.sort(l):k}for(var _=0;_<g.length;++_){var T=g[_];n&&null===v[T]||(o(v)?d(w,e(v[T],"function"===typeof s?s(i,T):i,s,a,n,c,h,l,f,p,m,y,b)):d(w,e(v[T],i+(f?"."+T:"["+T+"]"),s,a,n,c,h,l,f,p,m,y,b)))}return w};e.exports=function(e,t){var i,r=e,c=function(e){if(!e)return u;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=s.default;if("undefined"!==typeof e.format){if(!a.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var r=s.formatters[i],n=u.filter;return("function"===typeof e.filter||o(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?u.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?u.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:u.encode,encoder:"function"===typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}}(t);"function"===typeof c.filter?r=(0,c.filter)("",r):o(c.filter)&&(i=c.filter);var h,f=[];if("object"!==typeof r||null===r)return"";h=t&&t.arrayFormat in n?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=n[h];i||(i=Object.keys(r)),c.sort&&i.sort(c.sort);for(var m=0;m<i.length;++m){var y=i[m];c.skipNulls&&null===r[y]||d(f,l(r[y],y,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var b=f.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),b.length>0?v+b:""}},bACA:function(e,t,i){"use strict";(function(t,r){var s=i("PoH+"),a=i("/mWR").errors,n=i("R3fu").w3cwebsocket,o="[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0),c=null,d=null;if(o){c=function(e){return r.from(e).toString("base64")};var h=i("so/P");if(h.URL){var u=h.URL;d=function(e){return new u(e)}}else d=i("so/P").parse}else c=btoa,d=function(e){return new URL(e)};var l=function(e,t){if(!n)throw new Error("websocket is not available");var i=this;this.responseCallbacks={},this.notificationCallbacks=[],t=t||{},this._customTimeout=t.timeout;var r=d(e),a=t.headers||{},o=t.protocol||void 0;r.username&&r.password&&(a.authorization="Basic "+c(r.username+":"+r.password));var h=t.clientConfig||void 0,u=t.requestOptions||void 0;r.auth&&(a.authorization="Basic "+c(r.auth)),this.connection=new n(e,o,void 0,a,u,h),this.addDefaultEvents(),this.connection.onmessage=function(e){var t="string"===typeof e.data?e.data:"";i._parseResponse(t).forEach((function(e){var t=null;s.isArray(e)?e.forEach((function(e){i.responseCallbacks[e.id]&&(t=e.id)})):t=e.id,!t&&e&&e.method&&-1!==e.method.indexOf("_subscription")?i.notificationCallbacks.forEach((function(t){s.isFunction(t)&&t(e)})):i.responseCallbacks[t]&&(i.responseCallbacks[t](null,e),delete i.responseCallbacks[t])}))},Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0})};l.prototype.addDefaultEvents=function(){var e=this;this.connection.onerror=function(){e._timeout()},this.connection.onclose=function(){e._timeout(),e.reset()}},l.prototype._parseResponse=function(e){var t=this,i=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(e){t.lastChunk&&(e=t.lastChunk+e);var r=null;try{r=JSON.parse(e)}catch(s){return t.lastChunk=e,clearTimeout(t.lastChunkTimeout),void(t.lastChunkTimeout=setTimeout((function(){throw t._timeout(),a.InvalidResponse(e)}),15e3))}clearTimeout(t.lastChunkTimeout),t.lastChunk=null,r&&i.push(r)})),i},l.prototype._addResponseCallback=function(e,t){var i=e.id||e[0].id,r=e.method||e[0].method;this.responseCallbacks[i]=t,this.responseCallbacks[i].method=r;var s=this;this._customTimeout&&setTimeout((function(){s.responseCallbacks[i]&&(s.responseCallbacks[i](a.ConnectionTimeout(s._customTimeout)),delete s.responseCallbacks[i])}),this._customTimeout)},l.prototype._timeout=function(){for(var e in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(e)&&(this.responseCallbacks[e](a.InvalidConnection("on WS")),delete this.responseCallbacks[e])},l.prototype.send=function(e,t){var i=this;if(this.connection.readyState!==this.connection.CONNECTING){if(this.connection.readyState!==this.connection.OPEN)return console.error("connection not open on send()"),"function"===typeof this.connection.onerror?this.connection.onerror(new Error("connection not open")):console.error("no error callback"),void t(new Error("connection not open"));this.connection.send(JSON.stringify(e)),this._addResponseCallback(e,t)}else setTimeout((function(){i.send(e,t)}),10)},l.prototype.on=function(e,t){if("function"!==typeof t)throw new Error("The second parameter callback must be a function.");switch(e){case"data":this.notificationCallbacks.push(t);break;case"connect":this.connection.onopen=t;break;case"end":this.connection.onclose=t;break;case"error":this.connection.onerror=t}},l.prototype.removeListener=function(e,t){var i=this;switch(e){case"data":this.notificationCallbacks.forEach((function(e,r){e===t&&i.notificationCallbacks.splice(r,1)}))}},l.prototype.removeAllListeners=function(e){switch(e){case"data":this.notificationCallbacks=[];break;case"connect":this.connection.onopen=null;break;case"end":this.connection.onclose=null;break;case"error":this.connection.onerror=null}},l.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.addDefaultEvents()},l.prototype.disconnect=function(){this.connection&&this.connection.close()},l.prototype.supportsSubscriptions=function(){return!0},e.exports=l}).call(this,i("5IsQ"),i("qykS").Buffer)},bAGH:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,RateLimitExceeded:n,ArgumentsRequired:o}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinfalcon",name:"CoinFalcon",countries:["GB"],rateLimit:1e3,version:"v1",has:{fetchTickers:!0,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/41822275-ed982188-77f5-11e8-92bb-496bcd14ca52.jpg",api:"https://coinfalcon.com",www:"https://coinfalcon.com",doc:"https://docs.coinfalcon.com",fees:"https://coinfalcon.com/fees",referral:"https://coinfalcon.com/?ref=CFJSVGTUPASB"},api:{public:{get:["markets","markets/{market}/orders","markets/{market}/trades"]},private:{get:["user/accounts","user/orders","user/orders/{id}","user/trades"],post:["user/orders"],delete:["user/orders/{id}"]}},fees:{trading:{tierBased:!0,maker:0,taker:.002}},precision:{amount:8,price:8}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],[t,a]=e.name.split("-"),n=this.safeCurrencyCode(t),o=this.safeCurrencyCode(a),c=n+"/"+o,d={amount:this.safeInteger(e,"size_precision"),price:this.safeInteger(e,"price_precision")};r.push({id:e.name,symbol:c,base:n,quote:o,baseId:t,quoteId:a,active:!0,precision:d,limits:{amount:{min:Math.pow(10,-d.amount),max:void 0},price:{min:Math.pow(10,-d.price),max:void 0},cost:{min:void 0,max:void 0}},info:e})}return r}parseTicker(e,t){if(void 0===t){const i=this.safeString(e,"name");t=this.safeValue(this.markets_by_id,i,t)}let i=void 0;void 0!==t&&(i=t.symbol);const r=this.milliseconds(),s=parseFloat(e.last_price);return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"change_in_24h"),percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}async fetchTicker(e,t={}){return await this.loadMarkets(),(await this.fetchTickers(t))[e]}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarkets(t),r=this.safeValue(i,"data"),s={};for(let a=0;a<r.length;a++){const e=this.parseTicker(r[a]);s[e.symbol]=e}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e),level:"3"},s=await this.publicGetMarketsMarketOrders(this.extend(r,i));return this.parseOrderBook(s.data,void 0,"bids","asks","price","size")}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"size"),a=t.symbol;let n=void 0;void 0!==r&&void 0!==s&&(n=parseFloat(this.costToPrecision(a,r*s)));const o=this.safeString(e,"id"),c=this.safeString(e,"side"),d=this.safeString(e,"order_id");let h=void 0;const u=this.safeFloat(e,"fee");if(void 0!==u){const t=this.safeString(e,"fee_currency_code");h={cost:u,currency:this.safeCurrencyCode(t)}}return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,id:o,order:d,type:void 0,side:c,takerOrMaker:void 0,price:r,amount:s,cost:n,fee:h}}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.start_time=this.iso8601(t)),void 0!==i&&(a.limit=i);const n=await this.privateGetUserTrades(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==t&&(a.since=this.iso8601(t));const n=await this.publicGetMarketsMarketTrades(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUserAccounts(e),i={info:t},r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(t),n={free:this.safeFloat(e,"available_balance"),used:this.safeFloat(e,"hold_balance"),total:this.safeFloat(e,"balance")};i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({fulfilled:"closed",canceled:"canceled",pending:"open",open:"open",partially_filled:"open"},e,e)}parseOrder(e,t){if(void 0===t){const i=this.safeString(e,"market");i in this.markets_by_id&&(t=this.markets_by_id[i])}let i=void 0;void 0!==t&&(i=t.symbol);const r=this.parse8601(this.safeString(e,"created_at")),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"size"),n=this.safeFloat(e,"size_filled");let o=void 0,c=void 0;void 0!==a&&(void 0!==n&&(o=parseFloat(this.amountToPrecision(i,a-n))),void 0!==s&&(c=parseFloat(this.priceToPrecision(i,n*s))));const d=this.parseOrderStatus(this.safeString(e,"status"));let h=this.safeString(e,"operation_type");void 0!==h&&(h=h.split("_"),h=h[0]);const u=this.safeString(e,"order_type");return{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,status:d,symbol:i,type:h,side:u,price:s,cost:c,amount:a,filled:n,remaining:o,trades:void 0,fee:void 0,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={market:n.id,size:this.amountToPrecision(e,r),order_type:i};"limit"===t&&(s=this.priceToPrecision(e,s),o.price=s.toString()),o.operation_type=t+"_order";const c=await this.privatePostUserOrders(this.extend(o,a)),d=this.parseOrder(c.data,n),h=d.id;return this.orders[h]=d,d}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateDeleteUserOrdersId(this.extend(r,i)),a=this.market(t);return this.parseOrder(s.data,a)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetUserOrdersId(this.extend(r,i));return this.parseOrder(s.data)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==e&&(s.market=this.marketId(e)),void 0!==t&&(s.since_time=this.iso8601(this.milliseconds()));const a=await this.privateGetUserOrders(this.extend(s,r));return this.parseOrders(a.data)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):a=this.json(o);const e=this.seconds().toString();let t=[e,i,n].join("|");a&&(t+="|"+a);const r=this.hmac(this.encode(t),this.encode(this.secret));s={"CF-API-KEY":this.apiKey,"CF-API-TIMESTAMP":e,"CF-API-SIGNATURE":r,"Content-Type":"application/json"}}return{url:this.urls.api+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,o,c,d,h,u){if(e<400)return;throw new(this.safeValue({401:a,429:n},e,s))(c)}}},bPso:function(e,t,i){"use strict";(function(t,r){var s=65536,a=4294967295;var n=i("pRMk").Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var i=n.allocUnsafe(e);if(e>0)if(e>s)for(var c=0;c<e;c+=s)o.getRandomValues(i.slice(c,c+s));else o.getRandomValues(i);if("function"===typeof t)return r.nextTick((function(){t(null,i)}));return i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,i("pCvA"),i("5IsQ"))},bf7n:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btctradeua",name:"BTC Trade UA",countries:["UA"],rateLimit:3e3,has:{CORS:!0,createMarketOrder:!1,fetchOpenOrders:!0},urls:{referral:"https://btc-trade.com.ua/registration/22689",logo:"https://user-images.githubusercontent.com/1294454/27941483-79fc7350-62d9-11e7-9f61-ac47f28fcd96.jpg",api:"https://btc-trade.com.ua/api",www:"https://btc-trade.com.ua",doc:"https://docs.google.com/document/d/1ocYA0yMy_RXd561sfG3qEPZ80kyll36HUxvCRe5GbhE/edit"},api:{public:{get:["deals/{symbol}","trades/sell/{symbol}","trades/buy/{symbol}","japan_stat/high/{symbol}"]},private:{post:["auth","ask/{symbol}","balance","bid/{symbol}","buy/{symbol}","my_orders/{symbol}","order/status/{id}","remove/order/{id}","sell/{symbol}"]}},markets:{"BCH/UAH":{id:"bch_uah",symbol:"BCH/UAH",base:"BCH",quote:"UAH",baseId:"bch",quoteId:"uah"},"BTC/UAH":{id:"btc_uah",symbol:"BTC/UAH",base:"BTC",quote:"UAH",baseId:"btc",quoteId:"uah",precision:{price:1},limits:{amount:{min:1e-10}}},"DASH/BTC":{id:"dash_btc",symbol:"DASH/BTC",base:"DASH",quote:"BTC",baseId:"dash",quoteId:"btc"},"DASH/UAH":{id:"dash_uah",symbol:"DASH/UAH",base:"DASH",quote:"UAH",baseId:"dash",quoteId:"uah"},"DOGE/BTC":{id:"doge_btc",symbol:"DOGE/BTC",base:"DOGE",quote:"BTC",baseId:"doge",quoteId:"btc"},"DOGE/UAH":{id:"doge_uah",symbol:"DOGE/UAH",base:"DOGE",quote:"UAH",baseId:"doge",quoteId:"uah"},"ETH/UAH":{id:"eth_uah",symbol:"ETH/UAH",base:"ETH",quote:"UAH",baseId:"eth",quoteId:"uah"},"ITI/UAH":{id:"iti_uah",symbol:"ITI/UAH",base:"ITI",quote:"UAH",baseId:"iti",quoteId:"uah"},"KRB/UAH":{id:"krb_uah",symbol:"KRB/UAH",base:"KRB",quote:"UAH",baseId:"krb",quoteId:"uah"},"LTC/BTC":{id:"ltc_btc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc"},"LTC/UAH":{id:"ltc_uah",symbol:"LTC/UAH",base:"LTC",quote:"UAH",baseId:"ltc",quoteId:"uah"},"NVC/BTC":{id:"nvc_btc",symbol:"NVC/BTC",base:"NVC",quote:"BTC",baseId:"nvc",quoteId:"btc"},"NVC/UAH":{id:"nvc_uah",symbol:"NVC/UAH",base:"NVC",quote:"UAH",baseId:"nvc",quoteId:"uah"},"PPC/BTC":{id:"ppc_btc",symbol:"PPC/BTC",base:"PPC",quote:"BTC",baseId:"ppc",quoteId:"btc"},"SIB/UAH":{id:"sib_uah",symbol:"SIB/UAH",base:"SIB",quote:"UAH",baseId:"sib",quoteId:"uah"},"XMR/UAH":{id:"xmr_uah",symbol:"XMR/UAH",base:"XMR",quote:"UAH",baseId:"xmr",quoteId:"uah"},"ZEC/UAH":{id:"zec_uah",symbol:"ZEC/UAH",base:"ZEC",quote:"UAH",baseId:"zec",quoteId:"uah"}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:6e-4,LTC:.01,NVC:.01,DOGE:10}}}})}async signIn(e={}){return await this.privatePostAuth(e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=this.safeValue(t,"accounts");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.total=this.safeFloat(e,"balance"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id},s=await this.publicGetTradesBuySymbol(this.extend(r,i)),a=await this.publicGetTradesSellSymbol(this.extend(r,i)),n={bids:[],asks:[]};return s&&"list"in s&&(n.bids=s.list),a&&"list"in a&&(n.asks=a.list),this.parseOrderBook(n,void 0,"bids","asks","price","currency_trade")}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetJapanStatHighSymbol(this.extend(i,t)),s=this.safeValue(r,"trades"),a=this.milliseconds(),n={symbol:e,timestamp:a,datetime:this.iso8601(a),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:void 0,info:s},o=s.length;if(o>0){for(let t=Math.max(o-48,0);t<s.length;t++){const e=s[t];void 0===n.open&&(n.open=e[1]),(void 0===n.high||n.high<e[2])&&(n.high=e[2]),(void 0===n.low||n.low>e[3])&&(n.low=e[3]),void 0===n.baseVolume?n.baseVolume=-e[5]:n.baseVolume-=e[5]}const e=o-1;n.last=s[e][4],n.close=n.last,n.baseVolume=-1*n.baseVolume}return n}convertCyrillicMonthNameToString(e){return this.safeString({"\u044f\u043d\u0432\u0430\u0440\u044f":"01","\u0444\u0435\u0432\u0440\u0430\u043b\u044f":"02","\u043c\u0430\u0440\u0442\u0430":"03","\u0430\u043f\u0440\u0435\u043b\u044f":"04","\u043c\u0430\u044f":"05","\u0438\u044e\u043d\u044f":"06","\u0438\u044e\u043b\u044f":"07","\u0430\u0432\u0433\u0443\u0441\u0442\u0430":"08","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":"09","\u043e\u043a\u0442\u044f\u0431\u0440\u044f":"10","\u043d\u043e\u044f\u0431\u0440\u044f":"11","\u0434\u0435\u043a\u0430\u0431\u0440\u044f":"12"},e)}parseCyrillicDatetime(e){const t=e.split(" ");let i=t[0];const r=this.convertCyrillicMonthNameToString(t[1]);if(!r)throw new s(this.id+" parseTrade() undefined month name: "+e);const a=t[2];let n=t[4];7===n.length&&(n="0"+n),1===i.length&&(i="0"+i);const o=[a,r,i].join("-")+"T"+n,c=this.parse8601(o);let d=[r,i].join("");return d=parseInt(d),d<325||d>1028?c-72e5:c-108e5}parseTrade(e,t){const i=this.parseCyrillicDatetime(this.safeString(e,"pub_date")),r=this.safeString(e,"id"),s=this.safeString(e,"type"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amnt_trade");let o=void 0;void 0!==n&&void 0!==a&&(o=a*n);let c=void 0;return void 0!==t&&(c=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:c,type:"limit",side:s,order:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetDealsSymbol(this.extend(a,r)),o=[];for(let c=0;c<n.length;c++)n[c].id%2&&o.push(n[c]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,a,n={}){if("market"===t)throw new s(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c="privatePost"+this.capitalize(i)+"Id",d={count:r,currency1:o.quoteId,currency:o.baseId,price:a};return this[c](this.extend(d,n))}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostRemoveOrderId(this.extend(r,i))}parseOrder(e,t){const i=this.milliseconds();let r=void 0;return void 0!==t&&(r=t.symbol),{id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:"open",symbol:r,type:void 0,side:this.safeString(e,"type"),price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amnt_trade"),filled:0,remaining:this.safeFloat(e,"amnt_trade"),trades:void 0,info:e}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id},o=await this.privatePostMyOrdersSymbol(this.extend(n,r)),c=this.safeValue(o,"your_open_orders");return this.parseOrders(c,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+=this.implodeParams(e,o));else{this.checkRequiredCredentials();const e=this.nonce(),t=(a=this.urlencode(this.extend({out_order_id:e,nonce:e},o)))+this.secret;s={"public-key":this.apiKey,"api-sign":this.hash(this.encode(t),"sha256"),"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}}},bxfF:function(e,t,i){"use strict";var r=i("pRMk").Buffer,s=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=d,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=h,this.end=u,t=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function n(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function h(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var s=n(t[r]);if(s>=0)return s>0&&(e.lastNeed=s-1),s;if(--r<i||-2===s)return 0;if((s=n(t[r]))>=0)return s>0&&(e.lastNeed=s-2),s;if(--r<i||-2===s)return 0;if((s=n(t[r]))>=0)return s>0&&(2===s?s=0:e.lastNeed=s-3),s;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},cDjl:function(e,t,i){var r;r="utf-8",e.exports=r},cEa6:function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.2","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},cFST:function(e,t,i){"use strict";var r,s=t,a=i("tFbo"),n=i("aAq9"),o=i("fOyB").assert;function c(e){"short"===e.type?this.curve=new n.short(e):"edwards"===e.type?this.curve=new n.edwards(e):this.curve=new n.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(e,t){Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){var i=new c(t);return Object.defineProperty(s,e,{configurable:!0,enumerable:!0,value:i}),i}})}s.PresetCurve=c,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=i("GYWQ")}catch(h){r=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},cXWM:function(e,t,i){"use strict";var r=i("wfEq"),s=i("zn3x"),a=i("ql4I"),n=i("pRMk").Buffer,o=i("nIf0"),c=i("Olfb"),d=i("thXI"),h=n.alloc(128);function u(e,t){a.call(this,"digest"),"string"===typeof t&&(t=n.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new c:d(e)).update(t).digest():t.length<i&&(t=n.concat([t,h],i));for(var r=this._ipad=n.allocUnsafe(i),s=this._opad=n.allocUnsafe(i),o=0;o<i;o++)r[o]=54^t[o],s[o]=92^t[o];this._hash="rmd160"===e?new c:d(e),this._hash.update(r)}r(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:d(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new u("rmd160",t):"md5"===e?new s(o,t):new u(e,t)}},cdDq:function(e,t,i){"use strict";const{unCamelCase:r}=i("Kqm6");e.exports=(e=>{for(const t in e)e[r(t)]=e[t];return e})(Object.assign({},i("/cFS"),i("ZDdG"),i("Kqm6"),i("YuN0"),i("rwG2"),i("BtsK"),i("H6LP"),i("LP85"),i("g26j"),i("v+hw")))},cfHP:function(e,t,i){"use strict";var r=i("fOyB"),s=i("8kJ5"),a=i("wfEq"),n=i("7ZyU"),o=r.assert;function c(e){n.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(e,t,i,r){n.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,i,r){n.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(i,16),this.z=new s(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,n),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new s(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?i=a[0]:(i=a[1],o(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map((function(e){return{a:new s(e.a,16),b:new s(e.b,16)}})):this._getEndoBasis(i)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),i=new s(2).toRed(t).redInvm(),r=i.redNeg(),a=new s(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(a).fromRed(),r.redSub(a).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,i,r,a,n,o,c,d,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new s(1),m=new s(0),y=new s(0),b=new s(1),v=0;0!==l.cmpn(0);){var g=f.div(l);d=f.sub(g.mul(l)),h=y.sub(g.mul(p));var w=b.sub(g.mul(m));if(!r&&d.cmp(u)<0)t=c.neg(),i=p,r=d.neg(),a=h;else if(r&&2===++v)break;c=d,f=l,l=d,y=p,p=h,b=m,m=w}n=d.neg(),o=h;var k=r.sqr().add(a.sqr());return n.sqr().add(o.sqr()).cmp(k)>=0&&(n=t,o=i),r.negative&&(r=r.neg(),a=a.neg()),n.negative&&(n=n.neg(),o=o.neg()),[{a:r,b:a},{a:n,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],s=r.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),n=s.mul(i.a),o=a.mul(r.a),c=s.mul(i.b),d=a.mul(r.b);return{k1:e.sub(n).sub(o),k2:c.add(d).neg()}},c.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var a=r.fromRed().isOdd();return(t&&!a||!t&&a)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(s).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var n=this._endoSplit(t[a]),o=e[a],c=o._getBeta();n.k1.negative&&(n.k1.ineg(),o=o.neg(!0)),n.k2.negative&&(n.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,s[2*a]=n.k1,s[2*a+1]=n.k2}for(var d=this._wnafMulAdd(1,r,s,2*a,i),h=0;h<2*a;h++)r[h]=null,s[h]=null;return d},a(d,n.BasePoint),c.prototype.point=function(e,t,i){return new d(this,e,t,i)},c.prototype.pointFromJSON=function(e,t){return d.fromJSON(this,e,t)},d.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(e,t,i){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function s(t){return e.point(t[0],t[1],i)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(s))}},r},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},d.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),a=s.redSqr().redISub(this.x.redAdd(this.x)),n=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,n)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(e){return e=new s(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},d.prototype.mulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s):this.curve._wnafMulAdd(1,r,s,2)},d.prototype.jmulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s,!0):this.curve._wnafMulAdd(1,r,s,2,!0)},d.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},d.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(h,n.BasePoint),c.prototype.jpoint=function(e,t,i){return new h(this,e,t,i)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),n=e.y.redMul(i.redMul(this.z)),o=r.redSub(s),c=a.redSub(n);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=o.redSqr(),h=d.redMul(o),u=r.redMul(d),l=c.redSqr().redIAdd(h).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(a.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),n=i.redSub(r),o=s.redSub(a);if(0===n.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=n.redSqr(),d=c.redMul(n),h=i.redMul(c),u=o.redSqr().redIAdd(d).redISub(h).redISub(h),l=o.redMul(h.redISub(u)).redISub(s.redMul(d)),f=this.z.redMul(n);return this.curve.jpoint(u,l,f)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var r=this.curve.a,s=this.curve.tinv,a=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),d=n.redAdd(n);for(i=0;i<e;i++){var h=a.redSqr(),u=d.redSqr(),l=u.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(c)),p=a.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),b=f.redMul(y);b=b.redIAdd(b).redISub(l);var v=d.redMul(o);i+1<e&&(c=c.redMul(l)),a=m,o=v,d=b}return this.curve.jpoint(a,d.redMul(s),o)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(n).redISub(n),d=a.redIAdd(a);d=(d=d.redIAdd(d)).redIAdd(d),e=c,t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(h).redISub(l);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},h.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(n).redISub(n);e=c;var d=a.redIAdd(a);d=(d=d.redIAdd(d)).redIAdd(d),t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var y=u.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,i)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,s=r.redSqr().redSqr(),a=t.redSqr(),n=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=t.redAdd(t),d=(c=c.redIAdd(c)).redMul(n),h=o.redSqr().redISub(d.redAdd(d)),u=d.redISub(h),l=n.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(r);return this.curve.jpoint(h,f,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(n=(n=(n=n.redIAdd(n)).redAdd(n).redIAdd(n)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=s.redIAdd(n).redSqr().redISub(a).redISub(o).redISub(c),h=t.redMul(d);h=(h=h.redIAdd(h)).redIAdd(h);var u=this.x.redMul(o).redISub(h);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.y.redMul(d.redMul(c.redISub(d)).redISub(n.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(n).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},h.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),s=i.redMul(e.z);return 0===this.y.redMul(s).redISub(e.y.redMul(r)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),s=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),0===this.x.cmp(i))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},ciOl:function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},cq1r:function(e,t,i){"use strict";var r=i("wfEq"),s=i("ThzV"),a=i("pRMk").Buffer,n=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function d(e,t,i,r,s,a,n){return c(e+(t&i|~t&r)+s+a|0,n)+t|0}function h(e,t,i,r,s,a,n){return c(e+(t&r|i&~r)+s+a|0,n)+t|0}function u(e,t,i,r,s,a,n){return c(e+(t^i^r)+s+a|0,n)+t|0}function l(e,t,i,r,s,a,n){return c(e+(i^(t|~r))+s+a|0,n)+t|0}r(o,s),o.prototype._update=function(){for(var e=n,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,s=this._c,a=this._d;i=d(i,r,s,a,e[0],3614090360,7),a=d(a,i,r,s,e[1],3905402710,12),s=d(s,a,i,r,e[2],606105819,17),r=d(r,s,a,i,e[3],3250441966,22),i=d(i,r,s,a,e[4],4118548399,7),a=d(a,i,r,s,e[5],1200080426,12),s=d(s,a,i,r,e[6],2821735955,17),r=d(r,s,a,i,e[7],4249261313,22),i=d(i,r,s,a,e[8],1770035416,7),a=d(a,i,r,s,e[9],2336552879,12),s=d(s,a,i,r,e[10],4294925233,17),r=d(r,s,a,i,e[11],2304563134,22),i=d(i,r,s,a,e[12],1804603682,7),a=d(a,i,r,s,e[13],4254626195,12),s=d(s,a,i,r,e[14],2792965006,17),i=h(i,r=d(r,s,a,i,e[15],1236535329,22),s,a,e[1],4129170786,5),a=h(a,i,r,s,e[6],3225465664,9),s=h(s,a,i,r,e[11],643717713,14),r=h(r,s,a,i,e[0],3921069994,20),i=h(i,r,s,a,e[5],3593408605,5),a=h(a,i,r,s,e[10],38016083,9),s=h(s,a,i,r,e[15],3634488961,14),r=h(r,s,a,i,e[4],3889429448,20),i=h(i,r,s,a,e[9],568446438,5),a=h(a,i,r,s,e[14],3275163606,9),s=h(s,a,i,r,e[3],4107603335,14),r=h(r,s,a,i,e[8],1163531501,20),i=h(i,r,s,a,e[13],2850285829,5),a=h(a,i,r,s,e[2],4243563512,9),s=h(s,a,i,r,e[7],1735328473,14),i=u(i,r=h(r,s,a,i,e[12],2368359562,20),s,a,e[5],4294588738,4),a=u(a,i,r,s,e[8],2272392833,11),s=u(s,a,i,r,e[11],1839030562,16),r=u(r,s,a,i,e[14],4259657740,23),i=u(i,r,s,a,e[1],2763975236,4),a=u(a,i,r,s,e[4],1272893353,11),s=u(s,a,i,r,e[7],4139469664,16),r=u(r,s,a,i,e[10],3200236656,23),i=u(i,r,s,a,e[13],681279174,4),a=u(a,i,r,s,e[0],3936430074,11),s=u(s,a,i,r,e[3],3572445317,16),r=u(r,s,a,i,e[6],76029189,23),i=u(i,r,s,a,e[9],3654602809,4),a=u(a,i,r,s,e[12],3873151461,11),s=u(s,a,i,r,e[15],530742520,16),i=l(i,r=u(r,s,a,i,e[2],3299628645,23),s,a,e[0],4096336452,6),a=l(a,i,r,s,e[7],1126891415,10),s=l(s,a,i,r,e[14],2878612391,15),r=l(r,s,a,i,e[5],4237533241,21),i=l(i,r,s,a,e[12],1700485571,6),a=l(a,i,r,s,e[3],2399980690,10),s=l(s,a,i,r,e[10],4293915773,15),r=l(r,s,a,i,e[1],2240044497,21),i=l(i,r,s,a,e[8],1873313359,6),a=l(a,i,r,s,e[15],4264355552,10),s=l(s,a,i,r,e[6],2734768916,15),r=l(r,s,a,i,e[13],1309151649,21),i=l(i,r,s,a,e[4],4149444226,6),a=l(a,i,r,s,e[11],3174756917,10),s=l(s,a,i,r,e[2],718787259,15),r=l(r,s,a,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+s|0,this._d=this._d+a|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},ct8n:function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(r){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,i("pCvA"))},cuLj:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinmarketcap",name:"CoinMarketCap",rateLimit:1e4,version:"v1",countries:["US"],has:{CORS:!0,privateAPI:!1,createOrder:!1,createMarketOrder:!1,createLimitOrder:!1,cancelOrder:!1,editOrder:!1,fetchBalance:!1,fetchOrderBook:!1,fetchL2OrderBook:!1,fetchOHLCV:!1,fetchTrades:!1,fetchTickers:!0,fetchCurrencies:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28244244-9be6312a-69ed-11e7-99c1-7c1797275265.jpg",api:{public:"https://api.coinmarketcap.com",files:"https://files.coinmarketcap.com",charts:"https://graph.coinmarketcap.com"},www:"https://coinmarketcap.com",doc:"https://coinmarketcap.com/api"},requiredCredentials:{apiKey:!1,secret:!1},api:{files:{get:["generated/stats/global.json"]},graphs:{get:["currencies/{name}/"]},public:{get:["ticker/","ticker/{id}/","global/"]}},currencyCodes:["AUD","BRL","CAD","CHF","CNY","EUR","GBP","HKD","IDR","INR","JPY","KRW","MXN","RUB","USD","BTC","ETH","LTC"]})}async fetchOrderBook(e,t,i={}){throw new s("Fetching order books is not supported by the API of "+this.id)}currencyCode(e,t){return this.safeValue({ACChain:"ACChain",AdCoin:"AdCoin",BatCoin:"BatCoin",Bitgem:"Bitgem",BlazeCoin:"BlazeCoin",BlockCAT:"BlockCAT","Blocktrade Token":"Blocktrade Token",Catcoin:"Catcoin",CanYaCoin:"CanYaCoin",Comet:"Comet",CPChain:"CPChain",CrowdCoin:"CrowdCoin",Cryptaur:"Cryptaur",Cubits:"Cubits","DAO.Casino":"DAO.Casino","E-Dinar Coin":"E-Dinar Coin",EDRcoin:"EDRcoin",ENTCash:"ENTCash",FairCoin:"FairCoin","Fabric Token":"Fabric Token","Global Tour Coin":"Global Tour Coin",GuccioneCoin:"GuccioneCoin",HarmonyCoin:"HarmonyCoin","Harvest Masternode Coin":"Harvest Masternode Coin","HOT Token":"HOT Token","Hydro Protocol":"Hydro Protocol",Huncoin:"Huncoin",iCoin:"iCoin","Infinity Economics":"Infinity Economics","KingN Coin":"KingN Coin",LiteBitcoin:"LiteBitcoin",Maggie:"Maggie","MTC Mesh Network":"MTC Mesh Network",IOTA:"IOTA",NetCoin:"NetCoin",PCHAIN:"PCHAIN",Polcoin:"Polcoin",PutinCoin:"PutinCoin",Rcoin:"Rcoin",Themis:"Themis","Menlo One":"Menlo One","BigONE Token":"BigONE Token"},t,e)}async fetchMarkets(e={}){const t=await this.publicGetTicker(this.extend({limit:0},e)),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.currencyCodes;for(let t=0;t<s.length;t++){const r=s[t],a=r.toLowerCase(),n=e.id,o=this.currencyCode(e.symbol,e.name),c=o+"/"+r,d=n+"/"+a;i.push({id:d,symbol:c,base:o,quote:r,baseId:n,quoteId:a,info:e})}}return i}async fetchGlobal(e="USD"){await this.loadMarkets();const t={};return e&&(t.convert=e),await this.publicGetGlobal(t)}parseTicker(e,t){let i=this.safeTimestamp(e,"last_updated");void 0===i&&(i=this.milliseconds());const r=this.safeFloat(e,"percent_change_24h");let s=void 0,a=void 0,n=void 0;if(void 0!==t){a=t.symbol;const i="price_"+t.quoteId;s=this.safeFloat(e,i);const r="24h_volume_"+t.quoteId;n=this.safeFloat(e,r)}return{symbol:a,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:r,average:void 0,baseVolume:void 0,quoteVolume:n,info:e}}async fetchTickers(e="USD",t={}){await this.loadMarkets();const i={limit:1e4};e&&(i.convert=e);const r=await this.publicGetTicker(this.extend(i,t)),s={};for(let a=0;a<r.length;a++){const t=r[a],i=e.toLowerCase(),n=t.id+"/"+i;let o=n,c=void 0;n in this.markets_by_id&&(c=this.markets_by_id[n],o=c.symbol),s[o]=this.parseTicker(t,c)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={convert:i.quote,id:i.baseId},s=(await this.publicGetTickerId(this.extend(r,t)))[0];return this.parseTicker(s,i)}async fetchCurrencies(e={}){const t=await this.publicGetTicker(this.extend({limit:0},e)),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeString(e,"name"),n=8,o=this.currencyCode(s,a);i[o]={id:s,code:o,info:e,name:a,active:!0,fee:void 0,precision:n,limits:{amount:{min:Math.pow(10,-n),max:Math.pow(10,n)},price:{min:Math.pow(10,-n),max:Math.pow(10,n)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return Object.keys(o).length&&(n+="?"+this.urlencode(o)),{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("error"in o&&o.error)throw new s(this.id+" "+this.json(o));return o}}},cyIN:function(e,t,i){var r=i("bPso");e.exports=v,v.simpleSieve=y,v.fermatTest=b;var s=i("8kJ5"),a=new s(24),n=new(i("y9a5")),o=new s(1),c=new s(2),d=new s(5),h=(new s(16),new s(8),new s(10)),u=new s(3),l=(new s(7),new s(11)),f=new s(4),p=(new s(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),s=0;s<t&&e[s]<=r&&i%e[s]!==0;s++);t!==s&&e[s]<=r||(e[t++]=i)}return p=e,e}function y(e){for(var t=m(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function b(e){var t=s.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new s(2===t||5===t?[140,123]:[140,39]);var i,p;for(t=new s(t);;){for(i=new s(r(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(o),i.testn(1)||i.iadd(c),t.cmp(c)){if(!t.cmp(d))for(;i.mod(h).cmp(u);)i.iadd(f)}else for(;i.mod(a).cmp(l);)i.iadd(f);if(y(p=i.shrn(1))&&y(i)&&b(p)&&b(i)&&n.test(p)&&n.test(i))return i}}},d3wi:function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,OrderNotFound:c,PermissionDenied:d,BadRequest:h,DDoSProtection:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"stex",name:"STEX",countries:["EE"],rateLimit:500,certified:!1,has:{CORS:!1,createMarketOrder:!1,fetchCurrencies:!0,fetchMarkets:!0,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOHLCV:!0,fetchBalance:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchMyTrades:!0,fetchOrderTrades:!0,fetchDepositAddress:!0,createDepositAddress:!0,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0},version:"v3",urls:{logo:"https://user-images.githubusercontent.com/1294454/69680782-03fd0b80-10bd-11ea-909e-7f603500e9cc.jpg",api:"https://api3.stex.com",www:"https://www.stex.com",doc:["https://help.stex.com/en/collections/1593608-api-v3-documentation"],fees:"https://app.stex.com/en/pairs-specification",referral:"https://app.stex.com?ref=36416021"},requiredCredentials:{apiKey:!1,secret:!1,token:!0},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","4h":"240","12h":"720","1d":"1D"},api:{public:{get:["currencies","currencies/{currencyId}","markets","pairs-groups","currency_pairs/list/{code}","currency_pairs/group/{currencyPairGroupId}","currency_pairs/{currencyPairId}","ticker","ticker/{currencyPairId}","trades/{currencyPairId}","orderbook/{currencyPairId}","chart/{currencyPairId}/{candlesType}","deposit-statuses","deposit-statuses/{statusId}","withdrawal-statuses","withdrawal-statuses/{statusId}","ping","mobile-versions"]},trading:{get:["fees/{currencyPairId}","orders","orders/{currencyPairId}","order/{orderId}"],post:["orders/{currencyPairId}"],delete:["orders","orders/{currencyPairId}","order/{orderId}"]},reports:{get:["orders","orders/{orderId}","trades/{currencyPairId}","background/{listMode}","background/{id}","background/download/{id}"],post:["background/create"],delete:["background/{id}"]},profile:{get:["info","wallets","wallets/{walletId}","wallets/address/{walletId}","deposits","deposits/{id}","withdrawals","withdrawals/{id}","notifications","favorite/currency_pairs","token-scopes"],post:["wallets/burn/{walletId}","wallets/{currencyId}","wallets/address/{walletId}","withdraw","referral/program","referral/insert/{code}","referral/bonus_transfer/{currencyId}"],put:["profile/favorite/currency_pairs/set"],delete:["profile/withdraw/{withdrawalId}"]},verification:{get:["verification/countries","verification/stex"],post:["verification/stex"]},settings:{get:["notifications/{event}","notifications"],put:["notifications","notifications/set"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002}},options:{parseOrderToPrecision:!1},exceptions:{exact:{"Wrong parameters":h,"Unauthenticated.":a,"Server Error":n,"This feature is only enabled for users verifies by Cryptonomica":d,"Too Many Attempts.":u},broad:{"Not enough":o}}})}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"id"),a=this.safeInteger(e,"id"),n=this.safeCurrencyCode(this.safeString(e,"code")),o=this.safeInteger(e,"precision"),c=this.safeFloat(e,"withdrawal_fee_const"),d=this.safeValue(e,"active",!0);i[n]={id:t,numericId:a,code:n,info:e,type:void 0,name:this.safeString(e,"name"),active:d,fee:c,precision:o,limits:{amount:{min:Math.pow(10,-o),max:void 0},price:{min:Math.pow(10,-o),max:void 0},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(e,"minimum_deposit_amount"),max:void 0},withdraw:{min:this.safeFloat(e,"minimum_withdrawal_amount"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetCurrencyPairsListCode(this.extend({code:"ALL"},e)),i=[],r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"id"),a=this.safeInteger(e,"id"),n=this.safeString(e,"currency_id"),o=this.safeString(e,"market_currency_id"),c=this.safeInteger(e,"currency_id"),d=this.safeInteger(e,"market_currency_id"),h=this.safeCurrencyCode(this.safeString(e,"currency_code")),u=this.safeCurrencyCode(this.safeString(e,"market_code")),l=h+"/"+u,f={amount:this.safeInteger(e,"currency_precision"),price:this.safeInteger(e,"market_precision")},p=this.safeValue(e,"active"),m=this.safeFloat(e,"min_buy_price"),y=this.safeFloat(e,"min_sell_price"),b=Math.max(m,y),v=this.safeFloat(e,"buy_fee_percent")/100,g=this.safeFloat(e,"sell_fee_percent")/100,w=Math.max(v,g);i.push({id:t,numericId:a,symbol:l,base:h,quote:u,baseId:n,quoteId:o,baseNumericId:c,quoteNumericId:d,info:e,active:p,maker:w,taker:w,precision:f,limits:{amount:{min:this.safeFloat(e,"min_order_amount"),max:void 0},price:{min:b,max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currencyPairId:i.id},s=await this.publicGetTickerCurrencyPairId(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPairId:this.market(e).id};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetOrderbookCurrencyPairId(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrderBook(a,void 0,"bid","ask","price","amount")}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0,s=this.safeString(e,"id");if(s in this.markets_by_id)t=this.markets_by_id[s];else if(s=this.safeString(e,"symbol"),void 0!==s){const[e,t]=s.split("_");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volumeQuote"),quoteVolume:this.safeFloat(e,"volume"),info:e}}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeValue(i,"data",[]);return this.parseTickers(r,e)}parseOHLCV(e,t,i="1d",r,s){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1d",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={currencyPairId:a.id,candlesType:this.timeframes[t]};void 0===r?r=100:n.limit=r;const o=r*this.parseTimeframe(t);void 0===i?(n.timeEnd=this.seconds(),n.timeStart=n.timeEnd-o):(n.timeStart=parseInt(i/1e3),n.timeEnd=this.sum(n.timeStart,o));const c=await this.publicGetChartCurrencyPairIdCandlesType(this.extend(n,s)),d=this.safeValue(c,"data",[]);return this.parseOHLCVs(d,a,t,i,r)}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeTimestamp(e,"timestamp"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);let o=void 0;void 0===o&&void 0!==t&&(o=t.symbol);const c=this.safeStringLower2(e,"type","trade_type");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,id:i,order:void 0,type:void 0,takerOrMaker:void 0,side:c,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPairId:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.sort="ASC",a.from=parseInt(t/1e3));const n=await this.publicGetTradesCurrencyPairId(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.profileGetWallets(e),i={info:t},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(this.safeString(e,"currency_id")),a=this.account();a.free=this.safeFloat(e,"balance"),a.used=this.safeFloat(e,"frozen_balance"),i[t]=a}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({PROCESSING:"open",PENDING:"open",PARTIAL:"open",FINISHED:"closed",CANCELLED:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parseOrderStatus(this.safeString(e,"status"));let s=void 0,a=this.safeString(e,"currency_pair_id");if(a in this.markets_by_id)t=this.markets_by_id[a];else if(a=this.safeString(e,"currency_pair_name"),void 0!==a){const[e,t]=a.split("_");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===s&&void 0!==t&&(s=t.symbol);const n=this.safeTimestamp(e,"timestamp"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"initial_amount"),d=this.safeFloat(e,"processed_amount");let h=void 0,u=void 0;void 0!==d&&(void 0!==c&&(h=c-d,this.options.parseOrderToPrecision&&(h=parseFloat(this.amountToPrecision(s,h))),h=Math.max(h,0)),void 0!==o&&void 0===u&&(u=o*d));let l=this.safeString(e,"original_type");"BUY"!==l&&"SELL"!==l||(l=void 0);const f=this.safeStringLower(e,"type"),p=this.safeValue(e,"trades");let m=void 0;void 0!==p&&(m=this.parseTrades(p,t,void 0,void 0,{symbol:s,order:i}));const y={info:e,id:i,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:void 0,symbol:s,type:l,side:f,price:o,amount:c,cost:u,average:void 0,filled:d,remaining:h,status:r,trades:m},b=this.safeValue(e,"fees");if(void 0===b)y.fee=void 0;else{if(b.length>0){y.fees=[];for(let e=0;e<b.length;e++){const t=this.safeFloat(b[e],"amount");if(void 0!==t){const i=this.safeString(b[e],"currency_id"),r=this.safeCurrencyCode(i);y.fees.push({cost:t,currency:r})}}}else y.fee=void 0}return y}async createOrder(e,t,i,r,s,a={}){if("market"===t)throw new n(this.id+" createOrder allows limit orders only");await this.loadMarkets();const o=this.market(e);"limit"===t&&(t=i);const c={currencyPairId:o.id,type:t.toUpperCase(),amount:parseFloat(this.amountToPrecision(e,r)),price:parseFloat(this.priceToPrecision(e,s))},d=await this.tradingPostOrdersCurrencyPairId(this.extend(c,a)),h=this.safeValue(d,"data",{});return this.parseOrder(h,o)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingGetOrderOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{});let n=void 0;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchClosedOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.reportsGetOrdersOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{});let n=void 0;return void 0!==t&&(n=this.market(t)),this.parseOrder(a,n)}async fetchOrderTrades(e,t,i,r,s={}){return(await this.fetchClosedOrder(e,t,s)).trades}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0,a="tradingGetOrders";const n={};void 0!==e&&(a="tradingGetOrdersCurrencyPairId",s=this.market(e),n.currencyPairId=s.id),void 0!==i&&(n.limit=i);const o=await this[a](this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.tradingDeleteOrderOrderId(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeValue(a,"put_into_processing_queue",[]),o=this.safeValue(a,"not_put_into_processing_queue",[]),d=n.length,h=o.length;if(d<1){if(h<1)throw new c(this.id+" cancelOrder received an empty response: "+this.json(s));return this.parseOrder(o[0])}if(h<1)return this.parseOrder(n[0]);throw new c(this.id+" cancelOrder received an empty response: "+this.json(s))}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={};let r="tradingDeleteOrders";if(void 0!==e){const t=this.market(e);i.currencyPairId=t.id,r="tradingDeleteOrdersCurrencyPairId"}return await this[r](this.extend(i,t))}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={currencyPairId:a.id};void 0!==t&&(n.timeStart=this.iso8601(t)),void 0!==i&&(n.limit=i);const o=await this.reportsGetTradesCurrencyPairId(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,a,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currencyId:this.currency(e).id},r=await this.profilePostWalletsCurrencyId(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeValue(s,"deposit_address",{}),n=this.safeString(a,"address"),o=this.safeString(a,"additional_address_parameter");return this.checkAddress(n),{currency:e,address:n,tag:o,info:r}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchBalance(),r=this.safeValue(i.info,"data",[]),s=this.indexBy(r,"currency_id"),a=this.currency(e),o=this.safeValue(s,a.id);if(void 0===o)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const c=this.safeInteger(o,"id");if(void 0===c)throw new n(this.id+" fetchDepositAddress() could not find the wallet id for currency code "+e+", try to call createDepositAddress() first");const d={walletId:c},h=await this.profileGetWalletsWalletId(this.extend(d,t)),u=this.safeValue(h,"data",[]),l=this.safeValue(u,"deposit_address",{}),f=this.safeString(l,"address"),p=this.safeString(l,"additional_address_parameter");return this.checkAddress(f),{currency:e,address:f,tag:p,info:h}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));return"public"===t?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(this.checkRequiredCredentials(),s={Authorization:"Bearer "+this.token},"GET"===i||"DELETE"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):(a=this.json(o),Object.keys(o).length&&(s["Content-Type"]="application/json"))),{url:n,method:i,body:a,headers:s}}parseTransactionStatus(e){return this.safeString({processing:"pending","checking by system":"pending",hodl:"pending","amount too low":"failed","not confirmed":"pending","cancelled by User":"canceled",approved:"pending",finished:"ok","withdrawal error":"failed","deposit error":"failed","cancelled by admin":"canceled",awaiting:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeValue(e,"withdrawal_address",{}),s=this.safeString(r,"address"),a=this.safeString(r,"additional_address_parameter"),n=this.safeString(e,"currency_id");let o=void 0;n in this.currencies_by_id?t=this.currencies_by_id[n]:o=this.commonCurrencyCode(this.safeString(e,"currency_code")),void 0===o&&void 0!==t&&(o=t.code);const c="depositId"in e?"deposit":"withdrawal",d=this.safeFloat(e,"amount"),h=this.parseTransactionStatus(this.safeStringLower(e,"status")),u=this.safeTimestamp2(e,"timestamp","created_ts"),l=this.safeTimestamp(e,"updated_ts"),f=this.safeString(e,"txid");let p=void 0;const m=this.safeFloat(e,"fee");if(void 0!==m){const t=this.safeString(e,"fee_currency_id","deposit_fee_currency_id");p={cost:m,currency:this.safeCurrencyCode(t)}}return{info:e,id:i,txid:f,timestamp:u,datetime:this.iso8601(u),addressFrom:void 0,address:s,addressTo:s,tagFrom:void 0,tag:a,tagTo:a,type:c,amount:d,currency:o,status:h,updated:l,fee:p}}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const a={currencyTypeName:this.currency(e).name};void 0!==i&&(a.pageSize=i);const n=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(this.extend(a,r)),o=this.safeValue(n,"datas",{});return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const a={currencyId:this.currency(e).id};void 0!==i&&(a.pageSize=i);const n=await this.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n={currency_id:a.id,amount:parseFloat(this.currencyToPrecision(e,t)),address:i};void 0!==r&&(n.additional_address_parameter=r);const o=await this.profilePostWithdraw(this.extend(n,s)),c=this.safeValue(o,"data",{});return this.parseTransaction(c,a)}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;if(!this.safeValue(o,"success",!1)){const e=this.safeString(o,"message"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new n(t)}}}},dJ0v:function(e,t,i){"use strict";var r={messageId:0,toPayload:function(e,t){if(!e)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(t)+'"!');return r.messageId++,{jsonrpc:"2.0",id:r.messageId,method:e,params:t||[]}},isValidResponse:function(e){return Array.isArray(e)?e.every(t):t(e);function t(e){return!!e&&!e.error&&"2.0"===e.jsonrpc&&("number"===typeof e.id||"string"===typeof e.id)&&void 0!==e.result}},toBatchPayload:function(e){return e.map((function(e){return r.toPayload(e.method,e.params)}))}};e.exports=r},dLON:function(e,t,i){"use strict";var r=i("tFbo"),s=i("cFST"),a=i("fOyB"),n=a.assert,o=a.parseBytes,c=i("7wEA"),d=i("FPgC");function h(e){if(n("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=s[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=h,h.prototype.sign=function(e,t){e=o(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),s=this.g.mul(r),a=this.encodePoint(s),n=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),c=r.add(n).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:a})},h.prototype.verify=function(e,t,i){e=o(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),r.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(r.pub().mul(s)).eq(a)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof d?e:new d(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),s=a.intFromLE(i);return this.curve.pointFromY(s,r)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return a.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},dLTP:function(e){e.exports=JSON.parse('{"name":"istanbul","comment":"HF targeted for December 2019 following the Constantinople/Petersburg HF","eip":{"url":"https://eips.ethereum.org/EIPS/eip-1679","status":"Draft"},"gasConfig":{},"gasPrices":{"blake2Round":{"v":1,"d":"Gas cost per round for the Blake2 F precompile"},"ecAdd":{"v":150,"d":"Gas costs for curve addition precompile"},"ecMul":{"v":6000,"d":"Gas costs for curve multiplication precompile"},"ecPairing":{"v":45000,"d":"Base gas costs for curve pairing precompile"},"ecPairingWord":{"v":34000,"d":"Gas costs regarding curve pairing precompile input length"},"txDataNonZero":{"v":16,"d":"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},"sstoreSentryGasEIP2200":{"v":2300,"d":"Minimum gas required to be present for an SSTORE call, not consumed"},"sstoreNoopGasEIP2200":{"v":800,"d":"Once per SSTORE operation if the value doesn\'t change"},"sstoreDirtyGasEIP2200":{"v":800,"d":"Once per SSTORE operation if a dirty value is changed"},"sstoreInitGasEIP2200":{"v":20000,"d":"Once per SSTORE operation from clean zero to non-zero"},"sstoreInitRefundEIP2200":{"v":19200,"d":"Once per SSTORE operation for resetting to the original zero value"},"sstoreCleanGasEIP2200":{"v":5000,"d":"Once per SSTORE operation from clean non-zero to something else"},"sstoreCleanRefundEIP2200":{"v":4200,"d":"Once per SSTORE operation for resetting to the original non-zero value"},"sstoreClearRefundEIP2200":{"v":15000,"d":"Once per SSTORE operation for clearing an originally existing storage slot"}},"vm":{},"pow":{},"casper":{},"sharding":{}}')},dTKc:function(e,t,i){"use strict";var r=i("LE+o"),s=i("tk5I"),a=i("3NQs").inherits,n=r.base,o=i("3NQs").utils;function c(e){n.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(e,t,i){n.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(c,n),e.exports=c,c.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(d,n.BasePoint),c.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},c.prototype.point=function(e,t){return new d(this,e,t)},c.prototype.pointFromJSON=function(e){return d.fromJSON(this,e)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(e,t){return new d(e,t[0],t[1]||e.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},d.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),s=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,s)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(i),n=s.redMul(r),o=t.z.redMul(a.redAdd(n).redSqr()),c=t.x.redMul(a.redISub(n).redSqr());return this.curve.point(o,c)},d.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var a=s.length-1;a>=0;a--)0===s[a]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},dl7Y:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,OrderNotFound:a,ArgumentsRequired:n,InvalidOrder:o,DDoSProtection:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcmarkets",name:"BTC Markets",countries:["AU"],rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchClosedOrders:"emulated",fetchOpenOrders:!0,fetchMyTrades:!0,cancelOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/29142911-0e1acfc2-7d5c-11e7-98c4-07d9532b29d7.jpg",api:{public:"https://api.btcmarkets.net",private:"https://api.btcmarkets.net",web:"https://btcmarkets.net/data"},www:"https://btcmarkets.net",doc:"https://github.com/BTCMarkets/API"},api:{public:{get:["market/{id}/tick","market/{id}/orderbook","market/{id}/trades","v2/market/{id}/tickByTime/{timeframe}","v2/market/{id}/trades","v2/market/active"]},private:{get:["account/balance","account/{id}/tradingfee","fundtransfer/history","v2/order/open","v2/order/open/{id}","v2/order/history/{instrument}/{currency}/","v2/order/trade/history/{id}","v2/transaction/history/{currency}"],post:["fundtransfer/withdrawCrypto","fundtransfer/withdrawEFT","order/create","order/cancel","order/history","order/open","order/trade/history","order/createBatch","order/detail"]},web:{get:["market/BTCMarkets/{id}/tickByTime"]}},timeframes:{"1m":"minute","1h":"hour","1d":"day"},exceptions:{3:o,6:c},fees:{percentage:!0,tierBased:!0,maker:-5e-4,taker:.002},options:{fees:{AUD:{maker:.0085,taker:.0085}}}})}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i),void 0!==t&&(s.since=t);const a=(await this.privateGetFundtransferHistory(this.extend(s,r))).fundTransfers;return this.parseTransactions(a,void 0,t,i)}parseTransactionStatus(e){return this.safeString({Complete:"ok"},e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"creationTime"),r=this.safeInteger(e,"lastUpdate"),s=this.safeString(e,"transferType"),a=this.safeValue(e,"cryptoPaymentDetail",{}),n=this.safeString(a,"address"),o=this.safeString(a,"txId");let c=void 0;c="DEPOSIT"===s?"deposit":"WITHDRAW"===s?"withdrawal":s;const d=this.safeFloat(e,"fee"),h=this.parseTransactionStatus(this.safeString(e,"status")),u=this.safeString(e,"currency"),l=this.safeCurrencyCode(u);let f=this.safeFloat(e,"amount");return void 0!==f&&(f*=1e-8),{id:this.safeString(e,"fundTransferId"),txid:o,timestamp:i,datetime:this.iso8601(i),address:n,tag:void 0,type:c,amount:f,currency:l,status:h,updated:r,fee:{currency:l,cost:d},info:e}}async fetchMarkets(e={}){const t=await this.publicGetV2MarketActive(e),i=[],r=this.safeValue(t,"markets");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"instrument"),a=this.safeString(e,"currency"),n=t+"/"+a,o=this.safeCurrencyCode(t),c=this.safeCurrencyCode(a),d=o+"/"+c,h=this.safeValue(this.safeValue(this.options,"fees",{}),c,this.fees);let u=2,l=4;const f=.001;let p=void 0;"AUD"===c&&("XRP"!==o&&"OMG"!==o||(u=4),l=-Math.log10(f),p=Math.pow(10,-u));const m={amount:l,price:u},y={amount:{min:f,max:void 0},price:{min:p,max:void 0},cost:{min:void 0,max:void 0}};i.push({info:e,id:n,symbol:d,base:o,quote:c,baseId:t,quoteId:a,active:void 0,maker:h.maker,taker:h.taker,limits:y,precision:m})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalance(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=1e8;let o=this.safeFloat(e,"balance");void 0!==o&&(o/=n);let c=this.safeFloat(e,"pendingFunds");void 0!==c&&(c/=n);const d=this.account();d.used=c,d.total=o,i[a]=d}return this.parseBalance(i)}parseOHLCV(e,t,i="1m",r,s){const a=["open","high","low","close","volume"],n=[this.safeInteger(e,"timestamp")];for(let o=0;o<a.length;o++){const t=a[o];let i=this.safeFloat(e,t);void 0!==i&&(i/=1e8),n.push(i)}return n}async fetchOHLCV(e,t="1m",i,r,s={}){await this.load_markets();const a=this.market(e),n={id:a.id,timeframe:this.timeframes[t],indexForward:!0,sortForward:!0};void 0!==i&&(n.since=i),void 0!==r&&(n.limit=r);const o=await this.publicGetV2MarketIdTickByTimeTimeframe(this.extend(n,s)),c=this.safeValue(o,"ticks",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.market(e).id},s=await this.publicGetMarketIdOrderbook(this.extend(r,i)),a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.safeTimestamp(e,"timestamp");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"lastPrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(e,"bestBid"),bidVolume:void 0,ask:this.safeFloat(e,"bestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume24h"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetMarketIdTick(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"timestamp");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;return void 0!==n&&void 0!==a&&(o=n*a),{info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:void 0,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id},n=await this.publicGetMarketIdTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o="buy"===i?"Bid":"Ask",c=this.ordered({currency:n.quote});c.currency=n.quote,c.instrument=n.base,c.price=parseInt(1e8*s),c.volume=parseInt(1e8*r),c.orderSide=o,c.ordertype=this.capitalize(t),c.clientRequestId=this.nonce().toString();const d=await this.privatePostOrderCreate(this.extend(c,a));return{info:d,id:this.safeString(d,"id")}}async cancelOrders(e,t,i={}){await this.loadMarkets();for(let s=0;s<e.length;s++)e[s]=parseInt(e[s]);const r={orderIds:e};return await this.privatePostOrderCancel(this.extend(r,i))}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.cancelOrders([e])}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a];let d=void 0,h=void 0;return"AUD"===o.quote?(d=o.quote,h=parseFloat(this.costToPrecision(e,r*s))):(d=o.base,h=parseFloat(this.amountToPrecision(e,r))),{type:a,currency:d,rate:c,cost:parseFloat(this.feeToPrecision(e,c*h))}}parseMyTrade(e,t){const i=this.safeInteger(e,"creationTime");let r=this.safeFloat(e,"side");r="Bid"===r?"buy":"sell";let s=void 0,a=void 0;void 0!==t&&(s="AUD"===t.quote?t.quote:t.base,a=t.symbol);const n=this.safeString(e,"id");let o=this.safeFloat(e,"price");void 0!==o&&(o/=1e8);let c=this.safeFloat(e,"volume");void 0!==c&&(c/=1e8);let d=this.safeFloat(e,"fee");void 0!==d&&(d/=1e8);let h=void 0;void 0!==o&&void 0!==c&&(h=o*c);const u=this.safeString(e,"orderId");return{info:e,id:n,timestamp:i,datetime:this.iso8601(i),order:u,symbol:a,type:void 0,side:r,price:o,amount:c,cost:h,fee:{currency:s,cost:d}}}parseMyTrades(e,t,i,r){const s=[];for(let a=0;a<e.length;a++){const i=this.parseMyTrade(e[a],t);s.push(i)}return s}parseOrder(e,t){const i="Bid"===e.orderSide?"buy":"sell",r="Limit"===e.ordertype?"limit":"market",s=this.safeInteger(e,"creationTime");void 0===t&&(t=this.market(e.instrument+"/"+e.currency));let a="open";"Failed"===e.status||"Cancelled"===e.status||"Partially Cancelled"===e.status||"Error"===e.status?a="canceled":"Fully Matched"!==e.status&&"Partially Matched"!==e.status||(a="closed");const n=this.safeFloat(e,"price")/1e8,o=this.safeFloat(e,"volume")/1e8,c=this.safeFloat(e,"openVolume",0)/1e8,d=o-c,h=this.parseMyTrades(e.trades,t),u=h.length;let l=d*n,f=void 0,p=void 0;if(u>0){l=0;for(let e=0;e<u;e++){const t=h[e];l=this.sum(l,t.cost)}d>0&&(f=l/d),p=h[u-1].timestamp}return{info:e,id:this.safeString(e,"id"),timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:p,symbol:t.symbol,type:r,side:i,price:n,cost:l,amount:o,filled:d,remaining:c,average:f,status:a,trades:h,fee:void 0}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderIds:[parseInt(e)]},s=await this.privatePostOrderDetail(this.extend(r,i));if(s.orders.length<1)throw new a(this.id+" No matching order found: "+e);const n=s.orders[0];return this.parseOrder(n)}createPaginatedRequest(e,t,i){return i=void 0===i?100:i,t=void 0===t?0:t,this.ordered({currency:e.quoteId,instrument:e.baseId,limit:i,since:t})}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+": fetchOrders requires a `symbol` argument.");await this.loadMarkets();const s=this.market(e),a=this.createPaginatedRequest(s,t,i),o=await this.privatePostOrderHistory(this.extend(a,r));return this.parseOrders(o.orders,s)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+": fetchOpenOrders requires a `symbol` argument.");await this.loadMarkets();const s=this.market(e),a=this.createPaginatedRequest(s,t,i),o=await this.privatePostOrderOpen(this.extend(a,r));return this.parseOrders(o.orders,s)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r);return this.filterBy(s,"status","closed")}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+": fetchMyTrades requires a `symbol` argument.");await this.loadMarkets();const s=this.market(e),a=this.createPaginatedRequest(s,t,i),o=await this.privatePostOrderTradeHistory(this.extend(a,r));return this.parseMyTrades(o.trades,s)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.implodeParams(e,r);let o=this.urls.api[t]+n;if("private"===t){this.checkRequiredCredentials();const t=this.nonce().toString();let c=void 0;if(s={apikey:this.apiKey,timestamp:t},"POST"===i)s["Content-Type"]="application/json",c=n+"\n"+t+"\n",c+=a=this.json(r);else{const i=this.keysort(this.omit(r,this.extractParams(e)));let s="";Object.keys(i).length&&(s=this.urlencode(i),o+="?"+s,s+="\n"),c=n+"\n"+s+t+"\n"}const d=this.base64ToBinary(this.secret),h=this.hmac(this.encode(c),d,"sha512","base64");s.signature=this.decode(h)}else Object.keys(r).length&&(o+="?"+this.urlencode(r));return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"success"in o&&!o.success){const e=this.safeString(o,"errorCode"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new s(t)}}}},dn2v:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,OrderNotFound:n,InsufficientFunds:o,DDoSProtection:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitforex",name:"Bitforex",countries:["CN"],version:"v1",has:{fetchBalance:!0,fetchMarkets:!0,createOrder:!0,cancelOrder:!0,fetchTicker:!0,fetchTickers:!1,fetchMyTrades:!1,fetchTrades:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOHLCV:!0},timeframes:{"1m":"1min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","12h":"12hour","1d":"1day","1w":"1week","1M":"1month"},urls:{logo:"https://user-images.githubusercontent.com/1294454/44310033-69e9e600-a3d8-11e8-873d-54d74d1bc4e4.jpg",api:"https://api.bitforex.com",www:"https://www.bitforex.com",doc:"https://github.com/githubdev2020/API_Doc_en/wiki",fees:"https://help.bitforex.com/en_us/?cat=13",referral:"https://www.bitforex.com/en/invitationRegister?inviterId=1867438"},api:{public:{get:["api/v1/market/symbols","api/v1/market/ticker","api/v1/market/depth","api/v1/market/trades","api/v1/market/kline"]},private:{post:["api/v1/fund/mainAccount","api/v1/fund/allAccount","api/v1/trade/placeOrder","api/v1/trade/placeMultiOrder","api/v1/trade/cancelOrder","api/v1/trade/orderInfo","api/v1/trade/orderInfos"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001},funding:{tierBased:!1,percentage:!0,deposit:{},withdraw:{BTC:5e-4,ETH:.01,BCH:1e-4,LTC:.001,ETC:.005,USDT:5,CMCT:30,AION:3,LVT:0,DATA:40,RHP:50,NEO:0,AIDOC:10,BQT:2,R:2,DPY:.8,GTC:40,AGI:30,DENT:100,SAN:1,SPANK:8,AID:5,OMG:.1,BFT:5,SHOW:150,TRX:20,ABYSS:10,THM:25,ZIL:20,PPT:.2,WTC:.4,LRC:7,BNT:1,CTXC:1,MITH:20,TRUE:4,LYM:10,VEE:100,AUTO:200,REN:50,TIO:2.5,NGC:1.5,PST:10,CRE:200,IPC:5,PTT:1e3,XMCT:20,ATMI:40,TERN:40,XLM:.01,ODE:15,FTM:100,RTE:100,DCC:100,IMT:500,GOT:3,EGT:500,DACC:1e3,UBEX:500,ABL:100,OLT:100,DAV:40,THRT:10,RMESH:3,UPP:20,SDT:0,SHR:10,MTV:3,ESS:100,MET:3,TTC:20,LXT:10,XCLP:100,LUK:100,UBC:100,DTX:10,BEAT:20,DEED:2,BGX:3e3,PRL:20,ELY:50,CARD:300,SQR:15,VRA:400,BWX:3500,MAS:75,FLP:.6,UNC:300,CRNC:15,MFG:70,ZXC:70,TRT:30,ZIX:35,XRA:10,AMO:1600,IPG:3,uDoo:50,URB:30,ARCONA:3,CRAD:5,NOBS:1e3,ADF:2,ELF:5,LX:20,PATH:15,SILK:120,SKYFT:50,EDN:50,ADE:50,EDR:10,TIME:.25,SPRK:20,QTUM:.01,BF:5,ZPR:100,HYB:10,CAN:30,CEL:10,ATS:50,KCASH:1,ACT:.01,MT:300,DXT:30,WAB:4e3,HYDRO:400,LQD:5,OPTC:200,EQUAD:80,LATX:50,LEDU:100,RIT:70,ACDC:500,FSN:2}}},exceptions:{4004:n,1013:a,1016:a,3002:o,10204:c}})}async fetchMarkets(e={}){const t=(await this.publicGetApiV1MarketSymbols(e)).data,i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=s.split("-"),n=a[2],o=a[1],c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u=!0,l={amount:this.safeInteger(e,"amountPrecision"),price:this.safeInteger(e,"pricePrecision")},f={amount:{min:this.safeFloat(e,"minOrderAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:u,precision:l,limits:f,info:e})}return i}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"time"),s=this.safeString(e,"tid"),a=this.safeFloat(e,"amount"),n=this.safeFloat(e,"price");let o=void 0;void 0!==n&&void 0!==a&&(o=a*n);const c=this.safeInteger(e,"direction"),d=this.parseSide(c);return{info:e,id:s,timestamp:r,datetime:this.iso8601(r),symbol:i,type:void 0,side:d,price:n,amount:a,cost:o,order:void 0,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s={symbol:this.marketId(e)};void 0!==i&&(s.size=i);const a=this.market(e),n=await this.publicGetApiV1MarketTrades(this.extend(s,r));return this.parseTrades(n.data,a,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostApiV1FundAllAccount(e),i=t.data,r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.used=this.safeFloat(e,"frozen"),n.free=this.safeFloat(e,"active"),n.total=this.safeFloat(e,"fix"),r[a]=n}return this.parseBalance(r)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.markets[e].id},r=await this.publicGetApiV1MarketTicker(this.extend(i,t)),s=r.data,a=this.safeInteger(s,"date");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(s,"last"),last:this.safeFloat(s,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:void 0,info:r}}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"time"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"vol")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,ktype:this.timeframes[t]};void 0!==r&&(n.size=r);const o=await this.publicGetApiV1MarketKline(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.size=t);const s=await this.publicGetApiV1MarketDepth(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeInteger(s,"time");return this.parseOrderBook(a,n,"bids","asks","price","amount")}parseOrderStatus(e){const t={0:"open",1:"open",2:"closed",3:"canceled",4:"canceled"};return e in t?t[e]:e}parseSide(e){return 1===e?"buy":2===e?"sell":void 0}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeFloat(e,"createTime"),s=this.safeFloat(e,"lastTime"),a=t.symbol,n=this.safeInteger(e,"tradeType"),o=this.parseSide(n),c=this.safeFloat(e,"orderPrice"),d=this.safeFloat(e,"avgPrice"),h=this.safeFloat(e,"orderAmount"),u=this.safeFloat(e,"dealAmount"),l=h-u,f=this.parseOrderStatus(this.safeString(e,"orderState")),p=u*c,m=t["buy"===o?"base":"quote"],y={cost:this.safeFloat(e,"tradeFee"),currency:m};return{info:e,id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:s,symbol:a,type:void 0,side:o,price:c,cost:p,average:d,amount:h,filled:u,remaining:l,status:f,fee:y}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:this.marketId(t),orderId:e},a=await this.privatePostApiV1TradeOrderInfo(this.extend(s,i));return this.parseOrder(a.data,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:this.marketId(e),state:0},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:this.marketId(e),state:1},n=await this.privatePostApiV1TradeOrderInfos(this.extend(a,r));return this.parseOrders(n.data,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n=void 0;"buy"===i?n=1:"sell"===i&&(n=2);const o={symbol:this.marketId(e),price:s,amount:r,tradeType:n},c=await this.privatePostApiV1TradePlaceOrder(this.extend(o,a)),d=c.data;return{info:c,id:this.safeString(d,"orderId")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};void 0!==t&&(r.symbol=this.marketId(t));const s=await this.privatePostApiV1TradeCancelOrder(this.extend(r,i));return{info:s,success:s.success}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let t=this.urlencode({accessKey:this.apiKey});o.nonce=this.milliseconds(),Object.keys(o).length&&(t+="&"+this.urlencode(this.keysort(o)));const i="/"+e+"?"+t;a=t+"&signData="+this.hmac(this.encode(i),this.encode(this.secret)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if("string"===typeof n&&("{"===n[0]||"["===n[0])){const e=this.id+" "+n,t=this.safeValue(o,"success");if(void 0!==t&&!t){const t=this.safeString(o,"code");throw this.throwExactlyMatchedException(this.exceptions,t,e),new s(e)}}}}},e0KM:function(e,t,i){"use strict";(function(t){var r=i("xFKm"),s=i("+C5w");function a(e){var t=e;if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function n(e){return"0x"+e.toString(16)}e.exports={arrayContainsArray:function(e,t,i){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(i)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var i=n(e);return new t(a(i.slice(2)),"hex")},getBinarySize:function(e){if("string"!==typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return t.byteLength(e,"utf8")},isHexPrefixed:r,stripHexPrefix:s,padToEven:a,intToHex:n,fromAscii:function(e){for(var t="",i=0;i<e.length;i++){var r=e.charCodeAt(i).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},fromUtf8:function(e){return"0x"+a(new t(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",i=0,r=e.length;for("0x"===e.substring(0,2)&&(i=2);i<r;i+=2){var s=parseInt(e.substr(i,2),16);t+=String.fromCharCode(s)}return t},toUtf8:function(e){return new t(a(s(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,i){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!==typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var r=[],s=0;s<e.length;s++){var a=e[s][t];if(i&&!a)a="";else if("string"!==typeof a)throw new Error("invalid abi");r.push(a)}return r},isHexString:function(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this,i("qykS").Buffer)},e5ry:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i("oJrU");function s(e){if(null==e)throw new Error("cannot convert null value to array");if("string"===typeof e){let t=e.match(/^(0x)?[0-9a-fA-F]*$/);if(!t)throw new Error("invalid hexidecimal string");if("0x"!==t[1])throw new Error("hex string must have 0x prefix");(e=e.substring(2)).length%2&&(e="0"+e);const i=[];for(let r=0;r<e.length;r+=2)i.push(parseInt(e.substr(r,2),16));return a(new Uint8Array(i))}if(function(e){if(!e||parseInt(String(e.length))!=e.length||"string"===typeof e)return!1;for(let t=0;t<e.length;t++){const i=e[t];if(i<0||i>=256||parseInt(String(i))!=i)return!1}return!0}(e))return a(new Uint8Array(e));throw new Error("invalid arrayify value")}function a(e){return e.slice?e:(e.slice=function(){const t=Array.prototype.slice.call(arguments);return a(new Uint8Array(Array.prototype.slice.apply(e,t)))},e)}t.keccak256=function(e){return"0x"+r.keccak_256(s(e))},t.padLeft=(e,t)=>{const i=/^0x/i.test(e)||"number"===typeof e,r=t-(e=e.toString().replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(i?"0x":"")+new Array(r).join("0")+e},t.bytesToHex=function(e){let t=[];for(let i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return`0x${t.join("").replace(/^0+/,"")}`},t.toByteArray=s},e8CT:function(e,t,i){"use strict";var r=i("LE+o"),s=i("3NQs"),a=i("tk5I"),n=s.inherits,o=r.base,c=s.utils.assert;function d(e){o.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(e,t,i,r){o.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,i,r){o.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(i,16),this.z=new a(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}n(d,o),e.exports=d,d.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new a(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?i=s[0]:(i=s[1],c(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(i)}}},d.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),i=new a(2).toRed(t).redInvm(),r=i.redNeg(),s=new a(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(s).fromRed(),r.redSub(s).fromRed()]},d.prototype._getEndoBasis=function(e){for(var t,i,r,s,n,o,c,d,h,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new a(1),m=new a(0),y=new a(0),b=new a(1),v=0;0!==l.cmpn(0);){var g=f.div(l);d=f.sub(g.mul(l)),h=y.sub(g.mul(p));var w=b.sub(g.mul(m));if(!r&&d.cmp(u)<0)t=c.neg(),i=p,r=d.neg(),s=h;else if(r&&2===++v)break;c=d,f=l,l=d,y=p,p=h,b=m,m=w}n=d.neg(),o=h;var k=r.sqr().add(s.sqr());return n.sqr().add(o.sqr()).cmp(k)>=0&&(n=t,o=i),r.negative&&(r=r.neg(),s=s.neg()),n.negative&&(n=n.neg(),o=o.neg()),[{a:r,b:s},{a:n,b:o}]},d.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],s=r.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),n=s.mul(i.a),o=a.mul(r.a),c=s.mul(i.b),d=a.mul(r.b);return{k1:e.sub(n).sub(o),k2:c.add(d).neg()}},d.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=r.fromRed().isOdd();return(t&&!s||!t&&s)&&(r=r.redNeg()),this.point(e,r)},d.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(s).cmpn(0)},d.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var n=this._endoSplit(t[a]),o=e[a],c=o._getBeta();n.k1.negative&&(n.k1.ineg(),o=o.neg(!0)),n.k2.negative&&(n.k2.ineg(),c=c.neg(!0)),r[2*a]=o,r[2*a+1]=c,s[2*a]=n.k1,s[2*a+1]=n.k2}for(var d=this._wnafMulAdd(1,r,s,2*a,i),h=0;h<2*a;h++)r[h]=null,s[h]=null;return d},n(h,o.BasePoint),d.prototype.point=function(e,t,i){return new h(this,e,t,i)},d.prototype.pointFromJSON=function(e,t){return h.fromJSON(this,e,t)},h.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(e,t,i){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],i);if(!t[2])return r;function s(t){return e.point(t[0],t[1],i)}var a=t[2];return r.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[r].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[r].concat(a.naf.points.map(s))}},r},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},h.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),a=s.redSqr().redISub(this.x.redAdd(this.x)),n=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,n)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(e){return e=new a(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s):this.curve._wnafMulAdd(1,r,s,2)},h.prototype.jmulAdd=function(e,t,i){var r=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,s,!0):this.curve._wnafMulAdd(1,r,s,2,!0)},h.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},h.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},n(u,o.BasePoint),d.prototype.jpoint=function(e,t,i){return new u(this,e,t,i)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),s=e.x.redMul(i),a=this.y.redMul(t.redMul(e.z)),n=e.y.redMul(i.redMul(this.z)),o=r.redSub(s),c=a.redSub(n);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=o.redSqr(),h=d.redMul(o),u=r.redMul(d),l=c.redSqr().redIAdd(h).redISub(u).redISub(u),f=c.redMul(u.redISub(l)).redISub(a.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,f,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),s=this.y,a=e.y.redMul(t).redMul(this.z),n=i.redSub(r),o=s.redSub(a);if(0===n.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=n.redSqr(),d=c.redMul(n),h=i.redMul(c),u=o.redSqr().redIAdd(d).redISub(h).redISub(h),l=o.redMul(h.redISub(u)).redISub(s.redMul(d)),f=this.z.redMul(n);return this.curve.jpoint(u,l,f)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var r=this.curve.a,s=this.curve.tinv,a=this.x,n=this.y,o=this.z,c=o.redSqr().redSqr(),d=n.redAdd(n);for(i=0;i<e;i++){var h=a.redSqr(),u=d.redSqr(),l=u.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(r.redMul(c)),p=a.redMul(u),m=f.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),b=f.redMul(y);b=b.redIAdd(b).redISub(l);var v=d.redMul(o);i+1<e&&(c=c.redMul(l)),a=m,o=v,d=b}return this.curve.jpoint(a,d.redMul(s),o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r),c=o.redSqr().redISub(n).redISub(n),d=a.redIAdd(a);d=(d=d.redIAdd(d)).redIAdd(d),e=c,t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),l=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(h).redISub(l);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),m=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(y),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},u.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),n=this.x.redAdd(s).redSqr().redISub(r).redISub(a);n=n.redIAdd(n);var o=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=o.redSqr().redISub(n).redISub(n);e=c;var d=a.redIAdd(a);d=(d=d.redIAdd(d)).redIAdd(d),t=o.redMul(n.redISub(c)).redISub(d),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),l=this.x.redMul(u),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var y=u.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=f.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,i)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,s=r.redSqr().redSqr(),a=t.redSqr(),n=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=t.redAdd(t),d=(c=c.redIAdd(c)).redMul(n),h=o.redSqr().redISub(d.redAdd(d)),u=d.redISub(h),l=n.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=o.redMul(u).redISub(l),p=i.redAdd(i).redMul(r);return this.curve.jpoint(h,f,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r),o=(n=(n=(n=n.redIAdd(n)).redAdd(n).redIAdd(n)).redISub(a)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=s.redIAdd(n).redSqr().redISub(a).redISub(o).redISub(c),h=t.redMul(d);h=(h=h.redIAdd(h)).redIAdd(h);var u=this.x.redMul(o).redISub(h);u=(u=u.redIAdd(u)).redIAdd(u);var l=this.y.redMul(d.redMul(c.redISub(d)).redISub(n.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(n).redSqr().redISub(i).redISub(o);return this.curve.jpoint(u,l,f)},u.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),s=i.redMul(e.z);return 0===this.y.redMul(s).redISub(e.y.redMul(r)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),s=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),0===this.x.cmp(i))return!0}return!1},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},eAlZ:function(e,t,i){"use strict";(function(e){var i=Object.prototype.toString;t.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},t.isBoolean=function(e,t){if("[object Boolean]"!==i.call(e))throw TypeError(t)},t.isBuffer=function(t,i){if(!e.isBuffer(t))throw TypeError(i)},t.isFunction=function(e,t){if("[object Function]"!==i.call(e))throw TypeError(t)},t.isNumber=function(e,t){if("[object Number]"!==i.call(e))throw TypeError(t)},t.isObject=function(e,t){if("[object Object]"!==i.call(e))throw TypeError(t)},t.isBufferLength=function(e,t,i){if(e.length!==t)throw RangeError(i)},t.isBufferLength2=function(e,t,i,r){if(e.length!==t&&e.length!==i)throw RangeError(r)},t.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},t.isNumberInInterval=function(e,t,i,r){if(e<=t||e>=i)throw RangeError(r)}}).call(this,i("qykS").Buffer)},eIKn:function(e,t,i){var r=i("wfEq"),s=i("+Gs+"),a=s.base,n=s.bignum,o=s.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new d,this.tree._init(e.body)}function d(e){a.Node.call(this,"der",e)}function h(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var r=o.tagClass[i>>6],s=0===(32&i);if(31===(31&i)){var a=i;for(i=0;128===(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;i<<=7,i|=127&a}}else i&=31;return{cls:r,primitive:s,tag:i,tagStr:o.tag[i]}}function u(e,t,i){var r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var s=127&r;if(s>4)return e.error("length octect is too long");r=0;for(var a=0;a<s;a++){r<<=8;var n=e.readUInt8(i);if(e.isError(n))return n;r|=n}return r}e.exports=c,c.prototype.decode=function(e,t){return e instanceof a.DecoderBuffer||(e=new a.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(d,a.Node),d.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var r=e.save(),s=h(e,'Failed to peek tag: "'+t+'"');return e.isError(s)?s:(e.restore(r),s.tag===t||s.tagStr===t||s.tagStr+"of"===t||i)},d.prototype._decodeTag=function(e,t,i){var r=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var s=u(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(s))return s;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==s)return e.skip(s,'Failed to match body of: "'+t+'"');var a=e.save(),n=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(n)?n:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+t+'"'))},d.prototype._skipUntilEnd=function(e,t){for(;;){var i=h(e,t);if(e.isError(i))return i;var r,s=u(e,i.primitive,t);if(e.isError(s))return s;if(r=i.primitive||null!==s?e.skip(s):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===i.tagStr)break}},d.prototype._decodeList=function(e,t,i,r){for(var s=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var n=i.decode(e,"der",r);if(e.isError(n)&&a)break;s.push(n)}return s},d.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var s="",a=0;a<r.length/2;a++)s+=String.fromCharCode(r.readUInt16BE(2*a));return s}if("numstr"===t){var n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var o=e.raw().toString("ascii");return this._isPrintstr(o)?o:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},d.prototype._decodeObjid=function(e,t,i){for(var r,s=[],a=0;!e.isEmpty();){var n=e.readUInt8();a<<=7,a|=127&n,0===(128&n)&&(s.push(a),a=0)}128&n&&s.push(a);var o=s[0]/40|0,c=s[0]%40;if(r=i?s:[o,c].concat(s.slice(1)),t){var d=t[r.join(" ")];void 0===d&&(d=t[r.join(".")]),void 0!==d&&(r=d)}return r},d.prototype._decodeTime=function(e,t){var i=e.raw().toString();if("gentime"===t)var r=0|i.slice(0,4),s=0|i.slice(4,6),a=0|i.slice(6,8),n=0|i.slice(8,10),o=0|i.slice(10,12),c=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|i.slice(0,2),s=0|i.slice(2,4),a=0|i.slice(4,6),n=0|i.slice(6,8),o=0|i.slice(8,10),c=0|i.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,s-1,a,n,o,c,0)},d.prototype._decodeNull=function(e){return null},d.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},d.prototype._decodeInt=function(e,t){var i=e.raw(),r=new n(i);return t&&(r=t[r.toString(10)]||r),r},d.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},ePSE:function(e,t,i){var r=i("r+iz"),s=i("+C5w");e.exports=function(e){if("string"===typeof e||"number"===typeof e){var t=new r(1),i=String(e).toLowerCase().trim(),a="0x"===i.substr(0,2)||"-0x"===i.substr(0,3),n=s(i);if("-"===n.substr(0,1)&&(n=s(n.slice(1)),t=new r(-1,10)),!(n=""===n?"0":n).match(/^-?[0-9]+$/)&&n.match(/^[0-9A-Fa-f]+$/)||n.match(/^[a-fA-F]+$/)||!0===a&&n.match(/^[0-9A-Fa-f]+$/))return new r(n,16).mul(t);if((n.match(/^-?[0-9]+$/)||""===n)&&!1===a)return new r(n,10).mul(t)}else if("object"===typeof e&&e.toString&&!e.pop&&!e.push&&e.toString(10).match(/^-?[0-9]+$/)&&(e.mul||e.dividedToIntegerBy))return new r(e.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(e)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},eRx0:function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s,ExchangeError:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bit2c",name:"Bit2C",countries:["IL"],rateLimit:3e3,has:{CORS:!1,fetchOpenOrders:!0,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766119-3593220e-5ece-11e7-8b3a-5a041f6bcc3f.jpg",api:"https://bit2c.co.il",www:"https://www.bit2c.co.il",referral:"https://bit2c.co.il/Aff/63bfed10-e359-420c-ab5a-ad368dab0baf",doc:["https://www.bit2c.co.il/home/api","https://github.com/OferE/bit2c"]},api:{public:{get:["Exchanges/{pair}/Ticker","Exchanges/{pair}/orderbook","Exchanges/{pair}/trades","Exchanges/{pair}/lasttrades"]},private:{post:["Merchant/CreateCheckout","Order/AddCoinFundsRequest","Order/AddFund","Order/AddOrder","Order/AddOrderMarketPriceBuy","Order/AddOrderMarketPriceSell","Order/CancelOrder","Order/AddCoinFundsRequest","Order/AddStopOrder","Payment/GetMyId","Payment/Send","Payment/Pay"],get:["Account/Balance","Account/Balance/v2","Order/MyOrders","Order/GetById","Order/AccountHistory","Order/OrderHistory"]}},markets:{"BTC/NIS":{id:"BtcNis",symbol:"BTC/NIS",base:"BTC",quote:"NIS",baseId:"Btc",quoteId:"Nis"},"ETH/NIS":{id:"EthNis",symbol:"ETH/NIS",base:"ETH",quote:"NIS",baseId:"Eth",quoteId:"Nis"},"BCH/NIS":{id:"BchabcNis",symbol:"BCH/NIS",base:"BCH",quote:"NIS",baseId:"Bchabc",quoteId:"Nis"},"LTC/NIS":{id:"LtcNis",symbol:"LTC/NIS",base:"LTC",quote:"NIS",baseId:"Ltc",quoteId:"Nis"},"ETC/NIS":{id:"EtcNis",symbol:"ETC/NIS",base:"ETC",quote:"NIS",baseId:"Etc",quoteId:"Nis"},"BTG/NIS":{id:"BtgNis",symbol:"BTG/NIS",base:"BTG",quote:"NIS",baseId:"Btg",quoteId:"Nis"},"BSV/NIS":{id:"BchsvNis",symbol:"BSV/NIS",base:"BSV",quote:"NIS",baseId:"Bchsv",quoteId:"Nis"},"GRIN/NIS":{id:"GrinNis",symbol:"GRIN/NIS",base:"GRIN",quote:"NIS",baseId:"Grin",quoteId:"Nis"}},fees:{trading:{maker:.005,taker:.005}},options:{fetchTradesMethod:"public_get_exchanges_pair_lasttrades"},exceptions:{}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalanceV2(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.account(),n=this.currencyId(e).toUpperCase();n in t&&(a.free=this.safeFloat(t,"AVAILABLE_"+n),a.total=this.safeFloat(t,n)),i[e]=a}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={pair:this.marketId(e)},s=await this.publicGetExchangesPairOrderbook(this.extend(r,i));return this.parseOrderBook(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i={pair:this.marketId(e)},r=await this.publicGetExchangesPairTicker(this.extend(i,t)),s=this.milliseconds(),a=this.safeFloat(r,"av"),n=this.safeFloat(r,"a");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeFloat(r,"ll");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(r,"h"),bidVolume:void 0,ask:this.safeFloat(r,"l"),askVolume:void 0,vwap:void 0,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:a,baseVolume:n,quoteVolume:o,info:r}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n=this.options.fetchTradesMethod,o={pair:s.id},c=await this[n](this.extend(o,r));if("string"===typeof c)throw new a(c);return this.parseTrades(c,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePostOrderAddOrder";const o={Amount:r,Pair:this.marketId(e)};"market"===t?n+="MarketPrice"+this.capitalize(i):(o.Price=s,o.Total=r*s,o.IsBid="buy"===i);const c=await this[n](this.extend(o,a));return{info:c,id:c.NewOrder.id}}async cancelOrder(e,t,i={}){const r={id:e};return await this.privatePostOrderCancelOrder(this.extend(r,i))}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={pair:a.id},o=await this.privateGetOrderMyOrders(this.extend(n,r)),c=this.safeValue(o,a.id,{}),d=this.safeValue(c,"ask",[]),h=this.safeValue(c,"bid",[]);return this.parseOrders(this.arrayConcat(d,h),a,t,i)}parseOrder(e,t){const i=this.safeInteger(e,"created"),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);let n=void 0;void 0!==t&&(n=t.symbol);let o=this.safeValue(e,"type");0===o?o="buy":1===o&&(o="sell");const c=this.safeString(e,"id"),d=this.safeString(e,"status");return{id:c,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:d,symbol:n,type:void 0,side:o,price:r,amount:s,filled:void 0,remaining:void 0,cost:a,trades:void 0,fee:void 0,info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==i&&(a.take=i),a.take=i,void 0!==t&&(a.toTime=this.ymd(this.milliseconds(),"."),a.fromTime=this.ymd(t,".")),void 0!==e&&(s=this.market(e),a.pair=s.id);const n=await this.privateGetOrderOrderHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,a=void 0,n=void 0,o=void 0,c=void 0;const d=this.safeString(e,"reference");if(void 0!==d){i=this.safeTimestamp(e,"ticks"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"firstAmount");const h=d.split("|");if(void 0===t){const i=this.safeString(e,"pair");i in this.markets_by_id[i]?t=this.markets_by_id[i]:h[0]in this.markets_by_id&&(t=this.markets_by_id[h[0]])}n=h[1],r=h[2],c=this.safeInteger(e,"action"),0===c?c="buy":1===c&&(c="sell"),o=this.safeFloat(e,"feeAmount")}else i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount"),c=this.safeValue(e,"isBid"),void 0!==c&&(c=c?"buy":"sell");let h=void 0;return void 0!==t&&(h=t.symbol),{info:e,id:r,timestamp:i,datetime:this.iso8601(i),symbol:h,order:n,type:void 0,side:c,takerOrMaker:void 0,price:s,amount:a,cost:s*a,fee:{cost:o,currency:"NIS",rate:void 0}}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);if("public"===t)n+=".json";else{this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({nonce:e},r),o=this.urlencode(t);"GET"===i?Object.keys(t).length&&(n+="?"+o):a=o;const c=this.hmac(this.encode(o),this.encode(this.secret),"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sign:this.decode(c)}}return{url:n,method:i,body:a,headers:s}}}},eYCJ:function(e,t,i){"use strict";const r=i("NQdM");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coolcoin",name:"CoolCoin",countries:["HK"],urls:{logo:"https://user-images.githubusercontent.com/1294454/36770529-be7b1a04-1c5b-11e8-9600-d11f1996b539.jpg",api:{web:"https://www.coolcoin.com/coin",rest:"https://www.coolcoin.com/api/v1"},www:"https://www.coolcoin.com",doc:"https://www.coolcoin.com/help.api.html",fees:"https://www.coolcoin.com/spend.price.html",referral:"https://www.coolcoin.com/user/register?invite_code=bhaega"},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,BCH:.002,ETH:.01,ETC:.01,LTC:.001,TBC:"1%",HSR:"1%",NEO:"1%",SDC:"1%",EOS:"1%",BTM:"1%",XAS:"1%",ACT:"1%",SAK:"1%",GCS:"1%",HCC:"1%",QTUM:"1%",GEC:"1%",TRX:"1%",IFC:"1%",PAY:"1%",PGC:"1%",KTC:"1%",INT:"1%",LSK:"0.5%",SKT:"1%",SSS:"1%",BT1:"1%",BT2:"1%"}}},options:{quoteIds:["btc","usdt"]}})}}},eebJ:function(e,t,i){"use strict";const r=i("OjXq");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:["https://bl3p.eu","https://bitonic.nl"],doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"BTC",quoteId:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"LTC",quoteId:"EUR",maker:.0025,taker:.0025}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGENMKTMoneyInfo(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"wallets"),s={info:i},a=Object.keys(this.currencies);for(let n=0;n<a.length;n++){const e=a[n],t=this.currency(e).id,i=this.safeValue(r,t,{}),o=this.safeValue(i,"available",{}),c=this.safeValue(i,"balance",{}),d=this.account();d.free=this.safeFloat(o,"value"),d.total=this.safeFloat(c,"value"),s[e]=d}return this.parseBalance(s)}parseBidAsk(e,t=0,i=1){return[e[t]/1e5,e[i]/1e8]}async fetchOrderBook(e,t,i={}){const r={market:this.market(e).id},s=await this.publicGetMarketOrderbook(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrderBook(a,void 0,"bids","asks","price_int","amount_int")}async fetchTicker(e,t={}){const i={market:this.marketId(e)},r=await this.publicGetMarketTicker(this.extend(i,t)),s=this.safeTimestamp(r,"timestamp"),a=this.safeFloat(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r.volume,"24h"),quoteVolume:void 0,info:r}}parseTrade(e,t){const i=this.safeString(e,"trade_id"),r=this.safeInteger(e,"date");let s=this.safeFloat(e,"price_int");void 0!==s&&(s/=1e5);let a=this.safeFloat(e,"amount_int");void 0!==a&&(a/=1e8);let n=void 0;void 0!==s&&void 0!==a&&(n=a*s);let o=void 0;return void 0!==t&&(o=t.symbol),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){const s=this.market(e),a=await this.publicGetMarketTrades(this.extend({market:s.id},r));return this.parseTrades(a.data.trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){const n=this.market(e),o={market:n.id,amount_int:parseInt(1e8*r),fee_currency:n.quote,type:"buy"===i?"bid":"ask"};"limit"===t&&(o.price_int=parseInt(1e5*s));const c=await this.privatePostMarketMoneyOrderAdd(this.extend(o,a));return{info:c,id:this.safeString(c.data,"order_id")}}async cancelOrder(e,t,i={}){const r={order_id:e};return await this.privatePostMarketMoneyOrderCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){const n=this.implodeParams(e,r);let o=this.urls.api+"/"+this.version+"/"+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},c));const t=this.base64ToBinary(this.secret),i=n+"\0"+a,r=this.hmac(this.encode(i),t,"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(r)}}return{url:o,method:i,body:a,headers:s}}}},ei5w:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0};t.ProgressEvent=r},elDD:function(e,t,i){"use strict";var r=i("uuNj"),s=i("ePSE"),a=new r(0),n=new r(-1),o={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function c(e){var t=e?e.toLowerCase():"ether",i=o[t];if("string"!==typeof i)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(o,null,2));return new r(i,10)}function d(e){if("string"===typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"===typeof e)return String(e);if("object"===typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}e.exports={unitMap:o,numberToString:d,getValueOfUnit:c,fromWei:function(e,t,i){var r=s(e),d=r.lt(a),h=c(t),u=o[t].length-1||1,l=i||{};d&&(r=r.mul(n));for(var f=r.mod(h).toString(10);f.length<u;)f="0"+f;l.pad||(f=f.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var p=r.div(h).toString(10);l.commify&&(p=p.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=p+("0"==f?"":"."+f);return d&&(m="-"+m),m},toWei:function(e,t){var i=d(e),s=c(t),a=o[t].length-1||1,h="-"===i.substring(0,1);if(h&&(i=i.substring(1)),"."===i)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var u=i.split(".");if(u.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var l=u[0],f=u[1];if(l||(l="0"),f||(f="0"),f.length>a)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;f.length<a;)f+="0";l=new r(l),f=new r(f);var p=l.mul(s).add(f);return h&&(p=p.mul(n)),new r(p.toString(10),10)}}},eoLT:function(e,t,i){(function(e){t.fetch=o(e.fetch)&&o(e.ReadableStream),t.writableStream=o(e.WritableStream),t.abortController=o(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(c){}var i;function r(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(c){i=null}}else i=null;return i}function s(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(c){}return!1}var a="undefined"!==typeof e.ArrayBuffer,n=a&&o(e.ArrayBuffer.prototype.slice);function o(e){return"function"===typeof e}t.arraybuffer=t.fetch||a&&s("arraybuffer"),t.msstream=!t.fetch&&n&&s("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&s("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&o(r().overrideMimeType),t.vbArray=o(e.VBArray),i=null}).call(this,i("pCvA"))},fGCF:function(e,t,i){"use strict";const r=i("OjXq"),{InvalidNonce:s,InsufficientFunds:a,AuthenticationError:n,InvalidOrder:o,ExchangeError:c,OrderNotFound:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitbay",name:"BitBay",countries:["MT","EU"],rateLimit:1e3,has:{CORS:!0,withdraw:!0,fetchMyTrades:!0,fetchOpenOrders:!0},urls:{referral:"https://auth.bitbay.net/ref/jHlbB4mIkdS1",logo:"https://user-images.githubusercontent.com/1294454/27766132-978a7bd8-5ece-11e7-9540-bc96d1e9bbb8.jpg",www:"https://bitbay.net",api:{public:"https://bitbay.net/API/Public",private:"https://bitbay.net/API/Trading/tradingApi.php",v1_01Public:"https://api.bitbay.net/rest",v1_01Private:"https://api.bitbay.net/rest"},doc:["https://bitbay.net/public-api","https://bitbay.net/en/private-api","https://bitbay.net/account/tab-api","https://github.com/BitBayNet/API","https://docs.bitbay.net/v1.0.1-en/reference"],fees:"https://bitbay.net/en/fees"},api:{public:{get:["{id}/all","{id}/market","{id}/orderbook","{id}/ticker","{id}/trades"]},private:{post:["info","trade","cancel","orderbook","orders","transfer","withdraw","history","transactions"]},v1_01Public:{get:["trading/ticker","trading/ticker/{symbol}","trading/stats","trading/orderbook/{symbol}","trading/transactions/{symbol}","trading/candle/history/{symbol}/{resolution}"]},v1_01Private:{get:["payments/withdrawal/{detailId}","payments/deposit/{detailId}","trading/offer","trading/config/{symbol}","trading/history/transactions","balances/BITBAY/history","balances/BITBAY/balance","fiat_cantor/rate/{baseId}/{quoteId}","fiat_cantor/history"],post:["trading/offer/{symbol}","trading/config/{symbol}","balances/BITBAY/balance","balances/BITBAY/balance/transfer/{source}/{destination}","fiat_cantor/exchange"],delete:["trading/offer/{symbol}/{id}/{side}/{price}"],put:["balances/BITBAY/balance/{id}"]}},fees:{trading:{maker:.003,taker:.0043},funding:{withdraw:{BTC:9e-4,LTC:.005,ETH:.00126,LSK:.2,BCH:6e-4,GAME:.005,DASH:.001,BTG:8e-4,PLN:4,EUR:1.5}}},exceptions:{400:c,401:o,402:o,403:o,404:o,405:o,406:a,408:o,501:n,502:n,503:s,504:c,505:n,506:n,509:c,510:c,FUNDS_NOT_SUFFICIENT:a,OFFER_FUNDS_NOT_EXCEEDING_MINIMUMS:o,OFFER_NOT_FOUND:d}})}async fetchMarkets(e={}){const t=await this.v1_01PublicGetTradingTicker(e),i=[],r=this.safeValue(t,"items"),s=Object.keys(r);for(let a=0;a<s.length;a++){const e=r[s[a]],t=this.safeValue(e,"market",{}),n=this.safeValue(t,"first",{}),o=this.safeValue(t,"second",{}),c=this.safeString(n,"currency"),d=this.safeString(o,"currency"),h=c+d,u=this.safeCurrencyCode(c),l=this.safeCurrencyCode(d),f=u+"/"+l,p={amount:this.safeInteger(n,"scale"),price:this.safeInteger(o,"scale")};i.push({id:h,symbol:f,base:u,quote:l,baseId:c,quoteId:d,precision:p,active:void 0,fee:void 0,limits:{amount:{min:this.safeFloat(n,"minOffer"),max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(o,"minOffer"),max:void 0}},info:e})}return i}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.v1_01PrivateGetTradingOffer(this.extend({},r)),a=this.safeValue(s,"items",[]);return this.parseOrders(a,void 0,t,i,{status:"open"})}parseOrder(e,t){const i=this.safeString(e,"market");let r=void 0;if(void 0!==i)if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[e,t]=i.split("-");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);const s=this.safeInteger(e,"time"),a=this.safeFloat(e,"startAmount"),n=this.safeFloat(e,"currentAmount");let o=void 0;return void 0!==a&&void 0!==n&&(o=Math.max(0,a-n)),{id:this.safeString(e,"id"),info:e,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,status:void 0,symbol:r,type:this.safeString(e,"mode"),side:this.safeStringLower(e,"offerType"),price:this.safeFloat(e,"rate"),amount:a,cost:void 0,filled:o,remaining:n,average:void 0,fee:void 0,trades:void 0}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};if(e){const t=[this.marketId(e)];s.markets=t}const a={query:this.json(this.extend(s,r))},n=await this.v1_01PrivateGetTradingHistoryTransactions(a),o=this.safeValue(n,"items"),c=this.parseTrades(o,void 0,t,i);return void 0===e?c:this.filterBySymbol(c,e)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.v1_01PrivateGetBalancesBITBAYBalance(e),i=this.safeValue(t,"balances");if(void 0===i)throw new c(this.id+" empty balance response "+this.json(t));const r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.used=this.safeFloat(e,"lockedFunds"),n.free=this.safeFloat(e,"availableFunds"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetIdOrderbook(this.extend(r,i));return this.parseOrderBook(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i={id:this.marketId(e)},r=await this.publicGetIdTicker(this.extend(i,t)),s=this.milliseconds(),a=this.safeFloat(r,"volume"),n=this.safeFloat(r,"vwap");let o=void 0;void 0!==a&&void 0!==n&&(o=a*n);const c=this.safeFloat(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"max"),low:this.safeFloat(r,"min"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:n,open:void 0,close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(r,"average"),baseVolume:a,quoteVolume:o,info:r}}async fetchLedger(e,t,i,r={}){const s=[];if(void 0!==e){const t=this.currency(e);s.push(t.id)}let a={balanceCurrencies:s};void 0!==t&&(a.fromTime=t),void 0!==i&&(a.limit=i),a=this.extend(a,r);const n=(await this.v1_01PrivateGetBalancesBITBAYHistory({query:this.json(a)})).items;return this.parseLedger(n,void 0,t,i)}parseLedgerEntry(e,t){const i=this.safeInteger(e,"time"),r=this.safeValue(e,"balance",{}),s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.safeValue(e,"change",{});let o=this.safeFloat(n,"total"),c="in";o<0&&(c="out",o=-o);const d=this.safeString(e,"historyId"),h=this.safeString(e,"detailId"),u=this.parseLedgerEntryType(this.safeString(e,"type")),l=this.safeValue(e,"fundsBefore",{}),f=this.safeFloat(l,"total"),p=this.safeValue(e,"fundsAfter",{});return{info:e,id:d,direction:c,account:void 0,referenceId:h,referenceAccount:void 0,type:u,currency:a,amount:o,before:f,after:this.safeFloat(p,"total"),status:"ok",timestamp:i,datetime:this.iso8601(i),fee:void 0}}parseLedgerEntryType(e){return this.safeString({ADD_FUNDS:"transaction",BITCOIN_GOLD_FORK:"transaction",CREATE_BALANCE:"transaction",FUNDS_MIGRATION:"transaction",WITHDRAWAL_LOCK_FUNDS:"transaction",WITHDRAWAL_SUBTRACT_FUNDS:"transaction",WITHDRAWAL_UNLOCK_FUNDS:"transaction",TRANSACTION_COMMISSION_OUTCOME:"fee",TRANSACTION_COMMISSION_RETURN:"fee",TRANSACTION_OFFER_ABORTED_RETURN:"trade",TRANSACTION_OFFER_COMPLETED_RETURN:"trade",TRANSACTION_POST_INCOME:"trade",TRANSACTION_POST_OUTCOME:"trade",TRANSACTION_PRE_LOCKING:"trade"},e,e)}parseTrade(e,t){const i=this.safeInteger2(e,"time","t"),r="Buy"===this.safeString(e,"userAction")?"buy":"sell",s=this.safeValue(e,"wasTaker");let a=void 0;void 0!==s&&(a=s?"taker":"maker");const n=this.safeFloat2(e,"rate","r"),o=this.safeFloat2(e,"amount","a");let c=void 0;void 0!==o&&void 0!==n&&(c=n*o);const d=this.safeFloat(e,"commissionValue"),h=this.safeString(e,"market");let u=void 0,l=void 0,f=void 0;if(void 0!==h)if(h in this.markets_by_id)f=(t=this.markets_by_id[h]).symbol,u=t.base,l=t.quote;else{const[e,t]=h.split("-");u=this.safeCurrencyCode(e),l=this.safeCurrencyCode(t),f=u+"/"+l}void 0!==t&&(void 0===f&&(f=t.symbol),void 0===u&&(u=t.base));let p=void 0;if(void 0!==d){p={currency:"buy"===r?u:l,cost:d}}const m=this.safeString(e,"offerId");let y=void 0;return void 0!==m&&(y=m?"limit":"market"),{id:this.safeString(e,"id"),order:m,timestamp:i,datetime:this.iso8601(i),symbol:f,type:y,side:r,price:n,amount:o,cost:c,takerOrMaker:a,fee:p,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.baseId+"-"+s.quoteId};void 0!==t&&(a.fromTime=t-1),void 0!==i&&(a.limit=i);const n=await this.v1_01PublicGetTradingTransactionsSymbol(this.extend(a,r)),o=this.safeValue(n,"items");return this.parseTrades(o,e,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={symbol:n.baseId+"-"+n.quoteId,offerType:i,amount:r,mode:t};"limit"===t&&(o.rate=s);const c=await this.v1_01PrivatePostTradingOfferSymbol(this.extend(o,a)),d=this.milliseconds(),h=this.safeString(c,"offerId"),u=this.safeValue(c,"completed",!1)?"closed":"open";let l=0,f=void 0;const p=this.safeValue(c,"transactions");let m=void 0;if(void 0!==p){m=this.parseTrades(p,n,void 0,void 0,{timestamp:d,datetime:this.iso8601(d),symbol:e,side:i,type:t,orderId:h}),f=0;for(let e=0;e<m.length;e++)l=this.sum(l,m[e].amount),f=this.sum(f,m[e].cost)}const y=r-l;return{id:h,info:c,timestamp:d,datetime:this.iso8601(d),lastTradeTimestamp:void 0,status:u,symbol:e,type:t,side:i,price:parseFloat(s),amount:parseFloat(r),cost:f,filled:l,remaining:y,average:void 0,fee:void 0,trades:m}}async cancelOrder(e,t,i={}){const r=this.safeString(i,"side");if(void 0===r)throw new c(this.id+' cancelOrder() requires a `side` parameter ("buy" or "sell")');const s=this.safeValue(i,"price");if(void 0===s)throw new c(this.id+" cancelOrder() requires a `price` parameter (float or string)");await this.loadMarkets();const a=this.market(t),n={symbol:a.baseId+"-"+a.quoteId,id:e,side:r,price:s};return this.v1_01PrivateDeleteTradingOfferSymbolIdSidePrice(this.extend(n,i))}isFiat(e){return this.safeValue({USD:!0,EUR:!0,PLN:!0},e,!1)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();let a=void 0;const n={currency:this.currency(e).id,quantity:t};return this.isFiat(e)?a="privatePostWithdraw":(a="privatePostTransfer",void 0!==r&&(i+="?dt="+r.toString()),n.address=i),{info:await this[a](this.extend(n,s)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t];if("public"===t){const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r)+".json",Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Public"===t){const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r),Object.keys(t).length&&(n+="?"+this.urlencode(t))}else if("v1_01Private"===t){this.checkRequiredCredentials();const t=this.omit(r,this.extractParams(e));n+="/"+this.implodeParams(e,r);const o=this.milliseconds().toString();let c=void 0;"POST"!==i?(Object.keys(t).length&&(n+="?"+this.urlencode(t)),c=this.apiKey+o):void 0===a&&(a=this.json(t),c=this.apiKey+o+a),s={"Request-Timestamp":o,"Operation-Id":this.uuid(),"API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(c),this.encode(this.secret),"sha512"),"Content-Type":"application/json"}}else this.checkRequiredCredentials(),a=this.urlencode(this.extend({method:e,moment:this.nonce()},r)),s={"Content-Type":"application/x-www-form-urlencoded","API-Key":this.apiKey,"API-Hash":this.hmac(this.encode(a),this.encode(this.secret),"sha512")};return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,d){if(void 0!==n){if("code"in n){const e=this.safeString(n,"code"),t=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,e,t),new c(t)}if("status"in n){if("Fail"===this.safeString(n,"status")){const e=this.safeValue(n,"errors"),t=this.id+" "+a;for(let i=0;i<e.length;i++){const r=e[i];this.throwExactlyMatchedException(this.exceptions,r,t)}throw new c(t)}}}}}},fOyB:function(e,t,i){"use strict";var r=t,s=i("8kJ5"),a=i("siiD"),n=i("LRLT");r.assert=a,r.toArray=n.toArray,r.zero2=n.zero2,r.toHex=n.toHex,r.encode=n.encode,r.getNAF=function(e,t,i){var r=new Array(Math.max(e.bitLength(),i)+1);r.fill(0);for(var s=1<<t+1,a=e.clone(),n=0;n<r.length;n++){var o,c=a.andln(s-1);a.isOdd()?(o=c>(s>>1)-1?(s>>1)-c:c,a.isubn(o)):o=0,r[n]=o,a.iushrn(1)}return r},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r=0,s=0;e.cmpn(-r)>0||t.cmpn(-s)>0;){var a,n,o,c=e.andln(3)+r&3,d=t.andln(3)+s&3;if(3===c&&(c=-1),3===d&&(d=-1),0===(1&c))a=0;else a=3!==(o=e.andln(7)+r&7)&&5!==o||2!==d?c:-c;if(i[0].push(a),0===(1&d))n=0;else n=3!==(o=t.andln(7)+s&7)&&5!==o||2!==c?d:-d;i[1].push(n),2*r===a+1&&(r=1-r),2*s===n+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new s(e,"hex","le")}},fR7u:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,InsufficientFunds:a,InvalidOrder:n,AuthenticationError:o,PermissionDenied:c,InvalidNonce:d,OrderNotFound:h,DDoSProtection:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"btcbox",name:"BtcBox",countries:["JP"],rateLimit:1e3,version:"v1",has:{CORS:!1,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchTickers:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/31275803-4df755a8-aaa1-11e7-9abb-11ec2fad9f2d.jpg",api:"https://www.btcbox.co.jp/api",www:"https://www.btcbox.co.jp/",doc:"https://www.btcbox.co.jp/help/asm",fees:"https://support.btcbox.co.jp/hc/en-us/articles/360001235694-Fees-introduction"},api:{public:{get:["depth","orders","ticker"]},private:{post:["balance","trade_add","trade_cancel","trade_list","trade_view","wallet"]}},markets:{"BTC/JPY":{id:"btc",symbol:"BTC/JPY",base:"BTC",quote:"JPY",baseId:"btc",quoteId:"jpy",taker:5e-4,maker:5e-4},"ETH/JPY":{id:"eth",symbol:"ETH/JPY",base:"ETH",quote:"JPY",baseId:"eth",quoteId:"jpy",taker:.001,maker:.001},"LTC/JPY":{id:"ltc",symbol:"LTC/JPY",base:"LTC",quote:"JPY",baseId:"ltc",quoteId:"jpy",taker:.001,maker:.001},"BCH/JPY":{id:"bch",symbol:"BCH/JPY",base:"BCH",quote:"JPY",baseId:"bch",quoteId:"jpy",taker:.001,maker:.001}},exceptions:{104:o,105:c,106:d,107:n,200:a,201:n,202:n,203:h,401:h,402:u}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currency(e).id,n=a+"_balance";if(n in t){const r=this.account(),s=a+"_lock";r.free=this.safeFloat(t,n),r.used=this.safeFloat(t,s),i[e]=r}}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};this.symbols.length>1&&(s.coin=r.baseId);const a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={};this.symbols.length>1&&(r.coin=i.baseId);const s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"tid"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==n&&void 0!==a&&(o=a*n);const c=this.safeString(e,"type");return{info:e,id:s,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:c,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={};this.symbols.length>1&&(a.coin=s.baseId);const n=await this.publicGetOrders(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={amount:r,price:s,type:i,coin:n.baseId},c=await this.privatePostTradeAdd(this.extend(o,a));return this.parseOrder(c,n)}async cancelOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s={id:e,coin:r.baseId},a=await this.privatePostTradeCancel(this.extend(s,i));return this.parseOrder(a,r)}parseOrderStatus(e){return this.safeString({part:"open",all:"closed",cancelled:"canceled",closed:"closed",no:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0;void 0!==this.safeString(e,"datetime")&&(r=this.parse8601(e.datetime+"+09:00"));const s=this.safeFloat(e,"amount_original"),a=this.safeFloat(e,"amount_outstanding");let n=void 0;void 0!==s&&void 0!==a&&(n=s-a);const o=this.safeFloat(e,"price");let c=void 0;void 0!==o&&void 0!==n&&(c=n*o);let d=this.parseOrderStatus(this.safeString(e,"status"));void 0===d&&void 0!==a&&0===a&&(d="closed");let h=void 0;void 0!==t&&(h=t.symbol);const u=this.safeString(e,"type");return{id:i,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,amount:s,remaining:a,filled:n,side:u,type:void 0,status:d,symbol:h,price:o,cost:c,trades:void 0,fee:void 0,info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const r=this.market(t),s=this.extend({id:e,coin:r.baseId},i),a=await this.privatePostTradeView(this.extend(s,i));return this.parseOrder(a,r)}async fetchOrdersByType(e,t,i,r,s={}){await this.loadMarkets(),void 0===t&&(t="BTC/JPY");const a=this.market(t),n={type:e,coin:a.baseId},o=await this.privatePostTradeList(this.extend(n,s)),c=this.parseOrders(o,a,i,r);if("open"===e)for(let d=0;d<c.length;d++)c[d].status="open";return c}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByType("all",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByType("open",e,t,i,r)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.extend({key:this.apiKey,nonce:e},r),i=this.urlencode(t),n=this.hash(this.encode(this.secret));t.signature=this.hmac(this.encode(i),this.encode(n)),a=this.urlencode(t),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;if(e>=400)return;const h=this.safeValue(o,"result");if(void 0===h||!0===h)return;const u=this.safeValue(o,"code"),l=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,u,l),new s(l)}async request(e,t="public",i="GET",r={},a,n){let o=await this.fetch2(e,t,i,r,a,n);if("string"===typeof o){if(o=this.strip(o),!this.isJsonEncodedObject(o))throw new s(this.id+" "+o);o=JSON.parse(o)}return o}}},fS3h:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i("e5ry");function s(e){return"string"===typeof e&&(!!/^(0x)?[0-9a-f]{512}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{512}$/.test(e)&&!/^(0x)?[0-9A-F]{512}$/.test(e)))}function a(e,t){"object"===typeof t&&t.constructor===Uint8Array&&(t=r.bytesToHex(t));const i=r.keccak256(t).replace("0x","");for(let r=0;r<12;r+=4){const t=(parseInt(i.substr(r,2),16)<<8)+parseInt(i.substr(r+2,2),16)&2047,s=1<<t%4;if((n(e.charCodeAt(e.length-1-Math.floor(t/4)))&s)!==s)return!1}return!0}function n(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw new Error("invalid bloom")}function o(e){return"string"===typeof e&&(!!/^(0x)?[0-9a-f]{64}$/i.test(e)&&!(!/^(0x)?[0-9a-f]{64}$/.test(e)&&!/^(0x)?[0-9A-F]{64}$/.test(e)))}function c(e){return"string"===typeof e&&(!!e.match(/^(0x)?[0-9a-fA-F]{40}$/)||!!e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/))}t.isBloom=s,t.isInBloom=a,t.isUserEthereumAddressInBloom=function(e,t){if(!s(e))throw new Error("Invalid bloom given");if(!c(t))throw new Error(`Invalid ethereum address given: "${t}"`);return a(e,r.padLeft(t,64))},t.isContractAddressInBloom=function(e,t){if(!s(e))throw new Error("Invalid bloom given");if(!c(t))throw new Error(`Invalid contract address given: "${t}"`);return a(e,t)},t.isTopicInBloom=function(e,t){if(!s(e))throw new Error("Invalid bloom given");if(!o(t))throw new Error("Invalid topic");return a(e,t)},t.isTopic=o,t.isAddress=c},fjfX:function(e,t,i){"use strict";var r=i("RmdU"),s=i("w+uW").subscriptions,a=i("9eKw"),n=i("owCW"),o=function(){var e=this;r.packageInit(this,arguments);var t=this.setProvider;this.setProvider=function(){t.apply(e,arguments),e.net.setProvider.apply(e,arguments)},this.net=new n(this.currentProvider),[new s({name:"subscribe",type:"shh",subscriptions:{messages:{params:1}}}),new a({name:"getVersion",call:"shh_version",params:0}),new a({name:"getInfo",call:"shh_info",params:0}),new a({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new a({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new a({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new a({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new a({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new a({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new a({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new a({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new a({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new a({name:"newSymKey",call:"shh_newSymKey",params:0}),new a({name:"addSymKey",call:"shh_addSymKey",params:1}),new a({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new a({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new a({name:"getSymKey",call:"shh_getSymKey",params:1}),new a({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new a({name:"newMessageFilter",call:"shh_newMessageFilter",params:1}),new a({name:"getFilterMessages",call:"shh_getFilterMessages",params:1}),new a({name:"deleteMessageFilter",call:"shh_deleteMessageFilter",params:1}),new a({name:"post",call:"shh_post",params:1,inputFormatter:[null]}),new a({name:"unsubscribe",call:"shh_unsubscribe",params:1})].forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}))};o.prototype.clearSubscriptions=function(){this._requestManager.clearSubscriptions()},r.addProviders(o),e.exports=o},fobv:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"flowbtc",name:"flowBTC",countries:["BR"],version:"v1",rateLimit:1e3,has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28162465-cd815d4c-67cf-11e7-8e57-438bea0523a2.jpg",api:"https://publicapi.flowbtc.com.br",www:"https://www.flowbtc.com.br",doc:"https://www.flowbtc.com.br/api.html"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{post:["GetTicker","GetTrades","GetTradesByDate","GetOrderBook","GetProductPairs","GetProducts"]},private:{post:["CreateAccount","GetUserInfo","SetUserInfo","GetAccountInfo","GetAccountTrades","GetDepositAddresses","Withdraw","CreateOrder","ModifyOrder","CancelOrder","CancelAllOrders","GetAccountOpenOrders","GetOrderFee"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.005}}})}async fetchMarkets(e={}){const t=await this.publicPostGetProductPairs(e),i=this.safeValue(t,"productPairs"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),a=this.safeString(e,"product1Label"),n=this.safeString(e,"product2Label"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d={amount:this.safeInteger(e,"product1DecimalPlaces"),price:this.safeInteger(e,"product2DecimalPlaces")},h=o+"/"+c;r[h]={id:t,symbol:h,base:o,quote:c,baseId:a,quoteId:n,precision:d,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e}}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"currencies"),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=e.name,a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"balance"),n.total=this.safeFloat(e,"hold"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={productPair:this.market(e).id},s=await this.publicPostGetOrderBook(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","px","qty")}async fetchTicker(e,t={}){await this.loadMarkets();const i={productPair:this.market(e).id},r=await this.publicPostGetTicker(this.extend(i,t)),s=this.milliseconds(),a=this.safeFloat(r,"last");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,"volume24hr"),quoteVolume:this.safeFloat(r,"volume24hrProduct2"),info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"unixtime"),r=0===e.incomingOrderSide?"buy":"sell",s=this.safeString(e,"tid"),a=this.safeFloat(e,"px"),n=this.safeFloat(e,"qty");let o=void 0;return void 0!==a&&void 0!==n&&(o=a*n),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,id:s,order:void 0,type:void 0,side:r,price:a,amount:n,cost:o}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={ins:s.id,startIndex:-1},n=await this.publicPostGetTrades(this.extend(a,r));return this.parseTrades(n.trades,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="market"===t?1:0,o={ins:this.marketId(e),side:i,orderType:n,qty:r,px:this.priceToPrecision(e,s)},c=await this.privatePostCreateOrder(this.extend(o,a));return{info:c,id:c.serverOrderId}}async cancelOrder(e,t,i={}){if(await this.loadMarkets(),"ins"in i){const t={serverOrderId:e};return await this.privatePostCancelOrder(this.extend(t,i))}throw new s(this.id+" requires `ins` symbol parameter for cancelling an order")}sign(e,t="public",i="GET",r={},s,a){const n=this.urls.api+"/"+this.version+"/"+e;if("public"===t)Object.keys(r).length&&(a=this.json(r));else{this.checkRequiredCredentials();const e=this.nonce(),t=e.toString()+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.json(this.extend({apiKey:this.apiKey,apiNonce:e,apiSig:i.toUpperCase()},r)),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("isAccepted"in o&&o.isAccepted)return o;throw new s(this.id+" "+this.json(o))}}},"g+31":function(e,t,i){"use strict";(function(t){var r=i("upWy");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;e.entry=null;for(;r;){var s=r.callback;t.pendingcb--,s(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var a,n=r.nextTick;y.WritableState=m;var o=Object.create(i("nrnY"));o.inherits=i("wfEq");var c={deprecate:i("ct8n")},d=i("n428"),h=i("XKyj").Buffer,u=t.Uint8Array||function(){};var l,f=i("xTpk");function p(){}function m(e,t){a=a||i("A/eZ"),e=e||{};var o=t instanceof a;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,d=e.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:o&&(d||0===d)?d:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,s=i.sync,a=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,s,a){--t.pendingcb,i?(r.nextTick(a,s),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",s)):(a(s),e._writableState.errorEmitted=!0,e.emit("error",s),_(e,t))}(e,i,s,t,a);else{var o=w(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||g(e,i),s?n(v,e,i,o,a):v(e,i,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(a=a||i("A/eZ"),!l.call(y,this)&&!(this instanceof a))return new y(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,i,r,s,a,n){t.writelen=r,t.writecb=n,t.writing=!0,t.sync=!0,i?e._writev(s,t.onwrite):e._write(s,a,t.onwrite),t.sync=!1}function v(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function g(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,a=new Array(r),n=t.corkedRequestsFree;n.entry=i;for(var o=0,c=!0;i;)a[o]=i,i.isBuf||(c=!1),i=i.next,o+=1;a.allBuffers=c,b(e,t,!0,t.length,a,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;i;){var d=i.chunk,h=i.encoding,u=i.callback;if(b(e,t,!1,t.objectMode?1:d.length,d,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),_(e,t)}))}function _(e,t){var i=w(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}o.inherits(y,d),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===y&&(e&&e._writableState instanceof m)}})):l=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var s,a=this._writableState,n=!1,o=!a.objectMode&&(s=e,h.isBuffer(s)||s instanceof u);return o&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(i=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof i&&(i=p),a.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),r.nextTick(t,i)}(this,i):(o||function(e,t,i,s){var a=!0,n=!1;return null===i?n=new TypeError("May not write null values to stream"):"string"===typeof i||void 0===i||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n&&(e.emit("error",n),r.nextTick(s,n),a=!1),a}(this,a,e,i))&&(a.pendingcb++,n=function(e,t,i,r,s,a){if(!i){var n=function(e,t,i){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,i));return t}(t,r,s);r!==n&&(i=!0,s="buffer",r=n)}var o=t.objectMode?1:r.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:s,isBuf:i,callback:a,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,o,r,s,a);return c}(this,a,o,e,t,i)),n},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var s=this._writableState;"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||function(e,t,i){t.ending=!0,_(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i));t.ended=!0,e.writable=!1}(this,s,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=f.destroy,y.prototype._undestroy=f.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i("pCvA"))},g26j:function(e,t,i){"use strict";const{sleep:r,now:s}=i("LP85");e.exports={throttle:function e(t){let i=s(),a=void 0!==t.numTokens?t.numTokens:t.capacity,n=!1;const o=[];return Object.assign(e=>{if(o.length>t.maxCapacity)throw new Error("Backlog is over max capacity of "+t.maxCapacity);return new Promise(async(c,d)=>{try{if(o.push({cost:e,resolve:c,reject:d}),!n){for(n=!0;o.length>0;){if((t.capacity?a>0:a>=0)&&o.length>0){let{cost:e,resolve:i,reject:r}=o[0];e=e||t.defaultCost,a>=Math.min(e,t.capacity)&&(a-=e,o.shift(),i())}const e=s(),n=e-i;i=e,a=Math.min(t.capacity,a+n*t.refillRate),await r(t.delay)}n=!1}}catch(h){d(h)}})},t,{configure:i=>e(Object.assign({},t,i))})}}},g94P:function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s,AuthenticationError:a,ExchangeError:n,InsufficientFunds:o,InvalidOrder:c,BadSymbol:d}=i("ucJe"),{ROUND:h}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitmax",name:"BitMax",countries:["CN"],rateLimit:500,certified:!1,has:{CORS:!1,fetchAccounts:!0,fetchTickers:!0,fetchOHLCV:!0,fetchMyTrades:!1,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchOrderTrades:!0,fetchClosedOrders:!0,fetchTransactions:!1,fetchCurrencies:!0,cancelAllOrders:!0,fetchDepositAddress:!0},timeframes:{"1m":"1","3m":"3","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","6h":"360","12h":"720","1d":"1d","1w":"1w","1M":"1m"},version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/66820319-19710880-ef49-11e9-8fbe-16be62a11992.jpg",api:"https://bitmax.io",test:"https://bitmax-test.io/api",www:"https://bitmax.io",doc:["https://github.com/bitmax-exchange/api-doc/blob/master/bitmax-api-doc-v1.2.md"],fees:"https://bitmax.io/#/feeRate/tradeRate",referral:"https://bitmax.io/#/register?inviteCode=EL6BXBQM"},api:{public:{get:["assets","depth","fees","quote","depth","trades","products","ticker/24hr","barhist","barhist/info","margin/ref-price"]},private:{get:["deposit","user/info","balance","order/batch","order/open","order","order/history","order/{coid}","order/fills/{coid}","transaction","margin/balance","margin/order/open","margin/order"],post:["margin/order","order","order/batch"],delete:["margin/order","order","order/all","order/batch"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001}},options:{accountGroup:void 0,parseOrderToPrecision:!1},exceptions:{exact:{2100:a,5002:d,6010:o,60060:c,600503:c},broad:{}}})}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"assetCode"),a=this.safeCurrencyCode(s),n=this.safeInteger(e,"precisionScale"),o=this.safeFloat(e,"withdrawalFee"),c="Normal"===this.safeString(e,"status");i[a]={id:s,code:a,info:e,type:void 0,name:this.safeString(e,"assetName"),active:c,fee:o,precision:n,limits:{amount:{min:Math.pow(10,-n),max:void 0},price:{min:Math.pow(10,-n),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(e,"minWithdrawalAmt"),max:void 0}}}}return i}async fetchMarkets(e={}){const t=await this.publicGetProducts(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeString(e,"baseAsset"),n=this.safeString(e,"quoteAsset"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:this.safeInteger(e,"qtyScale"),price:this.safeInteger(e,"notionalScale")},u="Normal"===this.safeString(e,"status");i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:u,precision:h,limits:{amount:{min:this.safeFloat(e,"minQty"),max:this.safeFloat(e,"maxQty")},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(e,"minNotional"),max:this.safeFloat(e,"maxNotional")}}})}return i}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let u=r*d,l=o.precision.price;return"sell"===i?u*=s:(c="base",l=o.precision.amount),u=this.decimalToPrecision(u,h,l,this.precisionMode),{type:a,currency:o[c],rate:d,cost:parseFloat(u)}}async fetchAccounts(e={}){let t=this.safeString(this.options,"accountGroup"),i=void 0;return void 0===t&&(i=await this.privateGetUserInfo(e),t=this.safeString(i,"accountGroup")),[{id:t,type:void 0,currency:void 0,info:i}]}async fetchBalance(e={}){await this.loadMarkets(),await this.loadAccounts();const t=await this.privateGetBalance(e),i={info:t},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeCurrencyCode(this.safeString(e,"assetCode")),a=this.account();a.free=this.safeFloat(e,"availableAmount"),a.used=this.safeFloat(e,"inOrderAmount"),a.total=this.safeFloat(e,"totalAmount"),i[t]=a}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id};void 0!==t&&(r.n=t);const s=await this.publicGetDepth(this.extend(r,i)),a=this.safeInteger(s,"ts"),n=this.parseOrderBook(s,a);return n.nonce=this.safeInteger(s,"seqnum"),n}parseTicker(e,t){const i=this.safeInteger(e,"barStartTime");let r=void 0;const s=this.safeString(e,"symbol");if(s in this.markets_by_id)t=this.markets_by_id[s];else if(void 0!==s){const[e,t]=s.split("/");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"closePrice");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"highPrice"),low:this.safeFloat(e,"lowPrice"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"openPrice"),close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker24hr(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker24hr(t);return this.parseTickers(i,e)}parseOHLCV(e,t,i="1m",r,s){return[this.safeInteger(e,"t"),this.safeFloat(e,"o"),this.safeFloat(e,"h"),this.safeFloat(e,"l"),this.safeFloat(e,"c"),this.safeFloat(e,"v")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,interval:this.timeframes[t]},o=this.parseTimeframe(t);void 0!==i?(n.from=i,void 0!==r&&(n.to=this.sum(i,r*o*1e3,1))):void 0!==r&&(n.to=this.milliseconds(),n.from=n.to-r*o*1e3-1);const c=await this.publicGetBarhist(this.extend(n,s));return this.parseOHLCVs(c,a,t,i,r)}parseTrade(e,t){const i=this.safeInteger(e,"t"),r=this.safeFloat(e,"p"),s=this.safeFloat(e,"q");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);const n=this.safeValue(e,"bm");let o=void 0;const c=this.safeString(e,"s");if(void 0!==c)if(c in this.markets_by_id)o=(t=this.markets_by_id[c]).symbol;else{const[e,i]=t.split("/");o=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(i)}void 0===o&&void 0!==t&&(o=t.symbol);let d=void 0;const h=this.safeFloat(e,"fee");if(void 0!==h){const t=this.safeString(e,"fa");d={cost:h,currency:this.safeCurrencyCode(t)}}const u=this.safeString(e,"coid");let l=this.safeStringLower(e,"side");void 0===l&&void 0!==n&&(l=n?"buy":"sell");const f=this.safeStringLower(e,"orderType");return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,id:void 0,order:u,type:f,takerOrMaker:void 0,side:l,price:r,amount:s,cost:a,fee:d}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.n=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}parseOrderStatus(e){return this.safeString({PendingNew:"open",New:"open",PartiallyFilled:"open",Filled:"closed",Canceled:"canceled",Rejected:"rejected"},e,e)}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status")),r=this.safeString(e,"symbol");let s=void 0;if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("/");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===s&&void 0!==t&&(s=t.symbol);const a=this.safeInteger(e,"sendingTime");let n=this.safeFloat(e,"orderPrice");const o=this.safeFloat(e,"orderQty"),c=this.safeFloat(e,"filledQty");let d=void 0,h=this.safeFloat(e,"cummulativeQuoteQty");void 0!==c&&(void 0!==o&&(d=o-c,this.options.parseOrderToPrecision&&(d=parseFloat(this.amountToPrecision(s,d))),d=Math.max(d,0)),void 0!==n&&void 0===h&&(h=n*c));const u=this.safeString(e,"coid");let l=this.safeString(e,"orderType");void 0!==l&&(l=l.toLowerCase(),"market"===l&&0===n&&void 0!==h&&void 0!==c&&h>0&&c>0&&(n=h/c));const f=this.safeStringLower(e,"side"),p={cost:this.safeFloat(e,"fee"),currency:this.safeString(e,"feeAsset")},m=this.safeFloat(e,"avgPrice");return{info:e,id:u,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:l,side:f,price:n,amount:o,cost:h,average:m,filled:c,remaining:d,status:i,fee:p,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),await this.loadAccounts();const n=this.market(e),o={coid:this.coid(),symbol:n.id,orderQty:this.amountToPrecision(e,r),orderType:t,side:i};"limit"!==t&&"stop_limit"!==t||(o.orderPrice=this.priceToPrecision(e,s));const c=await this.privatePostOrder(this.extend(o,a)),d=this.safeValue(c,"data",{});return this.parseOrder(d,n)}async fetchOrder(e,t,i={}){await this.loadMarkets(),await this.loadAccounts();let r=void 0;void 0!==t&&(r=this.market(t));const s={coid:e},a=await this.privateGetOrderCoid(this.extend(s,i)),n=this.safeValue(a,"data",{});return this.parseOrder(n,r)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets(),await this.loadAccounts();let a=void 0;void 0!==t&&(a=this.market(t));const n={coid:e},o=await this.privateGetOrderFillsCoid(this.extend(n,s)),c=this.safeValue(o,"data",{});return this.parseTrades(c,a,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id);const n=await this.privateGetOrderOpen(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseOrders(o,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets(),await this.loadAccounts();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==t&&(a.startTime=t),void 0!==i&&(a.n=i);const n=await this.privateGetOrderHistory(this.extend(a,r)),o=this.safeValue(n,"data",{}),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async cancelOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets(),await this.loadAccounts();const r={symbol:this.market(t).id,coid:this.coid(),origCoid:e},a=await this.privateDeleteOrder(this.extend(r,i)),n=this.safeValue(a,"data",{});return this.parseOrder(n)}async cancelAllOrders(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i={};let r=void 0;return void 0!==e&&(r=this.market(e),i.symbol=r.id),await this.privateDeleteOrderAll(this.extend(i,t))}coid(){return this.uuid().split("-").join("").slice(0,32)}async fetchDepositAddress(e,t={}){await this.loadMarkets(),await this.loadAccounts();const i=this.currency(e),r={requestId:this.coid(),assetCode:i.id},s=await this.privateGetDeposit(this.extend(r,t));let a=this.safeValue(s,"data");if(Array.isArray(a)){const e=this.safeValue(a,0,{});a=this.safeValue(e,"addressData",{})}const n=this.safeString(a,"address"),o=this.safeString(a,"destTag");return this.checkAddress(n),{currency:e,address:n,tag:o,info:s}}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();let t=this.safeString(this.options,"accountGroup");void 0===t&&void 0!==this.accounts&&(t=this.accounts[0].id),void 0!==t&&(n="/"+t+n);const r=this.safeString(o,"coid");o.time=this.milliseconds().toString();let c=o.time+"+"+e.replace("/{coid}","");s={"x-auth-key":this.apiKey,"x-auth-timestamp":o.time,"Content-Type":"application/json"},void 0!==r&&(c+="+"+r,s["x-auth-coid"]=r);const d=this.hmac(this.encode(c),this.encode(this.secret),"sha256","base64");s["x-auth-signature"]=d,"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):a=this.json(o)}return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==h&&"0"!==h||void 0!==u){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions.exact,h,e),this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new n(e)}}}},gVbT:function(e,t,i){"use strict";var r=i("tk5I"),s=i("3NQs").utils.assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,i){return t instanceof a?t:new a(e,{pub:t,pubEnc:i})},a.fromPrivate=function(e,t,i){return t instanceof a?t:new a(e,{priv:t,privEnc:i})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},gkJv:function(e,t,i){e.exports={pkcs1:i("19XG"),isEncryption:function(t){return e.exports[t]&&e.exports[t].isEncryption},isSignature:function(t){return e.exports[t]&&e.exports[t].isSignature}}},gkn6:function(e,t,i){var r,s,a=i("1JWd"),n=i("QxbU"),o=0,c=0;e.exports=function(e,t,i){var d=t&&i||0,h=t||[],u=(e=e||{}).node||r,l=void 0!==e.clockseq?e.clockseq:s;if(null==u||null==l){var f=a();null==u&&(u=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==l&&(l=s=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,y=p-o+(m-c)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||p>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=p,c=m,s=l;var b=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;h[d++]=b>>>24&255,h[d++]=b>>>16&255,h[d++]=b>>>8&255,h[d++]=255&b;var v=p/4294967296*1e4&268435455;h[d++]=v>>>8&255,h[d++]=255&v,h[d++]=v>>>24&15|16,h[d++]=v>>>16&255,h[d++]=l>>>8|128,h[d++]=255&l;for(var g=0;g<6;++g)h[d+g]=u[g];return t||n(h)}},h155:function(e,t,i){var r=i("IArH"),s=i("Jl5k"),a=i("x9yg"),n=i("MIei"),o=i("NzZW"),c="application/json",d=function(){};e.exports=function(e,t,i){if(!e||"string"!==typeof e)throw new TypeError("must specify a URL");"function"===typeof t&&(i=t,t={});if(i&&"function"!==typeof i)throw new TypeError("expected cb to be undefined or a function");i=i||d;var h=(t=t||{}).json?"json":"text",u=(t=a({responseType:h},t)).headers||{},l=(t.method||"GET").toUpperCase(),f=t.query;f&&("string"!==typeof f&&(f=r.stringify(f)),e=s(e,f));"json"===t.responseType&&n(u,"Accept",c);t.json&&"GET"!==l&&"HEAD"!==l&&(n(u,"Content-Type",c),t.body=JSON.stringify(t.body));return t.method=l,t.url=e,t.headers=u,delete t.query,delete t.json,o(t,i)}},hIzy:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,InsufficientFunds:n,ExchangeNotAvailable:o,InvalidOrder:c,BadRequest:d,OrderNotFound:h,NotSupported:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"anxpro",name:"ANXPro",countries:["JP","SG","HK","NZ"],rateLimit:1500,userAgent:this.userAgents.chrome,has:{CORS:!1,fetchCurrencies:!0,fetchOHLCV:!1,fetchTrades:!1,fetchOpenOrders:!0,fetchDepositAddress:!0,fetchTransactions:!0,fetchMyTrades:!0,createDepositAddress:!1,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27765983-fd8595da-5ec9-11e7-82e3-adb3ab8c2612.jpg",api:{public:"https://anxpro.com/api/2",private:"https://anxpro.com/api/2",v3public:"https://anxpro.com/api/3",v3private:"https://anxpro.com/api/3"},www:"https://anxpro.com",doc:["https://anxv2.docs.apiary.io","https://anxv3.docs.apiary.io","https://anxpro.com/pages/api"]},api:{v3public:{get:["currencyStatic"]},v3private:{post:["register/register","register/verifyRegistration","register/resendVerification","register/autoRegister","account","subaccount/new","transaction/list","order/list","trade/list","send","receive","receive/create","batch/new","batch/add","batch/list","batch/info","batch/closeForSend","order/new","order/info","order/cancel","retail/quote","retail/trade","validateAddress","address/check","alert/create","alert/delete","alert/list","kyc/personal","kyc/document","kyc/status","kyc/verifyCode","news/list","press/list","announcements/list","apiDoc/list"]},public:{get:["{currency_pair}/money/ticker","{currency_pair}/money/depth/full","{currency_pair}/money/trade/fetch"]},private:{post:["{currency_pair}/money/order/add","{currency_pair}/money/order/cancel","{currency_pair}/money/order/quote","{currency_pair}/money/order/result","{currency_pair}/money/orders","money/{currency}/address","money/{currency}/send_simple","money/info","money/trade/list","money/wallet/history"]}},httpExceptions:{403:a},exceptions:{exact:{"Insufficient Funds":n,"Trade value too small":c,"The currency pair is not supported":d,"Order amount is too low":c,"Order amount is too high":c,"order rate is too low":c,"order rate is too high":c,"Too many open orders":c,"Unexpected error":s,"Order Engine is offline":o,"No executed order with that identifer found":h,"Unknown server error, please contact support.":s,"Not available":o}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002}},options:{fetchMyTradesMethod:"private_post_money_trade_list"}})}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.from=t),void 0!==i&&(s.max=i);const a=void 0===e?void 0:this.currency(e);void 0!==a&&(s.ccy=a.id);const n=await this.v3privatePostTransactionList(this.extend(s,r)),o=this.safeValue(n,"transactions",[]),c=this.groupBy(o,"transactionType",[]),d=this.arrayConcat(this.safeValue(c,"DEPOSIT",[]),this.safeValue(c,"WITHDRAWAL",[]));return this.parseTransactions(d,a,t,i)}parseTransaction(e,t){const i=this.safeInteger(e,"received"),r=this.safeInteger(e,"processed"),s=this.safeString(e,"transactionType");let a=void 0,n=this.safeFloat(e,"amount"),o=this.safeString(e,"coinAddress"),c=void 0;if("WITHDRAWAL"===s){if(a="withdrawal",n=-n,o&&o.indexOf("?dt=")>=0){const e=o.split("?dt=");o=e[0],c=e[1]}}else if("DEPOSIT"===s){if(!o){const t=this.safeString(e,"displayDescription").replace("Deposit to: ","");if(t.length>0)if(t.indexOf("?dt=")>=0){const e=t.split("?dt=");o=e[0],c=e[1]}else o=t}a="deposit"}const d=this.safeString(e,"ccy"),h=this.safeCurrencyCode(d),u=this.safeString(e,"transactionState"),l=this.parseTransactionStatus(u),f=this.safeFloat(e,"fee"),p=n-f;return{timestamp:i,datetime:this.iso8601(i),id:this.safeString(e,"uuid"),currency:h,amount:p,address:o,tag:c,status:l,type:a,updated:r,txid:this.safeString(e,"coinTransactionId"),fee:{cost:f,currency:h},info:e}}parseTransactionStatus(e){return this.safeString({PROCESSED:"ok",REVERSED:"canceled",CANCELLED_INSUFFICIENT_FUNDS:"canceled",CANCELLED_LIMIT_BREACH:"canceled"},e,e)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.max=i);const a=this.safeString(this.options,"fetchMyTradesMethod","private_post_money_trade_list"),n=await this[a](this.extend(s,r)),o=this.safeValue2(n,"trades","data",[]),c=void 0===e?void 0:this.market(e);return this.parseTrades(o,c,t,i)}parseTrade(e,t){const i=this.safeString(e,"tradeId"),r=this.safeString(e,"orderId"),s=this.safeInteger(e,"timestamp"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"tradedCurrencyFillAmount"),o=this.safeFloat(e,"settlementCurrencyFillAmount"),c=this.safeStringLower(e,"side");let d=void 0;const h=this.safeString(e,"ccyPair");return h in this.markets_by_id&&(t=this.markets_by_id[h]),void 0===d&&void 0!==t&&(d=t.symbol),{id:i,order:r,timestamp:s,datetime:this.iso8601(s),symbol:d,type:void 0,side:c,price:a,amount:n,cost:o,fee:void 0,info:e}}async fetchCurrencies(e={}){const t=await this.v3publicGetCurrencyStatic(e),i=this.safeValue(t,"currencyStatic",{}),r=this.safeValue(i,"currencies",{}),s={},a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=r[e],i=this.safeCurrencyCode(e),o=this.safeValue(t,"engineSettings"),c=this.safeValue(o,"depositsEnabled"),d=this.safeValue(o,"withdrawalsEnabled"),h=this.safeValue(o,"displayEnabled"),u=c&&d&&h,l=this.safeInteger(t,"decimals"),f=this.safeFloat(t,"networkFee"),p=this.safeStringLower(t,"type");s[i]={id:e,code:i,info:t,name:i,type:p,active:u,precision:l,fee:f,limits:{amount:{min:this.safeFloat(t,"minOrderSize"),max:this.safeFloat(t,"maxOrderSize")},price:{min:void 0,max:void 0},cost:{min:this.safeFloat(t,"minOrderValue"),max:this.safeFloat(t,"maxOrderValue")},withdraw:{min:void 0,max:void 0}}}}return s}async fetchMarkets(e={}){const t=await this.v3publicGetCurrencyStatic(e),i=this.safeValue(t,"currencyStatic",{}),r=this.safeValue(i,"currencies",{}),s=this.safeValue(i,"currencyPairs",{}),a=[],n=Object.keys(s);for(let o=0;o<n.length;o++){const e=n[o],t=s[e],i=this.safeString(t,"tradedCcy"),c=this.safeString(t,"settlementCcy"),d=this.safeCurrencyCode(i),h=this.safeCurrencyCode(c),u=d+"/"+h,l=this.safeValue(r,i,{}),f=this.safeValue(r,c,{}),p={price:this.safeInteger(t,"priceDecimals"),amount:this.safeInteger(l,"decimals")},m=this.safeValue(t,"engineSettings"),y=this.safeValue(m,"displayEnabled"),b=this.safeValue(m,"tradingEnabled"),v=y&&b;a.push({id:e,symbol:u,base:d,quote:h,baseId:i,quoteId:c,precision:p,active:v,limits:{price:{min:this.safeFloat(t,"minOrderRate"),max:this.safeFloat(t,"maxOrderRate")},amount:{min:this.safeFloat(l,"minOrderSize"),max:this.safeFloat(l,"maxOrderSize")},cost:{min:this.safeFloat(f,"minOrderValue"),max:this.safeFloat(f,"maxOrderValue")}},info:t})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostMoneyInfo(e),i=this.safeValue(t,"data",{}),r=this.safeValue(i,"Wallets",{}),s=Object.keys(r),a={info:i};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeCurrencyCode(e),i=this.account(),o=this.safeValue(r,e);i.free=this.safeFloat(o.Available_Balance,"value"),i.total=this.safeFloat(o.Balance,"value"),a[t]=i}return this.parseBalance(a)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency_pair:this.marketId(e)},s=await this.publicGetCurrencyPairMoneyDepthFull(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeIntegerProduct(a,"dataUpdateTime",.001);return this.parseOrderBook(a,n,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currency_pair:this.marketId(e)},r=await this.publicGetCurrencyPairMoneyTicker(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeIntegerProduct(s,"dataUpdateTime",.001),n=this.safeFloat(s.buy,"value"),o=this.safeFloat(s.sell,"value"),c=this.safeFloat(s.vol,"value"),d=this.safeFloat(s.last,"value");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s.high,"value"),low:this.safeFloat(s.low,"value"),bid:n,bidVolume:void 0,ask:o,askVolume:void 0,vwap:void 0,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(s.avg,"value"),baseVolume:c,quoteVolume:void 0,info:s}}async fetchTrades(e,t,i,r={}){throw new u(this.id+" switched off the trades endpoint, see their docs at https://docs.anxv2.apiary.io")}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.max=i);const a=await this.v3privatePostOrderList(this.extend(s,r)),n=this.safeValue(a,"orders",[]),o=void 0===e?void 0:this.market(e);return this.parseOrders(n,o,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency_pair:s.id},n=await this.privatePostCurrencyPairMoneyOrders(this.extend(a,r));return this.parseOrders(this.safeValue(n,"data",{}),s,t,i)}parseOrder(e,t){return"orderId"in e?this.parseOrderV3(e,t):this.parseOrderV2(e,t)}parseOrderStatus(e){return this.safeString({ACTIVE:"open",FULL_FILL:"closed",CANCEL:"canceled",USER_CANCEL_PARTIAL:"canceled",PARTIAL_FILL:"canceled"},e,e)}parseOrderV3(e,t){const i=this.parseOrderStatus(this.safeString(e,"orderStatus")),r=this.safeCurrencyCode(this.safeString(e,"tradedCurrency"))+"/"+this.safeCurrencyCode(this.safeString(e,"settlementCurrency")),s="true"===this.safeString(e,"buyTradedCurrency")?"buy":"sell",a=this.safeInteger(e,"timestamp");let n=void 0;const o=[];let c=0;const d=this.safeStringLower(e,"orderType");for(let m=0;m<e.trades.length;m++){const t=e.trades[m],i=this.safeInteger(t,"timestamp");(!n||n<i)&&(n=i);const r=this.extend(this.parseTrade(t),{side:s,type:d});o.push(r),c=this.sum(c,r.amount)}const h=this.safeFloat(e,"limitPriceInSettlementCurrency"),u=this.safeFloat(e,"executedAverageRate"),l="market"===d?0:this.safeFloat(e,"tradedCurrencyAmountOutstanding");let f=this.safeFloat(e,"tradedCurrencyAmount");if(!f){f=this.safeFloat(e,"settlementCurrencyAmount")/u}const p=u*c;return{id:this.safeString(e,"orderId"),symbol:r,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:n,type:d,side:s,price:h,cost:p,amount:f,remaining:l,filled:c,status:i,fee:void 0,trades:o,info:e}}parseOrderV2(e,t){const i=this.safeString(e,"oid"),r=this.safeString(e,"status"),s=this.safeInteger(e,"date"),a=this.safeString(e,"item")+"/"+this.safeString(e,"currency");let n=void 0;"undefined"!==typeof(t=this.safeValue(this.markets_by_id,a))&&(n=t.symbol);const o=this.safeValue(e,"amount",{}),c=this.safeValue(e,"effective_amount",{}),d=this.safeValue(e,"price",{}),h=this.safeFloat(c,"value"),u=this.safeFloat(o,"volume"),l=this.safeFloat(d,"value");let f=void 0,p=void 0;"undefined"!==typeof u&&"undefined"!==typeof h&&(f=u-h,p=l*f);let m=this.safeString(e,"type");m="offer"===m?"sell":"buy";return{info:e,id:i,symbol:n,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,type:"limit",side:m,price:l,cost:p,amount:u,remaining:h,filled:f,status:r,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=Math.pow(10,n.precision.amount),c={currency_pair:n.id,amount_int:parseInt(r*o)};if("limit"===t){const e=Math.pow(10,n.precision.price);c.price_int=parseInt(s*e)}c.type="buy"===i?"bid":"ask";const d=await this.privatePostCurrencyPairMoneyOrderAdd(this.extend(c,a));return{info:d,id:d.data}}async cancelOrder(e,t,i={}){return await this.privatePostCurrencyPairMoneyOrderCancel({oid:e})}getAmountMultiplier(e){return this.safeInteger({BTC:1e8,LTC:1e8,STR:1e8,XRP:1e8,DOGE:1e8},e,100)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a=this.currency(e),n=this.getAmountMultiplier(e),o={currency:a,amount_int:parseInt(t*n),address:i};void 0!==r&&(o.destinationTag=r);const c=await this.privatePostMoneyCurrencySendSimple(this.extend(o,s));return{info:c,id:c.data.transactionId}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privatePostMoneyCurrencyAddress(this.extend(i,t)),s=this.safeValue(r,"data",{}),a=this.safeString(s,"addr");return this.checkAddress(a),{currency:e,address:a,tag:void 0,info:r}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));let c=this.urls.api[t]+"/"+n;if("public"===t||"v3public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();let i=void 0,r=void 0;if("v3private"===t){a=this.json(this.extend({tonce:1e3*e},o)),i=c.replace("https://anxpro.com/","")+"\0"+a,r="application/json"}else i=n+"\0"+(a=this.urlencode(this.extend({nonce:e},o))),r="application/x-www-form-urlencoded";const d=this.base64ToBinary(this.secret),h=this.hmac(this.encode(i),d,"sha512","base64");s={"Content-Type":r,"Rest-Key":this.apiKey,"Rest-Sign":this.decode(h)}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o||""===o)return;const h=this.safeString(o,"result"),u=this.safeString(o,"resultCode"),l=this.safeString(o,"status");if(void 0!==h&&"success"!==h||void 0!==u&&"OK"!==u||void 0!==l){const e=this.safeString(o,"error"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,t),this.throwExactlyMatchedException(this.exceptions.exact,e,t),this.throwExactlyMatchedException(this.exceptions.exact,l,t),this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new s(t)}}}},hTj0:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ExchangeNotAvailable:a,AuthenticationError:n,BadRequest:o,PermissionDenied:c,InvalidAddress:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bithumb",name:"Bithumb",countries:["KR"],rateLimit:500,has:{CORS:!0,fetchTickers:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/30597177-ea800172-9d5e-11e7-804c-b9d4fa9b56b0.jpg",api:{public:"https://api.bithumb.com/public",private:"https://api.bithumb.com"},www:"https://www.bithumb.com",doc:"https://apidocs.bithumb.com",fees:"https://en.bithumb.com/customer_support/info_fee"},api:{public:{get:["ticker/{currency}","ticker/all","orderbook/{currency}","orderbook/all","transaction_history/{currency}","transaction_history/all"]},private:{post:["info/account","info/balance","info/wallet_address","info/ticker","info/orders","info/user_transactions","trade/place","info/order_detail","trade/cancel","trade/btc_withdrawal","trade/krw_deposit","trade/krw_withdrawal","trade/market_buy","trade/market_sell"]}},fees:{trading:{maker:.0025,taker:.0025}},exceptions:{"Bad Request(SSL)":o,"Bad Request(Bad Method)":o,"Bad Request.(Auth Data)":n,"Not Member":n,"Invalid Apikey":n,"Method Not Allowed.(Access IP)":c,"Method Not Allowed.(BTC Adress)":d,"Method Not Allowed.(Access)":c,"Database Fail":a,"Invalid Parameter":o,5600:s,"Unknown Error":s,"After May 23th, recent_transactions is no longer, hence users will not be able to connect to recent_transactions":s}})}async fetchMarkets(e={}){const t=await this.publicGetTickerAll(e),i=this.safeValue(t,"data"),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a];if("date"===e)continue;const t=i[e],n=e,o="KRW",c=e+"/"+o;let d=!0;if(Array.isArray(t)){0===t.length&&(d=!1)}s.push({id:e,symbol:c,base:n,quote:o,info:t,active:d,precision:{amount:void 0,price:void 0},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostInfoBalance(this.extend({currency:"ALL"},e)),i={info:t},r=this.safeValue(t,"data"),s=Object.keys(this.currencies);for(let a=0;a<s.length;a++){const e=s[a],t=this.account(),n=this.currency(e),o=this.safeStringLower(n,"id");t.total=this.safeFloat(r,"total_"+o),t.used=this.safeFloat(r,"in_use_"+o),t.free=this.safeFloat(r,"available_"+o),i[e]=t}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currency:this.market(e).base};void 0!==t&&(r.count=t);const s=await this.publicGetOrderbookCurrency(this.extend(r,i)),a=this.safeValue(s,"data"),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,n,"bids","asks","price","quantity")}parseTicker(e,t){const i=this.safeInteger(e,"date");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"opening_price"),a=this.safeFloat(e,"closing_price");let n=void 0,o=void 0,c=void 0;void 0!==a&&void 0!==s&&(n=a-s,s>0&&(o=n/s*100),c=this.sum(s,a)/2);const d=this.safeFloat(e,"units_traded_24H"),h=this.safeFloat(e,"acc_trade_value_24H");let u=void 0;return void 0!==h&&void 0!==d&&(u=h/d),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"max_price"),low:this.safeFloat(e,"min_price"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:u,open:s,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:c,baseVolume:d,quoteVolume:h,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickerAll(t),r={},s=this.safeInteger(i.data,"date"),a=this.omit(i.data,"date"),n=Object.keys(a);for(let o=0;o<n.length;o++){const e=n[o];let t=e,i=void 0;e in this.markets_by_id&&(i=this.markets_by_id[e],t=i.symbol);const c=a[e];Array.isArray(c)||(c.date=s,r[t]=this.parseTicker(c,i))}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.base},s=await this.publicGetTickerCurrency(this.extend(r,t));return this.parseTicker(s.data,i)}parseTrade(e,t){const i=e.transaction_date.split(" "),r=i[0];let s=i[1];s.length<8&&(s="0"+s);let a=this.parse8601(r+" "+s);a-=324e5;let n=this.safeString(e,"type");n="ask"===n?"sell":"buy";const o=this.safeString(e,"cont_no");let c=void 0;void 0!==t&&(c=t.symbol);const d=this.safeFloat(e,"price"),h=this.safeFloat(e,"units_traded");let u=void 0;return void 0!==h&&void 0!==d&&(u=d*h),{id:o,info:e,timestamp:a,datetime:this.iso8601(a),symbol:c,order:void 0,type:void 0,side:n,takerOrMaker:void 0,price:d,amount:h,cost:u,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.base};void 0===i&&(a.count=i);const n=await this.publicGetTransactionHistoryCurrency(this.extend(a,r));return this.parseTrades(n.data,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o=void 0,c="privatePostTrade";"limit"===t?(o={order_currency:n.id,Payment_currency:n.quote,units:r,price:s,type:"buy"===i?"bid":"ask"},c+="Place"):"market"===t&&(o={currency:n.id,units:r},c+="Market"+this.capitalize(i));const d=await this[c](this.extend(o,a));return{info:d,id:this.safeString(d,"order_id")}}async cancelOrder(e,t,i={}){if(!("side"in i))throw new s(this.id+" cancelOrder requires a `side` parameter (sell or buy) and a `currency` parameter");const r=this.safeString(i,"currency");if(void 0===r)throw new s(this.id+" cancelOrder requires a `currency` parameter (a currency id)");const a="buy"===i.side?"bid":"ask";i=this.omit(i,["side","currency"]);const n={order_id:e,type:a,currency:r};return await this.privatePostTradeCancel(this.extend(n,i))}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o={units:t,address:i,currency:n.id};if("XRP"===n||"XMR"===n){const t=this.safeString(a,"destination");if(void 0===r&&void 0===t)throw new s(this.id+" "+e+" withdraw() requires a tag argument or an extra destination param");void 0!==r&&(o.destination=r)}return{info:await this.privatePostTradeBtcWithdrawal(this.extend(o,a)),id:void 0}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.implodeParams(e,r);let o=this.urls.api[t]+n;const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials(),a=this.urlencode(this.extend({endpoint:n},c));const e=this.nonce().toString(),t=n+"\0"+a+"\0"+e,i=this.hmac(this.encode(t),this.encode(this.secret),"sha512"),r=this.decode(this.stringToBase64(this.encode(i)));s={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","Api-Key":this.apiKey,"Api-Sign":r.toString(),"Api-Nonce":e}}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"status"in o){const e=this.safeString(o,"status"),t=this.safeString(o,"message");if(void 0!==e){if("0000"===e)return;const i=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,i),this.throwExactlyMatchedException(this.exceptions,t,i),new s(i)}}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("status"in o){if("0000"===o.status)return o;throw new s(this.id+" "+this.json(o))}return o}}},hVbd:function(e,t,i){(function(t,r){var s,a=i("PunD"),n=i("cDjl"),o=i("SUNt"),c=i("pRMk").Buffer,d=t.crypto&&t.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function l(e,t,i,r,s){return d.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return d.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:s}},e,r<<3)})).then((function(e){return c.from(e)}))}e.exports=function(e,i,f,p,m,y){"function"===typeof m&&(y=m,m=void 0);var b=h[(m=m||"sha1").toLowerCase()];if(!b||"function"!==typeof t.Promise)return r.nextTick((function(){var t;try{t=o(e,i,f,p,m)}catch(r){return y(r)}y(null,t)}));if(a(e,i,f,p),"function"!==typeof y)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,n)),c.isBuffer(i)||(i=c.from(i,n)),function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(void 0!==u[e])return u[e];var i=l(s=s||c.alloc(8),s,10,128,e).then((function(){return!0})).catch((function(){return!1}));return u[e]=i,i}(b).then((function(t){return t?l(e,i,f,p,b):o(e,i,f,p,m)})),y)}}).call(this,i("pCvA"),i("5IsQ"))},hawN:function(e,t,i){"use strict";e.exports={BaseError:{ExchangeError:{AuthenticationError:{PermissionDenied:{},AccountSuspended:{}},ArgumentsRequired:{},BadRequest:{BadSymbol:{}},BadResponse:{NullResponse:{}},InsufficientFunds:{},InvalidAddress:{AddressPending:{}},InvalidOrder:{OrderNotFound:{},OrderNotCached:{},CancelPending:{},OrderImmediatelyFillable:{},OrderNotFillable:{},DuplicateOrderId:{}},NotSupported:{}},NetworkError:{DDoSProtection:{RateLimitExceeded:{}},ExchangeNotAvailable:{OnMaintenance:{}},InvalidNonce:{},RequestTimeout:{}}}}},heVN:function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var r,s=1,a={},n=!1,o=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"===typeof i.data&&0===i.data.indexOf(t)&&h(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),r=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){h(e.data)},r=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;r=function(t){var i=o.createElement("script");i.onreadystatechange=function(){h(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():r=function(e){setTimeout(h,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return a[s]=n,r(s),s++},c.clearImmediate=d}function d(e){delete a[e]}function h(e){if(n)setTimeout(h,0,e);else{var t=a[e];if(t){n=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}(t)}finally{d(e),n=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,i("pCvA"),i("5IsQ"))},hmUS:function(e,t,i){e.exports=i("g+31")},"hnK/":function(e,t,i){t.pbkdf2=i("hVbd"),t.pbkdf2Sync=i("SUNt")},hwY2:function(e,t,i){"use strict";var r=i("HpGB"),s=i("DDMh"),a=i("Eg+Y"),n=r.rotl32,o=r.sum32,c=r.sum32_5,d=a.ft_1,h=s.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(l,h),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=n(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var s=this.h[0],a=this.h[1],h=this.h[2],l=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),m=c(n(s,5),d(p,a,h,l),f,i[r],u[p]);f=l,l=h,h=n(a,30),a=s,s=m}this.h[0]=o(this.h[0],s),this.h[1]=o(this.h[1],a),this.h[2]=o(this.h[2],h),this.h[3]=o(this.h[3],l),this.h[4]=o(this.h[4],f)},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},i3BT:function(e,t,i){"use strict";e.exports={ErrorResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:JSON.stringify(e);return new Error("Returned error: "+t)},InvalidNumberOfParams:function(e,t,i){return new Error('Invalid number of parameters for "'+i+'". Got '+e+" expected "+t+"!")},InvalidConnection:function(e){return new Error("CONNECTION ERROR: Couldn't connect to node "+e+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(e){var t=e&&e.error&&e.error.message?e.error.message:"Invalid JSON RPC response: "+JSON.stringify(e);return new Error(t)},ConnectionTimeout:function(e){return new Error("CONNECTION TIMEOUT: timeout of "+e+" ms achived")},RevertInstructionError:function(e,t){var i=new Error("Your request got reverted with the following reason string: "+e);return i.reason=e,i.signature=t,i},TransactionRevertInstructionError:function(e,t,i){var r=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(i,null,2));return r.reason=e,r.signature=t,r.receipt=i,r},TransactionError:function(e,t){var i=new Error(e);return i.receipt=t,i},NoContractAddressFoundError:function(e){return this.TransactionError("The transaction receipt didn't contain a contract address.",e)},ContractCodeNotStoredError:function(e){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",e)},TransactionRevertedWithoutReasonError:function(e){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(e,null,2),e)},TransactionOutOfGasError:function(e){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(e,null,2),e)}}},i4Ti:function(e,t,i){"use strict";var r=i("+un8"),s=4,a=0,n=1,o=2;function c(e){for(var t=e.length;--t>=0;)e[t]=0}var d=0,h=1,u=2,l=29,f=256,p=f+1+l,m=30,y=19,b=2*p+1,v=15,g=16,w=7,k=256,_=16,T=17,S=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(p+2));c(A);var E=new Array(2*m);c(E);var I=new Array(512);c(I);var B=new Array(256);c(B);var F=new Array(l);c(F);var P,R,q,L=new Array(m);function D(e,t,i,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function U(e){return e<256?I[e]:I[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function G(e,t,i){e.bi_valid>g-i?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=i-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function j(e,t,i){G(e,i[2*t],i[2*t+1])}function H(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function K(e,t,i){var r,s,a=new Array(v+1),n=0;for(r=1;r<=v;r++)a[r]=n=n+i[r-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=H(a[o]++,o))}}function z(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*k]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function X(e,t,i,r){var s=2*t,a=2*i;return e[s]<e[a]||e[s]===e[a]&&r[t]<=r[i]}function Y(e,t,i){for(var r=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&X(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!X(t,r,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=r}function Z(e,t,i){var r,s,a,n,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],s=e.pending_buf[e.l_buf+o],o++,0===r?j(e,s,t):(j(e,(a=B[s])+f+1,t),0!==(n=x[a])&&G(e,s-=F[a],n),j(e,a=U(--r),i),0!==(n=O[a])&&G(e,r-=L[a],n))}while(o<e.last_lit);j(e,k,t)}function J(e,t){var i,r,s,a=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=b,i=0;i<c;i++)0!==a[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(s=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=n[2*s+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)Y(e,a,i);s=c;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,a[2*s]=a[2*i]+a[2*r],e.depth[s]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,a[2*i+1]=a[2*r+1]=s,e.heap[1]=s++,Y(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,s,a,n,o,c=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<b;i++)(a=c[2*c[2*(r=e.heap[i])+1]+1]+1)>p&&(a=p,m++),c[2*r+1]=a,r>d||(e.bl_count[a]++,n=0,r>=f&&(n=l[r-f]),o=c[2*r],e.opt_len+=o*(a+n),u&&(e.static_len+=o*(h[2*r+1]+n)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(r=e.bl_count[a];0!==r;)(s=e.heap[--i])>d||(c[2*s+1]!==a&&(e.opt_len+=(a-c[2*s+1])*c[2*s],c[2*s+1]=a),r--)}}(e,t),K(a,d,e.bl_count)}function Q(e,t,i){var r,s,a=-1,n=t[1],o=0,c=7,d=4;for(0===n&&(c=138,d=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)s=n,n=t[2*(r+1)+1],++o<c&&s===n||(o<d?e.bl_tree[2*s]+=o:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[2*_]++):o<=10?e.bl_tree[2*T]++:e.bl_tree[2*S]++,o=0,a=s,0===n?(c=138,d=3):s===n?(c=6,d=3):(c=7,d=4))}function $(e,t,i){var r,s,a=-1,n=t[1],o=0,c=7,d=4;for(0===n&&(c=138,d=3),r=0;r<=i;r++)if(s=n,n=t[2*(r+1)+1],!(++o<c&&s===n)){if(o<d)do{j(e,s,e.bl_tree)}while(0!==--o);else 0!==s?(s!==a&&(j(e,s,e.bl_tree),o--),j(e,_,e.bl_tree),G(e,o-3,2)):o<=10?(j(e,T,e.bl_tree),G(e,o-3,3)):(j(e,S,e.bl_tree),G(e,o-11,7));o=0,a=s,0===n?(c=138,d=3):s===n?(c=6,d=3):(c=7,d=4)}}c(L);var ee=!1;function te(e,t,i,s){G(e,(d<<1)+(s?1:0),3),function(e,t,i,s){W(e),s&&(V(e,i),V(e,~i)),r.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}t._tr_init=function(e){ee||(!function(){var e,t,i,r,s,a=new Array(v+1);for(i=0,r=0;r<l-1;r++)for(F[r]=i,e=0;e<1<<x[r];e++)B[i++]=r;for(B[i-1]=r,s=0,r=0;r<16;r++)for(L[r]=s,e=0;e<1<<O[r];e++)I[s++]=r;for(s>>=7;r<m;r++)for(L[r]=s<<7,e=0;e<1<<O[r]-7;e++)I[256+s++]=r;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)A[2*e+1]=8,e++,a[8]++;for(;e<=255;)A[2*e+1]=9,e++,a[9]++;for(;e<=279;)A[2*e+1]=7,e++,a[7]++;for(;e<=287;)A[2*e+1]=8,e++,a[8]++;for(K(A,p+1,a),e=0;e<m;e++)E[2*e+1]=5,E[2*e]=H(e,5);P=new D(A,x,f+1,p,v),R=new D(E,O,0,m,v),q=new D(new Array(0),C,0,y,w)}(),ee=!0),e.l_desc=new N(e.dyn_ltree,P),e.d_desc=new N(e.dyn_dtree,R),e.bl_desc=new N(e.bl_tree,q),e.bi_buf=0,e.bi_valid=0,z(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,i,r){var c,d,l=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return n;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return n;return a}(e)),J(e,e.l_desc),J(e,e.d_desc),l=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*M[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),c=e.opt_len+3+7>>>3,(d=e.static_len+3+7>>>3)<=c&&(c=d)):c=d=i+5,i+4<=c&&-1!==t?te(e,t,i,r):e.strategy===s||d===c?(G(e,(h<<1)+(r?1:0),3),Z(e,A,E)):(G(e,(u<<1)+(r?1:0),3),function(e,t,i,r){var s;for(G(e,t-257,5),G(e,i-1,5),G(e,r-4,4),s=0;s<r;s++)G(e,e.bl_tree[2*M[s]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Z(e,e.dyn_ltree,e.dyn_dtree)),z(e),r&&W(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(B[i]+f+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){G(e,h<<1,3),j(e,k,A),function(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},i7Kv:function(e,t,i){e.exports=i("sl4n")},iWax:function(e,t,i){"use strict";const r=i("6kI6");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"huobiru",name:"Huobi Russia",countries:["RU"],hostname:"www.huobi.com.ru",urls:{logo:"https://user-images.githubusercontent.com/1294454/52978816-e8552e00-33e3-11e9-98ed-845acfece834.jpg",api:{market:"https://www.huobi.com.ru/api",public:"https://www.huobi.com.ru/api",private:"https://www.huobi.com.ru/api",zendesk:"https://huobiglobal.zendesk.com/hc/en-us/articles"},www:"https://www.huobi.com.ru/ru-ru",referral:"https://www.huobi.com.ru/invite?invite_code=esc74",doc:"https://github.com/cloudapidoc/API_Docs_en",fees:"https://www.huobi.com.ru/ru-ru/about/fee/"}})}}},"iak/":function(e,t,i){"use strict";e.exports=function(e,t,i,r){for(var s=65535&e|0,a=e>>>16&65535|0,n=0;0!==i;){i-=n=i>2e3?2e3:i;do{a=a+(s=s+t[r++]|0)|0}while(--n);s%=65521,a%=65521}return s|a<<16|0}},iinS:function(e,t,i){"use strict";var r=i("siiD"),s=i("wfEq"),a=i("ta2Q"),n=i("Ltnq");function o(e,t){r.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),s=t.slice(8,16),a=t.slice(16,24);this.ciphers="encrypt"===e?[n.create({type:"encrypt",key:i}),n.create({type:"decrypt",key:s}),n.create({type:"encrypt",key:a})]:[n.create({type:"decrypt",key:a}),n.create({type:"encrypt",key:s}),n.create({type:"decrypt",key:i})]}function c(e){a.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}s(c,a),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,i,r){var s=this._edeState;s.ciphers[0]._update(e,t,i,r),s.ciphers[1]._update(i,r,i,r),s.ciphers[2]._update(i,r,i,r)},c.prototype._pad=n.prototype._pad,c.prototype._unpad=n.prototype._unpad},jDN0:function(e,t,i){var r=i("wfEq"),s=i("KSsY"),a=i("pRMk").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function d(e){return e<<30|e>>>2}function h(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}r(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,u=0;u<16;++u)i[u]=e.readInt32BE(4*u);for(;u<80;++u)i[u]=i[u-3]^i[u-8]^i[u-14]^i[u-16];for(var l=0;l<80;++l){var f=~~(l/20),p=0|((t=r)<<5|t>>>27)+h(f,s,a,o)+c+i[l]+n[f];c=o,o=a,a=d(s),s=r,r=p}this._a=r+this._a|0,this._b=s+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},jYrF:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return v}));var r=i("UrUy"),s=i.n(r),a=i("mwLw"),n=i.n(a),o=i("7p8N"),c=i.n(o),d=i("fCyT"),h=i.n(d),u=i("ON82"),l=i.n(u),f=i("eciW"),p=i.n(f),m=i("0TTc"),y=i.n(m),b={apiKey:!0,secret:!0,uid:!1,password:!1};function v(){var e=y.a,t=function(t,i){return t&&e[t]?new e[t](i):(console.log("Exchange ".concat(t," is not supported")),!1)},i=function(e,i){var r,a,o;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=t(e,i),c.next=3,s.a.awrap(r.fetchBalance());case 3:if(a=c.sent,!(o=n()(["info","error"],a))){c.next=9;break}throw new Error(o);case 9:return c.abrupt("return",a);case 10:case"end":return c.stop()}}))},r=function(e){return e.has.privateAPI&&e.has.fetchBalance};return{fetchExchangeAccountBalance:i,testExchangeConnection:function(e,t){var r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.awrap(i(e,t));case 3:return r=a.sent,a.abrupt("return",r);case 7:throw a.prev=7,a.t0=a.catch(0),console.log(a.t0),a.t0;case 11:case"end":return a.stop()}}),null,null,[[0,7]])},getExchangesList:function(){return p()(l()(t),h()(r),l()(c()(["id","name"])))(e.exchanges)},getExchangeInstance:t,getExchangeRequiredCredentialsList:function(e){if(!e)return b;var i=t(e);return i?i.requiredCredentials:void 0}}}},jh01:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,ExchangeNotAvailable:n,InsufficientFunds:o,OrderNotFound:c,InvalidOrder:d,AccountSuspended:h,InvalidNonce:u,NotSupported:l,BadRequest:f,AuthenticationError:p,BadSymbol:m,RateLimitExceeded:y}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kucoin",name:"KuCoin",countries:["SC"],rateLimit:334,version:"v2",certified:!1,comment:"Platform 2.0",has:{fetchTime:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrder:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchDepositAddress:!0,createDepositAddress:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchBalance:!0,fetchTrades:!0,fetchMyTrades:!0,createOrder:!0,cancelOrder:!0,fetchAccounts:!0,fetchFundingFee:!0,fetchOHLCV:!0,fetchLedger:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/57369448-3cc3aa80-7196-11e9-883e-5ebeb35e4f57.jpg",referral:"https://www.kucoin.com/?rcode=E5wkqe",api:{public:"https://openapi-v2.kucoin.com",private:"https://openapi-v2.kucoin.com"},test:{public:"https://openapi-sandbox.kucoin.com",private:"https://openapi-sandbox.kucoin.com"},www:"https://www.kucoin.com",doc:["https://docs.kucoin.com"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},api:{public:{get:["timestamp","symbols","market/allTickers","market/orderbook/level{level}","market/histories","market/candles","market/stats","currencies","currencies/{currency}"],post:["bullet-public"]},private:{get:["accounts","accounts/{accountId}","accounts/{accountId}/ledgers","accounts/{accountId}/holds","deposit-addresses","deposits","hist-deposits","hist-orders","hist-withdrawals","withdrawals","withdrawals/quotas","orders","orders/{orderId}","fills","limit/fills"],post:["accounts","accounts/inner-transfer","deposit-addresses","withdrawals","orders","bullet-private"],delete:["withdrawals/{withdrawalId}","orders/{orderId}"]}},timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","8h":"8hour","12h":"12hour","1d":"1day","1w":"1week"},exceptions:{exact:{"order not exist":c,"order not exist.":c,order_not_exist:c,order_not_exist_or_not_allow_to_cancel:d,"Order size below the minimum requirement.":d,"The withdrawal amount is below the minimum requirement.":s,400:f,401:p,403:l,404:l,405:l,429:y,500:s,503:n,200004:o,230003:o,260100:o,3e5:d,4e5:m,400001:p,400002:u,400003:p,400004:p,400005:p,400006:p,400007:p,400008:l,400100:f,411100:h,415e3:f,5e5:s},broad:{"Exceeded the access frequency":y}},fees:{trading:{tierBased:!1,percentage:!0,taker:.001,maker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{HOT:"HOTNOW",EDGE:"DADI"},options:{version:"v1",symbolSeparator:"-",fetchMyTradesMethod:"private_get_fills",fetchBalance:{type:"trade"}}})}nonce(){return this.milliseconds()}async loadTimeDifference(){const e=await this.publicGetTimestamp(),t=this.milliseconds(),i=this.safeInteger(e,"data");return this.options.timeDifference=parseInt(t-i),this.options.timeDifference}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeInteger(t,"data")}async fetchMarkets(e={}){const t=(await this.publicGetSymbols(e)).data,i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"enableTrading"),u=this.safeFloat(e,"baseMaxSize"),l=this.safeFloat(e,"baseMinSize"),f=this.safeFloat(e,"quoteMaxSize"),p=this.safeFloat(e,"quoteMinSize"),m={amount:this.precisionFromString(this.safeString(e,"baseIncrement")),price:this.precisionFromString(this.safeString(e,"priceIncrement"))},y={amount:{min:l,max:u},price:{min:this.safeFloat(e,"priceIncrement"),max:f/l},cost:{min:p,max:f}};i.push({id:s,symbol:d,baseId:a,quoteId:n,base:o,quote:c,active:h,precision:m,limits:y,info:e})}return i}async fetchCurrencies(e={}){const t=(await this.publicGetCurrencies(e)).data,i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeString(e,"fullName"),n=this.safeCurrencyCode(s),o=this.safeInteger(e,"precision");i[n]={id:s,name:a,code:n,precision:o,info:e}}return i}async fetchAccounts(e={}){const t=await this.privateGetAccounts(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a),o=this.safeString(e,"type");r.push({id:t,type:o,currency:n,info:e})}return r}async fetchFundingFee(e,t={}){const i={currency:this.currencyId(e)},r=await this.privateGetWithdrawalsQuotas(this.extend(i,t)),s=r.data,a={};return a[e]=this.safeFloat(s,"withdrawMinFee"),{info:r,withdraw:a,deposit:{}}}parseTicker(e,t){let i=this.safeFloat(e,"changeRate");void 0!==i&&(i*=100);const r=this.safeFloat2(e,"last","lastTradedPrice");let s=void 0;const a=this.safeString(e,"symbol");if(void 0!==a)if(a in this.markets_by_id)s=(t=this.markets_by_id[a]).symbol;else{const[e,t]=a.split("-");s=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===s&&void 0!==t&&(s=t.symbol);const n=this.safeInteger2(e,"time","datetime");return{symbol:s,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:this.safeFloat(e,"open"),close:r,last:r,previousClose:void 0,change:this.safeFloat(e,"changePrice"),percentage:i,average:this.safeFloat(e,"averagePrice"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"volValue"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketAllTickers(t),r=this.safeValue(i,"data",{}),s=this.safeValue(r,"ticker",[]),a={};for(let n=0;n<s.length;n++){const e=this.parseTicker(s[n]),t=this.safeString(e,"symbol");void 0!==t&&(a[t]=e)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetMarketStats(this.extend(r,t));return this.parseTicker(s.data,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*parseInt(e[0]),parseFloat(e[1]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[5])]}async fetchOHLCV(e,t="15m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,type:this.timeframes[t]},o=1e3*this.parseTimeframe(t);let c=this.milliseconds();void 0!==i?(n.startAt=parseInt(Math.floor(i/1e3)),void 0===r&&(r=this.safeInteger(this.options,"fetchOHLCVLimit",1500)),c=this.sum(i,r*o)):void 0!==r&&(i=c-r*o,n.startAt=parseInt(Math.floor(i/1e3))),n.endAt=parseInt(Math.floor(c/1e3));const d=await this.publicGetMarketCandles(this.extend(n,s)),h=this.safeValue(d,"data",[]);return this.parseOHLCVs(h,a,t,i,r)}async createDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currencyId(e)},r=await this.privatePostDepositAddresses(this.extend(i,t)),s=this.safeValue(r,"data",{});let a=this.safeString(s,"address");void 0!==a&&(a=a.replace("bitcoincash:",""));const n=this.safeString(s,"memo");return this.checkAddress(a),{info:r,currency:e,address:a,tag:n}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currencyId(e)},r=await this.privateGetDepositAddresses(this.extend(i,t)),s=this.safeValue(r,"data",{});let a=this.safeString(s,"address");void 0!==a&&(a=a.replace("bitcoincash:",""));const n=this.safeString(s,"memo");return this.checkAddress(a),{info:r,currency:e,address:a,tag:n}}async fetchOrderBook(e,t,i={}){let r="2";if(void 0!==t){if(20!==t&&100!==t)throw new s(this.id+" fetchOrderBook limit argument must be undefined, 20 or 100");r+="_"+t.toString()}await this.loadMarkets();const a=this.marketId(e),n=this.extend({symbol:a,level:r},i),o=(await this.publicGetMarketOrderbookLevelLevel(n)).data,c=this.safeInteger(o,"time"),d=this.safeString(n,"level").split("_"),h=parseInt(d[0]),u=this.parseOrderBook(o,c,"bids","asks",h-2,h-1);return u.nonce=this.safeInteger(o,"sequence"),u}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.marketId(e),o=this.uuid(),c={clientOid:o,side:i,symbol:n,type:t};"market"!==t?(c.price=this.priceToPrecision(e,s),c.size=this.amountToPrecision(e,r)):this.safeValue(a,"quoteAmount")?c.funds=this.amountToPrecision(e,r):c.size=this.amountToPrecision(e,r);const d=await this.privatePostOrders(this.extend(c,a)),h=this.safeValue(d,"data",{}),u=this.milliseconds(),l={id:this.safeString(h,"orderId"),symbol:e,type:t,side:i,price:s,cost:void 0,filled:void 0,remaining:void 0,timestamp:u,datetime:this.iso8601(u),fee:void 0,status:"open",clientOid:o,info:h};return this.safeValue(a,"quoteAmount")||(l.amount=r),l}async cancelOrder(e,t,i={}){const r={orderId:e};return await this.privateDeleteOrdersOrderId(this.extend(r,i))}async fetchOrdersByStatus(e,t,i,r,s={}){await this.loadMarkets();const a={status:e};let n=void 0;void 0!==t&&(n=this.market(t),a.symbol=n.id),void 0!==i&&(a.startAt=i),void 0!==r&&(a.pageSize=r);const o=await this.privateGetOrders(this.extend(a,s)),c=this.safeValue(o,"data",{}),d=this.safeValue(c,"items",[]);return this.parseOrders(d,n,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("done",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByStatus("active",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};let s=void 0;void 0!==t&&(s=this.market(t));const a=(await this.privateGetOrdersOrderId(this.extend(r,i))).data;return this.parseOrder(a,s)}parseOrder(e,t){let i=void 0;const r=this.safeString(e,"symbol");if(void 0!==r){if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol;else{const[e,t]=r.split("-");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}t=this.safeValue(this.markets_by_id,r)}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.safeString(e,"id"),a=this.safeString(e,"type"),n=this.safeInteger(e,"createdAt"),o=this.iso8601(n);let c=this.safeFloat(e,"price");const d=this.safeString(e,"side"),h=this.safeString(e,"feeCurrency"),u=this.safeCurrencyCode(h),l=this.safeFloat(e,"fee"),f=this.safeFloat(e,"size"),p=this.safeFloat(e,"dealSize"),m=this.safeFloat(e,"dealFunds"),y=f-p;let b=e.isActive?"open":"closed";return b=e.cancelExist?"canceled":b,"market"===a&&0===c&&void 0!==m&&void 0!==p&&m>0&&p>0&&(c=m/p),{id:s,symbol:i,type:a,side:d,amount:f,price:c,cost:m,filled:p,remaining:y,timestamp:n,datetime:o,fee:{currency:u,cost:l},status:b,info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const a={};let n=void 0;void 0!==e&&(n=this.market(e),a.symbol=n.id),void 0!==i&&(a.pageSize=i);const o=this.options.fetchMyTradesMethod;let c=!1;if("private_get_fills"===o)void 0!==t&&(a.startAt=t);else if("private_get_limit_fills"===o)c=!0;else{if("private_get_hist_orders"!==o)throw new s(this.id+" invalid fetchClosedOrder method");void 0!==t&&(a.startAt=parseInt(t/1e3))}const d=await this[o](this.extend(a,r)),h=this.safeValue(d,"data",{});let u=void 0;return u=c?h:this.safeValue(h,"items",[]),this.parseTrades(u,n,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==t&&(a.startAt=Math.floor(t/1e3)),void 0!==i&&(a.pageSize=i);const n=await this.publicGetMarketHistories(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"symbol");if(void 0!==r)if(r in this.markets_by_id)i=(t=this.markets_by_id[r]).symbol;else{const[e,t]=r.split("-");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===i&&void 0!==t&&(i=t.symbol);const s=this.safeString2(e,"tradeId","id"),a=this.safeString(e,"orderId"),n=this.safeString(e,"liquidity"),o=this.safeFloat2(e,"size","amount");let c=this.safeInteger(e,"time");void 0!==c?c=parseInt(c/1e6):(c=this.safeInteger(e,"createdAt"),"dealValue"in e&&void 0!==c&&(c*=1e3));const d=this.safeFloat2(e,"price","dealPrice"),h=this.safeString(e,"side");let u=void 0;const l=this.safeFloat(e,"fee");if(void 0!==l){const i=this.safeString(e,"feeCurrency");let r=this.safeCurrencyCode(i);void 0===r&&void 0!==t&&(r="sell"===h?t.quote:t.base),u={cost:l,currency:r,rate:this.safeFloat(e,"feeRate")}}const f=this.safeString(e,"type");let p=this.safeFloat2(e,"funds","dealValue");return void 0===p&&void 0!==o&&void 0!==d&&(p=o*d),{info:e,id:s,order:a,timestamp:c,datetime:this.iso8601(c),symbol:i,type:f,takerOrMaker:n,side:h,price:d,amount:o,cost:p,fee:u}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const a={currency:this.currencyId(e),address:i,amount:t};void 0!==r&&(a.memo=r);const n=await this.privatePostWithdrawals(this.extend(a,s)),o=this.safeValue(n,"data",{});return{id:this.safeString(o,"withdrawalId"),info:n}}parseTransactionStatus(e){return this.safeString({SUCCESS:"ok",PROCESSING:"ok",FAILURE:"failed"},e)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t);let s=this.safeString(e,"address");const a=this.safeFloat(e,"amount");let n=this.safeString(e,"walletTxId");if(void 0!==n){const e=n.split("@");e.length>1&&void 0===s&&e[1].length>1&&(s=e[1]),n=e[0]}let o=void 0===n?"withdrawal":"deposit";const c=this.safeString(e,"status"),d=this.parseTransactionStatus(c);let h=void 0;const u=this.safeFloat(e,"fee");if(void 0!==u){let e=void 0;void 0!==a&&(e=u/a),h={cost:u,rate:e,currency:r}}const l=this.safeString(e,"memo");let f=this.safeInteger2(e,"createdAt","createAt");const p=this.safeString(e,"id");let m=this.safeInteger(e,"updatedAt");return!("createdAt"in e)&&(o="address"in e?"withdrawal":"deposit",void 0!==f&&(f*=1e3),void 0!==m&&(m*=1e3)),{id:p,address:s,tag:l,currency:r,amount:a,txid:n,type:o,status:d,fee:h,timestamp:f,datetime:this.iso8601(f),updated:m,info:e}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);let n="privateGetDeposits";void 0!==t&&(t<1550448e6?(s.startAt=parseInt(t/1e3),n="privateGetHistDeposits"):s.startAt=t);const o=(await this[n](this.extend(s,r))).data.items;return this.parseTransactions(o,a,t,i,{type:"deposit"})}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id),void 0!==i&&(s.pageSize=i);let n="privateGetWithdrawals";void 0!==t&&(t<1550448e6?(s.startAt=parseInt(t/1e3),n="privateGetHistWithdrawals"):s.startAt=t);const o=(await this[n](this.extend(s,r))).data.items;return this.parseTransactions(o,a,t,i,{type:"withdrawal"})}async fetchBalance(e={}){await this.loadMarkets();let t=void 0;const i={};if("type"in e)t=e.type,void 0!==t&&(i.type=t),e=this.omit(e,"type");else{const e=this.safeValue(this.options,"fetchBalance",{});t=this.safeString(e,"type","trade")}const r=await this.privateGetAccounts(this.extend(i,e)),s=this.safeValue(r,"data",[]),a={info:r};for(let n=0;n<s.length;n++){const e=s[n];if(this.safeString(e,"type")===t){const t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r.total=this.safeFloat(e,"balance"),r.free=this.safeFloat(e,"available"),r.used=this.safeFloat(e,"holds"),a[i]=r}}return this.parseBalance(a)}async fetchLedger(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchLedger requires a code param");await this.loadMarkets(),await this.loadAccounts();const n=this.currency(e);let o=this.safeString(r,"accountId");if(void 0===o)for(let s=0;s<this.accounts.length;s++){const t=this.accounts[s];if(t.currency===e&&"main"===t.type){o=t.id;break}}if(void 0===o)throw new s(this.id+" "+e+"main account is not loaded in loadAccounts");const c={accountId:o};void 0!==t&&(c.startAt=Math.floor(t/1e3));const d=(await this.privateGetAccountsAccountIdLedgers(this.extend(c,r))).data.items;return this.parseLedger(d,n,t,i)}parseLedgerEntry(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s={cost:this.safeFloat(e,"fee"),code:r},a=this.safeFloat(e,"amount"),n=this.safeFloat(e,"balance"),o=this.safeString(e,"direction");let c=void 0;if(void 0!==n&&void 0!==a){const e="out"===o?a:-a;c=this.sum(n,e)}const d=this.safeInteger(e,"createdAt"),h=this.parseLedgerEntryType(this.safeString(e,"bizType")),u=this.safeString(e,"context");let l=void 0,f=void 0;if(this.isJsonEncodedObject(u)){const e=this.parseJson(u);l=this.safeString(e,"orderId"),"trade"===h?f=this.safeString(e,"tradeId"):"transaction"===h&&(f=this.safeString(e,"txId"))}return{id:l,currency:r,account:void 0,referenceAccount:void 0,referenceId:f,status:void 0,amount:a,before:c,after:n,fee:s,direction:o,timestamp:d,datetime:this.iso8601(d),type:h,info:e}}parseLedgerEntryType(e){return this.safeString({Exchange:"trade",Withdrawal:"transaction",Deposit:"transaction",Transfer:"transfer"},e,e)}sign(e,t="public",i="GET",r={},s,a){const n=this.safeString(r,"version",this.options.version);r=this.omit(r,"version");let o="/api/"+n+"/"+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e));let d="";s=void 0!==s?s:{},Object.keys(c).length&&("GET"!==i?(d=a=this.json(c),s["Content-Type"]="application/json"):o+="?"+this.urlencode(c));const h=this.urls.api[t]+o;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();s=this.extend({"KC-API-KEY":this.apiKey,"KC-API-TIMESTAMP":e,"KC-API-PASSPHRASE":this.password},s);const t=e+i+o+d,r=this.hmac(this.encode(t),this.encode(this.secret),"sha256","base64");s["KC-API-SIGN"]=this.decode(r)}return{url:h,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(!n)return void this.throwBroadlyMatchedException(this.exceptions.broad,a,a);const d=this.safeString(n,"code"),h=this.safeString(n,"msg");this.throwExactlyMatchedException(this.exceptions.exact,h,h),this.throwExactlyMatchedException(this.exceptions.exact,d,h)}}},jiBz:function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},jnim:function(e,t,i){"use strict";var r=i("+Gs+");t.certificate=i("SPmb");var s=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=s;var a=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=a;var n=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));t.PublicKey=n;var o=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var d=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=d;var h=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=h,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var u=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=u;var l=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},jt4p:function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"jzP+":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"paymium",name:"Paymium",countries:["FR","EU"],rateLimit:2e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27790564-a945a9d4-5ff9-11e7-9d2d-b635763f2f24.jpg",api:"https://paymium.com/api",www:"https://www.paymium.com",fees:"https://www.paymium.com/page/help/fees",doc:["https://github.com/Paymium/api-documentation","https://www.paymium.com/page/developers"]},api:{public:{get:["countries","data/{id}/ticker","data/{id}/trades","data/{id}/depth","bitcoin_charts/{id}/trades","bitcoin_charts/{id}/depth"]},private:{get:["merchant/get_payment/{UUID}","user","user/addresses","user/addresses/{btc_address}","user/orders","user/orders/{UUID}","user/price_alerts"],post:["user/orders","user/addresses","user/payment_requests","user/price_alerts","merchant/create_payment"],delete:["user/orders/{UUID}/cancel","user/price_alerts/{id}"]}},markets:{"BTC/EUR":{id:"eur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur"}},fees:{trading:{maker:.002,taker:.002}}})}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetUser(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currencyId(e),n="balance_"+a;if(n in t){const r=this.account(),s="locked_"+a;r.free=this.safeFloat(t,n),r.used=this.safeFloat(t,s),i[e]=r}}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetDataIdDepth(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","amount")}async fetchTicker(e,t={}){const i={id:this.marketId(e)},r=await this.publicGetDataIdTicker(this.extend(i,t)),s=this.safeTimestamp(r,"at"),a=this.safeFloat(r,"vwap"),n=this.safeFloat(r,"volume");let o=void 0;void 0!==n&&void 0!==a&&(o=n*a);const c=this.safeFloat(r,"price");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:a,open:this.safeFloat(r,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:this.safeFloat(r,"variation"),average:void 0,baseVolume:n,quoteVolume:o,info:r}}parseTrade(e,t){const i=this.safeTimestamp(e,"created_at_int"),r=this.safeString(e,"uuid");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeString(e,"side"),n=this.safeFloat(e,"price"),o="traded_"+t.base.toLowerCase(),c=this.safeFloat(e,o);let d=void 0;return void 0!==n&&void 0!==c&&(d=c*n),{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:c,cost:d,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id},n=await this.publicGetDataIdTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={type:this.capitalize(t)+"Order",currency:this.marketId(e),direction:i,amount:r};"market"!==t&&(n.price=s);const o=await this.privatePostUserOrders(this.extend(n,a));return{info:o,id:o.uuid}}async cancelOrder(e,t,i={}){const r={UUID:e};return await this.privateDeleteUserOrdersUUIDCancel(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t=e+n;"POST"===i&&Object.keys(o).length&&(t+=a=this.json(o)),s={"Api-Key":this.apiKey,"Api-Signature":this.hmac(this.encode(t),this.encode(this.secret)),"Api-Nonce":e,"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("errors"in o)throw new s(this.id+" "+this.json(o));return o}}},k5DU:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}(i("TlxL"));var r=i("x+kU");t.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget},kIt2:function(e){e.exports=JSON.parse('{"name":"@web3-js/websocket","description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"author":"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)","contributors":["I\xf1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],"version":"1.0.30","repository":{"type":"git","url":"https://github.com/web3-js/WebSocket-Node"},"homepage":"https://github.com/web3-js/WebSocket-Node","engines":{"node":">=0.10.0"},"dependencies":{"debug":"^2.2.0","es5-ext":"^0.10.50","nan":"^2.14.0","typedarray-to-buffer":"^3.1.5","yaeti":"^0.0.6"},"devDependencies":{"buffer-equal":"^1.0.0","faucet":"^0.0.1","gulp":"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1","jshint":"^2.0.0","tape":"^4.9.1"},"config":{"verbose":false},"scripts":{"install":"(node-gyp rebuild 2> builderror.log) || (exit 0)","test":"faucet test/unit","gulp":"gulp"},"main":"index","directories":{"lib":"./lib"},"browser":"lib/browser.js","license":"Apache-2.0"}')},kJEJ:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"itbit",name:"itBit",countries:["US"],rateLimit:2e3,version:"v1",has:{CORS:!0,createMarketOrder:!1,fetchMyTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27822159-66153620-60ad-11e7-89e7-005f6d7f3de0.jpg",api:"https://api.itbit.com",www:"https://www.itbit.com",doc:["https://api.itbit.com/docs","https://www.itbit.com/api"]},api:{public:{get:["markets/{symbol}/ticker","markets/{symbol}/order_book","markets/{symbol}/trades"]},private:{get:["wallets","wallets/{walletId}","wallets/{walletId}/balances/{currencyCode}","wallets/{walletId}/funding_history","wallets/{walletId}/trades","wallets/{walletId}/orders","wallets/{walletId}/orders/{id}"],post:["wallet_transfers","wallets","wallets/{walletId}/cryptocurrency_deposits","wallets/{walletId}/cryptocurrency_withdrawals","wallets/{walletId}/orders","wire_withdrawal"],delete:["wallets/{walletId}/orders/{id}"]}},markets:{"BTC/USD":{id:"XBTUSD",symbol:"BTC/USD",base:"BTC",quote:"USD"},"BTC/SGD":{id:"XBTSGD",symbol:"BTC/SGD",base:"BTC",quote:"SGD"},"BTC/EUR":{id:"XBTEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR"},"ETH/USD":{id:"ETHUSD",symbol:"ETH/USD",base:"ETH",quote:"USD"},"ETH/EUR":{id:"ETHEUR",symbol:"ETH/EUR",base:"ETH",quote:"EUR"},"ETH/SGD":{id:"ETHSGD",symbol:"ETH/SGD",base:"ETH",quote:"SGD"}},fees:{trading:{maker:-3e-4,taker:.35/100}},commonCurrencies:{XBT:"BTC"}})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetMarketsSymbolOrderBook(this.extend(r,i));return this.parseOrderBook(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i={symbol:this.marketId(e)},r=await this.publicGetMarketsSymbolTicker(this.extend(i,t)),a=this.safeString(r,"serverTimeUTC");if(!a)throw new s(this.id+" fetchTicker returned a bad response: "+this.json(r));const n=this.parse8601(a),o=this.safeFloat(r,"vwap24h"),c=this.safeFloat(r,"volume24h");let d=void 0;void 0!==c&&void 0!==o&&(d=c*o);const h=this.safeFloat(r,"lastPrice");return{symbol:e,timestamp:n,datetime:this.iso8601(n),high:this.safeFloat(r,"high24h"),low:this.safeFloat(r,"low24h"),bid:this.safeFloat(r,"bid"),bidVolume:void 0,ask:this.safeFloat(r,"ask"),askVolume:void 0,vwap:o,open:this.safeFloat(r,"openToday"),close:h,last:h,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:c,quoteVolume:d,info:r}}parseTrade(e,t){const i=this.safeString2(e,"executionId","matchNumber"),r=this.parse8601(this.safeString(e,"timestamp")),s=this.safeString(e,"direction"),a=this.safeString(e,"orderId");let n=this.safeFloat(e,"commissionPaid");const o=this.safeString(e,"commissionCurrency"),c=this.safeCurrencyCode(o);let d=this.safeFloat(e,"rebatesApplied");void 0!==d&&(d=-d);const h=this.safeString(e,"rebateCurrency"),u=this.safeCurrencyCode(h),l=this.safeFloat2(e,"price","rate"),f=this.safeFloat2(e,"currency1Amount","amount");let p=void 0;void 0!==l&&void 0!==f&&(p=l*f);let m=void 0;const y=this.safeString(e,"instrument");if(void 0!==y)if(y in this.markets_by_id)t=this.markets_by_id[y];else{const t=this.safeString(e,"currency1"),i=this.safeString(e,"currency2");m=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}void 0===m&&void 0!==t&&(m=t.symbol);const b={info:e,id:i,timestamp:r,datetime:this.iso8601(r),symbol:m,order:a,type:void 0,side:s,takerOrMaker:void 0,price:l,amount:f,cost:p};return void 0!==n&&(void 0!==d?c===u?(n=this.sum(n,d),b.fee={cost:n,currency:c}):b.fees=[{cost:n,currency:c},{cost:d,currency:u}]:b.fee={cost:n,currency:c}),"fee"in b||"fees"in b||(b.fee=void 0),b}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const a=this.safeString(r,"walletId");if(void 0===a)throw new s(this.id+" fetchMyTrades requires a walletId parameter");const n={walletId:a};void 0!==i&&(n.perPage=i);const o=(await this.privateGetWalletsWalletIdFundingHistory(this.extend(n,r))).fundingHistory,c=[];for(let s=0;s<o.length;s++){const e=o[s],t=this.safeString(e,"time"),i=this.parse8601(t),r=this.safeString(e,"currency"),a=this.safeString(e,"destinationAddress"),n=this.safeString(e,"txnHash"),d=this.safeStringLower(e,"transactionType"),h=this.safeString(e,"status"),u=this.parseTransferStatus(h);c.push({id:this.safeString(e,"withdrawalId"),timestamp:i,datetime:this.iso8601(i),currency:this.safeCurrencyCode(r),address:a,tag:void 0,txid:n,type:d,status:u,amount:this.safeFloat(e,"amount"),fee:void 0,info:e})}return c}parseTransferStatus(e){return this.safeString({cancelled:"canceled",completed:"ok"},e,"pending")}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const a=this.safeString(r,"walletId");if(void 0===a)throw new s(this.id+" fetchMyTrades requires a walletId parameter");const n={walletId:a};void 0!==t&&(n.rangeStart=this.ymdhms(t,"T")),void 0!==i&&(n.perPage=i);const o=await this.privateGetWalletsWalletIdTrades(this.extend(n,r)),c=this.safeValue(o,"tradingHistory",[]);let d=void 0;return void 0!==e&&(d=this.market(e)),this.parseTrades(c,d,t,i)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetMarketsSymbolTrades(this.extend(a,r)),o=this.safeValue(n,"recentTrades",[]);return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.fetchWallets(e),i=t[0].balances,r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"availableBalance"),n.total=this.safeFloat(e,"totalBalance"),r[a]=n}return this.parseBalance(r)}async fetchWallets(e={}){if(await this.loadMarkets(),!this.uid)throw new a(this.id+" fetchWallets requires uid API credential");const t={userId:this.uid};return await this.privateGetWallets(this.extend(t,e))}async fetchWallet(e,t={}){await this.loadMarkets();const i={walletId:e};return await this.privateGetWalletsWalletId(this.extend(i,t))}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"open"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:"filled"},r))}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let a=void 0;if(void 0!==e&&(a=this.market(e)),!("walletId"in r))throw new s(this.id+" fetchOrders requires a walletId parameter");const n={walletId:r.walletId},o=await this.privateGetWalletsWalletIdOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}parseOrderStatus(e){return this.safeString({submitted:"open",open:"open",filled:"closed",cancelled:"canceled",rejected:"canceled"},e,e)}parseOrder(e,t){const i=e.side,r=e.type,s=this.markets_by_id[e.instrument].symbol,a=this.parse8601(e.createdTime),n=this.safeFloat(e,"amount"),o=this.safeFloat(e,"amountFilled"),c=n-o,d=this.safeFloat(e,"price"),h=this.safeFloat(e,"volumeWeightedAveragePrice"),u=o*h;return{id:e.id,info:e,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,status:this.parseOrderStatus(this.safeString(e,"status")),symbol:s,type:r,side:i,price:d,cost:u,average:h,amount:n,filled:o,remaining:c,fee:void 0}}nonce(){return this.milliseconds()}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");if(!("walletId"in n))throw new s(this.id+" createOrder requires a walletId parameter");r=r.toString(),a=a.toString();const o=this.market(e),c={side:i,type:t,currency:o.id.replace(o.quote,""),amount:r,display:r,price:a,instrument:o.id},d=await this.privatePostWalletsWalletIdOrders(this.extend(c,n));return{info:d,id:d.id}}async fetchOrder(e,t,i={}){if(await this.loadMarkets(),!("walletId"in i))throw new s(this.id+" fetchOrder requires a walletId parameter");const r={id:e},a=await this.privateGetWalletsWalletIdOrdersId(this.extend(r,i));return this.parseOrder(a)}async cancelOrder(e,t,i={}){if(!("walletId"in i))throw new s(this.id+" cancelOrder requires a walletId parameter");const r={id:e};return await this.privateDeleteWalletsWalletIdOrdersId(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o)),"POST"===i&&Object.keys(o).length&&(a=this.json(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=e,r=[i,n,"POST"===i?a:"",e,t],o=e+this.json(r).replace("\\/","/"),c=this.hash(this.encode(o),"sha256","binary"),d=this.stringToBinary(this.encode(n)),h=this.binaryConcat(d,c),u=this.hmac(h,this.encode(this.secret),"sha512","base64");s={Authorization:this.apiKey+":"+this.decode(u),"Content-Type":"application/json","X-Auth-Timestamp":t,"X-Auth-Nonce":e}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("code"in o)throw new s(this.id+" "+this.json(o));return o}}},kah5:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},kbH8:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,InvalidOrder:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"mercado",name:"Mercado Bitcoin",countries:["BR"],rateLimit:1e3,version:"v3",has:{CORS:!0,createMarketOrder:!0,fetchOrder:!0,withdraw:!0,fetchOHLCV:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchTicker:!0,fetchTickers:!1},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","6h":"6h","12h":"12h","1d":"1d","3d":"3d","1w":"1w","2w":"2w"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27837060-e7c58714-60ea-11e7-9192-f05e86adb83f.jpg",api:{public:"https://www.mercadobitcoin.net/api",private:"https://www.mercadobitcoin.net/tapi",v4Public:"https://www.mercadobitcoin.com.br/v4"},www:"https://www.mercadobitcoin.com.br",doc:["https://www.mercadobitcoin.com.br/api-doc","https://www.mercadobitcoin.com.br/trade-api"]},api:{public:{get:["{coin}/orderbook/","{coin}/ticker/","{coin}/trades/","{coin}/trades/{from}/","{coin}/trades/{from}/{to}","{coin}/day-summary/{year}/{month}/{day}/"]},private:{post:["cancel_order","get_account_info","get_order","get_withdrawal","list_system_messages","list_orders","list_orderbook","place_buy_order","place_sell_order","place_market_buy_order","place_market_sell_order","withdraw_coin"]},v4Public:{get:["{coin}/candle/"]}},markets:{"BTC/BRL":{id:"BRLBTC",symbol:"BTC/BRL",base:"BTC",quote:"BRL",precision:{amount:8,price:5},suffix:"Bitcoin"},"LTC/BRL":{id:"BRLLTC",symbol:"LTC/BRL",base:"LTC",quote:"BRL",precision:{amount:8,price:5},suffix:"Litecoin"},"BCH/BRL":{id:"BRLBCH",symbol:"BCH/BRL",base:"BCH",quote:"BRL",precision:{amount:8,price:5},suffix:"BCash"},"XRP/BRL":{id:"BRLXRP",symbol:"XRP/BRL",base:"XRP",quote:"BRL",precision:{amount:8,price:5},suffix:"Ripple"},"ETH/BRL":{id:"BRLETH",symbol:"ETH/BRL",base:"ETH",quote:"BRL",precision:{amount:8,price:5},suffix:"Ethereum"}},fees:{trading:{maker:.003,taker:.7/100}}})}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={coin:this.market(e).base},s=await this.publicGetCoinOrderbook(this.extend(r,i));return this.parseOrderBook(s)}async fetchTicker(e,t={}){await this.loadMarkets();const i={coin:this.market(e).base},r=await this.publicGetCoinTicker(this.extend(i,t)),s=this.safeValue(r,"ticker",{}),a=this.safeTimestamp(s,"date"),n=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:void 0,info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"tid"),a=this.safeString(e,"type"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;return void 0!==n&&void 0!==o&&(c=n*o),{id:s,info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e);let a="publicGetCoinTrades";const n={coin:s.base};void 0!==t&&(a+="From",n.from=parseInt(t/1e3)),void 0!==this.safeInteger(r,"to")&&(a+="To");const o=await this[a](this.extend(n,r));return this.parseTrades(o,s,t,i)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"response_data",{}),r=this.safeValue(i,"balance",{}),s={info:t},a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e);if(e in r){const i=this.safeValue(r,e,{}),a=this.account();a.free=this.safeFloat(i,"available"),a.total=this.safeFloat(i,"total"),s[t]=a}}return this.parseBalance(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const o={coin_pair:this.marketId(e)};let c=this.capitalize(i)+"Order";if("limit"===t)c="privatePostPlace"+c,o.limit_price=this.priceToPrecision(e,s),o.quantity=this.amountToPrecision(e,r);else if(c="privatePostPlaceMarket"+c,"buy"===i){if(void 0===s)throw new n(this.id+" createOrder() requires the price argument with market buy orders to calculate total order cost (amount to spend), where cost = amount * price. Supply a price argument to createOrder() call if you want the cost to be calculated for you from price and amount");o.cost=this.priceToPrecision(e,r*s)}else o.quantity=this.amountToPrecision(e,r);const d=await this[c](this.extend(o,a));return{info:d,id:d.response_data.order.order_id.toString()}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r.id,order_id:e},n=await this.privatePostCancelOrder(this.extend(s,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order",{});return this.parseOrder(c,r)}parseOrderStatus(e){return this.safeString({2:"open",3:"canceled",4:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"order_id");let r=void 0;"order_type"in e&&(r=1===e.order_type?"buy":"sell");const s=this.parseOrderStatus(this.safeString(e,"status"));let a=void 0;if(void 0===t){const i=this.safeString(e,"coin_pair");t=this.safeValue(this.markets_by_id,i)}void 0!==t&&(a=t.symbol);const n=this.safeTimestamp(e,"created_timestamp"),o={cost:this.safeFloat(e,"fee"),currency:t.quote},c=this.safeFloat(e,"limit_price"),d=this.safeFloat(e,"executed_price_avg"),h=this.safeFloat(e,"quantity"),u=this.safeFloat(e,"executed_quantity"),l=h-u,f=u*d,p=this.safeTimestamp(e,"updated_timestamp");return{info:e,id:i,timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:p,symbol:a,type:"limit",side:r,price:c,cost:f,average:d,amount:h,filled:u,remaining:l,status:s,fee:o,trades:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder () requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={coin_pair:r.id,order_id:parseInt(e)},n=await this.privatePostGetOrder(this.extend(s,i)),o=this.safeValue(n,"response_data",{}),c=this.safeValue(o,"order");return this.parseOrder(c,r)}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n={coin:this.currency(e).id,quantity:t.toFixed(10),address:i};if("BRL"===e){if(!("account_ref"in a))throw new s(this.id+" requires account_ref parameter to withdraw "+e)}else if("LTC"!==e){if(!("tx_fee"in a))throw new s(this.id+" requires tx_fee parameter to withdraw "+e);if("XRP"===e)if(void 0===r){if(!("destination_tag"in a))throw new s(this.id+" requires a tag argument or destination_tag parameter to withdraw "+e)}else n.destination_tag=r}const o=await this.privatePostWithdrawCoin(this.extend(n,a));return{info:o,id:o.response_data.withdrawal.id}}parseOHLCV(e,t,i="1m",r,s){return[this.safeTimestamp(e,"timestamp"),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="5m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={precision:this.timeframes[t],coin:a.id.toLowerCase()};void 0!==r&&void 0!==i?(n.from=parseInt(i/1e3),n.to=this.sum(n.from,r*this.parseTimeframe(t))):void 0!==i?(n.from=parseInt(i/1e3),n.to=this.sum(this.seconds(),1)):void 0!==r&&(n.to=this.seconds(),n.from=n.to-r*this.parseTimeframe(t));const o=await this.v4PublicGetCoinCandle(this.extend(n,s)),c=this.safeValue(o,"candles",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders () requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={coin_pair:s.id},o=await this.privatePostListOrders(this.extend(n,r)),c=this.safeValue(o,"response_data",{}),d=this.safeValue(c,"orders",[]);return this.parseOrders(d,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";const o=this.omit(r,this.extractParams(e));if("public"===t||"v4Public"===t)n+=this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.version+"/";const t=this.nonce();a=this.urlencode(this.extend({tapi_method:e,tapi_nonce:t},r));const i="/tapi/"+this.version+"/?"+a;s={"Content-Type":"application/x-www-form-urlencoded","TAPI-ID":this.apiKey,"TAPI-MAC":this.hmac(this.encode(i),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("error_message"in o)throw new s(this.id+" "+this.json(o));return o}}},kmZU:function(e,t,i){"use strict";var r=i("/mWR").formatters,s=i("9eKw"),a=i("WZyW");e.exports=function(e){var t=function(t){var i;return t.property?(e[t.property]||(e[t.property]={}),i=e[t.property]):i=e,t.methods&&t.methods.forEach((function(t){t instanceof s||(t=new s(t)),t.attachToObject(i),t.setRequestManager(e._requestManager)})),e};return t.formatters=r,t.utils=a,t.Method=s,t}},kmpK:function(e,t,i){t.publicEncrypt=i("3MSx"),t.privateDecrypt=i("B5O8"),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},l6ZL:function(e,t,i){"use strict";const r=i("OjXq"),{InvalidNonce:s,AuthenticationError:a,AccountSuspended:n,InsufficientFunds:o,ExchangeError:c,ArgumentsRequired:d,NotSupported:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"stronghold",name:"Stronghold",country:["US"],rateLimit:1e3,version:"v1",comment:"This comment is optional",urls:{logo:"https://user-images.githubusercontent.com/1294454/52160042-98c1f300-26be-11e9-90dd-da8473944c83.jpg",api:{public:"https://api.stronghold.co",private:"https://api.stronghold.co"},www:"https://stronghold.co",doc:["https://docs.stronghold.co"]},requiredCredentials:{apiKey:!0,secret:!0,password:!0},has:{fetchMarkets:!0,fetchCurrencies:!0,fetchOrderBook:!0,fetchOpenOrders:!0,fetchTime:!0,fetchTrades:!0,fetchMyTrades:!0,fetchDepositAddress:!1,createDepositAddress:!0,withdraw:!0,fetchTicker:!1,fetchTickers:!1,fetchAccounts:!0,fetchTransactions:!0},api:{public:{get:["utilities/time","utilities/uuid","venues","venues/{venueId}/assets","venues/{venueId}/markets","venues/{venueId}/markets/{marketId}/orderbook","venues/{venueId}/markets/{marketId}/trades"],post:["venues/{venueId}/assets","iam/credentials","identities"],patch:["identities"],put:["iam/credentials/{credentialId}"],delete:["iam/credentials/{credentialId}"]},private:{get:["venues","venues/{venueId}/accounts","venues/{venueId}/accounts/{accountId}","venues/{venueId}/accounts/{accountId}/payments/{paymentId}","venues/{venueId}/accounts/{accountId}/orders","venues/{venueId}/accounts/{accountId}/trades","venues/{venueId}/accounts/{accountId}/transactions"],post:["venues/{venueId}/accounts","venues/{venueId}/accounts/{accountId}/orders","venues/{venueId}/accounts/{accountId}/deposit","venues/{venueId}/accounts/{accountId}/withdrawal","venues/{venueId}/accounts/{accountId}/payments","venues/{venueId}/accounts/{accountId}/payments/{paymentId}/stop","venues/{venueId}/custody/accounts/{accountId}/operations/{operationId}/signatures","venues/{venueId}/anchor/withdrawal","venues/{venueId}/testing/friendbot"],delete:["venues/{venueId}/accounts/{accountId}/orders/{orderId}"]}},options:{accountId:void 0,venueId:"trade-public",venues:{trade:"trade-public",sandbox:"sandbox-public"},paymentMethods:{ETH:"ethereum",BTC:"bitcoin",XLM:"stellar",XRP:"ripple",LTC:"litecoin",SHX:"stellar"}},exceptions:{CREDENTIAL_MISSING:a,CREDENTIAL_INVALID:a,CREDENTIAL_REVOKED:n,CREDENTIAL_NO_IDENTITY:a,PASSPHRASE_INVALID:a,SIGNATURE_INVALID:a,TIME_INVALID:s,BYPASS_INVALID:a,INSUFFICIENT_FUNDS:o}})}async getActiveAccount(){if(void 0!==this.options.accountId)return this.options.accountId;if(await this.loadAccounts(),this.accounts.length>0)return this.accounts[0].id;throw new c(this.id+" requires an accountId.")}async fetchAccounts(e={}){const t={venueId:this.options.venueId};return(await this.privateGetVenuesVenueIdAccounts(this.extend(t,e))).result}async fetchTime(e={}){const t=await this.publicGetUtilitiesTime(e);return this.parse8601(this.safeString(t.result,"timestamp"))}async fetchMarkets(e={}){const t={venueId:this.options.venueId},i=(await this.publicGetVenuesVenueIdMarkets(this.extend(t,e))).result,r={};for(let s=0;s<i.length;s++){const e=i[s],t=e.id,a=this.safeString(e,"baseAssetId"),n=this.safeString(e,"counterAssetId"),o=a.split("/")[0],c=n.split("/")[0],d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=d+"/"+h,l={amount:{min:this.safeFloat(e,"minimumOrderSize"),max:void 0}},f={price:this.safeInteger(e,"displayDecimalsPrice"),amount:this.safeInteger(e,"displayDecimalsAmount")};r[u]={symbol:u,id:t,base:d,quote:h,baseId:a,quoteId:n,precision:f,info:e,limits:l}}return r}async fetchCurrencies(e={}){const t={venueId:this.options.venueId},i=(await this.publicGetVenuesVenueIdAssets(this.extend(t,e))).result,r={},s={amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}};for(let a=0;a<i.length;a++){const e=i[a],t=this.safeString(e,"id"),n=this.safeString(e,"code"),o=this.safeCurrencyCode(n),c=this.safeInteger(e,"displayDecimalsFull");r[o]={code:o,id:t,precision:c,info:e,active:void 0,name:void 0,limits:s}}return r}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketId:this.marketId(e),venueId:this.options.venueId},s=await this.publicGetVenuesVenueIdMarketsMarketIdOrderbook(this.extend(r,i)),a=s.result,n=this.parse8601(this.safeString(s,"timestamp"));return this.parseOrderBook(a,n)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={marketId:s.id,venueId:this.options.venueId},n=await this.publicGetVenuesVenueIdMarketsMarketIdTrades(this.extend(a,r));return this.parseTrades(n.result.trades,s,t,i)}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0;if(Array.isArray(e))s=parseFloat(e[0]),a=parseFloat(e[1]),o=e[2],c=this.parse8601(e[3]);else{i=this.safeString(e,"id"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"size"),o=this.safeString(e,"side"),c=this.parse8601(this.safeString(e,"executedAt")),d=this.safeString(e,"orderId");const n=this.safeString(e,"marketId");t=this.safeValue(this.markets_by_id,n),r=this.safeValue(e,"maker")?"maker":"taker"}void 0!==a&&void 0!==s&&(n=a*s);let h=void 0;return void 0!==t&&(h=t.symbol),{id:i,info:e,timestamp:c,datetime:this.iso8601(c),symbol:h,type:void 0,order:d,side:o,price:s,amount:a,cost:n,takerOrMaker:r,fee:{cost:void 0,currency:void 0,rate:void 0}}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount()},r);if(!s.accountId)throw new d(this.id+" fetchTransactions requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const a=await this.privateGetVenuesVenueIdAccountsAccountIdTransactions(s);let n=void 0;return void 0!==e&&(n=this.currency(e)),this.parseTransactions(a.result,n,t,i)}parseTransactionStatus(e){return this.safeString({queued:"pending",settling:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"assetId");let s=void 0;if(void 0!==r){const e=r.split("/")[0];s=this.safeCurrencyCode(e)}else void 0!==t&&(s=t.code);const a=this.safeFloat(e,"amount"),n=this.parseTransactionStatus(this.safeString(e,"status")),o=this.safeFloat(e,"feeAmount");let c=void 0;void 0!==o&&(c=o/a);const d=this.safeString(e,"direction"),h=this.safeString(e,"requestedAt"),u=this.parse8601(h);return{id:i,info:e,currency:s,amount:a,status:n,fee:{cost:o,rate:c},tag:void 0,type:"outgoing"===d||"withdrawal"===d?"withdrawal":"deposit",updated:this.parse8601(this.safeString(e,"updatedAt")),address:void 0,txid:void 0,timestamp:u,datetime:h}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount(),marketID:n.id,type:t,side:i,size:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s)},a);if(!o.accountId)throw new d(this.id+" createOrder requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const c=await this.privatePostVenuesVenueIdAccountsAccountIdOrders(o);return this.parseOrder(c,n)}async cancelOrder(e,t,i={}){const r=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount(),orderId:e},i);if(!r.accountId)throw new d(this.id+" cancelOrder requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const s=await this.privateDeleteVenuesVenueIdAccountsAccountIdOrdersOrderId(r);return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount()},r);if(!a.accountId)throw new d(this.id+" cancelOrder requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const n=await this.privateGetVenuesVenueIdAccountsAccountIdOrders(a);return this.parseOrders(n.result,s,t,i)}parseOrder(e,t){const i=this.safeString(e,"marketId");void 0!==i&&(t=this.safeValue(this.marketsById,i));let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeString(e,"id"),a=this.safeString(e,"placedAt"),n=this.safeFloat(e,"size"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"sizeFilled");let d=void 0,h=void 0;return void 0!==n&&(void 0!==c&&(h=n-c),void 0!==o&&(d=n*o)),{id:s,info:e,symbol:r,datetime:a,timestamp:this.parse8601(a),side:this.safeString(e,"side"),amount:n,filled:c,remaining:h,price:o,cost:d,trades:[],lastTradeTimestamp:void 0,status:void 0,type:void 0,average:void 0}}nonce(){return this.seconds()}setSandboxMode(e){this.options.venueId=e?this.options.venues.sandbox:this.options.venues.trade}async fetchBalance(e={}){const t=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount()},e);if(!("accountId"in t))throw new d(this.id+" fetchBalance requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const i=await this.privateGetVenuesVenueIdAccountsAccountId(t),r=this.safeValue(i.result,"balances"),s={info:i};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeString(e,"assetId");if(void 0!==t){const i=t.split("/")[0],r=this.safeCurrencyCode(i),a={};a.total=this.safeFloat(e,"amount"),a.free=this.safeFloat(e,"availableForTrade"),s[r]=a}}return this.parseBalance(s)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount()},r);if(!s.accountId)throw new d(this.id+" fetchMyTrades requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const a=await this.privateGetVenuesVenueIdAccountsAccountIdTrades(s);let n=void 0;return void 0!==e&&(n=this.market(e)),this.parseTrades(a.result,n,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.safeString(this.options.paymentMethods,e);if(void 0===i)throw new h(this.id+" createDepositAddress requires code to be BTC, ETH, or XLM");const r=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount(),assetId:this.currencyId(e),paymentMethod:i},t);if(!r.accountId)throw new d(this.id+" createDepositAddress requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const s=await this.privatePostVenuesVenueIdAccountsAccountIdDeposit(r),a=s.result.paymentMethodInstructions,n=a.deposit_address,o=this.safeString(a,"reference");return{currency:e,address:this.checkAddress(n),tag:o,info:s}}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const a=this.safeString(this.options.paymentMethods,e);if(void 0===a)throw new h(this.id+" withdraw requires code to be BTC, ETH, or XLM");const n=this.extend({venueId:this.options.venueId,accountId:await this.getActiveAccount(),assetId:this.currencyId(e),amount:t,paymentMethod:a,paymentMethodDetails:{withdrawal_address:i}},s);if(void 0!==r&&(n.paymentMethodDetails.reference=r),!n.accountId)throw new d(this.id+" withdraw requires either the 'accountId' extra parameter or exchange.options['accountId'] = 'YOUR_ACCOUNT_ID'.");const o=await this.privatePostVenuesVenueIdAccountsAccountIdWithdrawal(n),c=o.result;return{id:this.safeString(c,"id"),info:o}}handleErrors(e,t,i,r,s,a,n,o,d){if(!n)return;const h=this.safeString(n,"errorCode");if(h in this.exceptions){throw new(0,this.exceptions[h])(this.id+" "+a)}if(!this.safeValue(n,"success"))throw new c(this.id+" "+a)}sign(e,t="public",i="GET",r={},s,a){const n="/"+this.version+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));let c=this.urls.api[t]+n;if(Object.keys(o).length&&("GET"===i?c+="?"+this.urlencode(o):a=this.json(o)),"private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=e+i+n;void 0!==a&&(t+=a);const r=this.base64ToBinary(this.secret);s={"SH-CRED-ID":this.apiKey,"SH-CRED-SIG":this.hmac(this.encode(t),r,"sha256","base64"),"SH-CRED-TIME":e,"SH-CRED-PASS":this.password,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}}},lWi4:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,DDoSProtection:a,AuthenticationError:n,InvalidOrder:o}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lbank",name:"LBank",countries:["CN"],version:"v1",has:{fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!1,fetchClosedOrders:!0},timeframes:{"1m":"minute1","5m":"minute5","15m":"minute15","30m":"minute30","1h":"hour1","2h":"hour2","4h":"hour4","6h":"hour6","8h":"hour8","12h":"hour12","1d":"day1","1w":"week1"},urls:{logo:"https://user-images.githubusercontent.com/1294454/38063602-9605e28a-3302-11e8-81be-64b1e53c4cfb.jpg",api:"https://api.lbank.info",www:"https://www.lbank.info",doc:"https://github.com/LBank-exchange/lbank-official-api-docs",fees:"https://lbankinfo.zendesk.com/hc/en-gb/articles/360012072873-Trading-Fees",referral:"https://www.lbex.io/invite?icode=7QCY"},api:{public:{get:["currencyPairs","ticker","depth","trades","kline","accuracy"]},private:{post:["user_info","create_order","cancel_order","orders_info","orders_info_history","withdraw","withdrawCancel","withdraws","withdrawConfigs"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:void 0,ZEC:.01,ETH:.01,ETC:.01,VEN:10,BCH:2e-4,SC:50,BTM:20,NAS:1,EOS:1,XWC:5,BTS:1,INK:10,BOT:3,YOYOW:15,TGC:10,NEO:0,CMT:20,SEER:2e3,FIL:void 0,BTG:void 0}}},commonCurrencies:{VET_ERC20:"VEN"},options:{cacheSecretAsPem:!0}})}async fetchMarkets(e={}){const t=await this.publicGetAccuracy(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=e.symbol,a=s.split("_");let n=void 0,o=void 0;a.length>2?(n=a[0]+"_"+a[1],o=a[2]):(n=a[0],o=a[1]);const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={amount:this.safeInteger(e,"quantityAccuracy"),price:this.safeInteger(e,"priceAccuracy")};i.push({id:s,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:u,limits:{amount:{min:Math.pow(10,-u.amount),max:void 0},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)},cost:{min:void 0,max:void 0}},info:s})}return i}parseTicker(e,t){let i=void 0;if(void 0===t){const t=this.safeString(e,"symbol");if(t in this.markets_by_id){i=this.marketsById[t].symbol}else{const e=t.split("_");let r=void 0,s=void 0;e.length>2?(r=e[0]+"_"+e[1],s=e[2]):(r=e[0],s=e[1]),i=this.safeCurrencyCode(r)+"/"+this.safeCurrencyCode(s)}}const r=this.safeInteger(e,"timestamp"),s=e;e=s.ticker;const a=this.safeFloat(e,"latest"),n=this.safeFloat(e,"change");let o=void 0;if(void 0!==n){const e=this.sum(1,n/100);e>0&&(o=a/this.sum(1,e))}let c=void 0,d=void 0;return void 0!==a&&void 0!==o&&(c=a-o,d=this.sum(a,o)/2),void 0!==t&&(i=t.symbol),{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:c,percentage:n,average:d,baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"turnover"),info:s}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(this.extend({symbol:"all"},t)),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]);r[e.symbol]=e}return r}async fetchOrderBook(e,t=60,i={}){await this.loadMarkets();let r=60;void 0!==t&&(r=Math.min(t,r));const s={symbol:this.marketId(e),size:r},a=await this.publicGetDepth(this.extend(s,i));return this.parseOrderBook(a)}parseTrade(e,t){let i=void 0;void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"date_ms"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=parseFloat(this.costToPrecision(i,s*a)));const o=this.safeString(e,"tid"),c=this.safeString(e,"type");return{id:o,info:this.safeValue(e,"info",e),timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:void 0,side:c,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id,size:100};void 0!==t&&(a.time=parseInt(t)),void 0!==i&&(a.size=i);const n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}async fetchOHLCV(e,t="5m",i,r=1e3,a={}){await this.loadMarkets();const n=this.market(e);if(void 0===i)throw new s(this.id+" fetchOHLCV requires a `since` argument");if(void 0===r)throw new s(this.id+" fetchOHLCV requires a `limit` argument");const o={symbol:n.id,type:this.timeframes[t],size:r,time:parseInt(i/1e3)},c=await this.publicGetKline(this.extend(o,a));return this.parseOHLCVs(c,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t},r=this.safeValue(t,"info",{}),s=this.safeValue(r,"free",{}),a=this.safeValue(r,"freeze",{}),n=this.safeValue(r,"asset",{}),o=Object.keys(s);for(let c=0;c<o.length;c++){const e=o[c],t=this.safeCurrencyCode(e),r=this.account();r.free=this.safeFloat(s,e),r.used=this.safeFloat(a,e),r.total=this.safeFloat(n,e),i[t]=r}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({"-1":"cancelled",0:"open",1:"open",2:"closed",4:"closed"},e)}parseOrder(e,t){let i=void 0;const r=this.safeValue(this.marketsById,e.symbol);void 0!==r?i=r.symbol:void 0!==t&&(i=t.symbol);const s=this.safeInteger(e,"create_time"),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount",0),o=this.safeFloat(e,"deal_amount",0),c=this.safeFloat(e,"avg_price");let d=void 0;void 0!==c&&(d=o*c);const h=this.parseOrderStatus(this.safeString(e,"status")),u=this.safeString(e,"order_id"),l=this.safeString(e,"order_type"),f=this.safeString(e,"type");let p=void 0;return void 0!==n&&void 0!==o&&(p=n-o),{id:u,datetime:this.iso8601(s),timestamp:s,lastTradeTimestamp:void 0,status:h,symbol:i,type:l,side:f,price:a,cost:d,amount:n,filled:o,remaining:p,trades:void 0,fee:void 0,info:this.safeValue(e,"info",e)}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o={symbol:n.id,type:i,amount:r};"market"===t?o.type+="_market":o.price=s;const c=await this.privatePostCreateOrder(this.extend(o,a));o=this.omit(o,"type"),o.order_id=c.order_id,o.type=i,o.order_type=t,o.create_time=this.milliseconds(),o.info=c,o=this.parseOrder(o,n);const d=o.id;return this.orders[d]=o,o}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(t).id,order_id:e};return await this.privatePostCancelOrder(this.extend(r,i))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=this.market(t),s={symbol:r.id,order_id:e},a=await this.privatePostOrdersInfo(this.extend(s,i)),n=this.parseOrders(a.orders,r);return 1===n.length?n[0]:n}async fetchOrders(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=100);const s={symbol:this.market(e).id,current_page:1,page_length:i},a=await this.privatePostOrdersInfoHistory(this.extend(s,r));return this.parseOrders(a.orders,void 0,t,i)}async fetchClosedOrders(e,t,i,r={}){const s=await this.fetchOrders(e,t,i,r),a=this.filterBy(s,"status","closed"),n=this.filterBy(s,"status","cancelled"),o=this.arrayConcat(a,n);return this.filterBySymbolSinceLimit(o,e,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={assetCode:this.currency(e).id,amount:t,account:i};void 0!==r&&(a.memo=r);const n=this.privatePostWithdraw(this.extend(a,s));return{id:n.id,info:n}}convertSecretToPem(e){const t=e.length-0;let i=parseInt(t/64);i=this.sum(i,1);let r="-----BEGIN PRIVATE KEY-----\n";for(let s=0;s<i;s++){const e=64*s,t=this.sum(e,64);r+=this.secret.slice(e,t)+"\n"}return r+"-----END PRIVATE KEY-----"}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);if(o+=".do","public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.keysort(this.extend({api_key:this.apiKey},r)),t=this.rawencode(e),i=this.hash(this.encode(t)).toUpperCase();let n=void 0;this.safeValue(this.options,"cacheSecretAsPem",!0)?(n=this.safeValue(this.options,"pem"),void 0===n&&(n=this.convertSecretToPem(this.secret),this.options.pem=n)):n=this.convertSecretToPem(this.secret);const o=this.binaryToBase64(this.rsa(i,this.encode(n),"RS256"));e.sign=o,a=this.urlencode(e),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},c,d){const h=await this.fetch2(e,t,i,r,c,d);if("false"===this.safeString(h,"result")){const e=this.safeString(h,"error_code"),t=this.safeString({1e4:"Internal error",10001:"The required parameters can not be empty",10002:"verification failed",10003:"Illegal parameters",10004:"User requests are too frequent",10005:"Key does not exist",10006:"user does not exist",10007:"Invalid signature",10008:"This currency pair is not supported",10009:"Limit orders can not be missing orders and the number of orders",10010:"Order price or order quantity must be greater than 0",10011:"Market orders can not be missing the amount of the order",10012:"market sell orders can not be missing orders",10013:"is less than the minimum trading position 0.001",10014:"Account number is not enough",10015:"The order type is wrong",10016:"Account balance is not enough",10017:"Abnormal server",10018:"order inquiry can not be more than 50 less than one",10019:"withdrawal orders can not be more than 3 less than one",10020:"less than the minimum amount of the transaction limit of 0.001",10022:"Insufficient key authority"},e,this.json(h));throw new(this.safeValue({10002:n,10004:a,10005:n,10006:n,10007:n,10009:o,10010:o,10011:o,10012:o,10013:o,10014:o,10015:o,10016:o,10022:n},e,s))(t)}return h}}},lxb6:function(e,t){const i="0123456789abcdef".split(""),r=[1,256,65536,16777216],s=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],n=e=>{var t,i,r,s,n,o,c,d,h,u,l,f,p,m,y,b,v,g,w,k,_,T,S,x,O,C,M,A,E,I,B,F,P,R,q,L,D,N,U,V,G,j,H,K,z,W,X,Y,Z,J,Q,$,ee,te,ie,re,se,ae,ne,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],h=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|c>>>31),i=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(c<<1|o>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(d<<1|h>>>31),i=n^(h<<1|d>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=o^(u<<1|l>>>31),i=c^(l<<1|u>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=d^(f<<1|p>>>31),i=h^(p<<1|f>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=u^(s<<1|n>>>31),i=l^(n<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,m=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,A=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,q=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,F=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,N=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~b&g,e[1]=y^~v&w,e[10]=x^~C&A,e[11]=O^~M&E,e[20]=R^~L&N,e[21]=q^~D&U,e[30]=K^~W&Y,e[31]=z^~X&Z,e[40]=te^~re&ae,e[41]=ie^~se&ne,e[2]=b^~g&k,e[3]=v^~w&_,e[12]=C^~A&I,e[13]=M^~E&B,e[22]=L^~N&V,e[23]=D^~U&G,e[32]=W^~Y&J,e[33]=X^~Z&Q,e[42]=re^~ae&oe,e[43]=se^~ne&ce,e[4]=g^~k&T,e[5]=w^~_&S,e[14]=A^~I&F,e[15]=E^~B&P,e[24]=N^~V&j,e[25]=U^~G&H,e[34]=Y^~J&$,e[35]=Z^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~T&m,e[7]=_^~S&y,e[16]=I^~F&x,e[17]=B^~P&O,e[26]=V^~j&R,e[27]=G^~H&q,e[36]=J^~$&K,e[37]=Q^~ee&z,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=T^~m&b,e[9]=S^~y&v,e[18]=F^~x&C,e[19]=P^~O&M,e[28]=j^~R&L,e[29]=H^~q&D,e[38]=$^~K&W,e[39]=ee^~z&X,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=a[r],e[1]^=a[r+1]},o=e=>t=>{var a;if("0x"===t.slice(0,2)){a=[];for(var o=2,c=t.length;o<c;o+=2)a.push(parseInt(t.slice(o,o+2),16))}else a=t;return((e,t)=>{for(var a,o=t.length,c=e.blocks,d=e.blockCount<<2,h=e.blockCount,u=e.outputBlocks,l=e.s,f=0;f<o;){if(e.reset)for(e.reset=!1,c[0]=e.block,y=1;y<h+1;++y)c[y]=0;if("string"!==typeof t)for(y=e.start;f<o&&y<d;++f)c[y>>2]|=t[f]<<s[3&y++];else for(y=e.start;f<o&&y<d;++f)(a=t.charCodeAt(f))<128?c[y>>2]|=a<<s[3&y++]:a<2048?(c[y>>2]|=(192|a>>6)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):a<55296||a>=57344?(c[y>>2]|=(224|a>>12)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]):(a=65536+((1023&a)<<10|1023&t.charCodeAt(++f)),c[y>>2]|=(240|a>>18)<<s[3&y++],c[y>>2]|=(128|a>>12&63)<<s[3&y++],c[y>>2]|=(128|a>>6&63)<<s[3&y++],c[y>>2]|=(128|63&a)<<s[3&y++]);if(e.lastByteIndex=y,y>=d){for(e.start=y-d,e.block=c[h],y=0;y<h;++y)l[y]^=c[y];n(l),e.reset=!0}else e.start=y}if(c[(y=e.lastByteIndex)>>2]|=r[3&y],e.lastByteIndex===d)for(c[0]=c[h],y=1;y<h+1;++y)c[y]=0;for(c[h-1]|=2147483648,y=0;y<h;++y)l[y]^=c[y];n(l);for(var p,m="",y=0,b=0;b<u;){for(y=0;y<h&&b<u;++y,++b)p=l[y],m+=i[p>>4&15]+i[15&p]+i[p>>12&15]+i[p>>8&15]+i[p>>20&15]+i[p>>16&15]+i[p>>28&15]+i[p>>24&15];b%h===0&&(n(l),y=0)}return"0x"+m})((e=>({blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(e=>[].concat(e,e,e,e,e))([0,0,0,0,0,0,0,0,0,0])}))(e),a)};e.exports={keccak256:o(256),keccak512:o(512),keccak256s:o(256),keccak512s:o(512)}},"m+MA":function(e,t,i){const r=i("9dER"),{checkAndInit:s,smixSync:a}=i("FTtf");e.exports=function(e,t,i,n,o,c,d){const{XY:h,V:u,B32:l,x:f,_X:p,B:m,tickCallback:y}=s(e,t,i,n,o,c,d);for(var b=0;b<o;b++)a(m,128*b*n,n,i,u,h,p,l,f,y);return r.pbkdf2Sync(e,m,1,c,"sha256")}},m036:function(e,t,i){(function(e){var r=i("smmp");function s(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,i){for(;t._cache.length<i.length;)t._cache=e.concat([t._cache,s(t)]);var a=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),r(i,a)}}).call(this,i("qykS").Buffer)},"m2R+":function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,InvalidNonce:a,AuthenticationError:n,OrderNotFound:o}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitso",name:"Bitso",countries:["MX"],rateLimit:2e3,version:"v3",has:{CORS:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766335-715ce7aa-5ed5-11e7-88a8-173a27bb30fe.jpg",api:"https://api.bitso.com",www:"https://bitso.com",doc:"https://bitso.com/api_info",fees:"https://bitso.com/fees?l=es",referral:"https://bitso.com/?ref=itej"},options:{precision:{XRP:6,MXN:2,TUSD:2},defaultPrecision:8},api:{public:{get:["available_books","ticker","order_book","trades"]},private:{get:["account_status","balance","fees","fundings","fundings/{fid}","funding_destination","kyc_documents","ledger","ledger/trades","ledger/fees","ledger/fundings","ledger/withdrawals","mx_bank_codes","open_orders","order_trades/{oid}","orders/{oid}","user_trades","user_trades/{tid}","withdrawals/","withdrawals/{wid}"],post:["bitcoin_withdrawal","debit_card_withdrawal","ether_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal","orders","phone_number","phone_verification","phone_withdrawal","spei_withdrawal","ripple_withdrawal","bcash_withdrawal","litecoin_withdrawal"],delete:["orders/{oid}","orders/all"]}},exceptions:{"0201":n,104:a}})}async fetchMarkets(e={}){const t=await this.publicGetAvailableBooks(e),i=this.safeValue(t,"payload"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"book"),[a,n]=t.split("_");let o=a.toUpperCase(),c=n.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c,h={amount:{min:this.safeFloat(e,"minimum_amount"),max:this.safeFloat(e,"maximum_amount")},price:{min:this.safeFloat(e,"minimum_price"),max:this.safeFloat(e,"maximum_price")},cost:{min:this.safeFloat(e,"minimum_value"),max:this.safeFloat(e,"maximum_value")}},u={amount:this.safeInteger(this.options.precision,o,this.options.defaultPrecision),price:this.safeInteger(this.options.precision,c,this.options.defaultPrecision)};r.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,limits:h,precision:u})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t.payload,"balances"),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n={free:this.safeFloat(e,"available"),used:this.safeFloat(e,"locked"),total:this.safeFloat(e,"total")};r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={book:this.marketId(e)},s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"payload"),n=this.parse8601(this.safeString(a,"updated_at"));return this.parseOrderBook(a,n,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={book:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"payload"),a=this.parse8601(this.safeString(s,"created_at")),n=this.safeFloat(s,"vwap"),o=this.safeFloat(s,"volume");let c=void 0;void 0!==o&&void 0!==n&&(c=o*n);const d=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),askVolume:void 0,vwap:n,open:void 0,close:d,last:d,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:o,quoteVolume:c,info:s}}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let r=void 0;if(void 0===t){const i=this.safeString(e,"book");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(r=t.symbol);const s=this.safeString2(e,"side","maker_side");let a=this.safeFloat2(e,"amount","major");void 0!==a&&(a=Math.abs(a));let n=void 0;const o=this.safeFloat(e,"fees_amount");if(void 0!==o){const t=this.safeString(e,"fees_currency");n={cost:o,currency:this.safeCurrencyCode(t)}}let c=this.safeFloat(e,"minor");void 0!==c&&(c=Math.abs(c));const d=this.safeFloat(e,"price"),h=this.safeString(e,"oid");return{id:this.safeString(e,"tid"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,order:h,type:void 0,side:s,takerOrMaker:void 0,price:d,amount:a,cost:c,fee:n}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={book:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n.payload,s,t,i)}async fetchMyTrades(e,t,i=25,r={}){await this.loadMarkets();const a=this.market(e),n="marker"in r;if(void 0!==t&&!n)throw new s(this.id+" fetchMyTrades does not support fetching trades starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(r=this.extend(r,{marker:parseInt(r.marker)}));const o={book:a.id,limit:i},c=await this.privateGetUserTrades(this.extend(o,r));return this.parseTrades(c.payload,a,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={book:this.marketId(e),side:i,type:t,major:this.amountToPrecision(e,r)};"limit"===t&&(n.price=this.priceToPrecision(e,s));const o=await this.privatePostOrders(this.extend(n,a));return{info:o,id:this.safeString(o.payload,"oid")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={oid:e};return await this.privateDeleteOrdersOid(this.extend(r,i))}parseOrderStatus(e){return this.safeString({"partial-fill":"open",completed:"closed"},e,e)}parseOrder(e,t){const i=this.safeString(e,"oid"),r=this.safeString(e,"side"),s=this.parseOrderStatus(this.safeString(e,"status"));let a=void 0;const n=this.safeString(e,"book");if(void 0!==n)if(n in this.markets_by_id)t=this.markets_by_id[n];else{const[e,t]=n.split("_");a=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===a&&void 0!==t&&(a=t.symbol);const o=this.safeString(e,"type"),c=this.parse8601(this.safeString(e,"created_at")),d=this.safeFloat(e,"price"),h=this.safeFloat(e,"original_amount"),u=this.safeFloat(e,"unfilled_amount");let l=void 0;return void 0!==h&&void 0!==u&&(l=h-u),{info:e,id:i,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:a,type:o,side:r,price:d,amount:h,cost:void 0,remaining:u,filled:l,status:s,fee:void 0}}async fetchOpenOrders(e,t,i=25,r={}){await this.loadMarkets();const a=this.market(e),n="marker"in r;if(void 0!==t&&!n)throw new s(this.id+" fetchOpenOrders does not support fetching orders starting from a timestamp with the `since` argument, use the `marker` extra param to filter starting from an integer trade id");n&&(r=this.extend(r,{marker:parseInt(r.marker)}));const o={book:a.id,limit:i},c=await this.privateGetOpenOrders(this.extend(o,r));return this.parseOrders(c.payload,a,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privateGetOrdersOid({oid:e}),s=this.safeValue(r,"payload");if(Array.isArray(s)){if(1===r.payload.length)return this.parseOrder(s[0])}throw new o(this.id+": The order "+e+" not found.")}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a=this.market(t),n={oid:e},o=await this.privateGetOrderTradesOid(this.extend(n,s));return this.parseTrades(o.payload,a)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={fund_currency:this.currency(e).id},r=await this.privateGetFundingDestination(this.extend(i,t));let s=this.safeString(r.payload,"account_identifier"),a=void 0;if("XRP"===e){const e=s.split("?dt=");s=e[0],a=e[1]}return this.checkAddress(s),{currency:e,address:s,tag:a,info:r}}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n={BTC:"Bitcoin",ETH:"Ether",XRP:"Ripple",BCH:"Bcash",LTC:"Litecoin"},o=e in n?n[e]:void 0;if(void 0===o)throw new s(this.id+" not valid withdraw coin: "+e);const c={amount:t,address:i,destination_tag:r},d="privatePost"+o+"Withdrawal",h=await this[d](this.extend(c,a));return{info:h,id:this.safeString(h.payload,"wid")}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");"GET"!==i&&Object.keys(o).length&&(t+=a=this.json(o));const r=this.hmac(this.encode(t),this.encode(this.secret));s={Authorization:"Bitso "+(this.apiKey+":"+e+":"+r),"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0!==o&&"success"in o){let e=this.safeValue(o,"success",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){const e=this.id+" "+this.json(o),t=this.safeValue(o,"error");if(void 0===t)throw new s(e);const i=this.safeString(t,"code");throw this.throwExactlyMatchedException(this.exceptions,i,e),new s(e)}}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("success"in o&&o.success)return o;throw new s(this.id+" "+this.json(o))}}},m4tc:function(e,t,i){"use strict";var r=i("PoH+"),s=i("/mWR").errors,a=i("/ieh");function n(e){a.call(this),this.id=null,this.callback=r.identity,this.arguments=null,this._reconnectIntervalId=null,this.options={subscription:e.subscription,type:e.type,requestManager:e.requestManager}}n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype._extractCallback=function(e){if(r.isFunction(e[e.length-1]))return e.pop()},n.prototype._validateArgs=function(e){var t=this.options.subscription;if(t||(t={}),t.params||(t.params=0),e.length!==t.params)throw s.InvalidNumberOfParams(e.length,t.params+1,e[0])},n.prototype._formatInput=function(e){var t=this.options.subscription;return t&&t.inputFormatter?t.inputFormatter.map((function(t,i){return t?t(e[i]):e[i]})):e},n.prototype._formatOutput=function(e){var t=this.options.subscription;return t&&t.outputFormatter&&e?t.outputFormatter(e):e},n.prototype._toPayload=function(e){var t=[];if(this.callback=this._extractCallback(e)||r.identity,this.subscriptionMethod||(this.subscriptionMethod=e.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(e),this._validateArgs(this.arguments),e=[]),t.push(this.subscriptionMethod),t=t.concat(this.arguments),e.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:t}},n.prototype.unsubscribe=function(e){this.options.requestManager.removeSubscription(this.id,e),this.id=null,this.removeAllListeners(),clearInterval(this._reconnectIntervalId)},n.prototype.subscribe=function(){var e=this,t=Array.prototype.slice.call(arguments),i=this._toPayload(t);if(!i)return this;if(!this.options.requestManager.provider){var s=new Error("No provider set.");return this.callback(s,null,this),this.emit("error",s),this}if(!this.options.requestManager.provider.on){var a=new Error("The current provider doesn't support subscriptions: "+this.options.requestManager.provider.constructor.name);return this.callback(a,null,this),this.emit("error",a),this}return this.id&&this.unsubscribe(),this.options.params=i.params[1],"logs"===i.params[0]&&r.isObject(i.params[1])&&i.params[1].hasOwnProperty("fromBlock")&&isFinite(i.params[1].fromBlock)&&this.options.requestManager.send({method:"eth_getLogs",params:[i.params[1]]},(function(t,i){t?(e.callback(t,null,e),e.emit("error",t)):i.forEach((function(t){var i=e._formatOutput(t);e.callback(null,i,e),e.emit("data",i)}))})),"object"===typeof i.params[1]&&delete i.params[1].fromBlock,this.options.requestManager.send(i,(function(t,s){!t&&s?(e.id=s,e.emit("connected",s),e.options.requestManager.addSubscription(e.id,i.params[0],e.options.type,(function(t,i){t?(e.options.requestManager.removeSubscription(e.id),e.options.requestManager.provider.once&&(e._reconnectIntervalId=setInterval((function(){e.options.requestManager.provider.reconnect&&e.options.requestManager.provider.reconnect()}),500),e.options.requestManager.provider.once("connect",(function(){clearInterval(e._reconnectIntervalId),e.subscribe(e.callback)}))),e.emit("error",t),e.callback(t,null,e)):(r.isArray(i)||(i=[i]),i.forEach((function(t){var i=e._formatOutput(t);if(r.isFunction(e.options.subscription.subscriptionHandler))return e.options.subscription.subscriptionHandler.call(e,i);e.emit("data",i),e.callback(null,i,e)})))}))):(e.callback(t,null,e),e.emit("error",t))})),this},e.exports=n},"mZ7+":function(e,t,i){"use strict";const r=i("OjXq"),{NotSupported:s,RateLimitExceeded:a,AuthenticationError:n,PermissionDenied:o,ArgumentsRequired:c,ExchangeError:d,ExchangeNotAvailable:h,InsufficientFunds:u,InvalidOrder:l,OrderNotFound:f,InvalidNonce:p}=i("ucJe"),{SIGNIFICANT_DIGITS:m}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitfinex",name:"Bitfinex",countries:["VG"],version:"v1",rateLimit:1500,certified:!0,has:{CORS:!1,cancelAllOrders:!0,createDepositAddress:!0,deposit:!0,fetchClosedOrders:!0,fetchDepositAddress:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchTickers:!0,fetchTransactions:!0,fetchDeposits:!1,fetchWithdrawals:!1,withdraw:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766244-e328a50c-5ed2-11e7-947b-041416579bb3.jpg",api:{v2:"https://api-pub.bitfinex.com",public:"https://api.bitfinex.com",private:"https://api.bitfinex.com"},www:"https://www.bitfinex.com",referral:"https://www.bitfinex.com/?refcode=P61eYxFL",doc:["https://docs.bitfinex.com/v1/docs","https://github.com/bitfinexcom/bitfinex-api-node"]},api:{v2:{get:["platform/status","tickers","ticker/{symbol}","trades/{symbol}/hist","book/{symbol}/{precision}","book/{symbol}/P0","book/{symbol}/P1","book/{symbol}/P2","book/{symbol}/P3","book/{symbol}/R0","stats1/{key}:{size}:{symbol}:{side}/{section}","stats1/{key}:{size}:{symbol}/{section}","stats1/{key}:{size}:{symbol}:long/last","stats1/{key}:{size}:{symbol}:long/hist","stats1/{key}:{size}:{symbol}:short/last","stats1/{key}:{size}:{symbol}:short/hist","candles/trade:{timeframe}:{symbol}/{section}","candles/trade:{timeframe}:{symbol}/last","candles/trade:{timeframe}:{symbol}/hist"]},public:{get:["book/{symbol}","lendbook/{currency}","lends/{currency}","pubticker/{symbol}","stats/{symbol}","symbols","symbols_details","tickers","trades/{symbol}"]},private:{post:["account_fees","account_infos","balances","basket_manage","credits","deposit/new","funding/close","history","history/movements","key_info","margin_infos","mytrades","mytrades_funding","offer/cancel","offer/new","offer/status","offers","offers/hist","order/cancel","order/cancel/all","order/cancel/multi","order/cancel/replace","order/new","order/new/multi","order/status","orders","orders/hist","position/claim","position/close","positions","summary","taken_funds","total_taken_funds","transfer","unused_taken_funds","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.001,taker:.002,tiers:{taker:[[0,.002],[5e5,.002],[1e6,.002],[25e5,.002],[5e6,.002],[75e5,.002],[1e7,.0018],[15e6,.0016],[2e7,.14/100],[25e6,.0012],[3e7,.001]],maker:[[0,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[75e5,0],[1e7,0],[15e6,0],[2e7,0],[25e6,0],[3e7,0]]}},funding:{tierBased:!1,percentage:!1,deposit:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:0,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2},withdraw:{BTC:4e-4,IOTA:.5,ETH:.0027,BCH:1e-4,LTC:.001,EOS:.24279,XMR:.04,SAN:.99269,DASH:.01,ETC:.01,XRP:.02,YYW:16.915,NEO:0,ZEC:.001,BTG:0,OMG:.14026,DATA:20.773,QASH:1.9858,ETP:.01,QTUM:.01,EDO:.95001,AVT:1.3045,USDT:20,TRX:28.184,ZRX:1.9947,RCN:10.793,TNB:31.915,SNT:14.976,RLC:1.414,GNT:5.8952,SPK:10.893,REP:.041168,BAT:6.1546,ELF:1.8753,FUN:32.336,SNG:18.622,AID:8.08,MNA:16.617,NEC:1.6504,XTZ:.2}}},commonCurrencies:{ABS:"ABYSS",AIO:"AION",ALG:"ALGO",AMP:"AMPL",ATM:"ATMI",ATO:"ATOM",BAB:"BCH",CTX:"CTXC",DAD:"DADI",DAT:"DATA",DSH:"DASH",DRK:"DRK",GSD:"GUSD",HOT:"Hydro Protocol",IOS:"IOST",IOT:"IOTA",IQX:"IQ",MIT:"MITH",MNA:"MANA",NCA:"NCASH",ORS:"ORS Group",POY:"POLY",QSH:"QASH",QTM:"QTUM",SEE:"SEER",SNG:"SNGLS",SPK:"SPANK",STJ:"STORJ",TSD:"TUSD",YYW:"YOYOW",UDC:"USDC",UST:"USDT",UTN:"UTNP",VSY:"VSYS",XCH:"XCHF"},exceptions:{exact:{temporarily_unavailable:h,"Order could not be cancelled.":f,"No such order found.":f,"Order price must be positive.":l,"Could not find a key matching the given X-BFX-APIKEY.":n,'Key price should be a decimal number, e.g. "123.456"':l,'Key amount should be a decimal number, e.g. "123.456"':l,ERR_RATE_LIMIT:a,Ratelimit:a,"Nonce is too small.":p,"No summary found.":d,"Cannot evaluate your available balance, please try again":h},broad:{"This API key does not have permission":o,"not enough exchange balance for ":u,"minimum size for ":l,"Invalid order":l,"The available balance is only":u}},precisionMode:m,options:{currencyNames:{AGI:"agi",AID:"aid",AIO:"aio",ANT:"ant",AVT:"aventus",BAT:"bat",BCH:"bab",BCI:"bci",BFT:"bft",BTC:"bitcoin",BTG:"bgold",CFI:"cfi",DAI:"dai",DADI:"dad",DASH:"dash",DATA:"datacoin",DTH:"dth",EDO:"eidoo",ELF:"elf",EOS:"eos",ETC:"ethereumc",ETH:"ethereum",ETP:"metaverse",FUN:"fun",GNT:"golem",IOST:"ios",IOTA:"iota",LEO:"let",LRC:"lrc",LTC:"litecoin",LYM:"lym",MANA:"mna",MIT:"mit",MKR:"mkr",MTN:"mtn",NEO:"neo",ODE:"ode",OMG:"omisego",OMNI:"mastercoin",QASH:"qash",QTUM:"qtum",RCN:"rcn",RDN:"rdn",REP:"rep",REQ:"req",RLC:"rlc",SAN:"santiment",SNGLS:"sng",SNT:"status",SPANK:"spk",STORJ:"stj",TNB:"tnb",TRX:"trx",USD:"wire",USDC:"udc",UTK:"utk",USDT:"tetheruso",VEE:"vee",WAX:"wax",XLM:"xlm",XMR:"monero",XRP:"ripple",XVG:"xvg",YOYOW:"yoyow",ZEC:"zcash",ZRX:"zrx",XTZ:"tezos"},orderTypes:{limit:"exchange limit",market:"exchange market"}}})}async fetchFundingFees(e={}){await this.loadMarkets();const t=await this.privatePostAccountFees(e),i=t.withdraw,r={},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a];r[this.safeCurrencyCode(e)]=this.safeFloat(i,e)}return{info:t,withdraw:r,deposit:r}}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privatePostSummary(e);return{info:t,maker:this.safeFloat(t,"maker_fee"),taker:this.safeFloat(t,"taker_fee")}}async fetchMarkets(e={}){const t=await this.publicGetSymbols(),i=await this.publicGetSymbolsDetails(),r=[];for(let s=0;s<i.length;s++){const e=i[s];let a=this.safeString(e,"pair");if(!this.inArray(a,t))continue;a=a.toUpperCase();let n=void 0,o=void 0;if(a.indexOf(":")>=0){const e=a.split(":");n=e[0],o=e[1]}else n=a.slice(0,3),o=a.slice(3,6);const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o),h=c+"/"+d,u={price:e.price_precision,amount:void 0},l={amount:{min:this.safeFloat(e,"minimum_order_size"),max:this.safeFloat(e,"maximum_order_size")},price:{min:Math.pow(10,-u.price),max:Math.pow(10,u.price)}};l.cost={min:l.amount.min*l.price.min,max:void 0},r.push({id:a,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,precision:u,limits:l,info:e})}return r}amountToPrecision(e,t){return this.numberToString(t)}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a];let d=r*c,h="quote";"sell"===i?d*=s:h="base";const u=o[h],l=this.safeValue(this.currencies,u);if(void 0!==l){void 0!==this.safeInteger(l,"precision")&&(d=parseFloat(this.currencyToPrecision(u,d)))}return{type:a,currency:o[h],rate:c,cost:d}}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","exchange"),i=this.omit(e,"type"),r=await this.privatePostBalances(i),s={info:r};for(let a=0;a<r.length;a++){const e=r[a];if(e.type===t){const t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t);if(!(i in s)){const t=this.account();t.free=this.safeFloat(e,"available"),t.total=this.safeFloat(e,"amount"),s[i]=t}}}return this.parseBalance(s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit_bids=t,r.limit_asks=t);const s=await this.publicGetBookSymbol(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","amount")}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={};for(let s=0;s<i.length;s++){const e=this.parseTicker(i[s]);r[e.symbol]=e}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetPubtickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}parseTicker(e,t){let i=this.safeFloat(e,"timestamp");void 0!==i&&(i*=1e3);let r=void 0;if(void 0!==t)r=t.symbol;else if("pair"in e){const i=this.safeString(e,"pair");if(void 0!==i)if(i in this.markets_by_id)r=(t=this.markets_by_id[i]).symbol;else{const e=i.slice(0,3),t=i.slice(3,6);r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}const s=this.safeFloat(e,"last_price");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"mid"),baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}parseTrade(e,t){const i=this.safeString(e,"tid");let r=this.safeFloat(e,"timestamp");void 0!==r&&(r=1e3*parseInt(r));const s=this.safeStringLower(e,"type"),a=this.safeString(e,"order_id"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;void 0!==n&&void 0!==o&&(c=n*o);let d=void 0;if("fee_amount"in e){const t=-this.safeFloat(e,"fee_amount"),i=this.safeString(e,"fee_currency");d={cost:t,currency:this.safeCurrencyCode(i)}}return{id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:t.symbol,type:void 0,order:a,side:s,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:d}}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id,limit_trades:i};void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.publicGetTradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchMyTrades requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit_trades=i),void 0!==t&&(a.timestamp=parseInt(t/1e3));const n=await this.privatePostMytrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={symbol:this.marketId(e),side:i,amount:this.amountToPrecision(e,r),type:this.safeString(this.options.orderTypes,t,t),ocoorder:!1,buy_price_oco:0,sell_price_oco:0};n.price="market"===t?this.nonce().toString():this.priceToPrecision(e,s);const o=await this.privatePostOrderNew(this.extend(n,a));return this.parseOrder(o)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={order_id:e};void 0!==a&&(o.price=this.priceToPrecision(t,a)),void 0!==s&&(o.amount=this.numberToString(s)),void 0!==t&&(o.symbol=this.marketId(t)),void 0!==r&&(o.side=r),void 0!==i&&(o.type=this.safeString(this.options.orderTypes,i,i));const c=await this.privatePostOrderCancelReplace(this.extend(o,n));return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)};return await this.privatePostOrderCancel(this.extend(r,i))}async cancelAllOrders(e,t={}){return await this.privatePostOrderCancelAll(t)}parseOrder(e,t){const i=this.safeString(e,"side"),r=this.safeValue(e,"is_live"),s=this.safeValue(e,"is_cancelled");let a=void 0;a=r?"open":s?"canceled":"closed";let n=void 0;if(void 0===t){const i=this.safeStringUpper(e,"symbol");void 0!==i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(n=t.symbol);let o=e.type;if(o.indexOf("exchange ")>=0){o=e.type.split(" ")[1]}let c=this.safeFloat(e,"timestamp");return void 0!==c&&(c=1e3*parseInt(c)),{info:e,id:this.safeString(e,"id"),timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,symbol:n,type:o,side:i,price:this.safeFloat(e,"price"),average:this.safeFloat(e,"avg_execution_price"),amount:this.safeFloat(e,"original_amount"),remaining:this.safeFloat(e,"remaining_amount"),filled:this.safeFloat(e,"executed_amount"),status:a,fee:void 0}}async fetchOpenOrders(e,t,i,r={}){if(await this.loadMarkets(),void 0!==e&&!(e in this.markets))throw new d(this.id+" has no symbol "+e);const s=await this.privatePostOrders(r);let a=this.parseOrders(s,void 0,t,i);return void 0!==e&&(a=this.filterBy(a,"symbol",e)),a}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.limit=i);const a=await this.privatePostOrdersHist(this.extend(s,r));let n=this.parseOrders(a,void 0,t,i);return void 0!==e&&(n=this.filterBy(n,"symbol",e)),n=this.filterByArray(n,"status",["closed","canceled"],!1),n}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:parseInt(e)},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrder(s)}parseOHLCV(e,t,i="1m",r,s){return[e[0],e[1],e[3],e[4],e[2],e[5]]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets(),void 0===r&&(r=100);const a=this.market(e),n={symbol:"t"+a.id,timeframe:this.timeframes[t],sort:1,limit:r};void 0!==i&&(n.start=i);const o=await this.v2GetCandlesTradeTimeframeSymbolHist(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}getCurrencyName(e){if(e in this.options.currencyNames)return this.options.currencyNames[e];throw new s(this.id+" "+e+" not supported for withdrawal")}async createDepositAddress(e,t={}){await this.loadMarkets();const i=await this.fetchDepositAddress(e,this.extend({renew:1},t)),r=this.safeString(i,"address");return this.checkAddress(r),{info:i.info,currency:e,address:r,tag:void 0}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={method:this.getCurrencyName(e),wallet_name:"exchange",renew:0},r=await this.privatePostDepositNew(this.extend(i,t));let s=this.safeValue(r,"address"),a=void 0;return"address_pool"in r&&(a=s,s=r.address_pool),this.checkAddress(s),{currency:e,address:s,tag:a,info:r}}async fetchTransactions(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchTransactions() requires a currency `code` argument");await this.loadMarkets();const s=this.currency(e),a={currency:s.id};void 0!==t&&(a.since=parseInt(t/1e3));const n=await this.privatePostHistoryMovements(this.extend(a,r));return this.parseTransactions(n,s,t,i)}parseTransaction(e,t){let i=this.safeFloat(e,"timestamp_created");void 0!==i&&(i=parseInt(1e3*i));let r=this.safeFloat(e,"timestamp");void 0!==r&&(r=parseInt(1e3*r));const s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=this.safeStringLower(e,"type"),o=this.parseTransactionStatus(this.safeString(e,"status"));let c=this.safeFloat(e,"fee");return void 0!==c&&(c=Math.abs(c)),{info:e,id:this.safeString(e,"id"),txid:this.safeString(e,"txid"),timestamp:i,datetime:this.iso8601(i),address:this.safeString(e,"address"),tag:void 0,type:n,amount:this.safeFloat(e,"amount"),currency:a,status:o,updated:r,fee:{currency:a,cost:c,rate:void 0}}}parseTransactionStatus(e){return this.safeString({SENDING:"pending",CANCELED:"canceled",ZEROCONFIRMED:"failed",COMPLETED:"ok"},e,e)}async withdraw(e,t,i,r,s={}){this.checkAddress(i);const a={withdraw_type:this.getCurrencyName(e),walletselected:"exchange",amount:t.toString(),address:i};void 0!==r&&(a.payment_id=r);const n=(await this.privatePostWithdraw(this.extend(a,s)))[0],o=this.safeString(n,"withdrawal_id"),c=this.safeString(n,"message"),h=this.findBroadlyMatchedKey(this.exceptions.broad,c);if(0===o){if(void 0!==h){throw new(0,this.exceptions.broad[h])(this.id+" "+c)}throw new d(this.id+" withdraw returned an id of zero: "+this.json(n))}return{info:n,id:o}}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r);n="v2"===t?"/"+t+n:"/"+this.version+n;let o=this.omit(r,this.extractParams(e)),c=this.urls.api[t]+n;if(("public"===t||e.indexOf("/hist")>=0)&&Object.keys(o).length){const e="?"+this.urlencode(o);c+=e,n+=e}if("private"===t){this.checkRequiredCredentials();const e=this.nonce();o=this.extend({nonce:e.toString(),request:n},o),a=this.json(o),o=this.encode(a);const t=this.stringToBase64(o),i=this.encode(this.secret),r=this.hmac(t,i,"sha384");s={"X-BFX-APIKEY":this.apiKey,"X-BFX-PAYLOAD":this.decode(t),"X-BFX-SIGNATURE":r}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0!==n&&e>=400&&"{"===a[0]){const e=this.id+" "+a,t=this.safeString2(n,"message","error");throw this.throwExactlyMatchedException(this.exceptions.exact,t,e),this.throwBroadlyMatchedException(this.exceptions.broad,t,e),new d(e)}}}},mdIA:function(e,t,i){"use strict";const r=i("OjXq"),{AddressPending:s,AuthenticationError:a,ExchangeError:n,NotSupported:o,PermissionDenied:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"buda",name:"Buda",countries:["AR","CL","CO","PE"],rateLimit:1e3,version:"v2",has:{CORS:!1,createDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchTrades:!0,fetchWithdrawals:!0,withdraw:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/47380619-8a029200-d706-11e8-91e0-8a391fe48de3.jpg",api:"https://www.buda.com/api",www:"https://www.buda.com",doc:"https://api.buda.com",fees:"https://www.buda.com/comisiones"},status:{status:"error",updated:void 0,eta:void 0,url:void 0},api:{public:{get:["pairs","markets","currencies","markets/{market}","markets/{market}/ticker","markets/{market}/volume","markets/{market}/order_book","markets/{market}/trades","currencies/{currency}/fees/deposit","currencies/{currency}/fees/withdrawal","tv/history"],post:["markets/{market}/quotations"]},private:{get:["balances","balances/{currency}","currencies/{currency}/balances","orders","orders/{id}","markets/{market}/orders","deposits","currencies/{currency}/deposits","withdrawals","currencies/{currency}/withdrawals","currencies/{currency}/receive_addresses","currencies/{currency}/receive_addresses/{id}"],post:["markets/{market}/orders","currencies/{currency}/deposits","currencies/{currency}/withdrawals","currencies/{currency}/simulated_withdrawals","currencies/{currency}/receive_addresses"],put:["orders/{id}"]}},timeframes:{"1m":"1","5m":"5","30m":"30","1h":"60","2h":"120","1d":"D","1w":"W"},fees:{trading:{tierBased:!0,percentage:!0,taker:.008,maker:.004,tiers:{taker:[[0,.008],[2e3,.007],[2e4,.006],[1e5,.005],[5e5,.004],[25e5,.003],[125e5,.002]],maker:[[0,.004],[2e3,.0035],[2e4,.003],[1e5,.0025],[5e5,.002],[25e5,.0015],[125e5,.001]]}}},exceptions:{not_authorized:a,forbidden:c,invalid_record:n,not_found:n,parameter_missing:n,bad_parameter:n}})}async fetchCurrencyInfo(e,t){if(!t){const e=await this.publicGetCurrencies();t=this.safeValue(e,"currencies")}for(let i=0;i<t.length;i++){const r=t[i];if(r.id===e)return r}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=this.safeValue(t,"markets"),r=await this.publicGetCurrencies(),s=this.safeValue(r,"currencies"),a=[];for(let n=0;n<i.length;n++){const e=i[n],t=this.safeString(e,"id"),r=this.safeString(e,"base_currency"),o=this.safeString(e,"quote_currency"),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o),h=await this.fetchCurrencyInfo(r,s),u=await this.fetchCurrencyInfo(o,s),l=c+"/"+d,f={amount:h.input_decimals,price:u.input_decimals},p={amount:{min:parseFloat(e.minimum_order_amount[0]),max:void 0},price:{min:Math.pow(10,-f.price),max:void 0}};p.cost={min:p.amount.min*p.price.min,max:void 0},a.push({id:t,symbol:l,base:c,quote:d,baseId:r,quoteId:o,active:!0,precision:f,limits:p,info:e})}return a}async fetchCurrencies(e={}){const t=(await this.publicGetCurrencies()).currencies,i={};for(let r=0;r<t.length;r++){const e=t[r];if(!e.managed)continue;const s=this.safeString(e,"id"),a=this.safeCurrencyCode(s),n=this.safeFloat(e,"input_decimals"),o=Math.pow(10,-n);i[a]={id:s,code:a,info:e,name:void 0,active:!0,fee:void 0,precision:n,limits:{amount:{min:o,max:void 0},price:{min:o,max:void 0},cost:{min:void 0,max:void 0},deposit:{min:parseFloat(e.deposit_minimum[0]),max:void 0},withdraw:{min:parseFloat(e.withdrawal_minimum[0])}}}}return i}async fetchFundingFees(e,t={}){await this.loadMarkets();const i={},r={},s={};void 0===e&&(e=Object.keys(this.currencies));for(let a=0;a<e.length;a++){const t=e[a],n={currency:this.currency(t).id},o=await this.publicGetCurrenciesCurrencyFeesWithdrawal(n),c=await this.publicGetCurrenciesCurrencyFeesDeposit(n);i[t]=this.parseFundingFee(o.fee),r[t]=this.parseFundingFee(c.fee),s[t]={withdraw:o,deposit:c}}return{withdraw:i,deposit:r,info:s}}parseFundingFee(e,t){return void 0===t&&(t=e.name),"withdrawal"===t&&(t="withdraw"),{type:t,currency:e.base[1],rate:e.percent,cost:parseFloat(e.base[0])}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetMarketsMarketTicker(this.extend(r,t)),a=this.safeValue(s,"ticker");return this.parseTicker(a,i)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=parseFloat(e.last_price[0]),a=parseFloat(e.price_variation_24h),n=parseFloat(this.priceToPrecision(r,s/(a+1))),o=s-n,c=this.sum(s,n)/2;return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:parseFloat(e.max_bid[0]),bidVolume:void 0,ask:parseFloat(e.min_ask[0]),askVolume:void 0,vwap:void 0,open:n,close:s,last:s,previousClose:n,change:o,percentage:100*a,average:c,baseVolume:parseFloat(e.volume[0]),quoteVolume:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketsMarketTrades(this.extend(a,r));return this.parseTrades(n.trades.entries,s,t,i)}parseTrade(e,t){let i=void 0,r=void 0;let s=void 0,a=void 0,n=void 0;let o=void 0,c=void 0;return t&&(o=t.symbol),Array.isArray(e)&&(i=parseInt(e[0]),s=parseFloat(e[1]),a=parseFloat(e[2]),c=s*a,r=e[3],n=e[4].toString()),{id:n,order:void 0,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:r,takerOrMaker:void 0,price:s,amount:a,cost:c,fee:void 0}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id},s=await this.publicGetMarketsMarketOrderBook(this.extend(r,i)),a=this.safeValue(s,"order_book");return this.parseOrderBook(a)}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===i&&(i=this.milliseconds()-864e5);const n={symbol:a.id,resolution:this.timeframes[t],from:i/1e3,to:this.seconds()},o=await this.publicGetTvHistory(this.extend(n,s));return this.parseTradingViewOHLCV(o,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalances(e),i={info:t},r=this.safeValue(t,"balances");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"id"),a=this.safeCurrencyCode(t),n=this.account();n.free=parseFloat(e.available_amount[0]),n.total=parseFloat(e.amount[0]),i[a]=n}return this.parseBalance(i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e)},s=await this.privateGetOrdersId(this.extend(r,i)),a=this.safeValue(s,"order");return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a={market:s.id,per:i},n=await this.privateGetMarketsMarketOrders(this.extend(a,r)),o=this.safeValue(n,"orders");return this.parseOrders(o,s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"pending"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"traded"},r))}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets(),i="buy"===i?"Bid":"Ask";const n={market:this.marketId(e),price_type:t,type:i,amount:this.amountToPrecision(e,r)};"limit"===t&&(n.limit=this.priceToPrecision(e,s));const o=await this.privatePostMarketsMarketOrders(this.extend(n,a)),c=this.safeValue(o,"order");return this.parseOrder(c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:parseInt(e),state:"canceling"},s=await this.privatePutOrdersId(this.extend(r,i)),a=this.safeValue(s,"order");return this.parseOrder(a)}parseOrderStatus(e){return this.safeString({traded:"closed",received:"open",canceling:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at"));let s=void 0;if(void 0===t){const i=e.market_id;i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(s=t.symbol);const a=this.safeString(e,"price_type"),n=this.safeStringLower(e,"type"),o=this.parseOrderStatus(this.safeString(e,"state")),c=parseFloat(e.original_amount[0]),d=parseFloat(e.amount[0]),h=parseFloat(e.traded_amount[0]),u=parseFloat(e.total_exchanged[0]);let l=this.safeFloat(e,"limit");void 0!==l&&(l=parseFloat(l[0])),u>0&&h>0&&(l=this.priceToPrecision(s,u/h));const f={cost:parseFloat(e.paid_fee[0]),currency:e.paid_fee[1]};return{id:i,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:o,symbol:s,type:a,side:n,price:l,cost:u,amount:c,filled:h,remaining:d,trades:void 0,fee:f,info:e}}isFiat(e){return this.safeValue({ARS:!0,CLP:!0,COP:!0,PEN:!0},e,!1)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+" fetchDepositAddress() for fiat "+e+" is not supported");const r={currency:i.id},a=await this.privateGetCurrenciesCurrencyReceiveAddresses(this.extend(r,t)),n=this.safeValue(a,"receive_addresses"),c=[];for(let s=1;s<n.length;s++){const e=n[s];if(e.ready){const t=e.address;this.checkAddress(t),c.push(t)}}if(c.length<1)throw new s(this.id+": there are no addresses ready for receiving "+e+", retry again later)");return{currency:e,address:c[0],tag:void 0,info:n}}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);if(this.isFiat(e))throw new o(this.id+": fiat fetchDepositAddress() for "+e+" is not supported");const r={currency:i.id},s=await this.privatePostCurrenciesCurrencyReceiveAddresses(this.extend(r,t));return{currency:e,address:this.safeString(s.receive_address,"address"),tag:void 0,info:s}}parseTransactionStatus(e){return this.safeString({rejected:"failed",confirmed:"ok",anulled:"canceled",retained:"canceled",pending_confirmation:"pending"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"created_at")),s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s,t),n=parseFloat(e.amount[0]),o=parseFloat(e.fee[0]),c=e.fee[1],d=this.parseTransactionStatus(this.safeString(e,"state")),h="deposit_data"in e?"deposit":"withdrawal",u=this.safeValue(e,h+"_data",{}),l=this.safeValue(u,"target_address"),f=this.safeString(u,"tx_hash"),p=this.parse8601(this.safeString(u,"updated_at"));return{info:e,id:i,txid:f,timestamp:r,datetime:this.iso8601(r),address:l,type:h,amount:n,currency:a,status:d,updated:p,fee:{cost:o,rate:c}}}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new n(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),a={currency:s.id,per:i},o=await this.privateGetCurrenciesCurrencyDeposits(this.extend(a,r)),c=this.safeValue(o,"deposits");return this.parseTransactions(c,s,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new n(this.id+": fetchDeposits() requires a currency code argument");const s=this.currency(e),a={currency:s.id,per:i},o=await this.privateGetCurrenciesCurrencyWithdrawals(this.extend(a,r)),c=this.safeValue(o,"withdrawals");return this.parseTransactions(c,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,withdrawal_data:{target_address:i}},n=await this.privatePostCurrenciesCurrencyWithdrawals(this.extend(a,s)),o=this.safeValue(n,"withdrawal");return this.parseTransaction(o)}nonce(){return this.microseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));Object.keys(o).length&&("GET"===i?n+="?"+this.urlencode(o):a=this.json(o));const c=this.urls.api+"/"+this.version+"/"+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=[i,"/api/"+this.version+"/"+n];if(a){const e=this.stringToBase64(this.encode(a));t.push(this.decode(e))}t.push(e);const r=t.join(" "),o=this.hmac(this.encode(r),this.encode(this.secret),"sha384");s={"X-SBTC-APIKEY":this.apiKey,"X-SBTC-SIGNATURE":o,"X-SBTC-NONCE":e,"Content-Type":"application/json"}}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(void 0!==o&&e>=400){const e=this.safeString(o,"code"),t=this.safeString(o,"message",a),i=this.id+" "+t;if(void 0!==e)throw this.throwExactlyMatchedException(this.exceptions,e,i),new n(i)}}}},n428:function(e,t,i){e.exports=i("hBZP").EventEmitter},"nH+y":function(e,t,i){var r=i("/j+a").keccak256,s=i("0gAC"),a=function(e,t){var i=s.reverse(s.pad(6,s.fromNumber(e))),a=s.flatten([i,"0x0000",t]);return r(a).slice(2)};e.exports=function e(t){"string"===typeof t&&"0x"!==t.slice(0,2)?t=s.fromString(t):"string"!==typeof t&&void 0!==t.length&&(t=s.fromUint8Array(t));var i=s.length(t);if(i<=4096)return a(i,t);for(var r=4096;128*r<i;)r*=128;for(var n=[],o=0;o<i;o+=r){var c=r<i-o?r:i-o;n.push(e(s.slice(t,o,o+c)))}return a(i,s.flatten(n))}},nIf0:function(e,t,i){var r=i("cq1r");e.exports=function(e){return(new r).update(e).digest()}},nUeX:function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s,ExchangeError:a,OrderNotFound:n,AuthenticationError:o,InsufficientFunds:c,InvalidOrder:d,InvalidNonce:h,NotSupported:u,OnMaintenance:l,RateLimitExceeded:f}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"exmo",name:"EXMO",countries:["ES","RU"],rateLimit:350,version:"v1",has:{CORS:!1,fetchClosedOrders:"emulated",fetchDepositAddress:!0,fetchOpenOrders:!0,fetchOrder:"emulated",fetchOrders:"emulated",fetchOrderTrades:!0,fetchOrderBooks:!0,fetchMyTrades:!0,fetchTickers:!0,withdraw:!0,fetchTradingFee:!0,fetchTradingFees:!0,fetchFundingFees:!0,fetchCurrencies:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766491-1b0ea956-5eda-11e7-9225-40d67b481b8d.jpg",api:{public:"https://api.exmo.com",private:"https://api.exmo.com",web:"https://exmo.me"},www:"https://exmo.me",referral:"https://exmo.me/?ref=131685",doc:["https://exmo.me/en/api_doc?ref=131685","https://github.com/exmo-dev/exmo_api_lib/tree/master/nodejs"],fees:"https://exmo.com/en/docs/fees"},api:{web:{get:["ctrl/feesAndLimits","en/docs/fees"]},public:{get:["currency","order_book","pair_settings","ticker","trades"]},private:{post:["user_info","order_create","order_cancel","user_open_orders","user_trades","user_cancelled_orders","order_trades","required_amount","deposit_address","withdraw_crypt","withdraw_get_txid","excode_create","excode_load","wallet_history"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.002,taker:.002},funding:{tierBased:!1,percentage:!1}},options:{useWebapiForFetchingFees:!1,feesAndLimits:{success:1,ctlr:"feesAndLimits",error:"",data:{limits:[{pair:"BTC/USD",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000"},{pair:"BTC/EUR",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"30000",min_a:"1",max_a:"500000"},{pair:"BTC/RUB",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"2000000",min_a:"10",max_a:"50000000"},{pair:"BTC/UAH",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"1500000",min_a:"10",max_a:"15000000"},{pair:"BTC/PLN",min_q:"0.001",max_q:"1000",min_p:"0.001",max_p:"90000",min_a:"1",max_a:"2000000"},{pair:"BTC/TRY",min_q:"0.001",max_q:"1000",min_p:"1",max_p:"800000",min_a:"40",max_a:"6000000"},{pair:"ROOBEE/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"100",min_a:"0.0001",max_a:"10"},{pair:"ROOBEE/ETH",min_q:"1",max_q:"1000000",min_p:"0.000001",max_p:"100",min_a:"0.001",max_a:"100"},{pair:"USDC/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"USDC/ETH",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"100",min_a:"0.001",max_a:"1000"},{pair:"USDC/USD",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000"},{pair:"USDC/USDT",min_q:"1",max_q:"500000",min_p:"0.0001",max_p:"1000",min_a:"3",max_a:"500000"},{pair:"ETZ/BTC",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"10"},{pair:"ETZ/ETH",min_q:"1",max_q:"1000000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"100"},{pair:"ETZ/USDT",min_q:"1",max_q:"1000000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"1000"},{pair:"PTI/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"10"},{pair:"PTI/USDT",min_q:"1",max_q:"10000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000"},{pair:"PTI/EOS",min_q:"1",max_q:"10000000",min_p:"0.0000001",max_p:"5000",min_a:"0.01",max_a:"20000"},{pair:"ATMCASH/BTC",min_q:"10",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"10"},{pair:"TRX/UAH",min_q:"0.01",max_q:"10000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"ETH/TRY",min_q:"0.01",max_q:"5000",min_p:"0.1",max_p:"80000",min_a:"10",max_a:"6000000"},{pair:"XRP/TRY",min_q:"1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"6000000"},{pair:"XLM/TRY",min_q:"0.01",max_q:"200000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"6000000"},{pair:"MNC/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100"},{pair:"MNC/ETH",min_q:"10",max_q:"100000000",min_p:"0.0000001",max_p:"10",min_a:"0.00001",max_a:"1000"},{pair:"MNC/USD",min_q:"10",max_q:"100000000",min_p:"0.000001",max_p:"10000",min_a:"0.01",max_a:"100000"},{pair:"DAI/BTC",min_q:"1",max_q:"500000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"DAI/ETH",min_q:"1",max_q:"500000",min_p:"0.000001",max_p:"10",min_a:"0.0001",max_a:"5000"},{pair:"DAI/USD",min_q:"1",max_q:"500000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"DAI/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"100000",min_a:"0.5",max_a:"30000000"},{pair:"MKR/BTC",min_q:"0.001",max_q:"1000",min_p:"0.0001",max_p:"100",min_a:"0.000001",max_a:"100"},{pair:"MKR/DAI",min_q:"0.001",max_q:"1000",min_p:"0.5",max_p:"500000",min_a:"0.005",max_a:"500000"},{pair:"QTUM/BTC",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"QTUM/ETH",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000"},{pair:"QTUM/USD",min_q:"0.1",max_q:"200000",min_p:"0.00000001",max_p:"10000",min_a:"0.1",max_a:"500000"},{pair:"HB/BTC",min_q:"10",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.000001",max_a:"100"},{pair:"SMART/BTC",min_q:"10",max_q:"10000000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100"},{pair:"SMART/USD",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"SMART/EUR",min_q:"10",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"SMART/RUB",min_q:"10",max_q:"10000000",min_p:"0.000001",max_p:"100000",min_a:"10",max_a:"50000000"},{pair:"XEM/BTC",min_q:"10",max_q:"5000000",min_p:"0.0000001",max_p:"1",min_a:"0.00015",max_a:"100"},{pair:"XEM/USD",min_q:"10",max_q:"5000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"XEM/EUR",min_q:"10",max_q:"5000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"GUSD/BTC",min_q:"1",max_q:"500000",min_p:"0.00000001",max_p:"1",min_a:"0.0015",max_a:"100"},{pair:"GUSD/USD",min_q:"1",max_q:"500000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"GUSD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"LSK/BTC",min_q:"1",max_q:"200000",min_p:"0.0000001",max_p:"1",min_a:"0.0015",max_a:"100"},{pair:"LSK/USD",min_q:"1",max_q:"200000",min_p:"0.1",max_p:"1000",min_a:"1",max_a:"500000"},{pair:"LSK/RUB",min_q:"1",max_q:"200000",min_p:"0.001",max_p:"100000",min_a:"0.5",max_a:"50000000"},{pair:"NEO/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"NEO/USD",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000"},{pair:"NEO/RUB",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1500000",min_a:"50",max_a:"50000000"},{pair:"ADA/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"ADA/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"ADA/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000"},{pair:"ZRX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"ZRX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"GNT/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"GNT/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"TRX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"TRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"TRX/RUB",min_q:"0.01",max_q:"10000000",min_p:"0.000001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"GAS/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"GAS/USD",min_q:"0.01",max_q:"10000000",min_p:"0.01",max_p:"50000",min_a:"0.1",max_a:"500000"},{pair:"INK/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"INK/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"5000"},{pair:"INK/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"MNX/BTC",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"MNX/ETH",min_q:"0.01",max_q:"10000000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"MNX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"OMG/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"OMG/ETH",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"10",min_a:"0.01",max_a:"5000"},{pair:"OMG/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"XLM/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"XLM/USD",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"XLM/RUB",min_q:"0.01",max_q:"200000",min_p:"0.00001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"EOS/BTC",min_q:"0.01",max_q:"100000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"EOS/USD",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"BTG/BTC",min_q:"0.01",max_q:"200000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"BTG/USD",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1000",min_a:"3",max_a:"500000"},{pair:"DXT/BTC",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"DXT/USD",min_q:"100",max_q:"10000000",min_p:"0.0001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTCZ/BTC",min_q:"100",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.1",max_a:"100"},{pair:"BCH/BTC",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"5",min_a:"0.0001",max_a:"100"},{pair:"BCH/USD",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"30000",min_a:"0.0001",max_a:"500000"},{pair:"BCH/RUB",min_q:"0.003",max_q:"10000",min_p:"0.00000001",max_p:"2000000",min_a:"0.0001",max_a:"50000000"},{pair:"BCH/ETH",min_q:"0.003",max_q:"10000",min_p:"0.0000001",max_p:"200",min_a:"0.0001",max_a:"5000"},{pair:"DASH/BTC",min_q:"0.01",max_q:"200000",min_p:"0.001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"DASH/USD",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"DASH/RUB",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000"},{pair:"ETH/BTC",min_q:"0.001",max_q:"5000",min_p:"0.00000001",max_p:"10",min_a:"0.001",max_a:"100"},{pair:"ETH/LTC",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"100000"},{pair:"ETH/USD",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000"},{pair:"ETH/EUR",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"10000",min_a:"1",max_a:"500000"},{pair:"ETH/RUB",min_q:"0.01",max_q:"5000",min_p:"0.001",max_p:"100000",min_a:"1",max_a:"50000000"},{pair:"ETH/UAH",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"1000000",min_a:"90",max_a:"15000000"},{pair:"ETH/PLN",min_q:"0.001",max_q:"5000",min_p:"0.001",max_p:"8000",min_a:"1",max_a:"2000000"},{pair:"ETC/BTC",min_q:"0.2",max_q:"1000",min_p:"0.0001",max_p:"0.5",min_a:"0.001",max_a:"100"},{pair:"ETC/USD",min_q:"0.2",max_q:"1000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"500000"},{pair:"ETC/RUB",min_q:"0.2",max_q:"1000",min_p:"0.01",max_p:"10000",min_a:"0.01",max_a:"50000000"},{pair:"LTC/BTC",min_q:"0.05",max_q:"1000000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"LTC/USD",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"LTC/EUR",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"10000",min_a:"3",max_a:"500000"},{pair:"LTC/RUB",min_q:"0.05",max_q:"1000000",min_p:"0.01",max_p:"100000",min_a:"150",max_a:"50000000"},{pair:"ZEC/BTC",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"10",min_a:"0.001",max_a:"100"},{pair:"ZEC/USD",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000"},{pair:"ZEC/EUR",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"5000",min_a:"0.1",max_a:"500000"},{pair:"ZEC/RUB",min_q:"0.01",max_q:"1000",min_p:"0.001",max_p:"100000",min_a:"0.1",max_a:"50000000"},{pair:"XRP/BTC",min_q:"1",max_q:"100000",min_p:"0.0000001",max_p:"1",min_a:"0.00001",max_a:"100"},{pair:"XRP/USD",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"XRP/RUB",min_q:"1",max_q:"100000",min_p:"0.000001",max_p:"1000",min_a:"0.01",max_a:"50000000"},{pair:"XMR/BTC",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"XMR/USD",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"XMR/EUR",min_q:"0.03",max_q:"1000",min_p:"0.001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTC/USDT",min_q:"0.001",max_q:"1000",min_p:"0.01",max_p:"30000",min_a:"3",max_a:"500000"},{pair:"ETH/USDT",min_q:"0.01",max_q:"5000",min_p:"0.01",max_p:"100000",min_a:"3",max_a:"500000"},{pair:"USDT/USD",min_q:"1",max_q:"500000",min_p:"0.5",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"USDT/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"USD/RUB",min_q:"1",max_q:"500000",min_p:"0.01",max_p:"1000",min_a:"10",max_a:"50000000"},{pair:"DOGE/BTC",min_q:"100",max_q:"100000000",min_p:"0.0000001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"WAVES/BTC",min_q:"0.5",max_q:"10000",min_p:"0.0001",max_p:"1",min_a:"0.0001",max_a:"100"},{pair:"WAVES/RUB",min_q:"0.5",max_q:"10000",min_p:"1",max_p:"10000",min_a:"1",max_a:"50000000"},{pair:"KICK/BTC",min_q:"100",max_q:"10000000",min_p:"0.0000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"KICK/ETH",min_q:"100",max_q:"10000000",min_p:"0.000001",max_p:"1",min_a:"0.0001",max_a:"5000"},{pair:"KICK/USDT",min_q:"100",max_q:"10000000",min_p:"0.00000001",max_p:"1000",min_a:"0.01",max_a:"100000"},{pair:"EOS/EUR",min_q:"0.01",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.5",max_a:"500000"},{pair:"BCH/EUR",min_q:"0.003",max_q:"100000",min_p:"0.01",max_p:"300000",min_a:"3",max_a:"500000"},{pair:"XRP/EUR",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"XRP/UAH",min_q:"1",max_q:"100000",min_p:"0.0001",max_p:"1000",min_a:"0.01",max_a:"15000000"},{pair:"XEM/UAH",min_q:"1",max_q:"5000000",min_p:"0.0001",max_p:"30000",min_a:"10",max_a:"15000000"},{pair:"BCH/USDT",min_q:"0.003",max_q:"100000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000"},{pair:"DASH/USDT",min_q:"0.01",max_q:"100000",min_p:"0.01",max_p:"5000",min_a:"3",max_a:"500000"},{pair:"BCH/UAH",min_q:"0.003",max_q:"100000",min_p:"0.1",max_p:"30000",min_a:"10",max_a:"15000000"},{pair:"XRP/USDT",min_q:"1",max_q:"100000",min_p:"0.001",max_p:"1000",min_a:"0.001",max_a:"500000"},{pair:"USDT/UAH",min_q:"0.01",max_q:"100000",min_p:"1",max_p:"3000",min_a:"2",max_a:"15000000"},{pair:"USDT/EUR",min_q:"0.01",max_q:"100000",min_p:"0.1",max_p:"10",min_a:"0.1",max_a:"500000"},{pair:"ZRX/USD",min_q:"0.01",max_q:"10000000",min_p:"0.00001",max_p:"1000",min_a:"0.1",max_a:"500000"},{pair:"BTG/ETH",min_q:"0.01",max_q:"200000",min_p:"0.0001",max_p:"100",min_a:"0.01",max_a:"5000"},{pair:"WAVES/USD",min_q:"0.5",max_q:"10000",min_p:"0.001",max_p:"3500",min_a:"0.5",max_a:"500000"},{pair:"DOGE/USD",min_q:"100",max_q:"1000000000",min_p:"0.0000001",max_p:"1000",min_a:"0.01",max_a:"500000"},{pair:"XRP/ETH",min_q:"1",max_q:"100000",min_p:"0.00000001",max_p:"10",min_a:"0.00001",max_a:"5000"},{pair:"DASH/UAH",min_q:"0.01",max_q:"200000",min_p:"0.01",max_p:"200000",min_a:"10",max_a:"15000000"},{pair:"XMR/ETH",min_q:"0.03",max_q:"1000",min_p:"0.00000001",max_p:"100",min_a:"0.001",max_a:"5000"},{pair:"WAVES/ETH",min_q:"0.5",max_q:"10000",min_p:"0.00001",max_p:"30",min_a:"0.0035",max_a:"3500"},{pair:"DCR/BTC",min_q:"0.01",max_q:"50000",min_p:"0.00000001",max_p:"1",min_a:"0.001",max_a:"100"},{pair:"DCR/RUB",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.5",max_a:"3000000"},{pair:"DCR/UAH",min_q:"0.01",max_q:"50000",min_p:"0.00001",max_p:"100000",min_a:"0.25",max_a:"1000000"},{pair:"ZAG/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"EXM/BTC",min_q:"1",max_q:"100000000",min_p:"0.00000001",max_p:"1",min_a:"0.0000001",max_a:"100"},{pair:"VLX/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"BTT/BTC",min_q:"1",max_q:"10000000",min_p:"0.00000001",max_p:"0.1",min_a:"0.00001",max_a:"100"},{pair:"BTT/RUB",min_q:"1",max_q:"10000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100"},{pair:"BTT/UAH",min_q:"1",max_q:"10000000",min_p:"0.000001",max_p:"1000",min_a:"0.000001",max_a:"100"}],fees:[{group:"crypto",title:"\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0430",items:[{prov:"EXM",dep:"0%",wd:"1 EXM"},{prov:"BTC",dep:"0%",wd:"0.0005 BTC"},{prov:"LTC",dep:"0%",wd:"0.01 LTC"},{prov:"DOGE",dep:"0%",wd:"1 DOGE"},{prov:"DASH",dep:"0%",wd:"0.01 DASH"},{prov:"ETH",dep:"0%",wd:"0.01 ETH"},{prov:"WAVES",dep:"0%",wd:"0.001 WAVES"},{prov:"ZEC",dep:"0%",wd:"0.001 ZEC"},{prov:"USDT",dep:"0%",wd:"5 USDT"},{prov:"XMR",dep:"0%",wd:"0.05 XMR"},{prov:"XRP",dep:"0%",wd:"0.02 XRP"},{prov:"KICK",dep:"0%",wd:"50 KICK"},{prov:"ETC",dep:"0%",wd:"0.01 ETC"},{prov:"BCH",dep:"0%",wd:"0.001 BCH"},{prov:"BTG",dep:"0%",wd:"0.001 BTG"},{prov:"EOS",dep:"0%",wd:"0.05 EOS"},{prov:"BTCZ",dep:"0%",wd:"5 BTCZ"},{prov:"DXT",dep:"20 DXT",wd:"20 DXT"},{prov:"XLM",dep:"0%",wd:"0.01 XLM"},{prov:"MNX",dep:"0%",wd:"0.01 MNX"},{prov:"OMG",dep:"0.1 OMG",wd:"0.5 OMG"},{prov:"TRX",dep:"0%",wd:"1 TRX"},{prov:"ADA",dep:"0%",wd:"1 ADA"},{prov:"INK",dep:"10 INK",wd:"50 INK"},{prov:"NEO",dep:"0%",wd:"0%"},{prov:"GAS",dep:"0%",wd:"0%"},{prov:"ZRX",dep:"0%",wd:"1 ZRX"},{prov:"GNT",dep:"0%",wd:"1 GNT"},{prov:"GUSD",dep:"0%",wd:"0.5 GUSD"},{prov:"LSK",dep:"0%",wd:"0.1 LSK"},{prov:"XEM",dep:"0%",wd:"5 XEM"},{prov:"SMART",dep:"0%",wd:"0.5 SMART"},{prov:"QTUM",dep:"0%",wd:"0.01 QTUM"},{prov:"HB",dep:"0%",wd:"10 HB"},{prov:"DAI",dep:"0%",wd:"1 DAI"},{prov:"MKR",dep:"0%",wd:"0.005 MKR"},{prov:"MNC",dep:"0%",wd:"15 MNC"},{prov:"PTI",dep:"0%",wd:"10 PTI"},{prov:"ATMCASH",dep:"0%",wd:"5 ATMCASH"},{prov:"ETZ",dep:"0%",wd:"1 ETZ"},{prov:"USDC",dep:"0%",wd:"0.5 USDC"},{prov:"ROOBEE",dep:"0%",wd:"200 ROOBEE"},{prov:"DCR",dep:"0%",wd:"0.01 DCR"},{prov:"ZAG",dep:"0%",wd:"0%"},{prov:"BTT",dep:"0%",wd:"100 BTT"},{prov:"VLX",dep:"0%",wd:"1 VLX"}]},{group:"usd",title:"USD",items:[{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"Perfect Money",dep:"-",wd:"0.5%"},{prov:"AdvCash",dep:"3.45%",wd:"2.95%"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"CryptoCapital",dep:"-",wd:"0.45%"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5%",wd:"-"}]},{group:"eur",title:"EUR",items:[{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"CryptoCapital",dep:"-",wd:"0.45%"},{prov:"AdvCash",dep:"0.45%",wd:"-"},{prov:"Wire Transfer",dep:"6.95 EUR",wd:"-"},{prov:"SEPA",dep:"6.95 EUR",wd:"-"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5%",wd:"-"},{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"rub",title:"RUB",items:[{prov:"Yandex Money",dep:"2.95%",wd:"1.95%"},{prov:"Payeer",dep:"3.95%",wd:"-"},{prov:"AdvCash",dep:"3.95%",wd:"0.95%"},{prov:"Qiwi",dep:"3.95%",wd:"2.95%"},{prov:"Visa/MasterCard",dep:"3.95%",wd:"4.95% + 60 RUB"},{prov:"WebMoney",dep:"-",wd:"3.5%"},{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"pln",title:"PLN",items:[{prov:"CryptoCapital",dep:"-",wd:"0.45%"},{prov:"Visa/MasterCard (Simplex)",dep:"4.5%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"try",title:"TRY",items:[{prov:"QR ile yat\u0131rma",dep:"5.95%",wd:"-"},{prov:"Visa",dep:"3.45%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"}]},{group:"uah",title:"UAH",items:[{prov:"Terminal",dep:"2.6%",wd:"-"},{prov:"EX-CODE",dep:"",wd:"0.2%"},{prov:"AdvCash",dep:"-",wd:"2.95%"},{prov:"Visa/MasterCard",dep:"2.6%",wd:"3.95% + 20 UAH"},{prov:"Enfins",dep:"0%",wd:"1.95%"}]}]}}},exceptions:{exact:{40005:o,40009:h,40015:a,40016:l,40017:o,50052:c,50054:c,50304:n,50173:n,50319:d,50321:d},broad:{"API rate limit exceeded":f}}})}async fetchTradingFees(e={}){if(this.options.useWebapiForFetchingFees){let t=(await this.webGetEnDocsFees(e)).split('<td class="th_fees_2" colspan="2">'),i=t.length;if(2!==i)throw new u(this.id+" fetchTradingFees format has changed");if(t=t[1].split("</td>"),i=t.length,i<2)throw new u(this.id+" fetchTradingFees format has changed");const r=.01*parseFloat(t[0].replace("%",""));return{maker:r,taker:r}}return{maker:this.fees.trading.maker,taker:this.fees.trading.taker}}parseFixedFloatValue(e){if(void 0===e||"-"===e)return;const t=e.indexOf("%")>=0,i=e.split(" ")[0].replace("%",""),r=parseFloat(i);if(r>0&&t)throw new a(this.id+" parseFixedFloatValue detected an unsupported non-zero percentage-based fee "+e);return r}async fetchFundingFees(e={}){let t=void 0;t=this.options.useWebapiForFetchingFees?await this.webGetCtrlFeesAndLimits(e):this.options.feesAndLimits;const i={},r={},s=this.safeValue(t.data,"fees"),a=this.indexBy(s,"group"),n=a.crypto.items;for(let d=0;d<n.length;d++){const e=n[d],t=this.safeCurrencyCode(this.safeString(e,"prov")),s=this.safeString(e,"wd"),a=this.safeString(e,"dep");void 0!==s&&s.length>0&&(i[t]=this.parseFixedFloatValue(s)),void 0!==a&&a.length>0&&(r[t]=this.parseFixedFloatValue(a))}const o=this.toArray(this.omit(a,"crypto"));for(let d=0;d<o.length;d++){const e=this.safeCurrencyCode(this.safeString(o[d],"title"));i[e]=void 0,r[e]=void 0}const c={info:t,withdraw:i,deposit:r};return this.options.fundingFees=c,c}async fetchCurrencies(e={}){const t=await this.fetchFundingFees(e),i=Object.keys(t.withdraw),r=this.indexBy(t.info.data.limits,"pair"),s=Object.keys(r),a={},n={},o={},c={},d={},h={};for(let l=0;l<s.length;l++){const e=s[l],t=r[e],[i,u]=e.split("/"),f=this.safeCurrencyCode(i),p=this.safeCurrencyCode(u),m=this.safeFloat(t,"max_q"),y=this.safeFloat(t,"max_p"),b=this.safeFloat(t,"max_a"),v=this.safeFloat(t,"min_q"),g=this.safeFloat(t,"min_p"),w=this.safeFloat(t,"min_a");a[f]=Math.min(this.safeFloat(a,f,v),v),c[f]=Math.max(this.safeFloat(c,f,m),m),n[p]=Math.min(this.safeFloat(n,p,g),g),o[p]=Math.min(this.safeFloat(o,p,w),w),d[p]=Math.max(this.safeFloat(d,p,y),y),h[p]=Math.max(this.safeFloat(h,p,b),b)}const u={};for(let l=0;l<i.length;l++){const e=i[l],r=this.safeCurrencyCode(e),s=this.safeValue(t.withdraw,r),f=!0;u[r]={id:e,code:r,name:r,active:f,fee:s,precision:8,limits:{amount:{min:this.safeFloat(a,r),max:this.safeFloat(c,r)},price:{min:this.safeFloat(n,r),max:this.safeFloat(d,r)},cost:{min:this.safeFloat(o,r),max:this.safeFloat(h,r)}},info:e}}return u}async fetchMarkets(e={}){const t=await this.fetchTradingFees(),i=await this.publicGetPairSettings(e),r=Object.keys(i),s=[];for(let a=0;a<r.length;a++){const e=r[a],n=i[e],o=e.replace("_","/"),[c,d]=o.split("/"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d);s.push({id:e,symbol:o,base:h,quote:u,baseId:c,quoteId:d,active:!0,taker:t.taker,maker:t.maker,limits:{amount:{min:this.safeFloat(n,"min_quantity"),max:this.safeFloat(n,"max_quantity")},price:{min:this.safeFloat(n,"min_price"),max:this.safeFloat(n,"max_price")},cost:{min:this.safeFloat(n,"min_amount"),max:this.safeFloat(n,"max_amount")}},precision:{amount:8,price:8},info:n})}return s}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserInfo(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currencyId(e),n=this.account();a in t.balances&&(n.free=this.safeFloat(t.balances,a)),a in t.reserved&&(n.used=this.safeFloat(t.reserved,a)),i[e]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={pair:r.id};void 0!==t&&(s.limit=t);const a=await this.publicGetOrderBook(this.extend(s,i)),n=this.safeValue(a,r.id);return this.parseOrderBook(n,void 0,"bid","ask")}async fetchOrderBooks(e,t,i={}){await this.loadMarkets();let r=void 0;if(void 0===e){if(r=this.ids.join(","),r.length>2048){const e=this.ids.length;throw new a(this.id+" has "+e.toString()+" symbols exceeding max URL length, you are required to specify a list of symbols in the first argument to fetchOrderBooks")}}else r=this.marketIds(e),r=r.join(",");const s={pair:r};void 0!==t&&(s.limit=t);const n=await this.publicGetOrderBook(this.extend(s,i)),o={},c=Object.keys(n);for(let a=0;a<c.length;a++){const e=c[a];let t=e;if(e in this.markets_by_id){t=this.markets_by_id[e].symbol}o[t]=this.parseOrderBook(n[e],void 0,"bid","ask")}return o}parseTicker(e,t){const i=this.safeTimestamp(e,"updated");let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy_price"),bidVolume:void 0,ask:this.safeFloat(e,"sell_price"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:this.safeFloat(e,"avg"),baseVolume:this.safeFloat(e,"vol"),quoteVolume:this.safeFloat(e,"vol_curr"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.markets_by_id[e],n=t.symbol,o=i[e];r[n]=this.parseTicker(o,t)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.market(e);return this.parseTicker(i[r.id],r)}parseTrade(e,t){const i=this.safeTimestamp(e,"date");let r=void 0,s=void 0;const n=this.safeString(e,"trade_id"),o=this.safeString(e,"order_id"),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity"),h=this.safeFloat(e,"amount"),u=this.safeString(e,"type");if(void 0!==t){if(s=t.symbol,t.taker!==t.maker)throw new a(this.id+" parseTrade can not deduce proper fee costs, taker and maker fees now differ");"buy"===u&&void 0!==d?r={currency:t.base,cost:d*t.taker,rate:t.taker}:"sell"===u&&void 0!==h&&(r={currency:t.quote,cost:h*t.taker,rate:t.taker})}return{id:n,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,order:o,type:void 0,side:u,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:r}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id},n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,s.id,[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchMyTrades() requires a symbol argument (a single symbol or an array)");await this.loadMarkets();let a=void 0,n=void 0;if(Array.isArray(e)){if(e.length<1)throw new s(this.id+" fetchMyTrades() requires a non-empty symbol array");a=this.marketIds(e).join(",")}else n=this.market(e),a=n.id;const o={pair:a};void 0!==i&&(o.limit=i);const c=await this.privatePostUserTrades(this.extend(o,r));let d=[];const h=Object.keys(c);for(let s=0;s<h.length;s++){const e=h[s];let r=void 0;if(e in this.markets_by_id)n=this.markets_by_id[e],r=n.symbol;else{const[t,i]=e.split("_");r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}const a=c[e],o=this.parseTrades(a,n,t,i,{symbol:r});d=this.arrayConcat(d,o)}return this.filterBySinceLimit(d,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n="market"===t?t+"_":"";"market"===t&&void 0===s&&(s=0);const o={pair:this.market(e).id,quantity:this.amountToPrecision(e,r),type:n+i,price:this.priceToPrecision(e,s)},c=await this.privatePostOrderCreate(this.extend(o,a)),d=this.safeString(c,"order_id"),h=this.milliseconds();r=parseFloat(r),s=parseFloat(s);const u={id:d,info:c,timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:void 0,status:"open",symbol:e,type:t,side:i,price:s,cost:s*r,amount:r,remaining:r,filled:0,fee:void 0,trades:void 0};return this.orders[d]=u,u}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privatePostOrderCancel(this.extend(r,i));return e in this.orders&&(this.orders[e].status="canceled"),s}async fetchOrder(e,t,i={}){await this.loadMarkets();try{const t={order_id:e.toString()},r=await this.privatePostOrderTrades(this.extend(t,i)),s=this.parseOrder(r);return this.extend(s,{id:e.toString()})}catch(r){if(r instanceof n&&e in this.orders)return this.orders[e]}throw new n(this.id+" fetchOrder order id "+e.toString()+" not found in cache.")}async fetchOrderTrades(e,t,i,r,s={}){let a=void 0;void 0!==t&&(a=this.market(t));const n={order_id:e.toString()},o=await this.privatePostOrderTrades(this.extend(n,s)),c=this.safeValue(o,"trades");return this.parseTrades(c,a,i,r)}updateCachedOrders(e,t){for(let s=0;s<e.length;s++){const t=e[s].id;this.orders[t]=e[s]}const i=this.indexBy(e,"id"),r=Object.keys(this.orders);for(let s=0;s<r.length;s++){const e=r[s];let a=this.orders[e];if(!(e in i)){if(void 0!==t&&t!==a.symbol)continue;"open"===a.status&&(a=this.extend(a,{status:"closed",cost:void 0,filled:a.amount,remaining:0}),void 0===a.cost&&void 0!==a.filled&&(a.cost=a.filled*a.price),this.orders[e]=a)}}return this.toArray(this.orders)}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privatePostUserOpenOrders(r),a=Object.keys(s);let n=[];for(let o=0;o<a.length;o++){const e=a[o];let t=void 0;e in this.markets_by_id&&(t=this.markets_by_id[e]);const i=this.parseOrders(s[e],t);n=this.arrayConcat(n,i)}return this.updateCachedOrders(n,e),this.filterBySymbolSinceLimit(this.toArray(this.orders),e,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.fetchOrders(e,t,i,r);const s=this.filterBy(this.orders,"status","open");return this.filterBySymbolSinceLimit(s,e,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.fetchOrders(e,t,i,r);const s=this.filterBy(this.orders,"status","closed");return this.filterBySymbolSinceLimit(s,e,t,i)}parseOrder(e,t){let i=this.safeString(e,"order_id"),r=this.safeTimestamp(e,"created"),s=void 0;const a=this.safeString(e,"type");if(void 0===t){let i=void 0;"pair"in e?i=e.pair:"in_currency"in e&&"out_currency"in e&&(i="buy"===a?e.in_currency+"_"+e.out_currency:e.out_currency+"_"+e.in_currency),void 0!==i&&i in this.markets_by_id&&(t=this.markets_by_id[i])}let n=this.safeFloat(e,"quantity");if(void 0===n){const t="buy"===a?"in_amount":"out_amount";n=this.safeFloat(e,t)}let o=this.safeFloat(e,"price"),c=this.safeFloat(e,"amount"),d=0;const h=[],u=this.safeValue(e,"trades",[]);let l=void 0,f=void 0,p=void 0;const m=u.length;if(m>0){l=0;for(let e=0;e<m;e++){const s=this.parseTrade(u[e],t);void 0===i&&(i=s.order),void 0===r&&(r=s.timestamp),r>s.timestamp&&(r=s.timestamp),d=this.sum(d,s.amount),l=this.sum(l,s.fee.cost),h.push(s)}f=h[m-1].timestamp}let y=void 0;void 0!==n&&(y=n-d);let b=this.safeString(e,"status");b=d>=n?"closed":"open",void 0===t&&(t=this.getMarketFromTrades(h));let v=void 0;void 0!==t&&(s=t.symbol,v=t.quote),void 0===c?void 0!==o&&(c=o*d):d>0&&(void 0===p&&(p=c/d),void 0===o&&(o=c/d));const g={cost:l,currency:v};return{id:i,datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:f,status:b,symbol:s,type:"limit",side:a,price:o,cost:c,amount:n,filled:d,remaining:y,average:p,trades:h,fee:g,info:e}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=await this.privatePostDepositAddress(t),r=this.safeString(i,e);let s=void 0,a=void 0;if(r){const e=r.split(",");s=e[0],e.length>1&&(a=e[1])}return this.checkAddress(s),{currency:e,address:s,tag:a,info:i}}getMarketFromTrades(e){const t=this.indexBy(e,"pair"),i=Object.keys(t);if(1===i.length)return this.markets[i[0]]}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e],c=o[a];let d=parseFloat(this.costToPrecision(e,r*c)),h="quote";return"sell"===i?d*=s:h="base",{type:a,currency:o[h],rate:c,cost:parseFloat(this.feeToPrecision(e,d))}}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const a={amount:t,currency:this.currency(e).id,address:i};void 0!==r&&(a.invoice=r);const n=await this.privatePostWithdrawCrypt(this.extend(a,s));return{info:n,id:n.task_id}}parseTransactionStatus(e){return this.safeString({transferred:"ok",paid:"ok",pending:"pending",processing:"pending"},e,e)}parseTransaction(e,t){const i=this.safeTimestamp(e,"dt");let r=this.safeFloat(e,"amount");void 0!==r&&(r=Math.abs(r));const s=this.parseTransactionStatus(this.safeString(e,"status")),a=this.safeString(e,"txid"),n=this.safeString(e,"type"),o=this.safeString(e,"curr"),c=this.safeCurrencyCode(o,t);let d=this.safeString(e,"account");if(void 0!==d){const e=d.split(":");2===e.length&&(d=e[1].replace(" ",""))}let h=void 0;if(!this.fees.funding.percentage){const t="withdrawal"===n?"withdraw":"deposit";let i=this.safeFloat(this.options.fundingFees[t],c);"cashback"===this.safeString(e,"provider")&&(i=0),void 0!==i&&("withdrawal"===n&&(r-=i),h={cost:i,currency:c,rate:void 0})}return{info:e,id:void 0,currency:c,amount:r,address:d,tag:void 0,status:s,type:n,updated:void 0,txid:a,timestamp:i,datetime:this.iso8601(i),fee:h}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.date=parseInt(t/1e3));let a=void 0;void 0!==e&&(a=this.currency(e));const n=await this.privatePostWalletHistory(this.extend(s,r));return this.parseTransactions(n.history,a,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/";if("web"!==t&&(n+=this.version+"/"),n+=e,"public"===t||"web"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},r)),s={"Content-Type":"application/x-www-form-urlencoded",Key:this.apiKey,Sign:this.hmac(this.encode(a),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o&&"result"in o){let e=this.safeValue(o,"result",!1);if("string"===typeof e&&(e="true"===e||"1"===e),!e){let e=void 0;const t=this.safeString(o,"error"),i=t.split(":");if(i.length>1){const t=i[0].split(" ");e=t.length>1?t[1]:t[0]}const r=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,e,r),this.throwBroadlyMatchedException(this.exceptions.broad,t,r),new a(r)}}}}},nWOd:function(e,t,i){var r=i("wfEq"),s=i("yD7y"),a=i("KSsY"),n=i("pRMk").Buffer,o=new Array(64);function c(){this.init(),this._w=o,a.call(this,64,56)}r(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=n.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},nfnL:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},njSN:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,InvalidAddress:a,InsufficientFunds:n,InvalidNonce:o,InvalidOrder:c,OrderNotFound:d,PermissionDenied:h}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"cobinhood",name:"COBINHOOD",countries:["TW"],rateLimit:100,version:"v1",has:{fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchOrderTrades:!0,fetchOrder:!0,fetchDepositAddress:!0,createDepositAddress:!0,fetchDeposits:!0,fetchWithdrawals:!0,withdraw:!0,fetchMyTrades:!0,editOrder:!0},requiredCredentials:{apiKey:!0,secret:!1},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","3h":"3h","6h":"6h","12h":"12h","1d":"1D","1w":"7D","2w":"14D","1M":"1M"},urls:{referral:"https://cobinhood.com?referrerId=a9d57842-99bb-4d7c-b668-0479a15a458b",logo:"https://user-images.githubusercontent.com/1294454/35755576-dee02e5c-0878-11e8-989f-1595d80ba47f.jpg",api:"https://api.cobinhood.com",www:"https://cobinhood.com",doc:"https://cobinhood.github.io/api-public"},api:{system:{get:["info","time","messages","messages/{message_id}"]},admin:{get:["system/messages","system/messages/{message_id}"],post:["system/messages"],patch:["system/messages/{message_id}"],delete:["system/messages/{message_id}"]},public:{get:["market/fundingbook/precisions/{currency_id}","market/fundingbooks/{currency_id}","market/tickers","market/currencies","market/quote_currencies","market/trading_pairs","market/orderbook/precisions/{trading_pair_id}","market/orderbooks/{trading_pair_id}","market/stats","market/tickers","market/tickers/{trading_pair_id}","market/trades/{trading_pair_id}","market/trades_history/{trading_pair_id}","market/trading_pairs","chart/candles/{trading_pair_id}","system/time"]},private:{get:["funding/auto_offerings","funding/auto_offerings/{currency_id}","funding/funding_history","funding/fundings","funding/loans","funding/loans/{loan_id}","trading/orders/{order_id}","trading/orders/{order_id}/trades","trading/orders","trading/order_history","trading/positions","trading/positions/{trading_pair_id}","trading/positions/{trading_pair_id}/claimable_size","trading/trades","trading/trades/{trade_id}","trading/volume","wallet/balances","wallet/ledger","wallet/limits/withdrawal","wallet/generic_deposits","wallet/generic_deposits/{generic_deposit_id}","wallet/generic_withdrawals","wallet/generic_withdrawals/{generic_withdrawal_id}","wallet/deposit_addresses","wallet/deposit_addresses/iota","wallet/withdrawal_addresses","wallet/withdrawal_frozen","wallet/withdrawals/{withdrawal_id}","wallet/withdrawals","wallet/deposits/{deposit_id}","wallet/deposits"],patch:["trading/positions/{trading_pair_id}"],post:["funding/auto_offerings","funding/fundings","trading/check_order","trading/orders","wallet/deposit_addresses","wallet/transfer","wallet/withdrawal_addresses","wallet/withdrawals","wallet/withdrawals/fee"],put:["funding/fundings/{funding_id}","trading/orders/{order_id}"],delete:["funding/auto_offerings/{currency_id}","funding/fundings/{funding_id}","funding/loans/{loan_id}","trading/orders/{order_id}","trading/positions/{trading_pair_id}","wallet/generic_withdrawals/{generic_withdrawal_id}","wallet/withdrawal_addresses/{wallet_id}"]}},fees:{trading:{maker:0,taker:0}},precision:{amount:8,price:8},exceptions:{insufficient_balance:n,invalid_order_size:c,invalid_nonce:o,unauthorized_scope:h,invalid_address:a,parameter_error:d},commonCurrencies:{SMT:"SocialMedia.Market",MTN:"Motion Token"}})}async fetchCurrencies(e={}){const t=(await this.publicGetMarketCurrencies(e)).result.currencies,i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeString(e,"name"),n=this.safeCurrencyCode(s),o=this.safeFloat(e,"min_unit");i[n]={id:s,code:n,name:a,active:!0,fiat:!1,precision:this.precisionFromString(e.min_unit),limits:{amount:{min:o,max:void 0},price:{min:o,max:void 0},deposit:{min:o,max:void 0},withdraw:{min:o,max:void 0}},funding:{withdraw:{fee:this.safeFloat(e,"withdrawal_fee")},deposit:{fee:this.safeFloat(e,"deposit_fee")}},info:e}}return i}async fetchMarkets(e={}){const t=await this.publicGetMarketTradingPairs(e),i=this.safeValue(t.result,"trading_pairs"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"id"),[a,n]=t.split("-"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h={amount:8,price:this.precisionFromString(e.quote_increment)},u=this.safeValue(e,"is_active",!0);r.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:u,precision:h,limits:{amount:{min:this.safeFloat(e,"base_min_size"),max:this.safeFloat(e,"base_max_size")},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}},info:e})}return r}parseTicker(e,t){let i=void 0;if(void 0===t){const r=this.safeString(e,"trading_pair_id");if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"timestamp"),s=this.safeFloat(e,"last_trade_price");return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"24h_high"),low:this.safeFloat(e,"24h_low"),bid:this.safeFloat(e,"highest_bid"),bidVolume:void 0,ask:this.safeFloat(e,"lowest_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"percentChanged24hr"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"24h_volume"),quoteVolume:this.safeFloat(e,"quote_volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={trading_pair_id:i.id},s=await this.publicGetMarketTickersTradingPairId(this.extend(r,t)),a=this.safeValue(s.result,"ticker");return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketTickers(t),r=this.safeValue(i.result,"tickers"),s=[];for(let a=0;a<r.length;a++)s.push(this.parseTicker(r[a]));return this.indexBy(s,"symbol")}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={trading_pair_id:this.marketId(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetMarketOrderbooksTradingPairId(this.extend(r,i));return this.parseOrderBook(s.result.orderbook,void 0,"bids","asks",0,2)}parseTrade(e,t){let i=void 0;t&&(i=t.symbol);const r=this.safeInteger(e,"timestamp"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"size");let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);const o=this.safeString(e,"id");return{info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,id:o,order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i=50,r={}){await this.loadMarkets();const s=this.market(e),a={trading_pair_id:s.id,limit:i},n=await this.publicGetMarketTradesTradingPairId(this.extend(a,r)),o=this.safeValue(n.result,"trades");return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="5m",r,s){return[e.timestamp,parseFloat(e.open),parseFloat(e.high),parseFloat(e.low),parseFloat(e.close),parseFloat(e.volume)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n=this.milliseconds(),o={trading_pair_id:a.id,timeframe:this.timeframes[t],end_time:n};void 0!==i&&(o.start_time=i);const c=await this.publicGetChartCandlesTradingPairId(this.extend(o,s)),d=this.safeValue(c.result,"candles");return this.parseOHLCVs(d,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetWalletBalances(e),i={info:t},r=this.safeValue(t.result,"balances");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.used=this.safeFloat(e,"on_order"),n.total=this.safeFloat(e,"total"),i[a]=n}return this.parseBalance(i)}parseOrderStatus(e){return this.safeString({filled:"closed",rejected:"closed",partially_filled:"open",pending_cancellation:"open",pending_modification:"open",open:"open",new:"open",queued:"open",cancelled:"canceled",triggered:"triggered"},e,e)}parseOrder(e,t){let i=void 0;if(void 0===t){const i=this.safeString2(e,"trading_pair","trading_pair_id");t=this.safeValue(this.markets_by_id,i)}void 0!==t&&(i=t.symbol);const r=this.safeInteger(e,"timestamp"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"eq_price"),n=this.safeFloat(e,"size"),o=this.safeFloat(e,"filled");let c=void 0,d=void 0;void 0!==o&&void 0!==a?d=a*o:void 0!==a&&(d=a*n),void 0!==n&&void 0!==o&&(c=n-o);const h=this.parseOrderStatus(this.safeString(e,"state"));let u=this.safeString(e,"side");return"bid"===u?u="buy":"ask"===u&&(u="sell"),{id:this.safeString(e,"id"),datetime:this.iso8601(r),timestamp:r,lastTradeTimestamp:void 0,status:h,symbol:i,type:this.safeString(e,"type"),side:u,price:s,cost:d,average:a,amount:n,filled:o,remaining:c,trades:void 0,fee:void 0,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);i="sell"===i?"ask":"bid";const o={trading_pair_id:n.id,type:t,side:i,size:this.amountToPrecision(e,r)};"market"!==t&&(o.price=this.priceToPrecision(e,s));const c=await this.privatePostTradingOrders(this.extend(o,a)),d=this.parseOrder(c.result.order,n),h=d.id;return this.orders[h]=d,d}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={order_id:e,price:this.priceToPrecision(t,a),size:this.amountToPrecision(t,s)},c=await this.privatePutTradingOrdersOrderId(this.extend(o,n));return this.parseOrder(this.extend(c,{id:e}))}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.privateDeleteTradingOrdersOrderId(this.extend(r,i));return this.parseOrder(this.extend(s,{id:e}))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e.toString()},s=await this.privateGetTradingOrdersOrderId(this.extend(r,i));return this.parseOrder(s.result.order)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s=await this.privateGetTradingOrders(r),a=this.parseOrders(s.result.orders,void 0,t,i);return void 0!==e?this.filterBySymbolSinceLimit(a,e,t,i):this.filterBySinceLimit(a,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.trading_pair_id=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetTradingOrderHistory(this.extend(s,r)),o=this.parseOrders(n.result.orders,a,t,i);return void 0!==e?this.filterBySymbolSinceLimit(o,e,t,i):this.filterBySinceLimit(o,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();const a={order_id:e},n=await this.privateGetTradingOrdersOrderIdTrades(this.extend(a,s)),o=void 0===t?void 0:this.market(t);return this.parseTrades(n.result.trades,o)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={};void 0!==e&&(a.trading_pair_id=s.id);const n=await this.privateGetTradingTrades(this.extend(a,r));return this.parseTrades(n.result.trades,s,t,i)}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r=this.safeString(t,"ledger_type","exchange"),s={currency:i.id,ledger_type:r},a=await this.privatePostWalletDepositAddresses(this.extend(s,t)),n=this.safeString(a.result.deposit_address,"address"),o=this.safeString(a.result.deposit_address,"memo");return this.checkAddress(n),{currency:e,address:n,tag:o,info:a}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetWalletDepositAddresses(this.extend(i,t)),s=this.safeValue(r.result,"deposit_addresses",[]);let a=void 0,n=void 0;return s.length>0&&(a=this.safeString(s[0],"address"),n=this.safeString2(s[0],"memo","tag")),this.checkAddress(a),{currency:e,address:a,tag:n,info:r}}async withdraw(e,t,i,r,s={}){await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i};return void 0!==r&&(a.memo=r),{id:void 0,info:await this.privatePostWalletWithdrawals(this.extend(a,s))}}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new s(this.id+" fetchDeposits() requires a currency code argument");const a=this.currency(e),n={currency:a.id},o=await this.privateGetWalletDeposits(this.extend(n,r));return this.parseTransactions(o.result.deposits,a)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new s(this.id+" fetchWithdrawals() requires a currency code argument");const a=this.currency(e),n={currency:a.id},o=await this.privateGetWalletWithdrawals(this.extend(n,r));return this.parseTransactions(o.result.withdrawals,a)}parseTransactionStatus(e){return this.safeString({tx_pending_two_factor_auth:"pending",tx_pending_email_auth:"pending",tx_pending_approval:"pending",tx_approved:"pending",tx_processing:"pending",tx_pending:"pending",tx_sent:"pending",tx_cancelled:"canceled",tx_timeout:"failed",tx_invalid:"failed",tx_rejected:"failed",tx_confirmed:"ok"},e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"created_at"),r=this.safeString(e,"currency"),s=this.safeCurrencyCode(r,t);let a=void 0;const n=this.safeString(e,"withdrawal_id"),o=this.safeString(e,"deposit_id");let c=void 0,d=void 0;void 0!==n?(c="withdrawal",a=n,d=this.safeString(e,"to_address")):void 0!==o&&(c="deposit",a=o,d=this.safeString(e,"from_address"));const h=this.safeValue(e,"additional_info",{}),u=this.safeString(h,"memo");return{info:e,id:a,txid:this.safeString(e,"txhash"),timestamp:i,datetime:this.iso8601(i),address:d,tag:u,type:c,amount:this.safeFloat(e,"amount"),currency:s,status:this.parseTransactionStatus(e.status),updated:void 0,fee:{cost:this.safeFloat(e,"fee"),rate:void 0}}}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));return s={},"private"===t&&(this.checkRequiredCredentials(),s.nonce=this.nonce().toString(),s.Authorization=this.apiKey),"GET"===i?(o=this.urlencode(o),o.length&&(n+="?"+o)):(s["Content-type"]="application/json; charset=UTF-8",a=this.json(o)),{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,d,h){if(e<400||e>=600)return;if("{"!==n[0])throw new s(this.id+" "+n);const u=this.id+" "+this.json(o),l=this.safeValue(o.error,"error_code");if(("DELETE"===r||"GET"===r)&&"parameter_error"===l&&i.indexOf("trading/orders/")>=0)throw new c(u);throw this.throwExactlyMatchedException(this.exceptions,l,u),new s(u)}nonce(){return this.milliseconds()}}},nrnY:function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,i("qykS").Buffer)},o3UF:function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,r=i.eval,s=i.execScript;!r&&s&&(s.call(i,"null"),r=i.eval),forEach(Object_keys(e),(function(t){i[t]=e[t]})),forEach(globals,(function(t){e[t]&&(i[t]=e[t])}));var a=Object_keys(i),n=r.call(i,this.code);return forEach(Object_keys(i),(function(t){(t in e||-1===indexOf(a,t))&&(e[t]=i[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,i[t])})),document.body.removeChild(t),n},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),i=this.runInContext(t);return e&&forEach(Object_keys(t),(function(i){e[i]=t[i]})),i},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(i){t[i]=e[i]})),t}},o4e8:function(e,t,i){"use strict";(function(t,r){var s=i("PoH+"),a=i("RmdU"),n=i("9eKw"),o=i("3SwJ"),c=i("T0UR"),d=i("lxb6"),h=i("DYCR"),u=i("sMSM"),l=i("9dER"),f=i("i7Kv"),p=i("Y8lO"),m=i("WZyW"),y=i("/mWR"),b=i("UNxl").Transaction,v=i("6taF").default,g=function(e){return s.isUndefined(e)||s.isNull(e)},w=function(){var e=this;a.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var t=[new n({name:"getNetworkId",call:"net_version",params:0,outputFormatter:parseInt}),new n({name:"getChainId",call:"eth_chainId",params:0,outputFormatter:m.hexToNumber}),new n({name:"getGasPrice",call:"eth_gasPrice",params:0}),new n({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(e){if(m.isAddress(e))return e;throw new Error("Address "+e+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]})];this._ethereumCall={},s.each(t,(function(t){t.attachToObject(e._ethereumCall),t.setRequestManager(e._requestManager)})),this.wallet=new k(this)};function k(e){this._accounts=e,this.length=0,this.defaultKeyName="web3js_wallet"}w.prototype._addAccountFunctions=function(e){var t=this;return e.signTransaction=function(i,r){return t.signTransaction(i,e.privateKey,r)},e.sign=function(i){return t.sign(i,e.privateKey)},e.encrypt=function(i,r){return t.encrypt(e.privateKey,i,r)},e},w.prototype.create=function(e){return this._addAccountFunctions(c.create(e||m.randomHex(32)))},w.prototype.privateKeyToAccount=function(e){return this._addAccountFunctions(c.fromPrivate(e))},w.prototype.signTransaction=function(e,t,i){var a=!1,n={},c=!(!e||!(e.chain&&e.hardfork||e.common));if(i=i||function(){},!e)return a=new Error("No transaction object given!"),i(a),o.reject(a);function d(e){if(e.common&&e.chain&&e.hardfork&&(a=new Error("Please provide the ethereumjs-common object or the chain and hardfork property but not all together.")),(e.chain&&!e.hardfork||e.hardfork&&!e.chain)&&(a=new Error('When specifying chain and hardfork, both values must be defined. Received "chain": '+e.chain+', "hardfork": '+e.hardfork)),e.gas||e.gasLimit||(a=new Error('"gas" is missing')),(e.nonce<0||e.gas<0||e.gasPrice<0||e.chainId<0)&&(a=new Error("Gas, gasPrice, nonce or chainId is lower than 0")),a)return i(a),o.reject(a);try{var d=y.formatters.inputCallFormatter(s.clone(e));d.to=d.to||"0x",d.data=d.data||"0x",d.value=d.value||"0x",d.chainId=m.numberToHex(d.chainId),c?(d.common&&(n.common=v.forCustomChain(d.common.baseChain||"mainnet",{name:d.common.customChain.name||"custom-network",networkId:d.common.customChain.networkId,chainId:d.common.customChain.chainId},d.common.hardfork||"petersburg"),delete d.common),d.chain&&(n.chain=d.chain,delete d.chain),d.hardfork&&(n.hardfork=d.hardfork,delete d.hardfork)):(n.common=v.forCustomChain("mainnet",{name:"custom-network",networkId:d.networkId,chainId:d.chainId},"petersburg"),delete d.networkId),t.startsWith("0x")&&(t=t.substring(2));var h=new b(d,n);h.sign(r.from(t,"hex"));var u=h.validate(!0);if(""!==u)throw new Error("Signer Error: "+u);var l="0x"+h.serialize().toString("hex"),f=m.keccak256(l),p={messageHash:"0x"+r.from(h.hash(!1)).toString("hex"),v:"0x"+r.from(h.v).toString("hex"),r:"0x"+r.from(h.r).toString("hex"),s:"0x"+r.from(h.s).toString("hex"),rawTransaction:l,transactionHash:f};return i(null,p),p}catch(g){return i(g),o.reject(g)}}return void 0!==e.nonce&&void 0!==e.chainId&&void 0!==e.gasPrice&&c?o.resolve(d(e)):o.all([g(e.chainId)?this._ethereumCall.getChainId():e.chainId,g(e.gasPrice)?this._ethereumCall.getGasPrice():e.gasPrice,g(e.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(t).address):e.nonce,g(c)?this._ethereumCall.getNetworkId():1]).then((function(t){if(g(t[0])||g(t[1])||g(t[2])||g(t[3]))throw new Error('One of the values "chainId", "networkId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(t));return d(s.extend(e,{chainId:t[0],gasPrice:t[1],nonce:t[2],networkId:t[3]}))}))},w.prototype.recoverTransaction=function(e){var t=h.decode(e),i=c.encodeSignature(t.slice(6,9)),r=u.toNumber(t[6]),s=r<35?[]:[u.fromNumber(r-35>>1),"0x","0x"],a=t.slice(0,6).concat(s),n=h.encode(a);return c.recover(d.keccak256(n),i)},w.prototype.hashMessage=function(e){var t=m.isHexStrict(e)?m.hexToBytes(e):e,i=r.from(t),s="\x19Ethereum Signed Message:\n"+t.length,a=r.from(s),n=r.concat([a,i]);return d.keccak256s(n)},w.prototype.sign=function(e,t){var i=this.hashMessage(e),r=c.sign(i,t),s=c.decodeSignature(r);return{message:e,messageHash:i,v:s[0],r:s[1],s:s[2],signature:r}},w.prototype.recover=function(e,t,i){var r=[].slice.apply(arguments);return s.isObject(e)?this.recover(e.messageHash,c.encodeSignature([e.v,e.r,e.s]),!0):(i||(e=this.hashMessage(e)),r.length>=4?(i=r.slice(-1)[0],i=!!s.isBoolean(i)&&!!i,this.recover(e,c.encodeSignature(r.slice(1,4)),i)):c.recover(e,t))},w.prototype.decrypt=function(e,t,i){if(!s.isString(t))throw new Error("No password given.");var a,n,o=s.isObject(e)?e:JSON.parse(i?e.toLowerCase():e);if(3!==o.version)throw new Error("Not a valid V3 wallet");if("scrypt"===o.crypto.kdf)n=o.crypto.kdfparams,a=f(r.from(t),r.from(n.salt,"hex"),n.n,n.r,n.p,n.dklen);else{if("pbkdf2"!==o.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(n=o.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");a=l.pbkdf2Sync(r.from(t),r.from(n.salt,"hex"),n.c,n.dklen,"sha256")}var c=r.from(o.crypto.ciphertext,"hex");if(m.sha3(r.concat([a.slice(16,32),c])).replace("0x","")!==o.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var d=l.createDecipheriv(o.crypto.cipher,a.slice(0,16),r.from(o.crypto.cipherparams.iv,"hex")),h="0x"+r.concat([d.update(c),d.final()]).toString("hex");return this.privateKeyToAccount(h)},w.prototype.encrypt=function(e,t,i){var s,a=this.privateKeyToAccount(e),n=(i=i||{}).salt||l.randomBytes(32),o=i.iv||l.randomBytes(16),c=i.kdf||"scrypt",d={dklen:i.dklen||32,salt:n.toString("hex")};if("pbkdf2"===c)d.c=i.c||262144,d.prf="hmac-sha256",s=l.pbkdf2Sync(r.from(t),r.from(d.salt,"hex"),d.c,d.dklen,"sha256");else{if("scrypt"!==c)throw new Error("Unsupported kdf");d.n=i.n||8192,d.r=i.r||8,d.p=i.p||1,s=f(r.from(t),r.from(d.salt,"hex"),d.n,d.r,d.p,d.dklen)}var h=l.createCipheriv(i.cipher||"aes-128-ctr",s.slice(0,16),o);if(!h)throw new Error("Unsupported cipher");var u=r.concat([h.update(r.from(a.privateKey.replace("0x",""),"hex")),h.final()]),y=m.sha3(r.concat([s.slice(16,32),r.from(u,"hex")])).replace("0x","");return{version:3,id:p.v4({random:i.uuid||l.randomBytes(16)}),address:a.address.toLowerCase().replace("0x",""),crypto:{ciphertext:u.toString("hex"),cipherparams:{iv:o.toString("hex")},cipher:i.cipher||"aes-128-ctr",kdf:c,kdfparams:d,mac:y.toString("hex")}}},k.prototype._findSafeIndex=function(e){return e=e||0,s.has(this,e)?this._findSafeIndex(e+1):e},k.prototype._currentIndexes=function(){return Object.keys(this).map((function(e){return parseInt(e)})).filter((function(e){return e<9e20}))},k.prototype.create=function(e,t){for(var i=0;i<e;++i)this.add(this._accounts.create(t).privateKey);return this},k.prototype.add=function(e){return s.isString(e)&&(e=this._accounts.privateKeyToAccount(e)),this[e.address]?this[e.address]:((e=this._accounts.privateKeyToAccount(e.privateKey)).index=this._findSafeIndex(),this[e.index]=e,this[e.address]=e,this[e.address.toLowerCase()]=e,this.length++,e)},k.prototype.remove=function(e){var t=this[e];return!(!t||!t.address)&&(this[t.address].privateKey=null,delete this[t.address],this[t.address.toLowerCase()].privateKey=null,delete this[t.address.toLowerCase()],this[t.index].privateKey=null,delete this[t.index],this.length--,!0)},k.prototype.clear=function(){var e=this;return this._currentIndexes().forEach((function(t){e.remove(t)})),this},k.prototype.encrypt=function(e,t){var i=this;return this._currentIndexes().map((function(r){return i[r].encrypt(e,t)}))},k.prototype.decrypt=function(e,t){var i=this;return e.forEach((function(e){var r=i._accounts.decrypt(e,t);if(!r)throw new Error("Couldn't decrypt accounts. Password wrong?");i.add(r)})),this},k.prototype.save=function(e,t){return localStorage.setItem(t||this.defaultKeyName,JSON.stringify(this.encrypt(e))),!0},k.prototype.load=function(e,t){var i=localStorage.getItem(t||this.defaultKeyName);if(i)try{i=JSON.parse(i)}catch(r){}return this.decrypt(i||[],e)},function(e){var t;try{t=window[e];var i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(r){return r&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&t&&0!==t.length}}("localStorage")||(delete k.prototype.save,delete k.prototype.load),e.exports=w}).call(this,i("pCvA"),i("qykS").Buffer)},oAua:function(e,t,i){"use strict";const r=i("t5I8");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN","US"],has:{CORS:!1,futures:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{v3:"https://www.okex.com/v3",web:"https://www.okex.com/v2",public:"https://www.okex.com/api",private:"https://www.okex.com/api"},www:"https://www.okex.com",doc:["https://github.com/okcoin-okex/API-docs-OKEx.com","https://www.okex.com/docs/en/"],fees:"https://www.okex.com/pages/products/fees.html",referral:"https://www.okex.com"},fees:{trading:{taker:.0015,maker:.001},spot:{taker:.0015,maker:.001},future:{taker:5e-4,maker:2e-4},swap:{taker:75e-5,maker:2e-4}},commonCurrencies:{AE:"AET",HOT:"Hydro Protocol",HSR:"HC",MAG:"Maggie",YOYO:"YOYOW",WIN:"WinToken"}})}}},oBSY:function(e,t,i){"use strict";t.utils=i("wTN5"),t.Cipher=i("ta2Q"),t.DES=i("Ltnq"),t.CBC=i("GNjU"),t.EDE=i("iinS")},oJrU:function(e,t,i){(function(r,s){var a;!function(){"use strict";var n="input is invalid type",o="object"===typeof window,c=o?window:{};c.JS_SHA3_NO_WINDOW&&(o=!1);var d=!o&&"object"===typeof self;!c.JS_SHA3_NO_NODE_JS&&"object"===typeof r&&r.versions&&r.versions.node?c=s:d&&(c=self);var h=!c.JS_SHA3_NO_COMMON_JS&&"object"===typeof e&&e.exports,u=i("K2jg"),l=!c.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,f="0123456789abcdef".split(""),p=[4,1024,262144,67108864],m=[0,8,16,24],y=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],v=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!c.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!c.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var k=function(e,t,i){return function(r){return new q(e,t,e).update(r)[i]()}},_=function(e,t,i){return function(r,s){return new q(e,t,s).update(r)[i]()}},T=function(e,t,i){return function(t,r,s,a){return M["cshake"+e].update(t,r,s,a)[i]()}},S=function(e,t,i){return function(t,r,s,a){return M["kmac"+e].update(t,r,s,a)[i]()}},x=function(e,t,i,r){for(var s=0;s<g.length;++s){var a=g[s];e[a]=t(i,r,a)}return e},O=function(e,t){var i=k(e,t,"hex");return i.create=function(){return new q(e,t,e)},i.update=function(e){return i.create().update(e)},x(i,k,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:b,createMethod:O},{name:"sha3",padding:[6,1536,393216,100663296],bits:b,createMethod:O},{name:"shake",padding:[31,7936,2031616,520093696],bits:v,createMethod:function(e,t){var i=_(e,t,"hex");return i.create=function(i){return new q(e,t,i)},i.update=function(e,t){return i.create(t).update(e)},x(i,_,e,t)}},{name:"cshake",padding:p,bits:v,createMethod:function(e,t){var i=w[e],r=T(e,0,"hex");return r.create=function(r,s,a){return s||a?new q(e,t,r).bytepad([s,a],i):M["shake"+e].create(r)},r.update=function(e,t,i,s){return r.create(t,i,s).update(e)},x(r,T,e,t)}},{name:"kmac",padding:p,bits:v,createMethod:function(e,t){var i=w[e],r=S(e,0,"hex");return r.create=function(r,s,a){return new L(e,t,s).bytepad(["KMAC",a],i).bytepad([r],i)},r.update=function(e,t,i,s){return r.create(e,i,s).update(t)},x(r,S,e,t)}}],M={},A=[],E=0;E<C.length;++E)for(var I=C[E],B=I.bits,F=0;F<B.length;++F){var P=I.name+"_"+B[F];if(A.push(P),M[P]=I.createMethod(B[F],I.padding),"sha3"!==I.name){var R=I.name+B[F];A.push(R),M[R]=M[P]}}function q(e,t,i){this.blocks=[],this.s=[],this.padding=t,this.outputBits=i,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=i>>5,this.extraBytes=(31&i)>>3;for(var r=0;r<50;++r)this.s[r]=0}function L(e,t,i){q.call(this,e,t,i)}q.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(n);if(null===e)throw new Error(n);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}for(var r,s,a=this.blocks,o=this.byteCount,c=e.length,d=this.blockCount,h=0,u=this.s;h<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;r<d+1;++r)a[r]=0;if(t)for(r=this.start;h<c&&r<o;++h)a[r>>2]|=e[h]<<m[3&r++];else for(r=this.start;h<c&&r<o;++h)(s=e.charCodeAt(h))<128?a[r>>2]|=s<<m[3&r++]:s<2048?(a[r>>2]|=(192|s>>6)<<m[3&r++],a[r>>2]|=(128|63&s)<<m[3&r++]):s<55296||s>=57344?(a[r>>2]|=(224|s>>12)<<m[3&r++],a[r>>2]|=(128|s>>6&63)<<m[3&r++],a[r>>2]|=(128|63&s)<<m[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++h)),a[r>>2]|=(240|s>>18)<<m[3&r++],a[r>>2]|=(128|s>>12&63)<<m[3&r++],a[r>>2]|=(128|s>>6&63)<<m[3&r++],a[r>>2]|=(128|63&s)<<m[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=a[d],r=0;r<d;++r)u[r]^=a[r];D(u),this.reset=!0}else this.start=r}return this},q.prototype.encode=function(e,t){var i=255&e,r=1,s=[i];for(i=255&(e>>=8);i>0;)s.unshift(i),i=255&(e>>=8),++r;return t?s.push(r):s.unshift(r),this.update(s),s.length},q.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(n);if(null===e)throw new Error(n);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(n);t=!0}var r=0,s=e.length;if(t)r=s;else for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);o<128?r+=1:o<2048?r+=2:o<55296||o>=57344?r+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++a)),r+=4)}return r+=this.encode(8*r),this.update(e),r},q.prototype.bytepad=function(e,t){for(var i=this.encode(t),r=0;r<e.length;++r)i+=this.encodeString(e[r]);var s=t-i%t,a=[];return a.length=s,this.update(a),this},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[i],t=1;t<i+1;++t)e[t]=0;for(e[i-1]|=2147483648,t=0;t<i;++t)r[t]^=e[t];D(r)}},q.prototype.toString=q.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,a=0,n=0,o="";n<r;){for(a=0;a<t&&n<r;++a,++n)e=i[a],o+=f[e>>4&15]+f[15&e]+f[e>>12&15]+f[e>>8&15]+f[e>>20&15]+f[e>>16&15]+f[e>>28&15]+f[e>>24&15];n%t===0&&(D(i),a=0)}return s&&(e=i[a],o+=f[e>>4&15]+f[15&e],s>1&&(o+=f[e>>12&15]+f[e>>8&15]),s>2&&(o+=f[e>>20&15]+f[e>>16&15])),o},q.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,i=this.s,r=this.outputBlocks,s=this.extraBytes,a=0,n=0,o=this.outputBits>>3;e=s?new ArrayBuffer(r+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);n<r;){for(a=0;a<t&&n<r;++a,++n)c[n]=i[a];n%t===0&&D(i)}return s&&(c[a]=i[a],e=e.slice(0,o)),e},q.prototype.buffer=q.prototype.arrayBuffer,q.prototype.digest=q.prototype.array=function(){this.finalize();for(var e,t,i=this.blockCount,r=this.s,s=this.outputBlocks,a=this.extraBytes,n=0,o=0,c=[];o<s;){for(n=0;n<i&&o<s;++n,++o)e=o<<2,t=r[n],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%i===0&&D(r)}return a&&(e=o<<2,t=r[n],c[e]=255&t,a>1&&(c[e+1]=t>>8&255),a>2&&(c[e+2]=t>>16&255)),c},L.prototype=new q,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),q.prototype.finalize.call(this)};var D=function(e){var t,i,r,s,a,n,o,c,d,h,u,l,f,p,m,b,v,g,w,k,_,T,S,x,O,C,M,A,E,I,B,F,P,R,q,L,D,N,U,V,G,j,H,K,z,W,X,Y,Z,J,Q,$,ee,te,ie,re,se,ae,ne,oe,ce,de,he;for(r=0;r<48;r+=2)s=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],n=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(n<<1|o>>>31),i=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|n>>>31),e[0]^=t,e[1]^=i,e[10]^=t,e[11]^=i,e[20]^=t,e[21]^=i,e[30]^=t,e[31]^=i,e[40]^=t,e[41]^=i,t=s^(c<<1|d>>>31),i=a^(d<<1|c>>>31),e[2]^=t,e[3]^=i,e[12]^=t,e[13]^=i,e[22]^=t,e[23]^=i,e[32]^=t,e[33]^=i,e[42]^=t,e[43]^=i,t=n^(h<<1|u>>>31),i=o^(u<<1|h>>>31),e[4]^=t,e[5]^=i,e[14]^=t,e[15]^=i,e[24]^=t,e[25]^=i,e[34]^=t,e[35]^=i,e[44]^=t,e[45]^=i,t=c^(l<<1|f>>>31),i=d^(f<<1|l>>>31),e[6]^=t,e[7]^=i,e[16]^=t,e[17]^=i,e[26]^=t,e[27]^=i,e[36]^=t,e[37]^=i,e[46]^=t,e[47]^=i,t=h^(s<<1|a>>>31),i=u^(a<<1|s>>>31),e[8]^=t,e[9]^=i,e[18]^=t,e[19]^=i,e[28]^=t,e[29]^=i,e[38]^=t,e[39]^=i,e[48]^=t,e[49]^=i,p=e[0],m=e[1],W=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,A=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,q=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,F=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,x=e[6]<<28|e[7]>>>4,O=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,N=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,ne=e[28]<<7|e[29]>>>25,V=e[38]<<8|e[39]>>>24,G=e[39]<<8|e[38]>>>24,T=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=p^~b&g,e[1]=m^~v&w,e[10]=x^~C&A,e[11]=O^~M&E,e[20]=R^~L&N,e[21]=q^~D&U,e[30]=K^~W&Y,e[31]=z^~X&Z,e[40]=te^~re&ae,e[41]=ie^~se&ne,e[2]=b^~g&k,e[3]=v^~w&_,e[12]=C^~A&I,e[13]=M^~E&B,e[22]=L^~N&V,e[23]=D^~U&G,e[32]=W^~Y&J,e[33]=X^~Z&Q,e[42]=re^~ae&oe,e[43]=se^~ne&ce,e[4]=g^~k&T,e[5]=w^~_&S,e[14]=A^~I&F,e[15]=E^~B&P,e[24]=N^~V&j,e[25]=U^~G&H,e[34]=Y^~J&$,e[35]=Z^~Q&ee,e[44]=ae^~oe&de,e[45]=ne^~ce&he,e[6]=k^~T&p,e[7]=_^~S&m,e[16]=I^~F&x,e[17]=B^~P&O,e[26]=V^~j&R,e[27]=G^~H&q,e[36]=J^~$&K,e[37]=Q^~ee&z,e[46]=oe^~de&te,e[47]=ce^~he&ie,e[8]=T^~p&b,e[9]=S^~m&v,e[18]=F^~x&C,e[19]=P^~O&M,e[28]=j^~R&L,e[29]=H^~q&D,e[38]=$^~K&W,e[39]=ee^~z&X,e[48]=de^~te&re,e[49]=he^~ie&se,e[0]^=y[r],e[1]^=y[r+1]};if(h)e.exports=M;else{for(E=0;E<A.length;++E)c[A[E]]=M[A[E]];u&&(void 0===(a=function(){return M}.call(t,i,t,e))||(e.exports=a))}}()}).call(this,i("5IsQ"),i("pCvA"))},oPUo:function(e,t,i){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,s=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(s.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(s.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i("heVN"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i("pCvA"))},oWik:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coingi",name:"Coingi",rateLimit:1e3,countries:["PA","BG","CN","US"],has:{CORS:!1,fetchTickers:!0},urls:{referral:"https://www.coingi.com/?r=XTPPMC",logo:"https://user-images.githubusercontent.com/1294454/28619707-5c9232a8-7212-11e7-86d6-98fe5d15cc6e.jpg",api:{www:"https://coingi.com",current:"https://api.coingi.com",user:"https://api.coingi.com"},www:"https://coingi.com",doc:"https://coingi.docs.apiary.io"},api:{www:{get:[""]},current:{get:["order-book/{pair}/{askCount}/{bidCount}/{depth}","transactions/{pair}/{maxCount}","24hour-rolling-aggregation"]},user:{post:["balance","add-order","cancel-order","orders","transactions","create-crypto-withdrawal"]}},fees:{trading:{tierBased:!1,percentage:!0,taker:.002,maker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,LTC:.01,DOGE:2,PPC:.02,VTC:.2,NMC:2,DASH:.002,USD:10,EUR:10},deposit:{BTC:0,LTC:0,DOGE:0,PPC:0,VTC:0,NMC:0,DASH:0,USD:5,EUR:1}}}})}async fetchMarkets(e={}){const t=(await this.wwwGet(e)).split('do=currencyPairSelector-selectCurrencyPair" class="active">')[1].split('<div class="currency-pair-label">'),i=[];for(let r=1;r<t.length;r++){let e=t[r].split("</div>")[0];e=e.replace("/","-"),e=e.toLowerCase();const[s,a]=e.split("-");let n=s.toUpperCase(),o=a.toUpperCase();n=this.safeCurrencyCode(n),o=this.safeCurrencyCode(o);const c=n+"/"+o,d={amount:8,price:8};i.push({id:e,symbol:c,base:n,quote:o,baseId:s,quoteId:a,info:e,active:!0,precision:d,limits:{amount:{min:Math.pow(10,-d.amount),max:Math.pow(10,d.amount)},price:{min:Math.pow(10,-d.price),max:void 0},cost:{min:0,max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=[],i=Object.keys(this.currencies);for(let n=0;n<i.length;n++){const e=i[n];t.push(e.toLowerCase())}const r={currencies:t.join(",")},s=await this.userPostBalance(this.extend(r,e)),a={info:s};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e.currency,"name"),i=this.safeCurrencyCode(t),r=this.account();r.free=this.safeFloat(e,"available");const o=this.safeFloat(e,"blocked"),c=this.safeFloat(e,"inOrders"),d=this.safeFloat(e,"withdrawing");r.used=this.sum(o,c,d),a[i]=r}return this.parseBalance(a)}async fetchOrderBook(e,t=512,i={}){await this.loadMarkets();const r={pair:this.market(e).id,depth:32,askCount:t,bidCount:t},s=await this.currentGetOrderBookPairAskCountBidCountDepth(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","baseAmount")}parseTicker(e,t){const i=this.milliseconds();let r=void 0;return void 0!==t&&(r=t.symbol),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:void 0,last:void 0,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"counterVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.currentGet24hourRollingAggregation(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=e.currencyPair.base.toUpperCase()+"/"+e.currencyPair.counter.toUpperCase();let a=void 0;t in this.markets&&(a=this.markets[t]),r[t]=this.parseTicker(e,a)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=await this.fetchTickers(void 0,t);if(e in i)return i[e];throw new s(this.id+" return did not contain "+e)}parseTrade(e,t){const i=this.safeFloat(e,"price"),r=this.safeFloat(e,"amount");let s=void 0;void 0!==i&&void 0!==r&&(s=i*r);const a=this.safeInteger(e,"timestamp"),n=this.safeString(e,"id"),o=this.safeString(e,"currencyPair");o in this.markets_by_id&&(t=this.markets_by_id[o]);let c=void 0;return void 0!==t&&(c=t.symbol),{id:n,info:e,timestamp:a,datetime:this.iso8601(a),symbol:c,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:i,amount:r,cost:s,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id,maxCount:128},n=await this.currentGetTransactionsPairMaxCount(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={currencyPair:this.marketId(e),volume:r,price:s,orderType:"buy"===i?0:1},o=await this.userPostAddOrder(this.extend(n,a));return{info:o,id:o.result}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e};return await this.userPostCancelOrder(this.extend(r,i))}sign(e,t="current",i="GET",r={},s,a){let n=this.urls.api[t];"www"!==t&&(n+="/"+t+"/"+this.implodeParams(e,r));const o=this.omit(r,this.extractParams(e));if("current"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("user"===t){this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({token:this.apiKey,nonce:e},o),i=e.toString()+"$"+this.apiKey;t.signature=this.hmac(this.encode(i),this.encode(this.secret)),a=this.json(t),s={"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="current",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("string"!==typeof o&&"errors"in o)throw new s(this.id+" "+this.json(o));return o}}},ohDc:function(e,t,i){"use strict";var r=i("+un8"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,c,d,h,u,l){var f,p,m,y,b,v,g,w,k,_=l.bits,T=0,S=0,x=0,O=0,C=0,M=0,A=0,E=0,I=0,B=0,F=null,P=0,R=new r.Buf16(16),q=new r.Buf16(16),L=null,D=0;for(T=0;T<=15;T++)R[T]=0;for(S=0;S<c;S++)R[t[i+S]]++;for(C=_,O=15;O>=1&&0===R[O];O--);if(C>O&&(C=O),0===O)return d[h++]=20971520,d[h++]=20971520,l.bits=1,0;for(x=1;x<O&&0===R[x];x++);for(C<x&&(C=x),E=1,T=1;T<=15;T++)if(E<<=1,(E-=R[T])<0)return-1;if(E>0&&(0===e||1!==O))return-1;for(q[1]=0,T=1;T<15;T++)q[T+1]=q[T]+R[T];for(S=0;S<c;S++)0!==t[i+S]&&(u[q[t[i+S]]++]=S);if(0===e?(F=L=u,v=19):1===e?(F=s,P-=257,L=a,D-=257,v=256):(F=n,L=o,v=-1),B=0,S=0,T=x,b=h,M=C,A=0,m=-1,y=(I=1<<C)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){g=T-A,u[S]<v?(w=0,k=u[S]):u[S]>v?(w=L[D+u[S]],k=F[P+u[S]]):(w=96,k=0),f=1<<T-A,x=p=1<<M;do{d[b+(B>>A)+(p-=f)]=g<<24|w<<16|k|0}while(0!==p);for(f=1<<T-1;B&f;)f>>=1;if(0!==f?(B&=f-1,B+=f):B=0,S++,0===--R[T]){if(T===O)break;T=t[i+u[S]]}if(T>C&&(B&y)!==m){for(0===A&&(A=C),b+=x,E=1<<(M=T-A);M+A<O&&!((E-=R[M+A])<=0);)M++,E<<=1;if(I+=1<<M,1===e&&I>852||2===e&&I>592)return 1;d[m=B&y]=C<<24|M<<16|b-h|0}}return 0!==B&&(d[b+B]=T-A<<24|64<<16|0),l.bits=C,0}},otB0:function(e,t,i){"use strict";const r=i("OjXq"),{InsufficientFunds:s,ExchangeError:a,InvalidNonce:n,InvalidOrder:o,ArgumentsRequired:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinfloor",name:"coinfloor",rateLimit:1e3,countries:["UK"],has:{CORS:!1,fetchOpenOrders:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28246081-623fc164-6a1c-11e7-913f-bac0d5576c90.jpg",api:"https://webapi.coinfloor.co.uk/bist",www:"https://www.coinfloor.co.uk",doc:["https://github.com/coinfloor/api","https://www.coinfloor.co.uk/api"]},requiredCredentials:{apiKey:!0,secret:!1,password:!0,uid:!0},api:{public:{get:["{id}/ticker/","{id}/order_book/","{id}/transactions/"]},private:{post:["{id}/balance/","{id}/user_transactions/","{id}/open_orders/","{symbol}/cancel_order/","{id}/buy/","{id}/sell/","{id}/buy_market/","{id}/sell_market/","{id}/estimate_sell_market/","{id}/estimate_buy_market/"]}},markets:{"BTC/GBP":{id:"XBT/GBP",symbol:"BTC/GBP",base:"BTC",quote:"GBP",baseId:"XBT",quoteId:"GBP",precision:{price:0,amount:4}},"BTC/EUR":{id:"XBT/EUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"XBT",quoteId:"EUR",precision:{price:0,amount:4}},"ETH/GBP":{id:"ETH/GBP",symbol:"ETH/GBP",base:"ETH",quote:"GBP",baseId:"ETH",quoteId:"GBP",precision:{price:0,amount:4}}},exceptions:{exact:{"You have insufficient funds.":s,"Tonce is out of sequence.":n}}})}async fetchBalance(e={}){await this.loadMarkets();let t=void 0,i=e;void 0!==this.safeString(e,"symbol")&&(t=this.market(e.symbol),i=this.omit(e,"symbol"));const r=this.safeString(e,"id");if(r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0===t)throw new c(this.id+" fetchBalance requires a symbol param");const s={id:t.id},a=await this.privatePostIdBalance(this.extend(s,i)),n={info:a},o=t.base,d=t.quote,h=this.safeStringLower(t,"baseId"),u=this.safeStringLower(t,"quoteId");return n[o]={free:this.safeFloat(a,h+"_available"),used:this.safeFloat(a,h+"_reserved"),total:this.safeFloat(a,h+"_balance")},n[d]={free:this.safeFloat(a,u+"_available"),used:this.safeFloat(a,u+"_reserved"),total:this.safeFloat(a,u+"_balance")},this.parseBalance(n)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetIdOrderBook(this.extend(r,i));return this.parseOrderBook(s)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"vwap"),a=this.safeFloat(e,"volume");let n=void 0;void 0!==s&&(n=a*s);const o=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:s,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:n,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={id:i.id},s=await this.publicGetIdTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);let o=void 0;return void 0!==t&&(o=t.symbol),{info:e,id:r,order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id},n=await this.publicGetIdTransactions(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchLedger(e,t,i,r={}){await this.loadMarkets();let s=void 0;if(void 0!==e&&(s=this.market(e),void 0===s))throw new c(this.id+" fetchTransactions requires a code argument (a market symbol)");const a={id:s.id,limit:i},n=await this.privatePostIdUserTransactions(this.extend(a,r));return this.parseLedger(n,void 0,t,void 0)}parseLedgerEntryStatus(e){return this.safeString({completed:"ok"},e,e)}parseLedgerEntryType(e){return this.safeString({0:"transaction",1:"transaction",2:"trade"},e,e)}parseLedgerEntry(e,t){const i=Object.keys(e);let r=void 0,s=void 0,a=void 0,n=void 0;for(let m=0;m<i.length;m++){const t=i[m];if(t.indexOf("_")>0){const i=t.split("_");if(2===i.length){const t=this.safeFloat(e,i[0]),o=this.safeFloat(e,i[1]);void 0!==t&&void 0!==o&&(r=i[0],s=i[1],a=t,n=o)}}}const o=this.safeCurrencyCode(r),c=this.safeCurrencyCode(s),d=this.parseLedgerEntryType(this.safeString(e,"type")),h=this.safeString(e,"id"),u=this.parse8601(this.safeString(e,"datetime"));let l=void 0;const f=this.safeFloat(e,"fee"),p={id:void 0,timestamp:u,datetime:this.iso8601(u),amount:void 0,direction:void 0,currency:void 0,type:d,referenceId:h,referenceAccount:void 0,before:void 0,after:void 0,status:"ok",fee:l,info:e};if("trade"===d)return void 0!==f&&(l={cost:f,currency:c}),[this.extend(p,{currency:o,amount:Math.abs(a),direction:a>0?"in":"out"}),this.extend(p,{currency:c,amount:Math.abs(n),direction:n>0?"in":"out",fee:l})];{const e=0===a?n:a,t=0===a?c:o,i=e>0?"in":"out";return void 0!==f&&(l={cost:f,currency:t}),this.extend(p,{currency:t,amount:Math.abs(e),direction:i,fee:l})}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={id:this.marketId(e)};let o="privatePostId"+this.capitalize(i);return"market"===t?(n.quantity=r,o+="Market"):(n.price=s,n.amount=r),await this[o](this.extend(n,a))}async cancelOrder(e,t,i={}){if(void 0===t)throw new c(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={symbol:this.market(t).id,id:e},s=await this.privatePostSymbolCancelOrder(r);if("false"===s)throw new o(this.id+" cancel was rejected");return s}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"datetime")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount");let a=void 0;void 0!==r&&void 0!==s&&(a=r*s);let n=void 0;const o=this.safeString(e,"status");0===e.type?n="buy":1===e.type&&(n="sell");let c=void 0;return void 0!==t&&(c=t.symbol),{info:e,id:this.safeString(e,"id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:o,symbol:c,type:"limit",side:n,price:r,amount:s,filled:void 0,remaining:void 0,cost:a,fee:void 0}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new c(this.id+" fetchOpenOrders requires a symbol param");await this.loadMarkets();const s=this.market(e),a={id:s.id},n=await this.privatePostIdOpenOrders(this.extend(a,r));return this.parseOrders(n,s,t,i,{status:"open"})}handleErrors(e,t,i,r,s,n,o,c,d){if(e<400)return;if(void 0===o)return;const h=this.safeString(o,"error_msg"),u=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,h,u),new a(u)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce();a=this.urlencode(this.extend({nonce:e},o));const t=this.uid+"/"+this.apiKey+":"+this.password;s={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+this.decode(this.stringToBase64(this.encode(t)))}}return{url:n,method:i,body:a,headers:s}}}},owCW:function(e,t,i){"use strict";var r=i("RmdU"),s=i("9eKw"),a=i("WZyW"),n=function(){var e=this;r.packageInit(this,arguments),[new s({name:"getId",call:"net_version",params:0,outputFormatter:parseInt}),new s({name:"isListening",call:"net_listening",params:0}),new s({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:a.hexToNumber})].forEach((function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}))};r.addProviders(n),e.exports=n},p0dA:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,NotSupported:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitstamp1",name:"Bitstamp",countries:["GB"],rateLimit:1e3,version:"v1",has:{CORS:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27786377-8c8ab57e-5fe9-11e7-8ea4-2b05b6bcceec.jpg",api:"https://www.bitstamp.net/api",www:"https://www.bitstamp.net",doc:"https://www.bitstamp.net/api"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["ticker","ticker_hour","order_book","transactions","eur_usd"]},private:{post:["balance","user_transactions","open_orders","order_status","cancel_order","cancel_all_orders","buy","sell","bitcoin_deposit_address","unconfirmed_btc","ripple_withdrawal","ripple_address","withdrawal_requests","bitcoin_withdrawal"]}},markets:{"BTC/USD":{id:"btcusd",symbol:"BTC/USD",base:"BTC",quote:"USD",baseId:"btc",quoteId:"usd",maker:.0025,taker:.0025},"BTC/EUR":{id:"btceur",symbol:"BTC/EUR",base:"BTC",quote:"EUR",baseId:"btc",quoteId:"eur",maker:.0025,taker:.0025},"EUR/USD":{id:"eurusd",symbol:"EUR/USD",base:"EUR",quote:"USD",baseId:"eur",quoteId:"usd",maker:.0025,taker:.0025},"XRP/USD":{id:"xrpusd",symbol:"XRP/USD",base:"XRP",quote:"USD",baseId:"xrp",quoteId:"usd",maker:.0025,taker:.0025},"XRP/EUR":{id:"xrpeur",symbol:"XRP/EUR",base:"XRP",quote:"EUR",baseId:"xrp",quoteId:"eur",maker:.0025,taker:.0025},"XRP/BTC":{id:"xrpbtc",symbol:"XRP/BTC",base:"XRP",quote:"BTC",baseId:"xrp",quoteId:"btc",maker:.0025,taker:.0025},"LTC/USD":{id:"ltcusd",symbol:"LTC/USD",base:"LTC",quote:"USD",baseId:"ltc",quoteId:"usd",maker:.0025,taker:.0025},"LTC/EUR":{id:"ltceur",symbol:"LTC/EUR",base:"LTC",quote:"EUR",baseId:"ltc",quoteId:"eur",maker:.0025,taker:.0025},"LTC/BTC":{id:"ltcbtc",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",maker:.0025,taker:.0025},"ETH/USD":{id:"ethusd",symbol:"ETH/USD",base:"ETH",quote:"USD",baseId:"eth",quoteId:"usd",maker:.0025,taker:.0025},"ETH/EUR":{id:"etheur",symbol:"ETH/EUR",base:"ETH",quote:"EUR",baseId:"eth",quoteId:"eur",maker:.0025,taker:.0025},"ETH/BTC":{id:"ethbtc",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",maker:.0025,taker:.0025}}})}async fetchOrderBook(e,t,i={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchOrderBook doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const r=await this.publicGetOrderBook(i),s=this.safeTimestamp(r,"timestamp");return this.parseOrderBook(r,s)}async fetchTicker(e,t={}){if("BTC/USD"!==e)throw new a(this.id+" "+this.version+" fetchTicker doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const i=await this.publicGetTicker(t),r=this.safeTimestamp(i,"timestamp"),s=this.safeFloat(i,"vwap"),n=this.safeFloat(i,"volume");let o=void 0;void 0!==n&&void 0!==s&&(o=n*s);const c=this.safeFloat(i,"last");return{symbol:e,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:s,open:this.safeFloat(i,"open"),close:c,last:c,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:n,quoteVolume:o,info:i}}parseTrade(e,t){const i=this.safeTimestamp2(e,"date","datetime"),r=0===e.type?"buy":"sell",s=this.safeString(e,"order_id");"currency_pair"in e&&e.currency_pair in this.markets_by_id&&(t=this.markets_by_id[e.currency_pair]);const a=this.safeString(e,"tid"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;void 0!==n&&void 0!==o&&(c=n*o);let d=void 0;return void 0!==t&&(d=t.symbol),{id:a,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,order:s,type:void 0,side:r,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){if("BTC/USD"!==e)throw new s(this.id+" "+this.version+" fetchTrades doesn't support "+e+", use it for BTC/USD only");await this.loadMarkets();const a=this.market(e),n=await this.publicGetTransactions(this.extend({time:"minute"},r));return this.parseTrades(n,a,t,i)}async fetchBalance(e={}){const t=await this.privatePostBalance(e),i={info:t},r=Object.keys(this.currencies);for(let s=0;s<r.length;s++){const e=r[s],a=this.currency(e).id,n=this.account();n.free=this.safeFloat(t,a+"_available"),n.used=this.safeFloat(t,a+"_reserved"),n.total=this.safeFloat(t,a+"_balance"),i[e]=n}return this.parseBalance(i)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new a(this.id+" "+this.version+" accepts limit orders only");if("BTC/USD"!==e)throw new a(this.id+" v1 supports BTC/USD orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c={amount:r,price:s},d=await this[o](this.extend(c,n));return{info:d,id:this.safeString(d,"id")}}async cancelOrder(e,t,i={}){return await this.privatePostCancelOrder({id:e})}parseOrderStatus(e){return this.safeString({"In Queue":"open",Open:"open",Finished:"closed",Canceled:"canceled"},e,e)}async fetchOrderStatus(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderStatus(this.extend(r,i));return this.parseOrderStatus(s)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a={id:s?s.id:"all"},n=await this.privatePostOpenOrdersId(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchOrder(e,t,i={}){throw new n(this.id+" fetchOrder is not implemented yet")}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.encode(this.hmac(this.encode(t),this.encode(this.secret)));o=this.extend({key:this.apiKey,signature:i.toUpperCase(),nonce:e},o),a=this.urlencode(o),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},s,n){const o=await this.fetch2(e,t,i,r,s,n);if("status"in o&&"error"===o.status)throw new a(this.id+" "+this.json(o));return o}}},p23d:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,OrderNotFound:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bitflyer",name:"bitFlyer",countries:["JP"],version:"v1",rateLimit:1e3,has:{CORS:!1,withdraw:!0,fetchMyTrades:!0,fetchOrders:!0,fetchOrder:"emulated",fetchOpenOrders:"emulated",fetchClosedOrders:"emulated"},urls:{logo:"https://user-images.githubusercontent.com/1294454/28051642-56154182-660e-11e7-9b0d-6042d1e6edd8.jpg",api:"https://api.bitflyer.jp",www:"https://bitflyer.jp",doc:"https://lightning.bitflyer.com/docs?lang=en"},api:{public:{get:["getmarkets/usa","getmarkets/eu","getmarkets","getboard","getticker","getexecutions","gethealth","getboardstate","getchats"]},private:{get:["getpermissions","getbalance","getbalancehistory","getcollateral","getcollateralhistory","getcollateralaccounts","getaddresses","getcoinins","getcoinouts","getbankaccounts","getdeposits","getwithdrawals","getchildorders","getparentorders","getparentorder","getexecutions","getpositions","gettradingcommission"],post:["sendcoin","withdraw","sendchildorder","cancelchildorder","sendparentorder","cancelparentorder","cancelallchildorders"]}},fees:{trading:{maker:.002,taker:.002},"BTC/JPY":{maker:.0015,taker:.0015}}})}async fetchMarkets(e={}){const t=await this.publicGetGetmarkets(e),i=await this.publicGetGetmarketsUsa(e),r=await this.publicGetGetmarketsEu(e);let s=this.arrayConcat(t,i);s=this.arrayConcat(s,r);const a=[];for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"product_code"),i=t.split("_");let r=void 0,o=void 0,c=void 0,d=void 0;const h=i.length;1===h?(r=t.slice(0,3),o=t.slice(3,6)):2===h?(r=i[0],o=i[1]):(r=i[1],o=i[2]),c=this.safeCurrencyCode(r),d=this.safeCurrencyCode(o);const u=2===h?c+"/"+d:t,l=this.safeValue(this.fees,u,this.fees.trading);let f=this.safeValue(l,"maker",this.fees.trading.maker),p=this.safeValue(l,"taker",this.fees.trading.taker),m=!0,y=!1,b="spot";("alias"in e||"FX"===i[0])&&(b="future",y=!0,m=!1,f=0,p=0),a.push({id:t,symbol:u,base:c,quote:d,baseId:r,quoteId:o,maker:f,taker:p,type:b,spot:m,future:y,info:e})}return a}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetGetbalance(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(s),n=this.account();n.total=this.safeFloat(e,"amount"),n.free=this.safeFloat(e,"available"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={product_code:this.marketId(e)},s=await this.publicGetGetboard(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","size")}async fetchTicker(e,t={}){await this.loadMarkets();const i={product_code:this.marketId(e)},r=await this.publicGetGetticker(this.extend(i,t)),s=this.parse8601(this.safeString(r,"timestamp")),a=this.safeFloat(r,"ltp");return{symbol:e,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(r,"best_bid"),bidVolume:void 0,ask:this.safeFloat(r,"best_ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(r,"volume_by_product"),quoteVolume:void 0,info:r}}parseTrade(e,t){let i=this.safeStringLower(e,"side");void 0!==i&&i.length<1&&(i=void 0);let r=void 0;if(void 0!==i){const t=i+"_child_order_acceptance_id";t in e&&(r=e[t])}void 0===r&&(r=this.safeString(e,"child_order_acceptance_id"));const s=this.parse8601(this.safeString(e,"exec_date")),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"size");let o=void 0;void 0!==n&&void 0!==a&&(o=a*n);const c=this.safeString(e,"id");let d=void 0;return void 0!==t&&(d=t.symbol),{id:c,info:e,timestamp:s,datetime:this.iso8601(s),symbol:d,order:r,type:void 0,side:i,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={product_code:s.id},n=await this.publicGetGetexecutions(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={product_code:this.marketId(e),child_order_type:t.toUpperCase(),side:i.toUpperCase(),price:s,size:r},o=await this.privatePostSendchildorder(this.extend(n,a));return{info:o,id:this.safeString(o,"child_order_acceptance_id")}}async cancelOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" cancelOrder() requires a `symbol` argument");await this.loadMarkets();const r={product_code:this.marketId(t),child_order_acceptance_id:e};return await this.privatePostCancelchildorder(this.extend(r,i))}parseOrderStatus(e){return this.safeString({ACTIVE:"open",COMPLETED:"closed",CANCELED:"canceled",EXPIRED:"canceled",REJECTED:"canceled"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"child_order_date")),r=this.safeFloat(e,"size"),s=this.safeFloat(e,"outstanding_size"),a=this.safeFloat(e,"executed_size"),n=this.safeFloat(e,"price"),o=n*a,c=this.parseOrderStatus(this.safeString(e,"child_order_state")),d=this.safeStringLower(e,"child_order_type"),h=this.safeStringLower(e,"side");let u=void 0;if(void 0===t){const i=this.safeString(e,"product_code");i in this.markets_by_id&&(t=this.markets_by_id[i])}void 0!==t&&(u=t.symbol);let l=void 0;const f=this.safeFloat(e,"total_commission");return void 0!==f&&(l={cost:f,currency:void 0,rate:void 0}),{id:this.safeString(e,"child_order_acceptance_id"),info:e,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:void 0,status:c,symbol:u,type:d,side:h,price:n,cost:o,amount:r,filled:a,remaining:s,fee:l}}async fetchOrders(e,t,i=100,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={product_code:s.id,count:i},o=await this.privateGetGetchildorders(this.extend(n,r));let c=this.parseOrders(o,s,t,i);return void 0!==e&&(c=this.filterBy(c,"symbol",e)),c}async fetchOpenOrders(e,t,i=100,r={}){return await this.fetchOrders(e,t,i,this.extend({child_order_state:"ACTIVE"},r))}async fetchClosedOrders(e,t,i=100,r={}){return await this.fetchOrders(e,t,i,this.extend({child_order_state:"COMPLETED"},r))}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder() requires a `symbol` argument");const r=await this.fetchOrders(t),s=this.indexBy(r,"id");if(e in s)return s[e];throw new n(this.id+" No order found with id "+e)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),n={product_code:s.id};void 0!==i&&(n.count=i);const o=await this.privateGetGetexecutions(this.extend(n,r));return this.parseTrades(o,s,t,i)}async withdraw(e,t,i,r,a={}){if(this.checkAddress(i),await this.loadMarkets(),"JPY"!==e&&"USD"!==e&&"EUR"!==e)throw new s(this.id+" allows withdrawing JPY, USD, EUR only, "+e+" is not supported");const n={currency_code:this.currency(e).id,amount:t},o=await this.privatePostWithdraw(this.extend(n,a));return{info:o,id:this.safeString(o,"message_id")}}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/";"private"===t&&(n+="me/"),n+=e,"GET"===i&&Object.keys(r).length&&(n+="?"+this.urlencode(r));const o=this.urls.api+n;if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();let t=[e,i,n].join("");Object.keys(r).length&&"GET"!==i&&(t+=a=this.json(r)),s={"ACCESS-KEY":this.apiKey,"ACCESS-TIMESTAMP":e,"ACCESS-SIGN":this.hmac(this.encode(t),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:o,method:i,body:a,headers:s}}}},p8kp:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"lakebtc",name:"LakeBTC",countries:["US"],version:"api_v2",has:{CORS:!0,createMarketOrder:!1,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/28074120-72b7c38a-6660-11e7-92d9-d9027502281d.jpg",api:"https://api.lakebtc.com",www:"https://www.lakebtc.com",doc:["https://www.lakebtc.com/s/api_v2","https://www.lakebtc.com/s/api"]},api:{public:{get:["bcorderbook","bctrades","ticker"]},private:{post:["buyOrder","cancelOrders","getAccountInfo","getExternalAccounts","getOrders","getTrades","openOrders","sellOrder"]}},fees:{trading:{maker:.0015,taker:.002}}})}async fetchMarkets(e={}){const t=await this.publicGetTicker(e),i=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const e=r[s],a=t[e],n=e.slice(0,3),o=e.slice(3,6),c=n.toUpperCase(),d=o.toUpperCase(),h=c+"/"+d;i.push({id:e,symbol:h,base:c,quote:d,baseId:n,quoteId:o,info:a})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostGetAccountInfo(e),i=this.safeValue(t,"balance",{}),r={info:t},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.account();n.total=this.safeFloat(i,e),r[t]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.publicGetBcorderbook(this.extend(r,i));return this.parseOrderBook(s)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){let e=r[a];const t=i[e];let n=void 0;e in this.markets_by_id&&(n=this.markets_by_id[e],e=n.symbol),s[e]=this.parseTicker(t,n)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetTicker(t);return this.parseTicker(r[i.id],i)}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount");let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);let o=void 0;return void 0!==t&&(o=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,order:void 0,type:void 0,side:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.publicGetBctrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o="privatePost"+this.capitalize(i)+"Order",c={params:[a,r,this.market(e).id]},d=await this[o](this.extend(c,n));return{info:d,id:this.safeString(d,"id")}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={params:[e]};return await this.privatePostCancelOrder(this.extend(r,i))}nonce(){return this.microseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version;if("public"===t)n+="/"+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const t=this.nonce();let n="";if("params"in r){n=r.params.join(",")}const o=this.urlencode({tonce:t,accesskey:this.apiKey,requestmethod:i.toLowerCase(),id:t,method:e,params:n});a=this.json({method:e,params:n,id:t});const c=this.hmac(this.encode(o),this.encode(this.secret),"sha1"),d=this.encode(this.apiKey+":"+c);s={"Json-Rpc-Tonce":t.toString(),Authorization:"Basic "+this.decode(this.stringToBase64(d)),"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("error"in o)throw new s(this.id+" "+this.json(o));return o}}},pRMk:function(e,t,i){var r=i("qykS"),s=r.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=n),n.prototype=Object.create(s.prototype),a(s,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return s(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return s(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},pa9A:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.MISSING_NEW="MISSING_NEW",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.NUMERIC_FAULT="NUMERIC_FAULT",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION";var r=!1,s=!1;function a(e,i,r){if(s)throw new Error("unknown error");i||(i=t.UNKNOWN_ERROR),r||(r={});var a=[];Object.keys(r).forEach((function(e){try{a.push(e+"="+JSON.stringify(r[e]))}catch(o){a.push(e+"="+JSON.stringify(r[e].toString()))}}));var n=e;a.length&&(e+=" ("+a.join(", ")+")");var o=new Error(e);throw o.reason=n,o.code=i,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}t.throwError=a,t.checkNew=function(e,i){e instanceof i||a("missing new",t.MISSING_NEW,{name:i.name})},t.checkArgumentCount=function(e,i,r){r||(r=""),e<i&&a("missing argument"+r,t.MISSING_ARGUMENT,{count:e,expectedCount:i}),e>i&&a("too many arguments"+r,t.UNEXPECTED_ARGUMENT,{count:e,expectedCount:i})},t.setCensorship=function(e,i){r&&a("error censorship permanent",t.UNSUPPORTED_OPERATION,{operation:"setCersorship"}),s=!!e,r=!!i}},peDq:function(e,t,i){var r=i("pRMk").Buffer,s=i("cq1r");e.exports=function(e,t,i,a){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=i/8,o=r.alloc(n),c=r.alloc(a||0),d=r.alloc(0);n>0||a>0;){var h=new s;h.update(d),h.update(e),t&&h.update(t),d=h.digest();var u=0;if(n>0){var l=o.length-n;u=Math.min(n,d.length),d.copy(o,l,0,u),n-=u}if(u<d.length&&a>0){var f=c.length-a,p=Math.min(a,d.length-u);d.copy(c,f,u,u+p),a-=p}}return d.fill(0),{key:o,iv:c}}},pfAZ:function(e){e.exports=JSON.parse('{"name":"homestead","comment":"Homestead hardfork with protocol and network changes","eip":{"url":"https://eips.ethereum.org/EIPS/eip-606","status":"Final"},"gasConfig":{},"gasPrices":{},"vm":{},"pow":{},"casper":{},"sharding":{}}')},phCo:function(e,t,i){"use strict";var r=i("8kJ5"),s=i("fOyB").assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=a,a.fromPublic=function(e,t,i){return t instanceof a?t:new a(e,{pub:t,pubEnc:i})},a.fromPrivate=function(e,t,i){return t instanceof a?t:new a(e,{priv:t,privEnc:i})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},pmRz:function(e,t,i){"use strict";var r=i("/ieh"),s=i("3SwJ"),a=function(e){var t,i,a=new s((function(){t=arguments[0],i=arguments[1]}));if(e)return{resolve:t,reject:i,eventEmitter:a};var n=new r;return a._events=n._events,a.emit=n.emit,a.on=n.on,a.once=n.once,a.off=n.off,a.listeners=n.listeners,a.addListener=n.addListener,a.removeListener=n.removeListener,a.removeAllListeners=n.removeAllListeners,{resolve:t,reject:i,eventEmitter:a}};a.resolve=function(e){var t=a(!0);return t.resolve(e),t.eventEmitter},e.exports=a},q3vF:function(e){e.exports=JSON.parse('{"name":"rinkeby","chainId":4,"networkId":4,"comment":"PoA test network","url":"https://www.rinkeby.io","genesis":{"hash":"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177","timestamp":"0x58ee40ba","gasLimit":4700000,"difficulty":1,"nonce":"0x0000000000000000","extraData":"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","stateRoot":"0x53580584816f617295ea26c0e17641e0120cab2f0a8ffb53a866fd53aa8e8c2d"},"hardforks":[{"name":"chainstart","block":0,"consensus":"poa","finality":null},{"name":"homestead","block":1,"consensus":"poa","finality":null},{"name":"dao","block":null,"consensus":"poa","finality":null},{"name":"tangerineWhistle","block":2,"consensus":"poa","finality":null},{"name":"spuriousDragon","block":3,"consensus":"poa","finality":null},{"name":"byzantium","block":1035301,"consensus":"poa","finality":null},{"name":"constantinople","block":3660663,"consensus":"poa","finality":null},{"name":"petersburg","block":4321234,"consensus":"poa","finality":null},{"name":"istanbul","block":5435345,"consensus":"poa","finality":null}],"bootstrapNodes":[{"ip":"52.169.42.101","port":30303,"id":"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf","location":"IE","comment":""},{"ip":"52.3.158.184","port":30303,"id":"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8","location":"","comment":"INFURA"}]}')},qB9Q:function(e,t,i){"use strict";var r=i("LE+o"),s=i("3NQs"),a=i("tk5I"),n=s.inherits,o=r.base,c=s.utils.assert;function d(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function h(e,t,i,r,s){o.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=r?new a(r,16):this.curve.one,this.t=s&&new a(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}n(d,o),e.exports=d,d.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},d.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},d.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},d.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),n=r.redMul(s.redInvm()),o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},d.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.one),s=i.redMul(this.d).redAdd(this.one),n=r.redMul(s.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=n.redSqrt();if(0!==o.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return o.isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},d.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(s)},n(h,o.BasePoint),d.prototype.pointFromJSON=function(e){return h.fromJSON(this,e)},d.prototype.point=function(e,t,i,r){return new h(this,e,t,i,r)},h.fromJSON=function(e,t){return new h(e,t[0],t[1],t[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},h.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=r.redAdd(t),n=a.redSub(i),o=r.redSub(t),c=s.redMul(n),d=a.redMul(o),h=s.redMul(o),u=n.redMul(a);return this.curve.point(c,d,u,h)},h.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var n=(d=this.curve._mulA(s)).redAdd(a);if(this.zOne)e=r.redSub(s).redSub(a).redMul(n.redSub(this.curve.two)),t=n.redMul(d.redSub(a)),i=n.redSqr().redSub(n).redSub(n);else{var o=this.z.redSqr(),c=n.redSub(o).redISub(o);e=r.redSub(s).redISub(a).redMul(c),t=n.redMul(d.redSub(a)),i=n.redMul(c)}}else{var d=s.redAdd(a);o=this.curve._mulC(this.c.redMul(this.z)).redSqr(),c=d.redSub(o).redSub(o);e=this.curve._mulC(r.redISub(d)).redMul(c),t=this.curve._mulC(d).redMul(s.redISub(a)),i=d.redMul(c)}return this.curve.point(e,t,i)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(t),n=s.redSub(r),o=s.redAdd(r),c=i.redAdd(t),d=a.redMul(n),h=o.redMul(c),u=a.redMul(c),l=n.redMul(o);return this.curve.point(d,h,l,u)},h.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),s=r.redSqr(),a=this.x.redMul(e.x),n=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(n),c=s.redSub(o),d=s.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(n),u=r.redMul(c).redMul(h);return this.curve.twisted?(t=r.redMul(d).redMul(n.redSub(this.curve._mulA(a))),i=c.redMul(d)):(t=r.redMul(d).redMul(n.redSub(a)),i=this.curve._mulC(c).redMul(d)),this.curve.point(u,t,i)},h.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},h.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},h.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},h.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},h.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}return!1},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},qBa0:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coinmate",name:"CoinMate",countries:["GB","CZ","EU"],rateLimit:1e3,has:{CORS:!0,fetchMyTrades:!0,fetchTransactions:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/27811229-c1efb510-606c-11e7-9a36-84ba2ce412d8.jpg",api:"https://coinmate.io/api",www:"https://coinmate.io",fees:"https://coinmate.io/fees",doc:["https://coinmate.docs.apiary.io","https://coinmate.io/developers"],referral:"https://coinmate.io?referral=YTFkM1RsOWFObVpmY1ZjMGREQmpTRnBsWjJJNVp3PT0"},requiredCredentials:{apiKey:!0,secret:!0,uid:!0},api:{public:{get:["orderBook","ticker","transactions","tradingPairs"]},private:{post:["balances","bitcoinCashWithdrawal","bitcoinCashDepositAddresses","bitcoinDepositAddresses","bitcoinWithdrawal","bitcoinWithdrawalFees","buyInstant","buyLimit","cancelOrder","cancelOrderWithInfo","createVoucher","dashDepositAddresses","dashWithdrawal","ethereumWithdrawal","ethereumDepositAddresses","litecoinWithdrawal","litecoinDepositAddresses","openOrders","order","orderHistory","pusherAuth","redeemVoucher","replaceByBuyLimit","replaceByBuyInstant","replaceBySellLimit","replaceBySellInstant","rippleDepositAddresses","rippleWithdrawal","sellInstant","sellLimit","transactionHistory","traderFees","tradeHistory","transfer","transferHistory","unconfirmedBitcoinDeposits","unconfirmedBitcoinCashDeposits","unconfirmedDashDeposits","unconfirmedEthereumDeposits","unconfirmedLitecoinDeposits","unconfirmedRippleDeposits"]}},fees:{trading:{maker:5e-4,taker:.0015}}})}async fetchMarkets(e={}){const t=await this.publicGetTradingPairs(e),i=this.safeValue(t,"data"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),a=this.safeString(e,"firstCurrency"),n=this.safeString(e,"secondCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c;r.push({id:t,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:void 0,info:e,precision:{price:this.safeInteger(e,"priceDecimals"),amount:this.safeInteger(e,"lotDecimals")},limits:{amount:{min:this.safeFloat(e,"minAmount"),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0}}})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i=this.safeValue(t,"data"),r={info:t},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.safeValue(i,e),o=this.account();o.free=this.safeFloat(n,"available"),o.used=this.safeFloat(n,"reserved"),o.total=this.safeFloat(n,"balance"),r[t]=o}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={currencyPair:this.marketId(e),groupByPriceLimit:"False"},s=(await this.publicGetOrderBook(this.extend(r,i))).data,a=this.safeTimestamp(s,"timestamp");return this.parseOrderBook(s,a,"bids","asks","price","amount")}async fetchTicker(e,t={}){await this.loadMarkets();const i={currencyPair:this.marketId(e)},r=await this.publicGetTicker(this.extend(i,t)),s=this.safeValue(r,"data"),a=this.safeTimestamp(s,"timestamp"),n=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"bid"),bidVolume:void 0,ask:this.safeFloat(s,"ask"),vwap:void 0,askVolume:void 0,open:void 0,close:n,last:n,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"amount"),quoteVolume:void 0,info:s}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();const s={limit:1e3};void 0!==i&&(s.limit=i),void 0!==t&&(s.timestampFrom=t),void 0!==e&&(s.currency=this.currencyId(e));const a=(await this.privatePostTransferHistory(this.extend(s,r))).data;return this.parseTransactions(a,void 0,t,i)}parseTransactionStatus(e){return this.safeString({COMPLETED:"ok"},e,e)}parseTransaction(e,t){const i=this.safeInteger(e,"timestamp"),r=this.safeFloat(e,"amount"),s=this.safeFloat(e,"fee"),a=this.safeString(e,"txid"),n=this.safeString(e,"destination"),o=this.safeString(e,"destinationTag"),c=this.safeString(e,"amountCurrency"),d=this.safeCurrencyCode(c,t),h=this.safeStringLower(e,"transferType"),u=this.parseTransactionStatus(this.safeString(e,"transferStatus"));return{id:this.safeString(e,"transactionId"),timestamp:i,datetime:this.iso8601(i),currency:d,amount:r,type:h,txid:a,address:n,tag:o,status:u,fee:{cost:s,currency:t},info:e}}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets(),void 0===i&&(i=1e3);const s={limit:i};void 0!==t&&(s.timestampFrom=t);const a=(await this.privatePostTradeHistory(this.extend(s,r))).data;return this.parseTrades(a,void 0,t,i)}parseTrade(e,t){let i=void 0;const r=this.safeString(e,"currencyPair");let s=void 0;if(void 0!==r)if(r in this.markets_by_id[r])s=(t=this.markets_by_id[r]).quote;else{const[e,t]=r.split("_"),a=this.safeCurrencyCode(e);s=this.safeCurrencyCode(t),i=a+"/"+s}void 0===i&&void 0!==t&&(i=t.symbol);const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount");let o=void 0;void 0!==n&&void 0!==a&&(o=a*n);const c=this.safeStringLower2(e,"type","tradeType"),d=this.safeStringLower(e,"orderType"),h=this.safeString(e,"orderId"),u=this.safeString(e,"transactionId"),l=this.safeInteger2(e,"timestamp","createdTimestamp");let f=void 0;const p=this.safeFloat(e,"fee");void 0!==p&&(f={cost:p,currency:s});let m=this.safeString(e,"feeType");return m="MAKER"===m?"maker":"taker",{id:u,info:e,timestamp:l,datetime:this.iso8601(l),symbol:i,type:d,side:c,order:h,takerOrMaker:m,price:a,amount:n,cost:o,fee:f}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id,minutesIntoHistory:10},n=await this.publicGetTransactions(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePost"+this.capitalize(i);const o={currencyPair:this.marketId(e)};"market"===t?("buy"===i?o.total=r:o.amount=r,n+="Instant"):(o.amount=r,o.price=s,n+=this.capitalize(t));const c=await this[n](this.extend(o,a));return{info:c,id:c.data.toString()}}async cancelOrder(e,t,i={}){return await this.privatePostCancelOrder({orderId:e})}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=e+this.uid+this.apiKey,i=this.hmac(this.encode(t),this.encode(this.secret));a=this.urlencode(this.extend({clientId:this.uid,nonce:e,publicKey:this.apiKey,signature:i.toUpperCase()},r)),s={"Content-Type":"application/x-www-form-urlencoded"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("error"in o&&o.error)throw new s(this.id+" "+this.json(o));return o}}},qXhl:function(e,t,i){(function(t){var r=i("8kJ5"),s=i("6MVH").ec,a=i("LER9"),n=i("Jlhb");function o(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,i,c,d,h){var u=a(c);if("ec"===u.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return function(e,t,i){var r=n[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var a=new s(r),o=i.data.subjectPrivateKey.data;return a.verify(t,e,o)}(e,i,u)}if("dsa"===u.type){if("dsa"!==d)throw new Error("wrong public key type");return function(e,t,i){var s=i.data.p,n=i.data.q,c=i.data.g,d=i.data.pub_key,h=a.signature.decode(e,"der"),u=h.s,l=h.r;o(u,n),o(l,n);var f=r.mont(s),p=u.invm(n);return 0===c.toRed(f).redPow(new r(t).mul(p).mod(n)).fromRed().mul(d.toRed(f).redPow(l.mul(p).mod(n)).fromRed()).mod(s).mod(n).cmp(l)}(e,i,u)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");i=t.concat([h,i]);for(var l=u.modulus.byteLength(),f=[1],p=0;i.length+f.length+2<l;)f.push(255),p++;f.push(0);for(var m=-1;++m<i.length;)f.push(i[m]);f=new t(f);var y=r.mont(u.modulus);e=(e=new r(e).toRed(y)).redPow(new r(u.publicExponent)),e=new t(e.fromRed().toArray());var b=p<8?1:0;for(l=Math.min(e.length,f.length),e.length!==f.length&&(b=1),m=-1;++m<l;)b|=e[m]^f[m];return 0===b}}).call(this,i("qykS").Buffer)},ql4I:function(e,t,i){var r=i("pRMk").Buffer,s=i("ZG6w").Transform,a=i("bxfF").StringDecoder;function n(e){s.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("wfEq")(n,s),n.prototype.update=function(e,t,i){"string"===typeof e&&(e=r.from(e,t));var s=this._update(e);return this.hashMode?this:(i&&(s=this._toString(s,i)),s)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(s){r=s}finally{i(r)}},n.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(i){t=i}e(t)},n.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=n},qwGt:function(e,t,i){"use strict";var r=i("HpGB"),s=i("HbDv");function a(){if(!(this instanceof a))return new a;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,s),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},qykS:function(e,t,i){"use strict";(function(e){var r=i("KlUR"),s=i("FaXh"),a=i("kah5");function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return d(this,e,t,i)}function d(e,t,i,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=l(e,t);return e}(e,t,i,r):"string"===typeof t?function(e,t,i){"string"===typeof i&&""!==i||(i="utf8");if(!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,i),s=(e=o(e,r)).write(t,i);s!==r&&(e=e.slice(0,s));return e}(e,t,i):function(e,t){if(c.isBuffer(t)){var i=0|f(t.length);return 0===(e=o(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?o(e,0):l(e,t);if("Buffer"===t.type&&a(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=o(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function l(e,t){var i=t.length<0?0:0|f(t.length);e=o(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,i);case"utf8":case"utf-8":return O(this,t,i);case"ascii":return M(this,t,i);case"latin1":case"binary":return A(this,t,i);case"base64":return x(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function b(e,t,i,r,s){if(0===e.length)return-1;if("string"===typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=s?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(s)return-1;i=e.length-1}else if(i<0){if(!s)return-1;i=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,i,r,s);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,r,s);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,r,s){var a,n=1,o=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;n=2,o/=2,c/=2,i/=2}function d(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(s){var h=-1;for(a=i;a<o;a++)if(d(e,a)===d(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===c)return h*n}else-1!==h&&(a-=a-h),h=-1}else for(i+c>o&&(i=o-c),a=i;a>=0;a--){for(var u=!0,l=0;l<c;l++)if(d(e,a+l)!==d(t,l)){u=!1;break}if(u)return a}return-1}function g(e,t,i,r){i=Number(i)||0;var s=e.length-i;r?(r=Number(r))>s&&(r=s):r=s;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var n=0;n<r;++n){var o=parseInt(t.substr(2*n,2),16);if(isNaN(o))return n;e[i+n]=o}return n}function w(e,t,i,r){return j(V(t,e.length-i),e,i,r)}function k(e,t,i,r){return j(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function _(e,t,i,r){return k(e,t,i,r)}function T(e,t,i,r){return j(G(t),e,i,r)}function S(e,t,i,r){return j(function(e,t){for(var i,r,s,a=[],n=0;n<e.length&&!((t-=2)<0);++n)i=e.charCodeAt(n),r=i>>8,s=i%256,a.push(s),a.push(r);return a}(t,e.length-i),e,i,r)}function x(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function O(e,t,i){i=Math.min(e.length,i);for(var r=[],s=t;s<i;){var a,n,o,c,d=e[s],h=null,u=d>239?4:d>223?3:d>191?2:1;if(s+u<=i)switch(u){case 1:d<128&&(h=d);break;case 2:128===(192&(a=e[s+1]))&&(c=(31&d)<<6|63&a)>127&&(h=c);break;case 3:a=e[s+1],n=e[s+2],128===(192&a)&&128===(192&n)&&(c=(15&d)<<12|(63&a)<<6|63&n)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:a=e[s+1],n=e[s+2],o=e[s+3],128===(192&a)&&128===(192&n)&&128===(192&o)&&(c=(15&d)<<18|(63&a)<<12|(63&n)<<6|63&o)>65535&&c<1114112&&(h=c)}null===h?(h=65533,u=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),s+=u}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=C));return i}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=n(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return d(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return function(e,t,i,r){return h(t),t<=0?o(e,t):void 0!==i?"string"===typeof r?o(e,t).fill(i,r):o(e,t).fill(i):o(e,t)}(null,e,t,i)},c.allocUnsafe=function(e){return u(null,e)},c.allocUnsafeSlow=function(e){return u(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,s=0,a=Math.min(i,r);s<a;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=c.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var n=e[i];if(!c.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(r,s),s+=n.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,r,s){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(s>>>=0)-(r>>>=0),n=(i>>>=0)-(t>>>=0),o=Math.min(a,n),d=this.slice(r,s),h=e.slice(t,i),u=0;u<o;++u)if(d[u]!==h[u]){a=d[u],n=h[u];break}return a<n?-1:n<a?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return b(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return b(this,e,t,i,!1)},c.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var s=this.length-t;if((void 0===i||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return g(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":return k(this,e,t,i);case"latin1":case"binary":return _(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function M(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(127&e[s]);return r}function A(e,t,i){var r="";i=Math.min(e.length,i);for(var s=t;s<i;++s)r+=String.fromCharCode(e[s]);return r}function E(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var s="",a=t;a<i;++a)s+=U(e[a]);return s}function I(e,t,i){for(var r=e.slice(t,i),s="",a=0;a<r.length;a+=2)s+=String.fromCharCode(r[a]+256*r[a+1]);return s}function B(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,i,r,s,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function P(e,t,i,r){t<0&&(t=65535+t+1);for(var s=0,a=Math.min(e.length-i,2);s<a;++s)e[i+s]=(t&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function R(e,t,i,r){t<0&&(t=4294967295+t+1);for(var s=0,a=Math.min(e.length-i,4);s<a;++s)e[i+s]=t>>>8*(r?s:3-s)&255}function q(e,t,i,r,s,a){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,i,r,a){return a||q(e,0,i,4),s.write(e,t,i,r,23,4),i+4}function D(e,t,i,r,a){return a||q(e,0,i,8),s.write(e,t,i,r,52,8),i+8}c.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=c.prototype;else{var s=t-e;i=new c(s,void 0);for(var a=0;a<s;++a)i[a]=this[a+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||B(e,t,this.length);for(var r=this[e],s=1,a=0;++a<t&&(s*=256);)r+=this[e+a]*s;return r},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||B(e,t,this.length);for(var r=this[e+--t],s=1;t>0&&(s*=256);)r+=this[e+--t]*s;return r},c.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||B(e,t,this.length);for(var r=this[e],s=1,a=0;++a<t&&(s*=256);)r+=this[e+a]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||B(e,t,this.length);for(var r=t,s=1,a=this[e+--r];r>0&&(s*=256);)a+=this[e+--r]*s;return a>=(s*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),s.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),s.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),s.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),s.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var s=1,a=0;for(this[t]=255&e;++a<i&&(s*=256);)this[t+a]=e/s&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||F(this,e,t,i,Math.pow(2,8*i)-1,0);var s=i-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*i-1);F(this,e,t,i,s-1,-s)}var a=0,n=1,o=0;for(this[t]=255&e;++a<i&&(n*=256);)e<0&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/n>>0)-o&255;return t+i},c.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var s=Math.pow(2,8*i-1);F(this,e,t,i,s-1,-s)}var a=i-1,n=1,o=0;for(this[t+a]=255&e;--a>=0&&(n*=256);)e<0&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/n>>0)-o&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return D(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return D(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var s,a=r-i;if(this===e&&i<t&&t<r)for(s=a-1;s>=0;--s)e[s+t]=this[s+i];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)e[s+t]=this[s+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},c.prototype.fill=function(e,t,i,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,i=this.length):"string"===typeof i&&(r=i,i=this.length),1===e.length){var s=e.charCodeAt(0);s<256&&(e=s)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(a=t;a<i;++a)this[a]=e;else{var n=c.isBuffer(e)?e:V(new c(e,r).toString()),o=n.length;for(a=0;a<i-t;++a)this[a+t]=n[a%o]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var i;t=t||1/0;for(var r=e.length,s=null,a=[],n=0;n<r;++n){if((i=e.charCodeAt(n))>55295&&i<57344){if(!s){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(n+1===r){(t-=3)>-1&&a.push(239,191,189);continue}s=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),s=i;continue}i=65536+(s-55296<<10|i-56320)}else s&&(t-=3)>-1&&a.push(239,191,189);if(s=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function j(e,t,i,r){for(var s=0;s<r&&!(s+i>=t.length||s>=e.length);++s)t[s+i]=e[s];return s}}).call(this,i("pCvA"))},"r+iz":function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i("qykS").Buffer}catch(S){}function o(e,t,i){for(var r=0,s=Math.min(e.length,i),a=t;a<s;a++){var n=e.charCodeAt(a)-48;r<<=4,r|=n>=49&&n<=54?n-49+10:n>=17&&n<=22?n-17+10:15&n}return r}function c(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,a=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,d=0,h=i;h<o;h+=r)d=c(e,h,h+r,t),this.imuln(s),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==n){var u=1;for(d=c(e,h,e.length,t),h=0;h<n;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var d=1;d<r;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;h+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!==(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=u[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[l-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r("undefined"!==typeof n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,d=new e(a),h=this.clone();if(c){for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[o]=n;for(;o<a;o++)d[o]=0}else{for(o=0;o<a-s;o++)d[o]=0;for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[a-o-1]=n}return d},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,d=0,h=0|n[0],u=8191&h,l=h>>>13,f=0|n[1],p=8191&f,m=f>>>13,y=0|n[2],b=8191&y,v=y>>>13,g=0|n[3],w=8191&g,k=g>>>13,_=0|n[4],T=8191&_,S=_>>>13,x=0|n[5],O=8191&x,C=x>>>13,M=0|n[6],A=8191&M,E=M>>>13,I=0|n[7],B=8191&I,F=I>>>13,P=0|n[8],R=8191&P,q=P>>>13,L=0|n[9],D=8191&L,N=L>>>13,U=0|o[0],V=8191&U,G=U>>>13,j=0|o[1],H=8191&j,K=j>>>13,z=0|o[2],W=8191&z,X=z>>>13,Y=0|o[3],Z=8191&Y,J=Y>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ye=(d+(r=Math.imul(u,V))|0)+((8191&(s=(s=Math.imul(u,G))+Math.imul(l,V)|0))<<13)|0;d=((a=Math.imul(l,G))+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,V),s=(s=Math.imul(p,G))+Math.imul(m,V)|0,a=Math.imul(m,G);var be=(d+(r=r+Math.imul(u,H)|0)|0)+((8191&(s=(s=s+Math.imul(u,K)|0)+Math.imul(l,H)|0))<<13)|0;d=((a=a+Math.imul(l,K)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,V),s=(s=Math.imul(b,G))+Math.imul(v,V)|0,a=Math.imul(v,G),r=r+Math.imul(p,H)|0,s=(s=s+Math.imul(p,K)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,K)|0;var ve=(d+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,X)|0)+Math.imul(l,W)|0))<<13)|0;d=((a=a+Math.imul(l,X)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,V),s=(s=Math.imul(w,G))+Math.imul(k,V)|0,a=Math.imul(k,G),r=r+Math.imul(b,H)|0,s=(s=s+Math.imul(b,K)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,K)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,X)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,X)|0;var ge=(d+(r=r+Math.imul(u,Z)|0)|0)+((8191&(s=(s=s+Math.imul(u,J)|0)+Math.imul(l,Z)|0))<<13)|0;d=((a=a+Math.imul(l,J)|0)+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(T,V),s=(s=Math.imul(T,G))+Math.imul(S,V)|0,a=Math.imul(S,G),r=r+Math.imul(w,H)|0,s=(s=s+Math.imul(w,K)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,K)|0,r=r+Math.imul(b,W)|0,s=(s=s+Math.imul(b,X)|0)+Math.imul(v,W)|0,a=a+Math.imul(v,X)|0,r=r+Math.imul(p,Z)|0,s=(s=s+Math.imul(p,J)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,J)|0;var we=(d+(r=r+Math.imul(u,$)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,$)|0))<<13)|0;d=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,V),s=(s=Math.imul(O,G))+Math.imul(C,V)|0,a=Math.imul(C,G),r=r+Math.imul(T,H)|0,s=(s=s+Math.imul(T,K)|0)+Math.imul(S,H)|0,a=a+Math.imul(S,K)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,X)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(b,Z)|0,s=(s=s+Math.imul(b,J)|0)+Math.imul(v,Z)|0,a=a+Math.imul(v,J)|0,r=r+Math.imul(p,$)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,ee)|0;var ke=(d+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;d=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(A,V),s=(s=Math.imul(A,G))+Math.imul(E,V)|0,a=Math.imul(E,G),r=r+Math.imul(O,H)|0,s=(s=s+Math.imul(O,K)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(T,W)|0,s=(s=s+Math.imul(T,X)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,X)|0,r=r+Math.imul(w,Z)|0,s=(s=s+Math.imul(w,J)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,J)|0,r=r+Math.imul(b,$)|0,s=(s=s+Math.imul(b,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var _e=(d+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;d=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,V),s=(s=Math.imul(B,G))+Math.imul(F,V)|0,a=Math.imul(F,G),r=r+Math.imul(A,H)|0,s=(s=s+Math.imul(A,K)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,X)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,X)|0,r=r+Math.imul(T,Z)|0,s=(s=s+Math.imul(T,J)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(w,$)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(b,ie)|0,s=(s=s+Math.imul(b,re)|0)+Math.imul(v,ie)|0,a=a+Math.imul(v,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var Te=(d+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,de)|0)+Math.imul(l,ce)|0))<<13)|0;d=((a=a+Math.imul(l,de)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(R,V),s=(s=Math.imul(R,G))+Math.imul(q,V)|0,a=Math.imul(q,G),r=r+Math.imul(B,H)|0,s=(s=s+Math.imul(B,K)|0)+Math.imul(F,H)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(A,W)|0,s=(s=s+Math.imul(A,X)|0)+Math.imul(E,W)|0,a=a+Math.imul(E,X)|0,r=r+Math.imul(O,Z)|0,s=(s=s+Math.imul(O,J)|0)+Math.imul(C,Z)|0,a=a+Math.imul(C,J)|0,r=r+Math.imul(T,$)|0,s=(s=s+Math.imul(T,ee)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(b,ae)|0,s=(s=s+Math.imul(b,ne)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,de)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,de)|0;var Se=(d+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;d=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,V),s=(s=Math.imul(D,G))+Math.imul(N,V)|0,a=Math.imul(N,G),r=r+Math.imul(R,H)|0,s=(s=s+Math.imul(R,K)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,K)|0,r=r+Math.imul(B,W)|0,s=(s=s+Math.imul(B,X)|0)+Math.imul(F,W)|0,a=a+Math.imul(F,X)|0,r=r+Math.imul(A,Z)|0,s=(s=s+Math.imul(A,J)|0)+Math.imul(E,Z)|0,a=a+Math.imul(E,J)|0,r=r+Math.imul(O,$)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(T,ie)|0,s=(s=s+Math.imul(T,re)|0)+Math.imul(S,ie)|0,a=a+Math.imul(S,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(b,ce)|0,s=(s=s+Math.imul(b,de)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,de)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var xe=(d+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;d=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,H),s=(s=Math.imul(D,K))+Math.imul(N,H)|0,a=Math.imul(N,K),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,X)|0)+Math.imul(q,W)|0,a=a+Math.imul(q,X)|0,r=r+Math.imul(B,Z)|0,s=(s=s+Math.imul(B,J)|0)+Math.imul(F,Z)|0,a=a+Math.imul(F,J)|0,r=r+Math.imul(A,$)|0,s=(s=s+Math.imul(A,ee)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(C,ie)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(T,ae)|0,s=(s=s+Math.imul(T,ne)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,de)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,de)|0,r=r+Math.imul(b,ue)|0,s=(s=s+Math.imul(b,le)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0;var Oe=(d+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;d=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,X))+Math.imul(N,W)|0,a=Math.imul(N,X),r=r+Math.imul(R,Z)|0,s=(s=s+Math.imul(R,J)|0)+Math.imul(q,Z)|0,a=a+Math.imul(q,J)|0,r=r+Math.imul(B,$)|0,s=(s=s+Math.imul(B,ee)|0)+Math.imul(F,$)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(A,ie)|0,s=(s=s+Math.imul(A,re)|0)+Math.imul(E,ie)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,ne)|0,r=r+Math.imul(T,ce)|0,s=(s=s+Math.imul(T,de)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,de)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var Ce=(d+(r=r+Math.imul(b,pe)|0)|0)+((8191&(s=(s=s+Math.imul(b,me)|0)+Math.imul(v,pe)|0))<<13)|0;d=((a=a+Math.imul(v,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,Z),s=(s=Math.imul(D,J))+Math.imul(N,Z)|0,a=Math.imul(N,J),r=r+Math.imul(R,$)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,ee)|0,r=r+Math.imul(B,ie)|0,s=(s=s+Math.imul(B,re)|0)+Math.imul(F,ie)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(A,ae)|0,s=(s=s+Math.imul(A,ne)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,de)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,de)|0,r=r+Math.imul(T,ue)|0,s=(s=s+Math.imul(T,le)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,le)|0;var Me=(d+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;d=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,$),s=(s=Math.imul(D,ee))+Math.imul(N,$)|0,a=Math.imul(N,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(q,ie)|0,a=a+Math.imul(q,re)|0,r=r+Math.imul(B,ae)|0,s=(s=s+Math.imul(B,ne)|0)+Math.imul(F,ae)|0,a=a+Math.imul(F,ne)|0,r=r+Math.imul(A,ce)|0,s=(s=s+Math.imul(A,de)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,de)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,le)|0;var Ae=(d+(r=r+Math.imul(T,pe)|0)|0)+((8191&(s=(s=s+Math.imul(T,me)|0)+Math.imul(S,pe)|0))<<13)|0;d=((a=a+Math.imul(S,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(N,ie)|0,a=Math.imul(N,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,ne)|0,r=r+Math.imul(B,ce)|0,s=(s=s+Math.imul(B,de)|0)+Math.imul(F,ce)|0,a=a+Math.imul(F,de)|0,r=r+Math.imul(A,ue)|0,s=(s=s+Math.imul(A,le)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,le)|0;var Ee=(d+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(C,pe)|0))<<13)|0;d=((a=a+Math.imul(C,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(N,ae)|0,a=Math.imul(N,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,de)|0)+Math.imul(q,ce)|0,a=a+Math.imul(q,de)|0,r=r+Math.imul(B,ue)|0,s=(s=s+Math.imul(B,le)|0)+Math.imul(F,ue)|0,a=a+Math.imul(F,le)|0;var Ie=(d+(r=r+Math.imul(A,pe)|0)|0)+((8191&(s=(s=s+Math.imul(A,me)|0)+Math.imul(E,pe)|0))<<13)|0;d=((a=a+Math.imul(E,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,de))+Math.imul(N,ce)|0,a=Math.imul(N,de),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,le)|0;var Be=(d+(r=r+Math.imul(B,pe)|0)|0)+((8191&(s=(s=s+Math.imul(B,me)|0)+Math.imul(F,pe)|0))<<13)|0;d=((a=a+Math.imul(F,me)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(N,ue)|0,a=Math.imul(N,le);var Fe=(d+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(q,pe)|0))<<13)|0;d=((a=a+Math.imul(q,me)|0)+(s>>>13)|0)+(Fe>>>26)|0,Fe&=67108863;var Pe=(d+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(N,pe)|0))<<13)|0;return d=((a=Math.imul(N,me))+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=ye,c[1]=be,c[2]=ve,c[3]=ge,c[4]=we,c[5]=ke,c[6]=_e,c[7]=Te,c[8]=Se,c[9]=xe,c[10]=Oe,c[11]=Ce,c[12]=Me,c[13]=Ae,c[14]=Ee,c[15]=Ie,c[16]=Be,c[17]=Fe,c[18]=Pe,0!==d&&(c[19]=d,i.length++),i};function p(e,t,i){return(new m).mulp(e,t,i)}function m(e,t){this.x=e,this.y=t}Math.imul||(f=l),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):i<63?l(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),d=Math.max(0,a-e.length+1);d<=c;d++){var h=a-d,u=(0|e.words[h])*(0|t.words[d]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},m.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},m.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},m.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<s;h+=o)for(var u=c,l=d,f=0;f<n;f++){var p=i[h+f],m=r[h+f],y=i[h+f+n],b=r[h+f+n],v=u*y-l*b;b=u*b+l*y,y=v,i[h+f]=p+y,r[h+f]=m+b,i[h+f+n]=p-y,r[h+f+n]=m-b,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},m.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},m.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},m.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},m.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0===(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},m.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),d=new Array(r),h=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,d,r),this.transform(n,a,o,c,r,s),this.transform(d,a,h,u,r,s);for(var f=0;f<r;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"===typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var d=0;d<n;d++)c.words[d]=this.words[d];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,d=0;d<this.length;d++)this.words[d]=this.words[d+n];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=s);d--){var u=0|this.words[d];this.words[d]=h<<26-a|u>>>a,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i)&&!!(this.words[i]&s)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!==(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var d=0;d<o.length;d++)o.words[d]=0}var h=r.clone()._ishlnsubmul(s,1,c);0===h.negative&&(r=h,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),d=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++d;for(var h=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(h),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(d)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i.strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=4194303&s,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|s>>>22,s=a}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(g,b),s(w,b),s(k,b),k.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new g;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);0!==this.pow(h,d).cmp(c);)h.redIAdd(c);for(var u=this.pow(h,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,y=0;0!==m.cmp(o);y++)m=m.redSqr();r(y<p);var b=this.pow(u,new a(1).iushln(p-y-1));l=l.redMul(b),u=b.redSqr(),f=f.redMul(u),p=y}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var d=t.words[r],h=c-1;h>=0;h--){var u=d>>h&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4===++o||0===r&&0===h)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},s(T,_),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i("RoC8")(e))},r14B:function(e,t,i){(function(t){var r=i("vrtS"),s=i("JxtV")._,a=i("gkJv"),n=i("VBY1");e.exports=function(){var e={browser:["md5","ripemd160","sha1","sha256","sha512"]},i="pkcs1",o="pkcs1",c={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};function d(e,a,n){if(!(this instanceof d))return new d(e,a,n);s.isObject(a)&&(n=a,a=void 0),this.$options={signingScheme:o,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:i,encryptionSchemeOptions:{hash:"sha1",label:null},environment:"browser",rsaUtils:this},this.keyPair=new r.Key,this.$cache={},t.isBuffer(e)||s.isString(e)?this.importKey(e,a):s.isObject(e)&&this.generateKeyPair(e.b,e.e),this.setOptions(n)}return d.prototype.setOptions=function(t){if((t=t||{}).environment&&(this.$options.environment=t.environment),t.signingScheme){if(s.isString(t.signingScheme)){var r=t.signingScheme.toLowerCase().split("-");1==r.length?e.node.indexOf(r[0])>-1?(this.$options.signingSchemeOptions={hash:r[0]},this.$options.signingScheme=o):(this.$options.signingScheme=r[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:r[1]},this.$options.signingScheme=r[0])}else s.isObject(t.signingScheme)&&(this.$options.signingScheme=t.signingScheme.scheme||o,this.$options.signingSchemeOptions=s.omit(t.signingScheme,"scheme"));if(!a.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(t.encryptionScheme){if(s.isString(t.encryptionScheme)?(this.$options.encryptionScheme=t.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):s.isObject(t.encryptionScheme)&&(this.$options.encryptionScheme=t.encryptionScheme.scheme||i,this.$options.encryptionSchemeOptions=s.omit(t.encryptionScheme,"scheme")),!a.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},d.prototype.importKey=function(e,t){if(!e)throw Error("Empty key given");if(t&&(t=c[t]||t),!n.detectAndImport(this.keyPair,e,t)&&void 0===t)throw Error("Key format must be specified");return this.$cache={},this},d.prototype.isPrivate=function(){return this.keyPair.isPrivate()},d.prototype.isPublic=function(e){return this.keyPair.isPublic(e)},d.prototype.isEmpty=function(e){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},d.prototype.sign=function(e,t,i){if(!this.isPrivate())throw Error("This is not private key");var r=this.keyPair.sign(this.$getDataForEncrypt(e,i));return t&&"buffer"!=t&&(r=r.toString(t)),r},d.prototype.$getDataForEncrypt=function(e,i){if(s.isString(e)||s.isNumber(e))return t.from(""+e,i||"utf8");if(t.isBuffer(e))return e;if(s.isObject(e))return t.from(JSON.stringify(e));throw Error("Unexpected data type")},d}()}).call(this,i("qykS").Buffer)},r4FO:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},r6R4:function(e,t,i){"use strict";var r=i("HpGB"),s=i("siiD");function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,i))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),s(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},r6xz:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,BadRequest:a,AuthenticationError:n,InvalidOrder:o,InsufficientFunds:c,OrderNotFound:d}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"adara",name:"Adara",countries:["MT"],version:"v1",rateLimit:1e3,certified:!1,has:{CORS:!0,fetchCurrencies:!0,fetchOrderBooks:!1,createMarketOrder:!1,fetchDepositAddress:!1,fetchClosedOrders:!0,fetchMyTrades:!1,fetchOHLCV:!1,fetchOrder:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!1,fetchDeposits:!1,fetchWithdrawals:!1,fetchTransactions:!1},requiredCredentials:{apiKey:!0,secret:!0,token:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/49189583-0466a780-f380-11e8-9248-57a631aad2d6.jpg",api:"https://api.adara.io",www:"https://adara.io",doc:"https://api.adara.io/v1",fees:"https://adara.io/fees"},api:{public:{get:["currencies","limits","market","marketDepth","marketInfo","orderBook","quote/","quote/{id}","symbols","trade"],post:["confirmContactEmail","restorePassword","user"]},private:{get:["balance","order","order/{id}","currencyBalance","apiKey","user/{id}"],post:["order","recovery","user","apiKey","contact"],patch:["order/{id}","user/{id}","customer"],delete:["apiKey"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},exceptions:{exact:{"Insufficient funds":c,"Amount is too small":o,"operation has invalid value":o,"closed order can't be changed":o,"Order is not found":d,AUTH:n,"You are not authorized":n,"Bad Request":a,500:s},broad:{}}})}async fetchMarkets(e={}){const t=await this.publicGetSymbols(this.extend({include:"from,to"},e)),i=this.safeValue(t,"included",[]),r=this.groupBy(i,"type"),s=this.safeValue(r,"currency",[]),a=this.indexBy(s,"id"),n=[],o=t.data;for(let c=0;c<o.length;c++){const e=o[c],t=this.safeString(e,"id"),i=this.safeValue(e,"attributes",{}),r=this.safeValue(e,"relationships",{}),s=this.safeValue(r,"from",{}),d=this.safeValue(r,"to",{}),h=this.safeValue(s,"data",{}),u=this.safeValue(d,"data",{}),l=this.safeString(h,"id"),f=this.safeString(u,"id"),p=this.commonCurrencyCode(l),m=this.commonCurrencyCode(f),y=this.safeValue(a,l,{}),b=this.safeValue(y,"attributes",{}),v=p+"/"+m,g={amount:this.safeInteger(b,"accuracy",8),price:this.safeInteger(i,"digits",8)},w=this.safeValue(i,"allowTrade"),k=this.safeFloat(i,"makerFee"),_=this.safeFloat(i,"takerFee");n.push({info:e,id:t,symbol:v,base:p,quote:m,baseId:l,quoteId:f,active:w,maker:k,taker:_,precision:g,limits:{amount:{min:Math.pow(10,-g.amount),max:void 0},price:{min:Math.pow(10,-g.price),max:void 0},cost:{min:void 0,max:void 0}}})}return n}async fetchCurrencies(e={}){const t=(await this.publicGetCurrencies(e)).data,i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeValue(e,"attributes",{}),n=this.commonCurrencyCode(s),o=this.safeInteger(a,"accuracy"),c=this.safeFloat(a,"withdrawFee"),d=this.safeValue(a,"active"),h=this.safeValue(a,"allowDeposit"),u=this.safeValue(a,"allowWithdraw");i[n]={id:s,code:n,info:e,name:this.safeString(a,"name"),active:d&&h&&u,fee:c,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},price:{min:Math.pow(10,-o),max:Math.pow(10,o)},cost:{min:void 0,max:void 0},withdraw:{min:this.safeFloat(a,"withdrawMinAmount"),max:Math.pow(10,o)}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i={info:t},r=this.safeValue(t,"data");if(void 0!==r)for(let s=0;s<r.length;s++){const e=r[s],t=this.safeValue(e,"attributes",{}),a=this.safeValue(e,"relationships",{}),n=this.safeValue(a,"currency",{}),o=this.safeValue(n,"data"),c=this.safeString(o,"id"),d=this.commonCurrencyCode(c),h=this.account();h.total=this.safeFloat(t,"totalBalance"),h.used=this.safeFloat(t,"onOrders"),i[d]=h}return this.parseBalance(i)}getSymbolFromMarketId(e,t){if(void 0===e)return;if(void 0!==(t=this.safeValue(this.markets_by_id,e,t)))return t.symbol;const[i,r]=e.split("-");return this.commonCurrencyCode(i)+"/"+this.commonCurrencyCode(r)}parseOrderBook(e,t,i="bids",r="asks",a="price",n="amount"){const o=[],c=[];e.length>0&&(t=this.safeInteger(e[0].attributes,"serializedAt"));for(let d=0;d<e.length;d++){const i=e[d],r=this.safeValue(i,"attributes",{}),h=this.safeInteger(r,"serializedAt");t=Math.max(t,h);const u=this.safeString(i,"id");if(u.indexOf("OBID")>=0)o.push(this.parseBidAsk(i.attributes,a,n));else{if(!(u.indexOf("OSID")>=0))throw new s(this.id+" parseOrderBook encountered an unrecognized bidask format: "+this.json(i));c.push(this.parseBidAsk(i.attributes,a,n))}}return{bids:this.sortBy(o,0,!0),asks:this.sortBy(c,0),timestamp:t,datetime:this.iso8601(t),nonce:void 0}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={};s["filters[symbol]"]=r.id;const a=await this.publicGetOrderBook(this.extend(s,i));return this.parseOrderBook(a.data,void 0,"bids","asks","price","amount")}parseTicker(e,t){const i=this.getSymbolFromMarketId(this.safeString(e,"id"),t),r=this.safeValue(e,"attributes",{}),s=this.safeInteger(r,"serializedAt"),a=this.safeFloat(r,"currentPrice"),n=this.safeFloat(r,"change");let o=void 0;void 0!==n&&void 0!==a&&(o=a-n);const c=this.safeFloat(r,"percentChange");return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:this.safeFloat(r,"high"),low:this.safeFloat(r,"low"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:o,close:a,last:a,previousClose:void 0,change:n,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetQuote(t),r=this.safeValue(i,"data",[]),s={};for(let a=0;a<r.length;a++){const e=this.parseTicker(r[a]);s[e.symbol]=e}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i={id:this.market(e).id},r=await this.publicGetQuoteId(this.extend(i,t));return this.parseTicker(r.data)}parseTrade(e,t){const i=this.safeString(e,"id","uuid"),r=this.safeValue(e,"attributes",{}),s=this.safeValue(e,"relationships",{}),a=this.safeValue(s,"symbol",{}),n=this.safeValue(a,"data",{}),o=this.safeString(n,"id");let c=void 0,d=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,o,t)))c=t.symbol,d=t.quote;else if(void 0!==o){const e=o.length-3,t=o.slice(0,e),i=o.slice(e),r=this.commonCurrencyCode(t),s=this.commonCurrencyCode(i);c=r+"/"+s,d=s}const h=this.parse8601(this.safeString(r,"createdAt")),u=this.safeString(r,"operation"),l=this.safeFloat(r,"price"),f=this.safeFloat(r,"amount");let p=this.safeFloat(r,"total");void 0===p&&void 0!==f&&void 0!==l&&(p=parseFloat(this.costToPrecision(c,l*f)));const m=this.safeFloat(r,"fee");let y=void 0;return void 0!==m&&(y={cost:m,currency:d}),{id:i,info:e,order:void 0,timestamp:h,datetime:this.iso8601(h),symbol:c,type:void 0,side:u,takerOrMaker:void 0,price:l,amount:f,cost:p,fee:y}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a=await this.publicGetTrade(this.extend({},r));return this.parseTrades(a.data,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={data:{type:"order",attributes:{amount:parseFloat(this.amountToPrecision(e,r)),operation:i,orderType:t,price:parseFloat(this.priceToPrecision(e,s))},relationships:{symbol:{data:{id:n.id,type:"symbol"}}}},included:[{id:n.id,type:"symbol"}]},c=await this.privatePostOrder(this.extend(o,a));return this.parseOrder(c.data)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e,data:{attributes:{status:"canceled"}}},s=await this.privatePatchOrderId(this.extend(r,i));return this.parseOrder(s.data)}parseOrderStatus(e){return this.safeString({open:"open",closed:"closed",canceled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"id"),r=this.safeValue(e,"attributes",{}),s=this.safeValue(e,"relationships",{}),a=this.safeValue(s,"symbol",{}),n=this.safeValue(a,"data",{}),o=this.safeValue(s,"trades",{}),c=this.safeValue(o,"data"),d=this.safeString(n,"id");let h=void 0,u=void 0;if(void 0!==(t=this.safeValue(this.markets_by_id,d,t)))u=t.symbol,h=t.quote;else if(void 0!==d){const e=d.length-3,t=d.slice(0,e),i=d.slice(e),r=this.commonCurrencyCode(t),s=this.commonCurrencyCode(i);u=r+"/"+s,h=s}const l=this.parse8601(this.safeString(r,"timeOpen")),f=this.safeString(r,"operation"),p=this.safeString(r,"orderType"),m=this.parseOrderStatus(this.safeString(r,"status")),y=this.parse8601(this.safeString(r,"timeClose")),b=this.safeFloat(r,"price"),v=this.safeFloat(r,"amount"),g=this.safeFloat(r,"filled");let w=void 0;void 0!==v&&void 0!==g&&(w=Math.max(0,v-g));let k=void 0;const _=this.safeFloat(r,"averagePrice");void 0===k&&void 0!==_&&void 0!==g&&(k=parseFloat(this.costToPrecision(u,_*g)));let T=void 0;const S=this.safeFloat(r,"fee");void 0!==S&&(T={currency:h,cost:S});let x=void 0;if(void 0!==c){c.length>0&&(x=this.parseTrades(c,t))}return{info:e,id:i,timestamp:l,datetime:this.iso8601(l),lastTradeTimestamp:y,symbol:u,type:p,side:f,price:b,cost:k,average:_,amount:v,filled:g,remaining:w,status:m,fee:T,trades:x}}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={include:"trades"};let a=void 0;if(void 0!==e){a=this.market(e),s["filters[symbol]"]=a.id}const n=await this.privateGetOrder(this.extend(s,r));return this.parseOrdersResponse(n,a,t,i)}async fetchOpenOrders(e,t,i,r={}){const s={"filters[status][]":"open"};return await this.fetchOrders(e,t,i,this.extend(s,r))}async fetchClosedOrders(e,t,i,r={}){const s={"filters[status][]":"closed"};return await this.fetchOrders(e,t,i,this.extend(s,r))}parseOrdersResponse(e,t,i,r){const s=this.safeValue(e,"included",[]),a=this.groupBy(s,"type"),n=this.safeValue(a,"trade",[]),o=this.parseTrades(n,t),c=this.indexBy(o,"id"),d=this.parseOrders(this.safeValue(e,"data",[]),t,i,r),h=[];for(let u=0;u<d.length;u++){const e=d[u],t=[],i=this.safeValue(e,"fee",{}),r=this.safeString(i,"currency");if(void 0!==e.trades)for(let s=0;s<e.trades.length;s++){const i=e.trades[s].id;i in c&&t.push(this.deepExtend(c[i],{order:e.id,type:e.type,symbol:e.symbol,fee:{currency:r}}))}t.length>0&&(e.trades=t),h.push(e)}return h}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e,include:"trades"},s=await this.privateGetOrderId(this.extend(r,i)),a=this.safeValue(s,"data");s.data=[],s.data.push(a);const n=this.parseOrdersResponse(s),o=this.indexBy(n,"id");if(e in o)return o[e];throw new d(this.id+" fetchOrder could not find order id "+e.toString())}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.implodeParams(e,r),o=this.urls.api+"/"+this.version+n;const c=this.omit(r,this.extractParams(e));if("GET"===i&&Object.keys(c).length&&(o+="?"+this.urlencode(c)),"private"===t){const e=this.nonce();let t=this.sum(e,this.safeInteger(this.options,"expiredAt",1e4));if(t=t.toString(),"POST"!==i&&"PATCH"!==i||(n=a=this.json(c)),this.token)s={Cookie:"token="+this.token};else{this.checkRequiredCredentials();const e=i+n+"expiredAt="+t,r=this.hmac(this.encode(e),this.encode(this.secret),"sha512","base64");s={"X-ADX-EXPIRE":t,"X-ADX-APIKEY":this.apiKey,"X-ADX-SIGNATURE":r}}"GET"!==i&&(s["Content-Type"]="application/json")}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeValue(o,"errors",[]);if(h.length>0){const e=h[0],t=this.safeString(e,"code"),i=this.safeString(e,"status"),r=this.safeString(e,"title"),a=this.safeString(e,"detail"),c=this.id+" "+this.json(o);throw this.throwExactlyMatchedException(this.exceptions.exact,t,c),this.throwExactlyMatchedException(this.exceptions.exact,i,c),this.throwExactlyMatchedException(this.exceptions.exact,r,c),this.throwExactlyMatchedException(this.exceptions.exact,a,c),this.throwBroadlyMatchedException(this.exceptions.broad,n,c),new s(c)}}}},rAc2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chains={names:{1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",6284:"goerli"},mainnet:i("MceK"),ropsten:i("2OED"),rinkeby:i("q3vF"),kovan:i("WqrZ"),goerli:i("DVZY")}},rBLd:function(e,t,i){"use strict";const r=i("OjXq"),{ArgumentsRequired:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"coss",name:"COSS",countries:["SG","NL"],rateLimit:1e3,version:"v1",certified:!1,urls:{logo:"https://user-images.githubusercontent.com/1294454/50328158-22e53c00-0503-11e9-825c-c5cfd79bfa74.jpg",api:{trade:"https://trade.coss.io/c/api/v1",engine:"https://engine.coss.io/api/v1",public:"https://trade.coss.io/c/api/v1",web:"https://trade.coss.io/c",exchange:"https://exchange.coss.io/api"},www:"https://www.coss.io",doc:"https://api.coss.io/v1/spec",referral:"https://www.coss.io/c/reg?r=OWCMHQVW2Q"},has:{fetchTrades:!0,fetchTicker:!0,fetchTickers:!0,fetchMarkets:!0,fetchCurrencies:!0,fetchBalance:!0,fetchOrderBook:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchClosedOrders:!0,fetchOpenOrders:!0,fetchOHLCV:!0,createOrder:!0,cancelOrder:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","2h":"2h","4h":"4h","6h":"6h","12h":"12h","1d":"1d","1w":"1w"},api:{exchange:{get:["getmarketsummaries"]},public:{get:["market-price","exchange-info"]},web:{get:["coins/getinfo/all","order/symbols","coins/get_base_list"]},engine:{get:["dp","ht","cs"]},trade:{get:["ping","time","account/balances","account/details"],post:["order/add","order/details","order/list/open","order/list/completed","order/list/all","order/trade-detail"],delete:["order/cancel"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.0025,maker:0},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{COS:"COSS",COSS:"COSS.io"}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfo(e),i=[],r=this.safeValue(t,"symbols",[]),s=this.safeValue(t,"base_currencies",[]),a=this.indexBy(s,"currency_code"),n=this.safeValue(t,"coins",[]),o=this.indexBy(n,"currency_code");for(let c=0;c<r.length;c++){const e=r[c],t=e.symbol,[s,n]=t.split("_"),d=this.safeCurrencyCode(s),h=this.safeCurrencyCode(n),u=d+"/"+h,l={amount:this.safeInteger(e,"amount_limit_decimal"),price:this.safeInteger(e,"price_limit_decimal")},f=this.safeValue(e,"allow_trading",!1),p=this.safeValue(a,s,{}),m=this.safeFloat(p,"minimum_total_order"),y=this.safeValue(o,s,{}),b=Math.pow(10,-l.amount),v=this.safeFloat(y,"minimum_order_amount",b);i.push({symbol:u,id:t,baseId:s,quoteId:n,base:d,quote:h,active:f,precision:l,limits:{amount:{min:v,max:void 0},price:{min:void 0,max:void 0},cost:{min:m,max:void 0}},info:e})}return i}async fetchCurrencies(e={}){const t=await this.webGetCoinsGetinfoAll(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(s),n=this.safeString(e,"name"),o=this.safeValue(e,"allow_buy"),c=this.safeValue(e,"allow_sell"),d=this.safeValue(e,"allow_withdrawn"),h=this.safeValue(e,"allow_deposit"),u=o&&c&&d&&h,l=this.safeFloat(e,"withdrawn_fee"),f=this.safeString(e,"token_type"),p=this.safeString(e,"decimal_format");let m=8;if(void 0!==p){const e=p.split(".");e.length>1&&e[1].length>1&&(m=e[1].length)}i[a]={id:s,code:a,info:e,name:n,active:u,fee:l,precision:m,type:f,limits:{amount:{min:this.safeFloat(e,"minimum_order_amount"),max:void 0},withdraw:{min:this.safeFloat(e,"minimum_withdrawn_amount"),max:void 0}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.tradeGetAccountBalances(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency_code"),a=this.safeCurrencyCode(s),n=this.safeFloat(e,"total"),o=this.safeFloat(e,"in_order"),c=this.safeFloat(e,"available");i[a]={total:n,used:o,free:c}}return this.parseBalance(i)}parseOHLCV(e,t,i="1m",r,s){return[parseInt(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,tt:this.timeframes[t]},o=await this.engineGetCs(this.extend(n,s));return this.parseOHLCVs(o.series,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)},s=await this.engineGetDp(this.extend(r,i)),a=this.safeInteger(s,"time");return this.parseOrderBook(s,a)}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"TimeStamp"));let r=void 0,s=this.safeString(e,"MarketName");if(void 0!==s&&(s=s.replace("-","_")),void 0===(t=this.safeValue(this.markets_by_id,s,t))&&void 0!==s){const[e,t]=s.split("_");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"PrevDay"),n=this.safeFloat(e,"Last");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&(o=n-a,a>0&&(c=o/a*100)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.exchangeGetGetmarketsummaries(t),r=this.safeValue(i,"result",[]),s={};for(let a=0;a<r.length;a++){const e=this.parseTicker(r[a]);s[e.symbol]=e}return s}async fetchTicker(e,t={}){return(await this.fetchTickers([e],t))[e]}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id},n=await this.engineGetHt(this.extend(a,r));return this.parseTrades(n.history,s,t,i)}parseTradeFee(e){if(void 0===e)return e;const t=e.split(" "),i=t.length,r=t[0];let s=void 0;return i>1&&(s=this.safeCurrencyCode(t[1])),{cost:r,currency:s}}parseTrade(e,t){const i=this.safeString(e,"id"),r=this.safeInteger(e,"time"),s=this.safeString(e,"order_id"),a=this.safeStringLower(e,"order_side");let n=void 0;const o=this.safeString(e,"symbol");if(void 0!==o){if(void 0===(t=this.safeValue(this.markets_by_id,o,t))){const[e,t]=o.split("_");n=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}else void 0!==t&&(n=t.symbol);let c=void 0;const d=this.safeFloat(e,"price"),h=this.safeFloat2(e,"qty","quantity");void 0!==h&&void 0!==d&&(c=d*h);const u={id:i,info:e,timestamp:r,datetime:this.iso8601(r),symbol:n,order:s,type:void 0,side:a,takerOrMaker:void 0,price:d,amount:h,cost:c,fee:void 0},l=this.parseTradeFee(this.safeString(e,"fee"));if(void 0!==l){const t=this.parseTradeFee(this.safeString(e,"additional_fee"));void 0===t?u.fee=l:u.fees=[l,t]}return u}async fetchOrdersByType(e,t,i,r,a={}){if(void 0===t)throw new s(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={symbol:n.id};void 0!==r&&(o.limit=r);const c="tradePostOrderList"+e,d=await this[c](this.extend(o,a));let h=void 0;return h=Array.isArray(d)?d:this.safeValue(d,"list",[]),this.parseOrders(h,n,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByType("All",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByType("Completed",e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByType("Open",e,t,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e},s=await this.tradePostOrderDetails(this.extend(r,i));return this.parseOrder(s)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={order_id:e},o=await this.tradePostOrderTradeDetail(this.extend(n,s));return this.parseTrades(o,a,i,r)}parseOrderStatus(e){if(void 0===e)return e;return this.safeString({OPEN:"open",CANCELLED:"canceled",FILLED:"closed",PARTIAL_FILL:"closed",CANCELLING:"open"},e.toUpperCase(),e)}parseOrder(e,t){const i=this.safeString(e,"order_id");let r=void 0,s=this.safeString(e,"order_symbol");if(void 0===s)void 0!==t&&(r=t.symbol);else if(s=s.toUpperCase(),s=s.replace("-","_"),void 0===(t=this.safeValue(this.markets_by_id,s,t))){const[e,t]=s.split("_");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}else r=t.symbol;const a=this.safeInteger(e,"createTime"),n=this.parseOrderStatus(this.safeString(e,"status")),o=this.safeFloat(e,"order_price"),c=this.safeFloat(e,"executed"),d=this.safeString(e,"type"),h=this.safeFloat(e,"order_size");let u=void 0;void 0!==h&&void 0!==c&&(u=h-c);const l=this.safeFloat(e,"avg"),f=this.safeStringLower(e,"order_side"),p=this.safeFloat(e,"total");return{info:e,id:i,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:r,type:d,side:f,price:o,amount:h,cost:p,average:l,filled:c,remaining:u,status:n,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={order_symbol:n.id,order_size:this.amountToPrecision(e,r),order_side:i.toUpperCase(),type:t};void 0!==s&&(o.order_price=this.priceToPrecision(e,s));const c=await this.tradePostOrderAdd(this.extend(o,a));return this.parseOrder(c,n)}async cancelOrder(e,t,i={}){if(void 0===t)throw new s(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={order_id:e,order_symbol:this.market(t).id},a=await this.tradeDeleteOrderCancel(this.extend(r,i));return this.parseOrder(a)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+e;if("trade"===t){this.checkRequiredCredentials();const e=this.nonce(),t=this.extend({timestamp:e},r);let o=void 0;"GET"===i?(o=this.urlencode(t),n+="?"+o):(o=this.json(t),a=o),s={Signature:this.hmac(this.encode(o),this.encode(this.secret)),Authorization:this.apiKey,"X-Requested-With":"XMLHttpRequest"}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return{url:n,method:i,body:a,headers:s}}}},rSxa:function(e,t,i){"use strict";const r=i("uS8B");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"chilebit",name:"ChileBit",countries:["CL"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991414-1298f0d8-647f-11e7-9c40-d56409266336.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://chilebit.net",doc:"https://blinktrade.com/docs"},options:{brokerId:"9"}})}}},ruwT:function(e,t,i){"use strict";const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],n=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],u=e[8]^e[18]^e[28]^e[38]^e[48],l=e[9]^e[19]^e[29]^e[39]^e[49];let f=u^(a<<1|n>>>31),p=l^(n<<1|a>>>31);const m=e[0]^f,y=e[1]^p,b=e[10]^f,v=e[11]^p,g=e[20]^f,w=e[21]^p,k=e[30]^f,_=e[31]^p,T=e[40]^f,S=e[41]^p;f=i^(o<<1|c>>>31),p=s^(c<<1|o>>>31);const x=e[2]^f,O=e[3]^p,C=e[12]^f,M=e[13]^p,A=e[22]^f,E=e[23]^p,I=e[32]^f,B=e[33]^p,F=e[42]^f,P=e[43]^p;f=a^(d<<1|h>>>31),p=n^(h<<1|d>>>31);const R=e[4]^f,q=e[5]^p,L=e[14]^f,D=e[15]^p,N=e[24]^f,U=e[25]^p,V=e[34]^f,G=e[35]^p,j=e[44]^f,H=e[45]^p;f=o^(u<<1|l>>>31),p=c^(l<<1|u>>>31);const K=e[6]^f,z=e[7]^p,W=e[16]^f,X=e[17]^p,Y=e[26]^f,Z=e[27]^p,J=e[36]^f,Q=e[37]^p,$=e[46]^f,ee=e[47]^p;f=d^(i<<1|s>>>31),p=h^(s<<1|i>>>31);const te=e[8]^f,ie=e[9]^p,re=e[18]^f,se=e[19]^p,ae=e[28]^f,ne=e[29]^p,oe=e[38]^f,ce=e[39]^p,de=e[48]^f,he=e[49]^p,ue=m,le=y,fe=v<<4|b>>>28,pe=b<<4|v>>>28,me=g<<3|w>>>29,ye=w<<3|g>>>29,be=_<<9|k>>>23,ve=k<<9|_>>>23,ge=T<<18|S>>>14,we=S<<18|T>>>14,ke=x<<1|O>>>31,_e=O<<1|x>>>31,Te=M<<12|C>>>20,Se=C<<12|M>>>20,xe=A<<10|E>>>22,Oe=E<<10|A>>>22,Ce=B<<13|I>>>19,Me=I<<13|B>>>19,Ae=F<<2|P>>>30,Ee=P<<2|F>>>30,Ie=q<<30|R>>>2,Be=R<<30|q>>>2,Fe=L<<6|D>>>26,Pe=D<<6|L>>>26,Re=U<<11|N>>>21,qe=N<<11|U>>>21,Le=V<<15|G>>>17,De=G<<15|V>>>17,Ne=H<<29|j>>>3,Ue=j<<29|H>>>3,Ve=K<<28|z>>>4,Ge=z<<28|K>>>4,je=X<<23|W>>>9,He=W<<23|X>>>9,Ke=Y<<25|Z>>>7,ze=Z<<25|Y>>>7,We=J<<21|Q>>>11,Xe=Q<<21|J>>>11,Ye=ee<<24|$>>>8,Ze=$<<24|ee>>>8,Je=te<<27|ie>>>5,Qe=ie<<27|te>>>5,$e=re<<20|se>>>12,et=se<<20|re>>>12,tt=ne<<7|ae>>>25,it=ae<<7|ne>>>25,rt=oe<<8|ce>>>24,st=ce<<8|oe>>>24,at=de<<14|he>>>18,nt=he<<14|de>>>18;e[0]=ue^~Te&Re,e[1]=le^~Se&qe,e[10]=Ve^~$e&me,e[11]=Ge^~et&ye,e[20]=ke^~Fe&Ke,e[21]=_e^~Pe&ze,e[30]=Je^~fe&xe,e[31]=Qe^~pe&Oe,e[40]=Ie^~je&tt,e[41]=Be^~He&it,e[2]=Te^~Re&We,e[3]=Se^~qe&Xe,e[12]=$e^~me&Ce,e[13]=et^~ye&Me,e[22]=Fe^~Ke&rt,e[23]=Pe^~ze&st,e[32]=fe^~xe&Le,e[33]=pe^~Oe&De,e[42]=je^~tt&be,e[43]=He^~it&ve,e[4]=Re^~We&at,e[5]=qe^~Xe&nt,e[14]=me^~Ce&Ne,e[15]=ye^~Me&Ue,e[24]=Ke^~rt&ge,e[25]=ze^~st&we,e[34]=xe^~Le&Ye,e[35]=Oe^~De&Ze,e[44]=tt^~be&Ae,e[45]=it^~ve&Ee,e[6]=We^~at&ue,e[7]=Xe^~nt&le,e[16]=Ce^~Ne&Ve,e[17]=Me^~Ue&Ge,e[26]=rt^~ge&ke,e[27]=st^~we&_e,e[36]=Le^~Ye&Je,e[37]=De^~Ze&Qe,e[46]=be^~Ae&Ie,e[47]=ve^~Ee&Be,e[8]=at^~ue&Te,e[9]=nt^~le&Se,e[18]=Ne^~Ve&$e,e[19]=Ue^~Ge&et,e[28]=ge^~ke&Fe,e[29]=we^~_e&Pe,e[38]=Ye^~Je&fe,e[39]=Ze^~Qe&pe,e[48]=Ae^~Ie&je,e[49]=Ee^~Be&He,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},rwG2:function(e,t,i){"use strict";const r={ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1};function s(e){if("string"===typeof e)return e;if(Math.abs(e)<1){const t=e.toString(),i=parseInt(t.split("e-")[1]),r="-"===t[0];i&&(e*=Math.pow(10,i-1),e=(r?"-":"")+"0."+new Array(i).join("0")+e.toString().substring(r?3:2))}else{let t=parseInt(e.toString().split("+")[1]);t>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0"))}return e.toString()}const a=[],n=(e,t=0)=>{if(e=s(e),t>0){const i=a[t]||(a[t]=new RegExp("([-]*\\d+\\.\\d{"+t+"})(\\d)")),[,r]=e.toString().match(i)||[null,e];return r.toString()}return parseInt(e).toString()};function o(e){const t=e.replace(/0+$/g,"").split(".");return t.length>1?t[1].length:0}const c=(e,t,i,r=0,a=0)=>{if(i<0){if(2===r)throw new Error("TICK_SIZE cant be used with negative numPrecisionDigits");const s=Math.pow(10,-i);if(0===t)return(s*c(e/s,t,0,r,a)).toString();if(1===t)return(e-e%s).toString()}if(2===r){const r=e%i,s=e/i;s!==Math.floor(s)&&(0===t?e>0?r>=i/2?e=e-r+i:e-=r:e=r>=i/2?Number(e)-r:Number(e)-r-i:1===t&&(e-=r));const n=o(c(i,0,100,0,0));return c(e,0,n,0,a)}const n=s(e),d="-"===n[0],h=d?1:0,u=n.length;for(var l=0;l<u&&"."!==n[l];l++);const f=l<n.length,p=new Uint8Array(u-h+(f?0:1));p[0]=48;let m=p.length,y=-1,b=-1;for(var v=1,g=h;g<u;g++,v++){const e=n.charCodeAt(g);if(46===e)m=v--;else{if(e<48||e>57)throw new Error(`${n}: invalid number (contains an illegal character '${n[v-1]}')`);p[v]=e,48!==e&&y<0&&(y=v)}}y<0&&(y=1);let w=0===r?m:y,k=w+i;b=-1;let _=!0,T=d;for(let s=p.length-1,o=0;s>=0;s--){let e=p[s];if(0!==s){if(e+=o,s>=w+i){e=0===t&&e>=53&&!(53===e&&o)?58:48}e>57?(e=48,o=1):o=0}else o&&(e=49);p[s]=e,48!==e&&(_=!1,y=s,b=b<0?s+1:b)}1===r&&(w=y,k=w+i),_&&(T=!1);const S=y>=m||_?m-1:y,x=b<m?m:b,O=T?1:0,C=O+(m-S),M=Math.max(x-m,0),A=x-S,E=0===a?A:k-S,I=Math.max(E-A,0),B=C+1+M,F=B+I,P=M+I===0,R=new Uint8Array(C+(P?0:1)+M+I);for(T&&(R[0]=45),v=O,g=S;v<C;v++,g++)R[v]=p[g];for(P||(R[C]=46),v=C+1,g=m;v<B;v++,g++)R[v]=p[g];for(v=B;v<F;v++)R[v]=48;return String.fromCharCode(...R)};e.exports={numberToString:s,precisionFromString:o,decimalToPrecision:c,truncate_to_string:n,truncate:(e,t=0)=>parseFloat(n(e,t)),precisionConstants:r,ROUND:0,TRUNCATE:1,ROUND_UP:2,ROUND_DOWN:3,DECIMAL_PLACES:0,SIGNIFICANT_DIGITS:1,TICK_SIZE:2,NO_PADDING:0,PAD_WITH_ZERO:1}},sBXy:function(e,t,i){var r;!function(i,s,a,n,o,c){var d=p((function(e,t){var i=t.length;return p((function(r){for(var s=0;s<r.length;s++)t[i+s]=r[s];return t.length=i+r.length,e.apply(this,t)}))}));p((function(e){var t=C(e);function i(e,t){return[f(e,t)]}return p((function(e){return I(i,e,t)[0]}))}));function h(e,t){return function(){return e.call(this,t.apply(this,arguments))}}function u(e){return function(t){return t[e]}}var l=p((function(e){return p((function(t){for(var i,r=0;r<g(e);r++)if(i=f(t,e[r]))return i}))}));function f(e,t){return t.apply(c,e)}function p(e){var t=e.length-1,i=a.prototype.slice;if(0==t)return function(){return e.call(this,i.call(arguments))};if(1==t)return function(){return e.call(this,arguments[0],i.call(arguments,1))};var r=a(e.length);return function(){for(var s=0;s<t;s++)r[s]=arguments[s];return r[t]=i.call(arguments,t),e.apply(this,r)}}function m(e,t){return function(i){return e(i)&&t(i)}}function y(){}function b(){return!0}function v(e,t){return t&&t.constructor===e}var g=u("length"),w=d(v,String);function k(e){return e!==c}function _(e,t){return t instanceof s&&function e(t,i){return!i||t(x(i))&&e(t,O(i))}((function(e){return e in t}),e)}function T(e,t){return[e,t]}var S=null,x=u(0),O=u(1);function C(e){return P(e.reduce((t=T,function(e,i){return t(i,e)}),S));var t}var M=p(C);function A(e){return I((function(e,t){return e.unshift(t),e}),[],e)}function E(e,t){return t?T(e(x(t)),E(e,O(t))):S}function I(e,t,i){return i?e(I(e,t,O(i)),x(i)):t}function B(e,t,i){return function e(i,r){return i?t(x(i))?(r(x(i)),O(i)):T(x(i),e(O(i),r)):S}(e,i||y)}function F(e,t){e&&(x(e).apply(null,t),F(O(e),t))}function P(e){return function e(t,i){return t?e(O(t),T(x(t),i)):i}(e,S)}function R(e){"use strict";var t,i,r,s=e(ie).emit,a=e(re).emit,o=e(se).emit,d=e(Y).emit,h=65536,u=/[\\"\n]/g,l=0,f=l++,p=l++,m=l++,y=l++,b=l++,v=l++,g=l++,w=l++,k=l++,_=l++,T=l++,S=l++,x=l++,O=l++,C=l++,M=l++,A=l++,E=l++,I=l++,B=l++,F=20,P=h,R=c,q="",L=!1,D=!1,N=f,U=[],V=null,G=0,j=0,H=0,K=0,z=1;function W(e){R!==c&&(a(R),o(),R=c),t=n(e+"\nLn: "+z+"\nCol: "+K+"\nChr: "+i),d(ae(c,c,t))}function X(e){return"\r"==e||"\n"==e||" "==e||"\t"==e}e($).on((function(e){if(t)return;if(D)return W("Cannot write after close");var n=0;i=e[0];for(;i&&(n>0&&(r=i),i=e[n++]);)switch(H++,"\n"==i?(z++,K=0):K++,N){case f:if("{"===i)N=m;else if("["===i)N=b;else if(!X(i))return W("Non-whitespace before {[.");continue;case w:case m:if(X(i))continue;if(N===w)U.push(k);else{if("}"===i){a({}),o(),N=U.pop()||p;continue}U.push(y)}if('"'!==i)return W('Malformed object key should start with " ');N=g;continue;case k:case y:if(X(i))continue;if(":"===i)N===y?(U.push(y),R!==c&&(a({}),s(R),R=c),j++):R!==c&&(s(R),R=c),N=p;else if("}"===i)R!==c&&(a(R),o(),R=c),o(),j--,N=U.pop()||p;else{if(","!==i)return W("Bad object");N===y&&U.push(y),R!==c&&(a(R),o(),R=c),N=w}continue;case b:case p:if(X(i))continue;if(N===b){if(a([]),j++,N=p,"]"===i){o(),j--,N=U.pop()||p;continue}U.push(v)}if('"'===i)N=g;else if("{"===i)N=m;else if("["===i)N=b;else if("t"===i)N=_;else if("f"===i)N=x;else if("n"===i)N=A;else if("-"===i)q+=i;else if("0"===i)q+=i,N=F;else{if(-1==="123456789".indexOf(i))return W("Bad value");q+=i,N=F}continue;case v:if(","===i)U.push(v),R!==c&&(a(R),o(),R=c),N=p;else{if("]"!==i){if(X(i))continue;return W("Bad array")}R!==c&&(a(R),o(),R=c),o(),j--,N=U.pop()||p}continue;case g:R===c&&(R="");var d=n-1;e:for(;;){for(;G>0;)if(V+=i,i=e.charAt(n++),4===G?(R+=String.fromCharCode(parseInt(V,16)),G=0,d=n-1):G++,!i)break e;if('"'===i&&!L){N=U.pop()||p,R+=e.substring(d,n-1);break}if("\\"===i&&!L&&(L=!0,R+=e.substring(d,n-1),!(i=e.charAt(n++))))break;if(L){if(L=!1,"n"===i?R+="\n":"r"===i?R+="\r":"t"===i?R+="\t":"f"===i?R+="\f":"b"===i?R+="\b":"u"===i?(G=1,V=""):R+=i,i=e.charAt(n++),d=n-1,i)continue;break}u.lastIndex=n;var l=u.exec(e);if(!l){n=e.length+1,R+=e.substring(d,n-1);break}if(n=l.index+1,!(i=e.charAt(l.index))){R+=e.substring(d,n-1);break}}continue;case _:if(!i)continue;if("r"!==i)return W("Invalid true started with t"+i);N=T;continue;case T:if(!i)continue;if("u"!==i)return W("Invalid true started with tr"+i);N=S;continue;case S:if(!i)continue;if("e"!==i)return W("Invalid true started with tru"+i);a(!0),o(),N=U.pop()||p;continue;case x:if(!i)continue;if("a"!==i)return W("Invalid false started with f"+i);N=O;continue;case O:if(!i)continue;if("l"!==i)return W("Invalid false started with fa"+i);N=C;continue;case C:if(!i)continue;if("s"!==i)return W("Invalid false started with fal"+i);N=M;continue;case M:if(!i)continue;if("e"!==i)return W("Invalid false started with fals"+i);a(!1),o(),N=U.pop()||p;continue;case A:if(!i)continue;if("u"!==i)return W("Invalid null started with n"+i);N=E;continue;case E:if(!i)continue;if("l"!==i)return W("Invalid null started with nu"+i);N=I;continue;case I:if(!i)continue;if("l"!==i)return W("Invalid null started with nul"+i);a(null),o(),N=U.pop()||p;continue;case B:if("."!==i)return W("Leading zero not followed by .");q+=i,N=F;continue;case F:if(-1!=="0123456789".indexOf(i))q+=i;else if("."===i){if(-1!==q.indexOf("."))return W("Invalid number has two dots");q+=i}else if("e"===i||"E"===i){if(-1!==q.indexOf("e")||-1!==q.indexOf("E"))return W("Invalid number has two exponential");q+=i}else if("+"===i||"-"===i){if("e"!==r&&"E"!==r)return W("Invalid symbol in number");q+=i}else q&&(a(parseFloat(q)),o(),q=""),n--,N=U.pop()||p;continue;default:return W("Unknown state: "+N)}H>=P&&function(){var e=0;R!==c&&R.length>h&&(W("Max buffer length exceeded: textNode"),e=Math.max(e,R.length)),q.length>h&&(W("Max buffer length exceeded: numberNode"),e=Math.max(e,q.length)),P=h-e+H}()})),e(ee).on((function(){if(N==f)return a({}),o(),void(D=!0);N===p&&0===j||W("Unexpected end");R!==c&&(a(R),o(),R=c);D=!0}))}var q=function(){var e=p((function(e){return e.unshift(/^/),(t=RegExp(e.map(u("source")).join(""))).exec.bind(t);var t})),t=/(\$?)/,i=/(?:{([\w ]*?)})?/,r=e(t,/([\w-_]+|\*)/,i),s=e(t,/\["([^"]+)"\]/,i),a=e(t,/\[(\d+|\*)\]/,i),n=e(t,/()/,/{([\w ]*?)}/),o=e(/\.\./),c=e(/\./),d=e(t,/!/),h=e(/$/);return function(e){return e(l(r,s,a,n),o,c,d,h)}}();function L(e,t){return{key:e,node:t}}var D=u("key"),N=u("node"),U={};function V(e){var t=e(K).emit,i=e(z).emit,r=e(J).emit,s=e(Z).emit;function n(e,t,i){N(x(e))[t]=i}function o(e,i,r){e&&n(e,i,r);var s=T(L(i,r),e);return t(s),s}var c={};return c[re]=function(e,t){if(!e)return r(t),o(e,U,t);var i=function(e,t){var i=N(x(e));return v(a,i)?o(e,g(i),t):e}(e,t),s=O(i),c=D(x(i));return n(s,c,t),T(L(c,t),s)},c[se]=function(e){return i(e),O(e)||s(N(x(e)))},c[ie]=o,c}var G=q((function(e,t,i,r,s){var a=1,o=2,c=3,u=h(D,x),f=h(N,x);function p(e,t){return!!t[a]?m(e,x):e}function y(e){if(e==b)return b;return m((function(e){return u(e)!=U}),h(e,O))}function v(){return function(e){return u(e)==U}}function w(e,t,i,r,s){var a=e(i);if(a){var n=function(e,t,i){return I((function(e,t){return t(e,i)}),t,e)}(t,r,a);return s(i.substr(g(a[0])),n)}}function k(e,t){return d(w,e,t)}var T=l(k(e,M(p,(function(e,t){var i=t[c];return i?m(h(d(_,C(i.split(/\W+/))),f),e):e}),(function(e,t){var i=t[o];return m(i&&"*"!=i?function(e){return u(e)==i}:b,e)}),y)),k(t,M((function(e){if(e==b)return b;var t=v(),i=e,r=y((function(e){return s(e)})),s=l(t,i,r);return s}))),k(i,M()),k(r,M(p,v)),k(s,M((function(e){return function(t){var i=e(t);return!0===i?x(t):i}}))),(function(e){throw n('"'+e+'" could not be tokenised')}));function S(e,t){return t}function A(e,t){return T(e,t,e?A:S)}return function(e){try{return A(e,b)}catch(t){throw n('Could not compile "'+e+'" because '+t.message)}}}));function j(e,t,i){var r,s;function a(e){return function(t){return t.id==e}}return{on:function(i,a){var n={listener:i,id:a||i};return t&&t.emit(e,i,n.id),r=T(n,r),s=T(i,s),this},emit:function(){F(s,arguments)},un:function(t){var n;r=B(r,a(t),(function(e){n=e})),n&&(s=B(s,(function(e){return e==n.listener})),i&&i.emit(e,n.listener,n.id))},listeners:function(){return s},hasListener:function(e){return k(function e(t,i){return i&&(t(x(i))?x(i):e(t,O(i)))}(e?a(e):b,r))}}}var H=1,K=H++,z=H++,W=H++,X=H++,Y="fail",Z=H++,J=H++,Q="start",$="data",ee="end",te=H++,ie=H++,re=H++,se=H++;function ae(e,t,i){try{var r=o.parse(t)}catch(s){}return{statusCode:e,body:t,jsonBody:r,thrown:i}}function ne(e,t){var i={node:e(z),path:e(K)};function r(t,i,r){var s=e(t).emit;i.on((function(e){var t=r(e);!1!==t&&function(e,t,i){var r=P(i);e(t,A(O(E(D,r))),A(E(N,r)))}(s,N(t),e)}),t),e("removeListener").on((function(r){r==t&&(e(r).listeners()||i.un(t))}))}e("newListener").on((function(e){var s=/(node|path):(.*)/.exec(e);if(s){var a=i[s[1]];a.hasListener(e)||r(e,a,t(s[2]))}}))}function oe(e,t){var i,r=/^(node|path):./,s=e(Z),a=e(X).emit,o=e(W).emit,c=p((function(t,s){if(i[t])f(s,i[t]);else{var a=e(t),n=s[0];r.test(t)?h(a,n):a.on(n)}return i}));function h(e,t,r){r=r||t;var s=u(t);return e.on((function(){var t=!1;i.forget=function(){t=!0},f(arguments,s),delete i.forget,t&&e.un(r)}),r),i}function u(e){return function(){try{return e.apply(i,arguments)}catch(t){setTimeout((function(){throw new n(t.message)}))}}}function l(t,i,r){var s;s="node"==t?function(e){return function(){var t=e.apply(this,arguments);k(t)&&(t==he.drop?a():o(t))}}(r):r,h(function(t,i){return e(t+":"+i)}(t,i),s,r)}function m(e,t,r){return w(t)?l(e,t,r):function(e,t){for(var i in t)l(e,i,t[i])}(e,t),i}return e(J).on((function(e){var t;i.root=(t=e,function(){return t})})),e(Q).on((function(e,t){i.header=function(e){return e?t[e]:t}})),i={on:c,addListener:c,removeListener:function(t,r,a){if("done"==t)s.un(r);else if("node"==t||"path"==t)e.un(t+":"+r,a);else{var n=r;e(t).un(n)}return i},emit:e.emit,node:d(m,"node"),path:d(m,"path"),done:d(h,s),start:d((function(t,r){return e(t).on(u(r),r),i}),Q),fail:e(Y).on,abort:e(te).emit,header:y,root:y,source:t}}function ce(e,t,r,s,a){var n=function(){var e={},t=r("newListener"),i=r("removeListener");function r(r){return e[r]=j(r,t,i)}function s(t){return e[t]||r(t)}return["emit","on","un"].forEach((function(e){s[e]=p((function(t,i){f(i,s(t)[e])}))})),s}();return t&&function(e,t,r,s,a,n,o){"use strict";var h=e($).emit,u=e(Y).emit,l=0,f=!0;function p(){var e=t.responseText,i=e.substr(l);i&&h(i),l=g(e)}e(te).on((function(){t.onreadystatechange=null,t.abort()})),"onprogress"in t&&(t.onprogress=p),t.onreadystatechange=function(){function i(){try{f&&e(Q).emit(t.status,function(e){var t={};return e&&e.split("\r\n").forEach((function(e){var i=e.indexOf(": ");t[e.substring(0,i)]=e.substring(i+2)})),t}(t.getAllResponseHeaders())),f=!1}catch(i){}}switch(t.readyState){case 2:case 3:return i();case 4:i(),2==String(t.status)[0]?(p(),e(ee).emit()):u(ae(t.status,t.responseText))}};try{for(var m in t.open(r,s,!0),n)t.setRequestHeader(m,n[m]);(function(e,t){function i(t){return t.port||{"http:":80,"https:":443}[t.protocol||e.protocol]}return!!(t.protocol&&t.protocol!=e.protocol||t.host&&t.host!=e.host||t.host&&i(t)!=i(e))})(i.location,function(e){var t=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[];return{protocol:t[1]||"",host:t[2]||"",port:t[3]||""}}(s))||t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.withCredentials=o,t.send(a)}catch(y){i.setTimeout(d(u,ae(c,c,y)),0)}}(n,new XMLHttpRequest,e,t,r,s,a),R(n),function(e,t){"use strict";var i,r={};function s(e){return function(t){i=e(i,t)}}for(var a in t)e(a).on(s(t[a]),r);e(W).on((function(e){var t=x(i),r=D(t),s=O(i);s&&(N(x(s))[r]=e)})),e(X).on((function(){var e=x(i),t=D(e),r=O(i);r&&delete N(x(r))[t]})),e(te).on((function(){for(var i in t)e(i).un(r)}))}(n,V(n)),ne(n,G),oe(n,t)}function de(e,t,i,r,s,a,n){return s=s?o.parse(o.stringify(s)):{},r?(w(r)||(r=o.stringify(r),s["Content-Type"]=s["Content-Type"]||"application/json"),s["Content-Length"]=s["Content-Length"]||r.length):r=null,e(i||"GET",function(e,t){return!1===t&&(-1==e.indexOf("?")?e+="?":e+="&",e+="_="+(new Date).getTime()),e}(t,n),r,s,a||!1)}function he(e){var t=M("resume","pause","pipe"),i=d(_,t);return e?i(e)||w(e)?de(ce,e):de(ce,e.url,e.method,e.body,e.headers,e.withCredentials,e.cached):ce()}he.drop=function(){return he.drop},(r=function(){return he}.apply(t,[]))===c||(e.exports=r)}(function(){try{return window}catch(e){return self}}(),Object,Array,Error,JSON)},sF9y:function(e,t,i){"use strict";var r=i("dJ0v"),s=i("/mWR").errors,a=function(e){this.requestManager=e,this.requests=[]};a.prototype.add=function(e){this.requests.push(e)},a.prototype.execute=function(){var e=this.requests;this.requestManager.sendBatch(e,(function(t,i){i=i||[],e.map((function(e,t){return i[t]||{}})).forEach((function(i,a){if(e[a].callback){if(i&&i.error)return e[a].callback(s.ErrorResponse(i));if(!r.isValidResponse(i))return e[a].callback(s.InvalidResponse(i));try{e[a].callback(null,e[a].format?e[a].format(i.result):i.result)}catch(t){e[a].callback(t)}}}))}))},e.exports=a},sGFv:function(e,t,i){"use strict";const r=i("F33t"),{ArgumentsRequired:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kuna",name:"Kuna",countries:["UA"],rateLimit:1e3,version:"v2",has:{CORS:!1,fetchTickers:!0,fetchOHLCV:!1,fetchOpenOrders:!0,fetchMyTrades:!0,withdraw:!1},urls:{referral:"https://kuna.io?r=kunaid-gvfihe8az7o4",logo:"https://user-images.githubusercontent.com/1294454/31697638-912824fa-b3c1-11e7-8c36-cf9606eb94ac.jpg",api:"https://kuna.io",www:"https://kuna.io",doc:"https://kuna.io/documents/api",fees:"https://kuna.io/documents/api"},fees:{trading:{taker:.0025,maker:.0025},funding:{withdraw:{UAH:"1%",BTC:.001,BCH:.001,ETH:.01,WAVES:.01,GOL:0,GBG:0},deposit:{}}}})}async fetchMarkets(e={}){const t=["btc","eth","eurs","rub","uah","usd","usdt"],i={UAH:0},r=[],s=await this.publicGetTickers(e),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n];for(let s=0;s<t.length;s++){const a=t[s],n=e.indexOf(a),o=e.slice(n);if(n>0&&o===a){const t=e.replace(a,""),s=this.safeCurrencyCode(t),n=this.safeCurrencyCode(a),o=s+"/"+n,c={amount:6,price:this.safeInteger(i,n,6)};r.push({id:e,symbol:o,base:s,quote:n,baseId:t,quoteId:a,precision:c,limits:{amount:{min:Math.pow(10,-c.amount),max:Math.pow(10,c.amount)},price:{min:Math.pow(10,-c.price),max:Math.pow(10,c.price)},cost:{min:void 0,max:void 0}}});break}}}return r}async fetchL3OrderBook(e,t,i={}){return await this.fetchOrderBook(e,t,i)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a.id},o=await this.privateGetOrders(this.extend(n,r));return this.parseOrders(o,a,t,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at"));let r=void 0;t&&(r=t.symbol);let s=this.safeString2(e,"side","trend");if(void 0!==s){const e={ask:"sell",bid:"buy"};s=this.safeString(e,s)}const a=this.safeFloat(e,"price"),n=this.safeFloat(e,"volume"),o=this.safeFloat(e,"funds"),c=this.safeString(e,"order_id");return{id:this.safeString(e,"id"),info:e,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:s,order:c,takerOrMaker:void 0,price:a,amount:n,cost:o,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new s(this.id+" fetchOpenOrders requires a symbol argument");await this.loadMarkets();const a=this.market(e),n={market:a.id},o=await this.privateGetTradesMy(this.extend(n,r));return this.parseTrades(o,a,t,i)}}},sLEj:function(e,t,i){"use strict";const r=i("6IP2"),{BadSymbol:s,PermissionDenied:a,ExchangeError:n,ExchangeNotAvailable:o,OrderNotFound:c,InsufficientFunds:d,InvalidOrder:h,RequestTimeout:u,AuthenticationError:l}=i("ucJe"),{TRUNCATE:f,DECIMAL_PLACES:p}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"hitbtc2",name:"HitBTC",countries:["HK"],rateLimit:1500,version:"2",has:{createDepositAddress:!0,fetchDepositAddress:!0,CORS:!0,editOrder:!0,fetchCurrencies:!0,fetchOHLCV:!0,fetchTickers:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,withdraw:!0,fetchOrderTrades:!1,fetchDeposits:!1,fetchWithdrawals:!1,fetchTransactions:!0,fetchTradingFee:!0},timeframes:{"1m":"M1","3m":"M3","5m":"M5","15m":"M15","30m":"M30","1h":"H1","4h":"H4","1d":"D1","1w":"D7","1M":"1M"},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766555-8eaec20e-5edc-11e7-9c5b-6dc69fc42f5e.jpg",api:"https://api.hitbtc.com",www:"https://hitbtc.com",referral:"https://hitbtc.com/?ref_id=5a5d39a65d466",doc:["https://api.hitbtc.com","https://github.com/hitbtc-com/hitbtc-api/blob/master/APIv2.md"],fees:["https://hitbtc.com/fees-and-limits","https://support.hitbtc.com/hc/en-us/articles/115005148605-Fees-and-limits"]},api:{public:{get:["symbol","symbol/{symbol}","currency","currency/{currency}","ticker","ticker/{symbol}","trades/{symbol}","orderbook/{symbol}","candles/{symbol}"]},private:{get:["order","order/{clientOrderId}","trading/balance","trading/fee/all","trading/fee/{symbol}","history/trades","history/order","history/order/{id}/trades","account/balance","account/transactions","account/transactions/{id}","account/crypto/address/{currency}"],post:["order","account/crypto/withdraw","account/crypto/address/{currency}","account/transfer"],put:["order/{clientOrderId}","account/crypto/withdraw/{id}"],delete:["order","order/{clientOrderId}","account/crypto/withdraw/{id}"],patch:["order/{clientOrderId}"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.002},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,BCC:.0018,ETH:.00958,BCH:.0018,USDT:100,DASH:.03,BTG:5e-4,XRP:.509,LTC:.003,ZEC:1e-4,XMR:.09,"1ST":.84,ADX:5.7,AE:6.7,AEON:.01006,AIR:565,AMM:14,AMP:342,ANT:6.7,ARDR:1,ARN:18.5,ART:26,ATB:4e-4,ATL:27,ATM:504,ATS:860,AVT:1.9,BAS:113,BCN:.1,BET:124,BKB:46,BMC:32,BMT:100,BNT:2.57,BQX:4.7,BTCA:351.21,BTM:40,BTX:.04,BUS:.004,CAPP:97,CCT:6,CDT:100,CDX:30,CFI:61,CL:13.85,CLD:.88,CND:574,CNX:.04,COSS:65,CPAY:5.487,CSNO:16,CTR:15,CTX:146,CVC:8.46,DATA:12.949,DBIX:.0168,DCN:1280,DCT:.02,DDF:342,DENT:1e3,DGB:.4,DGD:.01,DICE:.32,DLT:.26,DNT:.21,DOGE:2,DOV:34,DRPU:24,DRT:240,DSH:.017,EBET:84,EBTC:20,EBTCOLD:6.6,ECAT:14,EDG:2,EDO:2.9,EKO:1136.36,ELE:.00172,ELM:.004,EMC:.03,MGO:14,ENJ:163,EOS:1.5,ERO:34,ETBS:15,ETC:.002,ETP:.004,EVX:5.4,EXN:456,FCN:5e-6,FRD:65,FUEL:123.00105,FUN:202.9598309,FYN:1.849,FYP:66.13,GAME:.004,GNO:.0034,GUP:4,GVT:1.2,HSR:.04,HAC:144,HDG:7,HGT:1082,HPC:.4,HVN:120,ICN:.55,ICO:34,ICOS:.35,IND:76,INDI:790,ITS:15.0012,IXT:11,KBR:143,KICK:112,KMD:4,LA:41,LEND:388,LAT:1.44,LIFE:13e3,LRC:27,LSK:.3,LOC:11.076,LUN:.34,MAID:5,MANA:143,MCAP:5.44,MIPS:43,MNE:1.33,MSP:121,MCO:.357,MTH:92,MYB:3.9,NDC:165,NEBL:.04,NET:3.96,NTO:998,NGC:2.368,NXC:13.39,NXT:3,OAX:15,ODN:.004,OMG:2,OPT:335,ORME:2.8,OTN:.57,PAY:3.1,PIX:96,PLBT:.33,PLR:114,PLU:.87,POE:784,POLL:3.5,PPT:2,PRE:32,PRG:39,PRO:41,PRS:60,PTOY:.5,QAU:63,QCN:.03,QTUM:.04,QVT:64,REP:.02,RKC:15,RLC:1.21,RVT:14,SC:30,SAN:2.24,SBD:.03,SCL:2.6,SISA:1640,SKIN:407,SWFTC:352.94,SMART:.4,SMS:.0375,SNC:36,SNGLS:4,SNM:48,SNT:233,STAR:.144,STORM:153.19,STEEM:.01,STRAT:.01,SPF:14.4,STU:14,STX:11,SUB:17,SUR:3,SWT:.51,TAAS:.91,TBT:2.37,TFL:15,TIME:.03,TIX:7.1,TKN:1,TGT:173,TKR:84,TNT:90,TRST:1.6,TRX:270,UET:480,UGT:15,UTT:3,VEN:14,VERI:.037,VIB:50,VIBE:145,VOISE:618,WEALTH:.0168,WINGS:2.4,WTC:.75,WRC:48,XAUR:3.23,XDN:.01,XEM:15,XUC:.9,YOYOW:140,ZAP:24,ZRX:23,ZSC:191},deposit:{BTC:0,ETH:0,BCH:0,USDT:0,BTG:0,LTC:0,ZEC:0,XMR:0,"1ST":0,ADX:0,AE:0,AEON:0,AIR:0,AMP:0,ANT:0,ARDR:0,ARN:0,ART:0,ATB:0,ATL:0,ATM:0,ATS:0,AVT:0,BAS:0,BCN:0,BET:0,BKB:0,BMC:0,BMT:0,BNT:0,BQX:0,BTM:0,BTX:0,BUS:0,CCT:0,CDT:0,CDX:0,CFI:0,CLD:0,CND:0,CNX:0,COSS:0,CSNO:0,CTR:0,CTX:0,CVC:0,DBIX:0,DCN:0,DCT:0,DDF:0,DENT:0,DGB:0,DGD:0,DICE:0,DLT:0,DNT:0,DOGE:0,DOV:0,DRPU:0,DRT:0,DSH:0,EBET:0,EBTC:0,EBTCOLD:0,ECAT:0,EDG:0,EDO:0,ELE:0,ELM:0,EMC:0,EMGO:0,ENJ:0,EOS:0,ERO:0,ETBS:0,ETC:0,ETP:0,EVX:0,EXN:0,FRD:0,FUEL:0,FUN:0,FYN:0,FYP:0,GNO:0,GUP:0,GVT:0,HAC:0,HDG:0,HGT:0,HPC:0,HVN:0,ICN:0,ICO:0,ICOS:0,IND:0,INDI:0,ITS:0,IXT:0,KBR:0,KICK:0,LA:0,LAT:0,LIFE:0,LRC:0,LSK:0,LUN:0,MAID:0,MANA:0,MCAP:0,MIPS:0,MNE:0,MSP:0,MTH:0,MYB:0,NDC:0,NEBL:0,NET:0,NTO:0,NXC:0,NXT:0,OAX:0,ODN:0,OMG:0,OPT:0,ORME:0,OTN:0,PAY:0,PIX:0,PLBT:0,PLR:0,PLU:0,POE:0,POLL:0,PPT:0,PRE:0,PRG:0,PRO:0,PRS:0,PTOY:0,QAU:0,QCN:0,QTUM:0,QVT:0,REP:0,RKC:0,RVT:0,SAN:0,SBD:0,SCL:0,SISA:0,SKIN:0,SMART:0,SMS:0,SNC:0,SNGLS:0,SNM:0,SNT:0,STEEM:0,STRAT:0,STU:0,STX:0,SUB:0,SUR:0,SWT:0,TAAS:0,TBT:0,TFL:0,TIME:0,TIX:0,TKN:0,TKR:0,TNT:0,TRST:0,TRX:0,UET:0,UGT:0,VEN:0,VERI:0,VIB:0,VIBE:0,VOISE:0,WEALTH:0,WINGS:0,WTC:0,XAUR:0,XDN:0,XEM:0,XUC:0,YOYOW:0,ZAP:0,ZRX:0,ZSC:0}}},options:{defaultTimeInForce:"FOK"},exceptions:{504:u,1002:l,1003:a,2010:h,2001:s,2011:h,2020:h,20002:c,20001:d}})}feeToPrecision(e,t){return this.decimalToPrecision(t,f,8,p)}async fetchMarkets(e={}){const t=await this.publicGetSymbol(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeFloat(e,"quantityIncrement"),u=this.safeFloat(e,"tickSize"),l={price:this.precisionFromString(e.tickSize),amount:-1*parseInt(Math.log10(h))},f=this.safeFloat(e,"takeLiquidityRate"),p=this.safeFloat(e,"provideLiquidityRate");i.push(this.extend(this.fees.trading,{info:e,id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,active:!0,taker:f,maker:p,precision:l,limits:{amount:{min:h,max:void 0},price:{min:u,max:void 0},cost:{min:h*u,max:void 0}}}))}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrency(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=8,n=this.safeCurrencyCode(s),o=this.safeValue(e,"payinEnabled"),c=this.safeValue(e,"payoutEnabled"),d=this.safeValue(e,"transferEnabled");let h=o&&c&&d;"disabled"in e&&e.disabled&&(h=!1);let u="fiat";"crypto"in e&&e.crypto&&(u="crypto");const l=this.safeString(e,"fullName");i[n]={id:s,code:n,type:u,payin:o,payout:c,transfer:d,info:e,name:l,active:h,fee:this.safeFloat(e,"payoutFee"),precision:a,limits:{amount:{min:Math.pow(10,-a),max:Math.pow(10,a)},price:{min:Math.pow(10,-a),max:Math.pow(10,a)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,a)}}}}return i}async fetchTradingFee(e,t={}){await this.loadMarkets();const i=this.market(e),r=this.extend({symbol:i.id},this.omit(t,"symbol")),s=await this.privateGetTradingFeeSymbol(r);return{info:s,maker:this.safeFloat(s,"provideLiquidityRate"),taker:this.safeFloat(s,"takeLiquidityRate")}}async fetchBalance(e={}){await this.loadMarkets();const t=this.safeString(e,"type","trading"),i="privateGet"+this.capitalize(t)+"Balance",r=this.omit(e,"type"),s=await this[i](r),a={info:s};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"currency"),i=this.safeCurrencyCode(t),r=this.account();r.free=this.safeFloat(e,"available"),r.used=this.safeFloat(e,"reserved"),a[i]=r}return this.parseBalance(a)}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(e.timestamp),parseFloat(e.open),parseFloat(e.max),parseFloat(e.min),parseFloat(e.close),parseFloat(e.volume)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={symbol:a.id,period:this.timeframes[t]};void 0!==i&&(n.from=this.iso8601(i)),void 0!==r&&(n.limit=r);const o=await this.publicGetCandlesSymbol(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.marketId(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderbookSymbol(this.extend(r,i));return this.parseOrderBook(s,void 0,"bid","ask","price","size")}parseTicker(e,t){const i=this.parse8601(e.timestamp);let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"volume"),a=this.safeFloat(e,"volumeQuote"),n=this.safeFloat(e,"open"),o=this.safeFloat(e,"last");let c=void 0,d=void 0,h=void 0;void 0!==o&&void 0!==n&&(c=o-n,h=this.sum(o,n)/2,n>0&&(d=c/n*100));let u=void 0;return void 0!==a&&void 0!==s&&s>0&&(u=a/s),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:u,open:n,close:o,last:o,previousClose:void 0,change:c,percentage:d,average:h,baseVolume:s,quoteVolume:a,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTicker(t),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"symbol");if(void 0!==t)if(t in this.markets_by_id){const i=this.markets_by_id[t];r[i.symbol]=this.parseTicker(e,i)}else r[t]=this.parseTicker(e)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetTickerSymbol(this.extend(r,t));if("message"in s)throw new n(this.id+" "+s.message);return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(e.timestamp);let r=void 0;const s=this.safeString(e,"symbol");void 0!==s&&(r=s in this.markets_by_id?(t=this.markets_by_id[s]).symbol:s),void 0===r&&void 0!==t&&(r=t.symbol);let a=void 0;const n=this.safeFloat(e,"fee");if(void 0!==n){a={cost:n,currency:t?t.quote:void 0}}const o=this.safeString(e,"clientOrderId"),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"quantity"),h=c*d,u=this.safeString(e,"side");return{info:e,id:this.safeString(e,"id"),order:o,timestamp:i,datetime:this.iso8601(i),symbol:r,type:void 0,side:u,takerOrMaker:void 0,price:c,amount:d,cost:h,fee:a}}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.currency(e),a.asset=s.id),void 0!==t&&(a.startTime=t);const n=await this.privateGetAccountTransactions(this.extend(a,r));return this.parseTransactions(n,s,t,i)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.parse8601(this.safeString(e,"createdAt")),s=this.parse8601(this.safeString(e,"updatedAt")),a=this.safeString(e,"currency"),n=this.safeCurrencyCode(a,t),o=this.parseTransactionStatus(this.safeString(e,"status")),c=this.safeFloat(e,"amount"),d=this.safeString(e,"address"),h=this.safeString(e,"hash");let u=void 0;const l=this.safeFloat(e,"fee");void 0!==l&&(u={cost:l,currency:n});const f=this.parseTransactionType(this.safeString(e,"type"));return{info:e,id:i,txid:h,timestamp:r,datetime:this.iso8601(r),address:d,tag:void 0,type:f,amount:c,currency:n,status:o,updated:s,fee:u}}parseTransactionStatus(e){return this.safeString({pending:"pending",failed:"failed",success:"ok"},e,e)}parseTransactionType(e){return this.safeString({payin:"deposit",payout:"withdrawal",withdraw:"withdrawal"},e,e)}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i),void 0!==t&&(a.sort="ASC",a.from=this.iso8601(t));const n=await this.publicGetTradesSymbol(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);let o=this.uuid().split("-").join("");o=o.slice(0,32),r=parseFloat(r);const c={clientOrderId:o,symbol:n.id,side:i,quantity:this.amountToPrecision(e,r),type:t};"limit"===t?c.price=this.priceToPrecision(e,s):c.timeInForce=this.options.defaultTimeInForce;const d=await this.privatePostOrder(this.extend(c,a)),u=this.parseOrder(d);if("rejected"===u.status)throw new h(this.id+" order was rejected by the exchange "+this.json(u));const l=u.id;return this.orders[l]=u,u}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();let o=this.uuid().split("-").join("");o=o.slice(0,32);const c={clientOrderId:e,requestClientId:o};void 0!==s&&(c.quantity=this.amountToPrecision(t,s)),void 0!==a&&(c.price=this.priceToPrecision(t,a));const d=await this.privatePatchOrderClientOrderId(this.extend(c,n)),h=this.parseOrder(d);return this.orders[h.id]=h,h}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateDeleteOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}parseOrderStatus(e){return this.safeString({new:"open",suspended:"open",partiallyFilled:"open",filled:"closed",canceled:"canceled",expired:"failed"},e,e)}parseOrder(e,t){const i=this.parse8601(this.safeString(e,"createdAt")),r=this.parse8601(this.safeString(e,"updatedAt")),s=this.safeString(e,"symbol");let a=void 0;void 0!==s&&(a=s in this.markets_by_id?(t=this.markets_by_id[s]).symbol:s),void 0===a&&void 0!==t&&(a=t.id);const n=this.safeFloat(e,"quantity"),o=this.safeFloat(e,"cumQuantity"),c=this.parseOrderStatus(this.safeString(e,"status")),d=this.safeString(e,"clientOrderId");let h=this.safeFloat(e,"price");void 0===h&&d in this.orders&&(h=this.orders[d].price);let u=void 0,l=void 0;void 0!==n&&void 0!==o&&(u=n-o,void 0!==h&&(l=o*h));const f=this.safeString(e,"type"),p=this.safeString(e,"side");let m=this.safeValue(e,"tradesReport"),y=void 0,b=void 0;if(void 0!==m){m=this.parseTrades(m,t);let e=void 0;const i=m.length;let r=0;for(let t=0;t<i;t++){void 0===e&&(e=0),r=this.sum(r,m[t].cost);const i=this.safeValue(m[t],"fee",{}),s=this.safeFloat(i,"cost");void 0!==s&&(e=this.sum(e,s))}l=r,void 0!==o&&o>0&&(b=l/o,"market"===f&&void 0===h&&(h=b)),void 0!==e&&(y={cost:e,currency:t.quote})}return{id:d,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:r,status:c,symbol:a,type:f,side:p,price:h,average:b,amount:n,cost:l,filled:o,remaining:u,fee:y,trades:m,info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetHistoryOrder(this.extend(r,i));if(s.length>0)return this.parseOrder(s[0]);throw new c(this.id+" order "+e+" not found")}async fetchOpenOrder(e,t,i={}){await this.loadMarkets();const r={clientOrderId:e},s=await this.privateGetOrderClientOrderId(this.extend(r,i));return this.parseOrder(s)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id);const n=await this.privateGetOrder(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.symbol=s.id),void 0!==i&&(a.limit=i),void 0!==t&&(a.from=this.iso8601(t));const n=await this.privateGetHistoryOrder(this.extend(a,r)),o=this.parseOrders(n,s),c=[];for(let d=0;d<o.length;d++){const e=o[d],t=e.status;"closed"!==t&&"canceled"!==t||c.push(e)}return this.filterBySinceLimit(c,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.symbol=a.id),void 0!==t&&(s.from=this.iso8601(t)),void 0!==i&&(s.limit=i);const n=await this.privateGetHistoryTrades(this.extend(s,r));return this.parseTrades(n,a,t,i)}async fetchOrderTrades(e,t,i,r,s={}){await this.loadMarkets();let a=void 0;void 0!==t&&(a=this.market(t));const n={id:e},o=await this.privateGetHistoryOrderIdTrades(this.extend(n,s));if(o.length>0)return this.parseTrades(o,a,i,r);throw new c(this.id+" order "+e+" not found, "+this.id+'.fetchOrderTrades() requires an exchange-specific order id, you need to grab it from order["info"]["id"]')}async createDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privatePostAccountCryptoAddressCurrency(this.extend(r,t)),a=this.safeString(s,"address");return this.checkAddress(a),{currency:i,address:a,tag:this.safeString(s,"paymentId"),info:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.privateGetAccountCryptoAddressCurrency(this.extend(r,t)),a=this.safeString(s,"address");this.checkAddress(a);const n=this.safeString(s,"paymentId");return{currency:i.code,address:a,tag:n,info:s}}async withdraw(e,t,i,r,s={}){await this.loadMarkets(),this.checkAddress(i);const a={currency:this.currency(e).id,amount:parseFloat(t),address:i};r&&(a.paymentId=r);const n=await this.privatePostAccountCryptoWithdraw(this.extend(a,s));return{info:n,id:n.id}}sign(e,t="public",i="GET",r={},s,a){let n="/api/"+this.version+"/";const o=this.omit(r,this.extractParams(e));if("public"===t)n+=t+"/"+this.implodeParams(e,r),Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials(),n+=this.implodeParams(e,r),"GET"===i?Object.keys(o).length&&(n+="?"+this.urlencode(o)):Object.keys(o).length&&(a=this.json(o));const t=this.encode(this.apiKey+":"+this.secret),c=this.stringToBase64(t);s={Authorization:"Basic "+this.decode(c),"Content-Type":"application/json"}}return n=this.urls.api+n,{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,c,d,u){if(void 0!==c&&e>=400){const t=this.id+" "+a;if(503===e||504===e)throw new o(t);if(429===e)return;if("{"===a[0]&&"error"in c){const e=this.safeString(c.error,"code");if(this.throwExactlyMatchedException(this.exceptions,e,t),"Duplicate clientOrderId"===this.safeString(c.error,"message"))throw new h(t)}throw new n(t)}}}},sMSM:function(e,t,i){i("xP2n");const r=(e,t)=>parseInt(e.slice(2*t+2,2*t+4),16),s=e=>(e.length-2)/2,a=(e,t)=>t.length===2*e+2?t:a(e,"0x0"+t.slice(2)),n=(e,t)=>t.length===2*e+2?t:n(e,t+"0"),o=e=>{let t=[];for(let i=2,r=e.length;i<r;i+=2)t.push(parseInt(e.slice(i,i+2),16));return t},c=e=>{let t="0x";for(let i=0,r=e.length;i<r;++i){let r=e[i];t+=(r<16?"0":"")+r.toString(16)}return t};e.exports={random:e=>{let t;t="undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):i("9dER").randomBytes(e);let r="0x";for(let i=0;i<e;++i)r+=("00"+t[i].toString(16)).slice(-2);return r},length:s,concat:(e,t)=>e.concat(t.slice(2)),flatten:e=>"0x"+e.reduce((e,t)=>e+t.slice(2),""),slice:(e,t,i)=>"0x"+i.slice(2*e+2,2*t+2),reverse:e=>{let t="0x";for(let i=0,r=s(e);i<r;++i)t+=e.slice(2*(r-i),2*(r-i+1));return t},pad:a,padRight:n,fromAscii:e=>{let t="0x";for(let i=0;i<e.length;++i)t+=("00"+e.charCodeAt(i).toString(16)).slice(-2);return t},toAscii:e=>{let t="";for(let i=2;i<e.length;i+=2)t+=String.fromCharCode(parseInt(e.slice(i,i+2),16));return t},fromString:e=>{const t=e=>{const t=e.toString(16);return t.length<2?"0"+t:t};let i="0x";for(let r=0;r!=e.length;r++){let s=e.charCodeAt(r);if(s<128)i+=t(s);else{if(s<2048)i+=t(s>>6|192);else{if(s>55295&&s<56320){if(++r==e.length)return null;let a=e.charCodeAt(r);if(a<56320||a>57343)return null;s=65536+((1023&s)<<10)+(1023&a),i+=t(s>>18|240),i+=t(s>>12&63|128)}else i+=t(s>>12|224);i+=t(s>>6&63|128)}i+=t(63&s|128)}}return i},toString:e=>{let t="",i=0,a=s(e);for(;i<a;){let s=r(e,i++);if(s>127){if(s>191&&s<224){if(i>=a)return null;s=(31&s)<<6|63&r(e,i)}else if(s>223&&s<240){if(i+1>=a)return null;s=(15&s)<<12|(63&r(e,i))<<6|63&r(e,++i)}else{if(!(s>239&&s<248))return null;if(i+2>=a)return null;s=(7&s)<<18|(63&r(e,i))<<12|(63&r(e,++i))<<6|63&r(e,++i)}++i}if(s<=65535)t+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,t+=String.fromCharCode(s>>10|55296),t+=String.fromCharCode(1023&s|56320)}}return t},fromNumber:e=>{let t=e.toString(16);return t.length%2===0?"0x"+t:"0x0"+t},toNumber:e=>parseInt(e.slice(2),16),fromNat:e=>"0x0"===e?"0x":e.length%2===0?e:"0x0"+e.slice(2),toNat:e=>"0"===e[2]?"0x"+e.slice(3):e,fromArray:c,toArray:o,fromUint8Array:e=>c([].slice.call(e,0)),toUint8Array:e=>new Uint8Array(o(e))}},sOO9:function(e,t,i){(function(e){var r=i("ANQQ"),s=i("3mKH"),a=i("1hwd"),n=i("HrKg"),o=i("so/P"),c=t;c.request=function(t,i){t="string"===typeof t?o.parse(t):a(t);var s=-1===e.location.protocol.search(/^https?:$/)?"http:":"",n=t.protocol||s,c=t.hostname||t.host,d=t.port,h=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?n+"//"+c:"")+(d?":"+d:"")+h,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var u=new r(t);return i&&u.on("response",i),u},c.get=function(e,t){var i=c.request(e,t);return i.end(),i},c.ClientRequest=r,c.IncomingMessage=s.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=n,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,i("pCvA"))},sOjj:function(e,t,i){"use strict";const r=i("aE5k"),s=i("YB7M");e.exports=function(e){const t=r(e),i=s(e);return function(e,r){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,r);case"keccak256":return new t(1088,512,null,256,r);case"keccak384":return new t(832,768,null,384,r);case"keccak512":return new t(576,1024,null,512,r);case"sha3-224":return new t(1152,448,6,224,r);case"sha3-256":return new t(1088,512,6,256,r);case"sha3-384":return new t(832,768,6,384,r);case"sha3-512":return new t(576,1024,6,512,r);case"shake128":return new i(1344,256,31,r);case"shake256":return new i(1088,512,31,r);default:throw new Error("Invald algorithm: "+e)}}}},sdZR:function(e,t,i){"use strict";e.exports={addresses:{main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",ropsten:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",rinkeby:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"}}},siiD:function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},sl4n:function(e,t,i){const r=i("m+MA");r.async=i("JWQG"),e.exports=r},smmp:function(e,t,i){(function(t){e.exports=function(e,i){for(var r=Math.min(e.length,i.length),s=new t(r),a=0;a<r;++a)s[a]=e[a]^i[a];return s}}).call(this,i("qykS").Buffer)},soaT:function(e,t,i){var r=i("45vN").Reporter,s=i("45vN").EncoderBuffer,a=i("45vN").DecoderBuffer,n=i("siiD"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function d(e,t){var i={};this._baseState=i,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=d;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){var e=this._baseState,t={};h.forEach((function(i){t[i]=e[i]}));var i=new this.constructor(t.parent);return i._baseState=t,i},d.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}}),this)},d.prototype._init=function(e){var t=this._baseState;n(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),n.equal(t.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(e){var t=this._baseState,i=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==i.length&&(n(null===t.children),t.children=i,i.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(n(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(i){i==(0|i)&&(i|=0);var r=e[i];t[r]=i})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){d.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){d.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return n(null===t.tag),t.tag=e,this._useArgs(i),this}})),d.prototype.use=function(e){n(e);var t=this._baseState;return n(null===t.use),t.use=e,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(e){var t=this._baseState;return n(null===t.default),t.default=e,t.optional=!0,this},d.prototype.explicit=function(e){var t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.explicit=e,this},d.prototype.implicit=function(e){var t=this._baseState;return n(null===t.explicit&&null===t.implicit),t.implicit=e,this},d.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},d.prototype.key=function(e){var t=this._baseState;return n(null===t.key),t.key=e,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(e){var t=this._baseState;return n(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},d.prototype.contains=function(e){var t=this._baseState;return n(null===t.use),t.contains=e,this},d.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var r,s=i.default,n=!0,o=null;if(null!==i.key&&(o=e.enterKey(i.key)),i.optional){var c=null;if(null!==i.explicit?c=i.explicit:null!==i.implicit?c=i.implicit:null!==i.tag&&(c=i.tag),null!==c||i.any){if(n=this._peekTag(e,c,i.any),e.isError(n))return n}else{var d=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),n=!0}catch(p){n=!1}e.restore(d)}}if(i.obj&&n&&(r=e.enterObject()),n){if(null!==i.explicit){var h=this._decodeTag(e,i.explicit);if(e.isError(h))return h;e=h}var u=e.offset;if(null===i.use&&null===i.choice){if(i.any)d=e.save();var l=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?s=e.raw(d):e=l}if(t&&t.track&&null!==i.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),s=i.any?s:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(s))return s;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(e,t)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var f=new a(s);s=this._getUse(i.contains,e._reporterState.obj)._decode(f,t)}}return i.obj&&n&&(s=e.leaveObject(r)),null===i.key||null===s&&!0!==n?null!==o&&e.exitKey(o):e.leaveKey(o,i.key,s),s},d.prototype._decodeGeneric=function(e,t,i){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},d.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),n(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},d.prototype._decodeChoice=function(e,t){var i=this._baseState,r=null,s=!1;return Object.keys(i.choice).some((function(a){var n=e.save(),o=i.choice[a];try{var c=o._decode(e,t);if(e.isError(c))return!1;r={type:a,value:c},s=!0}catch(d){return e.restore(n),!1}return!0}),this),s?r:e.error("Choice not matched")},d.prototype._createEncoderBuffer=function(e){return new s(e,this.reporter)},d.prototype._encode=function(e,t,i){var r=this._baseState;if(null===r.default||r.default!==e){var s=this._encodeValue(e,t,i);if(void 0!==s&&!this._skipDefault(s,t,i))return s}},d.prototype._encodeValue=function(e,t,i){var s=this._baseState;if(null===s.parent)return s.children[0]._encode(e,t||new r);var a=null;if(this.reporter=t,s.optional&&void 0===e){if(null===s.default)return;e=s.default}var n=null,o=!1;if(s.any)a=this._createEncoderBuffer(e);else if(s.choice)a=this._encodeChoice(e,t);else if(s.contains)n=this._getUse(s.contains,i)._encode(e,t),o=!0;else if(s.children)n=s.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var r=t.enterKey(i._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var s=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),s}),this).filter((function(e){return e})),n=this._createEncoderBuffer(n);else if("seqof"===s.tag||"setof"===s.tag){if(!s.args||1!==s.args.length)return t.error("Too many args for : "+s.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,n=this._createEncoderBuffer(e.map((function(i){var r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)}),c))}else null!==s.use?a=this._getUse(s.use,i)._encode(e,t):(n=this._encodePrimitive(s.tag,e),o=!0);if(!s.any&&null===s.choice){var d=null!==s.implicit?s.implicit:s.tag,h=null===s.implicit?"universal":"context";null===d?null===s.use&&t.error("Tag could be omitted only for .use()"):null===s.use&&(a=this._encodeComposite(d,o,h,n))}return null!==s.explicit&&(a=this._encodeComposite(s.explicit,!1,"context",a)),a},d.prototype._encodeChoice=function(e,t){var i=this._baseState,r=i.choice[e.type];return r||n(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},d.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},d.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},d.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},sqcK:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,AuthenticationError:n,OrderNotFound:o,InsufficientFunds:c,PermissionDenied:d,BadRequest:h,RateLimitExceeded:u,InvalidOrder:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bigone",name:"BigONE",countries:["CN"],version:"v3",rateLimit:1200,has:{cancelAllOrders:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchDeposits:!0,fetchMyTrades:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTickers:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"min1","5m":"min5","15m":"min15","30m":"min30","1h":"hour1","3h":"hour3","4h":"hour4","6h":"hour6","12h":"hour12","1d":"day1","1w":"week1","1M":"month1"},hostname:"big.one",urls:{logo:"https://user-images.githubusercontent.com/1294454/69354403-1d532180-0c91-11ea-88ed-44c06cefdf87.jpg",api:{public:"https://{hostname}/api/v3",private:"https://{hostname}/api/v3/viewer"},www:"https://big.one",doc:"https://open.big.one/docs/api.html",fees:"https://bigone.zendesk.com/hc/en-us/articles/115001933374-BigONE-Fee-Policy",referral:"https://b1.run/users/new?code=D3LLBVFT"},api:{public:{get:["ping","asset_pairs","asset_pairs/{asset_pair_name}/depth","asset_pairs/{asset_pair_name}/trades","asset_pairs/{asset_pair_name}/ticker","asset_pairs/{asset_pair_name}/candles","asset_pairs/tickers"]},private:{get:["accounts","assets/{asset_symbol}/address","orders","orders/{id}","orders/multi","trades","withdrawals","deposits"],post:["orders","orders/{id}/cancel","orders/cancel","withdrawals"]}},fees:{trading:{maker:.001,taker:.001},funding:{withdraw:{BTC:.001,ETH:.005,EOS:.01,ZEC:.003,LTC:.01,QTUM:.01,ETC:.01,GAS:0,BTS:1,GXS:.1,BITCNY:19}}},exceptions:{exact:{10001:h,10005:s,"Amount's scale must greater than AssetPair's base scale":l,10007:h,10011:s,10013:o,10014:c,10403:d,10429:u,40004:n,40103:n,40104:n,40301:d,40302:s,40601:s,40602:s,40603:c,40120:l,40121:l},broad:{}},commonCurrencies:{ONE:"BigONE Token"}})}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=this.safeValue(t,"data",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"name"),a=this.safeString(e,"id"),n=this.safeValue(e,"base_asset",{}),o=this.safeValue(e,"quote_asset",{}),c=this.safeString(n,"symbol"),d=this.safeString(o,"symbol"),h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f={amount:this.safeInteger(e,"base_scale"),price:this.safeInteger(e,"quote_scale")},p=this.safeInteger(e,"min_quote_value"),m={id:t,uuid:a,symbol:l,base:h,quote:u,baseId:c,quoteId:d,active:!0,precision:f,limits:{amount:{min:Math.pow(10,-f.amount),max:void 0},price:{min:Math.pow(10,-f.price),max:void 0},cost:{min:p,max:void 0}},info:e};r.push(m)}return r}async loadMarkets(e=!1,t={}){const i=await super.loadMarkets(e,t);let r=this.safeValue(this.options,"marketsByUuid");if(void 0===r||e){r={};for(let e=0;e<this.symbols.length;e++){const t=this.symbols[e],i=this.markets[t];r[this.safeString(i,"uuid")]=i}this.options.marketsByUuid=r}return i}parseTicker(e,t){let i=void 0;if(void 0===t){const r=this.safeString(e,"asset_pair_name");if(void 0!==r)if(r in this.markets_by_id)t=this.markets_by_id[r];else{const[e,t]=r.split("-");i=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}void 0===i&&void 0!==t&&(i=t.symbol);const r=this.milliseconds(),s=this.safeFloat(e,"close"),a=this.safeValue(e,"bid",{}),n=this.safeValue(e,"ask",{});return{symbol:i,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(a,"price"),bidVolume:this.safeFloat(a,"quantity"),ask:this.safeFloat(n,"price"),askVolume:this.safeFloat(n,"quantity"),vwap:void 0,open:this.safeFloat(e,"open"),close:s,last:s,previousClose:void 0,change:this.safeFloat(e,"daily_change"),percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={asset_pair_name:i.id},s=await this.publicGetAssetPairsAssetPairNameTicker(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.pair_names=t.join(",")}const r=await this.publicGetAssetPairsTickers(this.extend(i,t)),s=this.safeValue(r,"data",[]),a={};for(let n=0;n<s.length;n++){const e=this.parseTicker(s[n]);a[e.symbol]=e}return a}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={asset_pair_name:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetAssetPairsAssetPairNameDepth(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrderBook(a,void 0,"bids","asks","price","quantity")}parseTrade(e,t){const i=this.parse8601(this.safeString2(e,"created_at","inserted_at")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),a=this.safeString(e,"asset_pair_name");let n=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{const[e,t]=a.split("-");n=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===n&&void 0!==t&&(n=t.symbol);let o=void 0;void 0!==s&&void 0!==r&&(o=this.costToPrecision(n,r*s));let c=this.safeString(e,"side");const d=this.safeString(e,"taker_side");let h=void 0;void 0!==d&&void 0!==c&&"SELF_TRADING"!==c&&(h=d===c?"taker":"maker"),void 0===c?c="ASK"===d?"sell":"buy":"BID"===c?c="buy":"ASK"===c&&(c="sell");const u=this.safeString(e,"maker_order_id"),l=this.safeString(e,"taker_order_id");let f=void 0;void 0!==u?f=void 0!==l?[u,l]:u:void 0!==l&&(f=l);const p={id:this.safeString(e,"id"),timestamp:i,datetime:this.iso8601(i),symbol:n,order:f,type:"limit",side:c,takerOrMaker:h,price:r,amount:s,cost:parseFloat(o),info:e};let m=void 0,y=void 0;void 0!==t&&void 0!==h?"buy"===c?"maker"===h?(m=t.base,y=t.quote):(m=t.quote,y=t.base):"maker"===h?(m=t.quote,y=t.base):(m=t.base,y=t.quote):"SELF_TRADING"===c&&("BID"===d?(m=t.quote,y=t.base):"ASK"===d&&(m=t.base,y=t.quote));const b=this.safeFloat(e,"maker_fee"),v=this.safeFloat(e,"taker_fee");return void 0!==b?void 0!==v?p.fees=[{cost:b,currency:m},{cost:v,currency:y}]:p.fee={cost:b,currency:m}:p.fee=void 0!==v?{cost:v,currency:y}:void 0,p}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={asset_pair_name:s.id},n=await this.publicGetAssetPairsAssetPairNameTrades(this.extend(a,r)),o=this.safeValue(n,"data",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.parse8601(this.safeString(e,"time")),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=100);const n={asset_pair_name:a.id,period:this.timeframes[t],limit:r};if(void 0!==i){const e=this.sum(i,r*this.parseTimeframe(t)*1e3);n.time=this.iso8601(e)}const o=await this.publicGetAssetPairsAssetPairNameCandles(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccounts(e),i={info:t},r=this.safeValue(t,"data",[]);for(let s=0;s<r.length;s++){const e=r[s],t=this.safeString(e,"asset_symbol"),a=this.safeCurrencyCode(t),n=this.account();n.total=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"locked_balance"),i[a]=n}return this.parseBalance(i)}parseOrder(e,t){const i=this.safeString(e,"id");let r=void 0;if(void 0===t){const i=this.safeString(e,"asset_pair_name");if(void 0!==i)if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[e,t]=i.split("-");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}}void 0===r&&void 0!==t&&(r=t.symbol);const s=this.parse8601(this.safeString(e,"created_at")),a=this.safeFloat(e,"price"),n=this.safeFloat(e,"amount"),o=this.safeFloat(e,"filled_amount");let c=void 0;void 0!==n&&void 0!==o&&(c=Math.max(0,n-o));const d=this.parseOrderStatus(this.safeString(e,"state"));let h=this.safeString(e,"side");h="BID"===h?"buy":"sell";let u=void 0;void 0!==o&&void 0!==a&&(u=o*a);const l=this.parse8601(this.safeString(e,"updated_at")),f=this.safeFloat(e,"avg_deal_price");return{info:e,id:i,timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:l,symbol:r,type:void 0,side:h,price:a,amount:n,cost:u,average:f,filled:o,remaining:c,status:d,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e);i="buy"===i?"BID":"ASK";const o={asset_pair_name:n.id,side:i,amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s)},c=await this.privatePostOrders(this.extend(o,a)),d=this.safeValue(c,"data");return this.parseOrder(d,n)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrdersIdCancel(this.extend(r,i)),a=this.safeValue(s,"data");return this.parseOrder(a)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i={asset_pair_name:this.market(e).id};return await this.privatePostOrdersCancel(this.extend(i,t))}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i)),a=this.safeValue(s,"data",{});return this.parseOrder(a)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={asset_pair_name:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetOrders(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseOrders(c,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new a(this.id+" fetchMyTrades() requires a symbol argument");const s=this.market(e),n={asset_pair_name:s.id};void 0!==i&&(n.limit=i);const o=await this.privateGetTrades(this.extend(n,r)),c=this.safeValue(o,"data",[]);return this.parseTrades(c,s,t,i,r)}parseOrderStatus(e){return this.safeString({PENDING:"open",FILLED:"closed",CANCELLED:"canceled"},e)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"PENDING"},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({state:"FILLED"},r))}nonce(){return 1e3*this.microseconds()}sign(e,t="public",i="GET",r={},s,a){const n=this.omit(r,this.extractParams(e));let o=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/"+this.implodeParams(e,r);if("public"===t)Object.keys(n).length&&(o+="?"+this.urlencode(n));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t={type:"OpenAPIV2",sub:this.apiKey,nonce:e};s={Authorization:"Bearer "+this.jwt(t,this.encode(this.secret))},"GET"===i?Object.keys(n).length&&(o+="?"+this.urlencode(n)):"POST"===i&&(s["Content-Type"]="application/json",a=this.json(n))}return{url:o,method:i,body:a,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={asset_symbol:this.currency(e).id},r=await this.privateGetAssetsAssetSymbolAddress(this.extend(i,t)),a=this.safeValue(r,"data",[]);if(a.length<1)throw new s(this.id+"fetchDepositAddress() returned empty address response");const n=a[0],o=this.safeString(n,"value"),c=this.safeString(n,"memo");return this.checkAddress(o),{currency:e,address:o,tag:c,info:r}}parseTransactionStatus(e){return this.safeString({WITHHOLD:"ok",UNCONFIRMED:"pending",CONFIRMED:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"asset_symbol"),r=this.safeCurrencyCode(i),s=this.safeInteger(e,"id"),a=this.safeFloat(e,"amount"),n=this.parseTransactionStatus(this.safeString(e,"state")),o=this.parse8601(this.safeString(e,"inserted_at")),c=this.parse8601(this.safeString2(e,"updated_at","completed_at")),d=this.safeString(e,"txid"),h=this.safeString(e,"target_address"),u=this.safeString(e,"memo"),l="customer_id"in e?"deposit":"withdrawal";return{info:e,id:s,txid:d,timestamp:o,datetime:this.iso8601(o),addressFrom:void 0,address:void 0,addressTo:h,tagFrom:void 0,tag:u,tagTo:void 0,type:l,amount:a,currency:r,status:n,updated:c,fee:void 0}}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.asset_symbol=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetDeposits(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.asset_symbol=a.id),void 0!==i&&(s.limit=i);const n=await this.privateGetWithdrawals(this.extend(s,r)),o=this.safeValue(n,"data",[]);return this.parseTransactions(o,e,t,i)}async withdraw(e,t,i,r,a={}){await this.loadMarkets();const n=this.currency(e),o={symbol:n.id,target_address:i,amount:this.currencyToPrecision(e,t)};void 0!==r&&(o.memo=r);const c=await this.privatePostWithdrawals(this.extend(o,a)),d=this.safeValue(c,"data",[]);if(d.length<1)throw new s(this.id+" withdraw() returned an empty response");const h=d[0];return this.parseTransaction(h,n)}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if("0"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),this.throwExactlyMatchedException(this.exceptions.exact,h,e),this.throwBroadlyMatchedException(this.exceptions.broad,u,e),new s(e)}}}},srjw:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,AuthenticationError:a,ArgumentsRequired:n,BadRequest:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,PermissionDenied:u}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"oceanex",name:"OceanEx",countries:["US"],version:"v1",rateLimit:3e3,urls:{logo:"https://user-images.githubusercontent.com/1294454/58385970-794e2d80-8001-11e9-889c-0567cd79b78e.jpg",api:"https://api.oceanex.pro",www:"https://www.oceanex.pro.com",doc:"https://api.oceanex.pro/doc/v1",referral:"https://oceanex.pro/signup?referral=VE24QX"},has:{fetchMarkets:!0,fetchCurrencies:!1,fetchTicker:!0,fetchTickers:!0,fetchOrderBook:!0,fetchOrderBooks:!0,fetchTrades:!0,fetchTradingLimits:!1,fetchTradingFees:!1,fetchAllTradingFees:!0,fetchFundingFees:!1,fetchTime:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchBalance:!0,createMarketOrder:!0,createOrder:!0,cancelOrder:!0,cancelOrders:!0,cancelAllOrders:!0},timeframes:{"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","12h":"12h","1d":"1d","1w":"1w"},api:{public:{get:["markets","tickers/{pair}","tickers_multi","order_book","order_book/multi","fees/trading","trades","timestamp"]},private:{get:["key","members/me","orders","orders/filter"],post:["orders","orders/multi","order/delete","order/delete/multi","orders/clear"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},exceptions:{codes:{"-1":o,"-2":o,1001:o,1004:n,1006:a,1008:a,1010:a,1011:u,2001:a,2002:c,2004:h,9003:u},exact:{"market does not have a valid value":o,"side does not have a valid value":o,"Account::AccountError: Cannot lock funds":d,"The account does not exist":a}}})}async fetchMarkets(e={}){const t=await this.publicGetMarkets(this.extend({show_details:!0},e)),i=[],r=this.safeValue(t,"data");for(let s=0;s<r.length;s++){const e=r[s],t=this.safeValue(e,"id"),a=this.safeValue(e,"name");let[n,o]=a.split("/");const c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o);n=n.toLowerCase(),o=o.toLowerCase();const h=c+"/"+d;i.push({id:t,symbol:h,base:c,quote:d,baseId:n,quoteId:o,active:!0,info:e,precision:{amount:this.safeValue(e,"amount_precision"),price:this.safeValue(e,"price_precision"),base:this.safeValue(e,"ask_precision"),quote:this.safeValue(e,"bid_precision")},limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:this.safeValue(e,"minimum_trading_amount"),max:void 0}}})}return i}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTickersPair(this.extend(r,t)),a=this.safeValue(s,"data",{});return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const i={markets:this.marketIds(e)},r=await this.publicGetTickersMulti(this.extend(i,t)),s=this.safeValue(r,"data"),a={};for(let n=0;n<s.length;n++){const e=s[n],t=this.safeString(e,"market"),i=this.markets_by_id[t];a[i.symbol]=this.parseTicker(e,i)}return a}parseTicker(e,t){const i=this.safeValue(e,"ticker",{}),r=this.safeTimestamp(e,"at");return{symbol:t.symbol,timestamp:r,datetime:this.iso8601(r),high:this.safeFloat(i,"high"),low:this.safeFloat(i,"low"),bid:this.safeFloat(i,"buy"),bidVolume:void 0,ask:this.safeFloat(i,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:this.safeFloat(i,"last"),last:this.safeFloat(i,"last"),previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(i,"volume"),quoteVolume:void 0,info:i}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i)),a=this.safeValue(s,"data",{}),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,n)}async fetchOrderBooks(e,t,i={}){await this.loadMarkets(),void 0===e&&(e=this.symbols);const r={markets:this.marketIds(e)};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBookMulti(this.extend(r,i)),a=this.safeValue(s,"data",[]),n={};for(let o=0;o<a.length;o++){const e=a[o],t=this.safeString(e,"market"),i=this.markets_by_id[t].symbol,r=this.safeTimestamp(e,"timestamp");n[i]=this.parseOrderBook(e,r)}return n}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"data");return this.parseTrades(o,s,t,i)}parseTrade(e,t){let i=this.safeValue(e,"side");"bid"===i?i="buy":"ask"===i&&(i="sell");let r=void 0;const s=this.safeValue(e,"market");void 0!==s&&(r=s in this.markets_by_id?(t=this.markets_by_id[s]).symbol:s),void 0===r&&void 0!==t&&(r=t.symbol);let a=this.safeTimestamp(e,"created_on");return void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),{info:e,timestamp:a,datetime:this.iso8601(a),symbol:r,id:this.safeString(e,"id"),order:void 0,type:"limit",takerOrMaker:void 0,side:i,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:void 0,fee:void 0}}async fetchTime(e={}){const t=await this.publicGetTimestamp(e);return this.safeTimestamp(t,"data")}async fetchAllTradingFees(e={}){const t=await this.publicGetFeesTrading(e),i=this.safeValue(t,"data"),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeValue(e,"ask_fee",{}),a=this.safeValue(e,"bid_fee",{}),n=this.safeString(e,"market");let o=n;n in this.markets_by_id&&(o=this.markets_by_id[n].symbol),r[o]={info:e,symbol:o,maker:this.safeFloat(t,"value"),taker:this.safeFloat(a,"value")}}return r}async fetchKey(e={}){const t=await this.privateGetKey(e);return this.safeValue(t,"data")}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"data"),r=this.safeValue(i,"accounts"),s={info:t};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeValue(e,"currency"),i=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"locked"),s[i]=n}return this.parseBalance(s)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={market:n.id,side:i,ord_type:t,volume:this.amountToPrecision(e,r)};"limit"===t&&(o.price=this.priceToPrecision(e,s));const c=await this.privatePostOrders(this.extend(o,a)),d=this.safeValue(c,"data");return this.parseOrder(d,n)}async fetchOrder(e,t,i={}){let r=e;Array.isArray(e)||(r=[e]),await this.loadMarkets();let s=void 0;void 0!==t&&(s=this.market(t));const a={ids:r},n=await this.privateGetOrders(this.extend(a,i)),o=this.safeValue(n,"data"),c=o.length;if(void 0===o)throw new h(this.id+" could not found matching order");if(Array.isArray(e))return this.parseOrders(o,s);if(0===c)throw new h(this.id+" could not found matching order");return this.parseOrder(o[0],s)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:["wait"]},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({states:["done","cancel"]},r))}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchOrders requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a=this.safeValue(r,"states",["wait","done","cancel"]),o=this.omit(r,"states"),c={market:s.id,states:a,need_price:"True"};void 0!==i&&(c.limit=i);const d=await this.privateGetOrdersFilter(this.extend(c,o)),h=this.safeValue(d,"data",[]);let u=[];for(let n=0;n<h.length;n++){const e=this.safeValue(h[n],"orders",[]),r=this.parseOrderStatus(this.safeValue(h[n],"state")),a=this.parseOrders(e,s,t,i,{status:r});u=this.arrayConcat(u,a)}return u}parseOrder(e,t){const i=this.parseOrderStatus(this.safeValue(e,"state")),r=this.safeValue2(e,"market","market_id");let s=void 0;void 0!==r&&(s=r in this.markets_by_id?(t=this.markets_by_id[r]).symbol:r),void 0===s&&void 0!==t&&(s=t.symbol);let a=this.safeTimestamp(e,"created_on");return void 0===a&&(a=this.parse8601(this.safeString(e,"created_at"))),{info:e,id:this.safeString(e,"id"),timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:void 0,symbol:s,type:this.safeValue(e,"ord_type"),side:this.safeValue(e,"side"),price:this.safeFloat(e,"price"),average:this.safeFloat(e,"avg_price"),amount:this.safeFloat(e,"volume"),remaining:this.safeFloat(e,"remaining_volume"),filled:this.safeFloat(e,"executed_volume"),status:i,cost:void 0,trades:void 0,fee:void 0}}parseOrderStatus(e){return this.safeString({wait:"open",done:"closed",cancel:"canceled"},e,e)}async createOrders(e,t,i={}){await this.loadMarkets();const r={market:this.market(e).id,orders:t},s=(await this.privatePostOrdersMulti(this.extend(r,i))).data;return this.parseOrders(s)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDelete(this.extend({id:e},i)),s=this.safeValue(r,"data");return this.parseOrder(s)}async cancelOrders(e,t,i={}){await this.loadMarkets();const r=await this.privatePostOrderDeleteMulti(this.extend({ids:e},i)),s=this.safeValue(r,"data");return this.parseOrders(s)}async cancelAllOrders(e,t={}){await this.loadMarkets();const i=await this.privatePostOrdersClear(t),r=this.safeValue(i,"data");return this.parseOrders(r)}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)if("tickers_multi"===e||"order_book/multi"===e){let e="?";const t=this.safeValue(r,"markets");for(let r=0;r<t.length;r++)e+="markets[]="+t[r]+"&";const i=this.safeValue(r,"limit");void 0!==i&&(e+="limit="+i),n+=e}else Object.keys(o).length&&(n+="?"+this.urlencode(o));else if("private"===t){this.checkRequiredCredentials();const e={uid:this.apiKey,data:o};n+="?user_jwt="+this.jwt(e,this.encode(this.secret),"RS256")}return{url:n,method:i,body:a,headers:{"Content-Type":"application/json"}}}handleErrors(e,t,i,r,a,n,o,c,d){if(void 0===o)return;const h=this.safeString(o,"code"),u=this.safeString(o,"message");if(void 0!==h&&"0"!==h){const e=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions.codes,h,e),this.throwExactlyMatchedException(this.exceptions.exact,u,e),new s(o)}}}},svUv:function(e,t,i){"use strict";const r=i("uS8B");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"surbitcoin",name:"SurBitcoin",countries:["VE"],has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/27991511-f0a50194-6481-11e7-99b5-8f02932424cc.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://surbitcoin.com",doc:"https://blinktrade.com/docs"},options:{brokerId:"1"}})}}},"sw1+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineReadOnly=function(e,t,i){Object.defineProperty(e,t,{enumerable:!0,value:i,writable:!1})},t.defineFrozen=function(e,t,i){var r=JSON.stringify(i);Object.defineProperty(e,t,{enumerable:!0,get:function(){return JSON.parse(r)}})},t.resolveProperties=function(e){var t={},i=[];return Object.keys(e).forEach((function(r){var s=e[r];s instanceof Promise?i.push(s.then((function(e){return t[r]=e,null}))):t[r]=s})),Promise.all(i).then((function(){return t}))},t.shallowCopy=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.jsonCopy=function(e){return JSON.parse(JSON.stringify(e))}},t5I8:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,ArgumentsRequired:n,DDoSProtection:o,InsufficientFunds:c,InvalidOrder:d,OrderNotFound:h,AuthenticationError:u,BadRequest:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"okcoinusd",name:"OKCoin USD",countries:["CN","US"],version:"v1",rateLimit:1e3,has:{CORS:!1,fetchOHLCV:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchTickers:!0,withdraw:!0,futures:!1},extension:".do",timeframes:{"1m":"1min","3m":"3min","5m":"5min","15m":"15min","30m":"30min","1h":"1hour","2h":"2hour","4h":"4hour","6h":"6hour","12h":"12hour","1d":"1day","3d":"3day","1w":"1week"},api:{v3:{get:["futures/pc/market/futuresCoin"]},web:{get:["futures/pc/market/marketOverview","spot/markets/index-tickers","spot/markets/currencies","spot/markets/products","spot/markets/tickers","spot/user-level"],post:["futures/pc/market/futuresCoin"]},public:{get:["depth","exchange_rate","future_depth","future_estimated_price","future_hold_amount","future_index","future_kline","future_price_limit","future_ticker","future_trades","kline","otcs","ticker","tickers","trades"]},private:{post:["account_records","batch_trade","borrow_money","borrow_order_info","borrows_info","cancel_borrow","cancel_order","cancel_otc_order","cancel_withdraw","funds_transfer","future_batch_trade","future_cancel","future_devolve","future_explosive","future_order_info","future_orders_info","future_position","future_position_4fix","future_trade","future_trades_history","future_userinfo","future_userinfo_4fix","lend_depth","order_fee","order_history","order_info","orders_info","otc_order_history","otc_order_info","repayment","submit_otc_order","trade","trade_history","trade_otc_order","wallet_info","withdraw","withdraw_info","unrepayments_info","userinfo"]}},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766791-89ffb502-5ee5-11e7-8a5b-c5950b68ac65.jpg",api:{v3:"https://www.okcoin.com/v3",web:"https://www.okcoin.com/v2",public:"https://www.okcoin.com/api",private:"https://www.okcoin.com"},www:"https://www.okcoin.com",doc:["https://www.okcoin.com/docs/en/","https://www.npmjs.com/package/okcoin.com"],referral:"https://www.okcoin.com/account/register?flag=activity&channelId=600001513",fees:"https://support.okcoin.com/hc/en-us/articles/360015261532-OKCoin-Fee-Rates"},fees:{trading:{taker:.002,maker:.001}},exceptions:{1e4:a,10001:o,10005:u,10006:u,10007:u,1002:c,1003:d,1004:d,1013:d,1027:d,1050:d,1217:d,10014:d,1009:h,1019:h,1051:h,10009:h,20015:h,10008:l,1007:s},options:{marketBuyPrice:!1,fetchOHLCVWarning:!0,contractTypes:{1:"this_week",2:"next_week",4:"quarter"},fetchTickersMethod:"fetch_tickers_from_api"}})}async fetchMarkets(e={}){const t=[],i=await this.webGetSpotMarketsProducts(),r=this.safeValue(i,"data",[]);let s=r;if(this.has.futures){const e=await this.v3GetFuturesPcMarketFuturesCoin({currencyCode:0}),t=this.safeValue(e,"data",{}),i=this.safeValue(t,"usd",[]);s=this.arrayConcat(r,i)}for(let a=0;a<s.length;a++){const e=s[a],i=this.safeString(e,"symbol");let r=void 0,n=void 0,o=void 0,c=void 0,d=void 0,h=void 0,u=void 0,l=void 0,f=void 0;const p={amount:this.safeInteger(e,"maxSizeDigit"),price:this.safeInteger(e,"maxPriceDigit")},m=this.safeFloat(e,"minTradeSize"),y=Math.pow(10,-p.price);let b=this.safeValue(e,"contracts");if(void 0===b){l=i;const t=i.split("_");c=t[0],d=t[1],h=this.safeInteger(e,"baseCurrency"),u=this.safeInteger(e,"quoteCurrency"),n=this.safeCurrencyCode(c),o=this.safeCurrencyCode(d),b=[{}]}else d=this.safeStringLower2(e,"quote","denomination"),f=this.safeStringLower(e,"symbolDesc"),c=f.toLowerCase(),l=c+"_"+d,n=this.safeCurrencyCode(f),o=this.safeCurrencyCode(d);for(let s=0;s<b.length;s++){const a=b[s];let f=this.safeString(a,"type","spot"),v=void 0,g=!0,w=!1,k=!0;if("spot"===f)r=n+"/"+o,k=0!==e.online;else{r=n+"-"+o+"-"+this.safeString(a,"id").slice(2,8),v=this.safeString(this.options.contractTypes,f),f="future",g=!1,w=!0}const _=this.safeValue2(this.fees,f,"trading",{});t.push(this.extend(_,{id:i,lowercaseId:l,contractType:v,symbol:r,base:n,quote:o,baseId:c,quoteId:d,baseNumericId:h,quoteNumericId:u,info:e,type:f,spot:g,future:w,active:k,precision:p,limits:{amount:{min:m,max:void 0},price:{min:y,max:void 0},cost:{min:m*y,max:void 0}}}))}}return t}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=parseFloat(this.costToPrecision(e,r*d));return"sell"===i?h*=s:c="base",{type:a,currency:o[c],rate:d,cost:parseFloat(this.feeToPrecision(e,h))}}async fetchTickersFromApi(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(this.extend({},t)),r=i.tickers,s=this.safeTimestamp(i,"date"),a={};for(let n=0;n<r.length;n++){let e=r[n];e=this.parseTicker(this.extend(r[n],{timestamp:s})),a[e.symbol]=e}return a}async fetchTickersFromWeb(e,t={}){await this.loadMarkets();const i=await this.webGetSpotMarketsTickers(this.extend({},t)),r=this.safeValue(i,"data"),s={};for(let a=0;a<r.length;a++){const e=this.parseTicker(r[a]);s[e.symbol]=e}return s}async fetchTickers(e,t={}){const i=this.options.fetchTickersMethod;return await this[i](e,t)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s=r.future?"publicGetFutureDepth":"publicGetDepth",a=this.createRequest(r,i);void 0!==t&&(a.size=t);const n=await this[s](a);return this.parseOrderBook(n)}parseTicker(e,t){const i=this.safeInteger2(e,"timestamp","createdDate");let r=void 0;if(void 0===t&&"symbol"in e){const i=e.symbol;if(i in this.markets_by_id)t=this.markets_by_id[i];else{const[t,i]=e.symbol.split("_");r=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}}void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last"),a=this.safeFloat(e,"open"),n=this.safeFloat(e,"change"),o=this.safeFloat(e,"changePercentage");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),bidVolume:void 0,ask:this.safeFloat(e,"sell"),askVolume:void 0,vwap:void 0,open:a,close:s,last:s,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:this.safeFloat2(e,"vol","volume"),quoteVolume:void 0,info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=i.future?"publicGetFutureTicker":"publicGetTicker",s=this.createRequest(i,t),n=await this[r](s);let o=this.safeValue(n,"ticker");if(void 0===o)throw new a(this.id+" fetchTicker returned an empty response: "+this.json(n));const c=this.safeTimestamp(n,"date");return void 0!==c&&(o=this.extend(o,{timestamp:c})),this.parseTicker(o,i)}parseTrade(e,t){let i=void 0;t&&(i=t.symbol);const r=this.safeInteger(e,"date_ms"),s=this.safeString(e,"tid"),a=this.safeString(e,"type"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;return void 0!==n&&void 0!==o&&(c=n*o),{id:s,info:e,timestamp:r,datetime:this.iso8601(r),symbol:i,order:void 0,type:void 0,side:a,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=s.future?"publicGetFutureTrades":"publicGetTrades",n=this.createRequest(s,r),o=await this[a](n);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="1m",r,s){const a=e.length>6?6:5;return[e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[a])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const n=this.market(e),o=n.future?"publicGetFutureKline":"publicGetKline",c=this.createRequest(n,{type:this.timeframes[t]});if(void 0!==i&&(c.since=parseInt((this.milliseconds()-864e5)/1e3)),void 0!==r){if(this.options.fetchOHLCVWarning)throw new a(this.id+' fetchOHLCV counts "limit" candles backwards in chronological ascending order, therefore the "limit" argument for '+this.id+" is disabled. Set "+this.id+'.options["fetchOHLCVWarning"] = false to suppress this warning message.');c.size=parseInt(r)}const d=await this[o](this.extend(c,s));return this.parseOHLCVs(d,n,t,i,r)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostUserinfo(e),i=this.safeValue(t,"info",{}),r=this.safeValue(i,"funds",{}),s={info:t};let a=Object.keys(r.free),n="freezed";n in r||(n="holds");const o=Object.keys(r[n]);a=this.arrayConcat(a,o);for(let c=0;c<a.length;c++){const e=a[c],t=this.safeCurrencyCode(e),i=this.account();i.free=this.safeFloat(r.free,e),i.used=this.safeFloat(r[n],e),s[t]=i}return this.parseBalance(s)}async createOrder(e,t,i,r,s,n={}){await this.loadMarkets();const o=this.market(e),c=o.future?"privatePostFutureTrade":"privatePostTrade",d="market"===t?i+"_market":i,h=o.spot&&"market"===t&&"buy"===i&&!this.options.marketBuyPrice?this.safeFloat(n,"cost"):s,u=this.createRequest(o,{type:d});if(o.future)u.match_price="market"===t?1:0,u.lever_rate=10,u.type="buy"===i?"1":"2";else if("market"===t)if("buy"===i){if(!h)throw this.options.marketBuyPrice?new a(this.id+" market buy orders require a price argument (the amount you want to spend or the cost of the order) when this.options['marketBuyPrice'] is true."):new a(this.id+" market buy orders require an additional cost parameter, cost = price * amount. If you want to pass the cost of the market order (the amount you want to spend) in the price argument (the default "+this.id+" behaviour), set this.options['marketBuyPrice'] = true. It will effectively suppress this warning exception as well.");u.price=h}else u.amount=r;"market"!==t&&(u.price=h,u.amount=r),n=this.omit(n,"cost");const l=await this[c](this.extend(u,n)),f=this.milliseconds();return{info:l,id:this.safeString(l,"order_id"),timestamp:f,datetime:this.iso8601(f),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:t,side:i,price:s,amount:r,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder() requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.future?"privatePostFutureCancel":"privatePostCancelOrder",a=this.createRequest(r,{order_id:e});return await this[s](this.extend(a,i))}parseOrderStatus(e){return this.safeValue({"-1":"canceled",0:"open",1:"open",2:"closed",3:"open",4:"canceled"},e,e)}parseOrderSide(e){return 1===e?"buy":2===e?"sell":3===e?"sell":4===e?"buy":e}parseOrder(e,t){let i=void 0,r=void 0;"type"in e&&("buy"===e.type||"sell"===e.type?(i=e.type,r="limit"):"buy_market"===e.type?(i="buy",r="market"):"sell_market"===e.type?(i="sell",r="market"):(i=this.parseOrderSide(e.type),("contract_name"in e||"lever_rate"in e)&&(r="margin")));const s=this.parseOrderStatus(this.safeString(e,"status"));let a=void 0;if(void 0===t){const i=this.safeString(e,"symbol");i in this.markets_by_id&&(t=this.markets_by_id[i])}t&&(a=t.symbol);const n=this.getCreateDateField(),o=this.safeInteger(e,n);let c=this.safeFloat(e,"amount");const d=this.safeFloat(e,"deal_amount");c=Math.max(c,d);let h=Math.max(0,c-d);"market"===r&&(h=0);let u=this.safeFloat(e,"avg_price");u=this.safeFloat(e,"price_avg",u);const l=u*d;return{info:e,id:this.safeString(e,"order_id"),timestamp:o,datetime:this.iso8601(o),lastTradeTimestamp:void 0,symbol:a,type:r,side:i,price:this.safeFloat(e,"price"),average:u,cost:l,amount:c,filled:d,remaining:h,status:s,fee:void 0}}getCreateDateField(){return"create_date"}getOrdersField(){return"orders"}async fetchOrder(e,t,i={}){if(void 0===t)throw new a(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s=r.future?"privatePostFutureOrderInfo":"privatePostOrderInfo",n=this.createRequest(r,{order_id:e}),o=await this[s](this.extend(n,i)),c=this.getOrdersField();if(o[c].length>0)return this.parseOrder(o[c][0]);throw new h(this.id+" order "+e+" not found")}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();const s=this.market(e);let n=s.future?"privatePostFutureOrdersInfo":"privatePost",o=this.createRequest(s);const c="order_id"in r;if(s.future){if(!c)throw new a(this.id+" fetchOrders() requires order_id param for futures market "+e+" (a string of one or more order ids, comma-separated)")}else{const t="type"in r?r.type:r.status;if("undefined"===typeof t){const t=c?"type":"status";throw new a(this.id+" fetchOrders() requires "+t+" param for spot market "+e+" (0 - for unfilled orders, 1 - for filled/canceled orders)")}c?(n+="OrdersInfo",o=this.extend(o,{type:t,order_id:r.order_id})):(n+="OrderHistory",o=this.extend(o,{status:t,current_page:1,page_length:200})),r=this.omit(r,["type","status"])}const d=await this[n](this.extend(o,r)),h=this.getOrdersField();return this.parseOrders(d[h],s,t,i)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:0},r))}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrders(e,t,i,this.extend({status:1},r))}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets(),r&&(i=i+":"+r);const n={symbol:this.currency(e).id+"_usd",withdraw_address:i,withdraw_amount:t,target:"address"};let o=s;if(!("chargefee"in o))throw new a(this.id+" withdraw() requires a `chargefee` parameter");if(n.chargefee=o.chargefee,o=this.omit(o,"chargefee"),this.password?n.trade_pwd=this.password:"password"in o?(n.trade_pwd=o.password,o=this.omit(o,"password")):"trade_pwd"in o&&(n.trade_pwd=o.trade_pwd,o=this.omit(o,"trade_pwd")),!("trade_pwd"in n))throw new a(this.id+" withdraw() requires this.password set on the exchange instance or a password / trade_pwd parameter");const c=await this.privatePostWithdraw(this.extend(n,o));return{info:c,id:this.safeString(c,"withdraw_id")}}sign(e,t="public",i="GET",r={},s,a){let n="/";const o="web"===t||"v3"===t;if(o||(n+=this.version+"/"),n+=e,o||(n+=this.extension),"private"===t){this.checkRequiredCredentials();const e=this.keysort(this.extend({api_key:this.apiKey},r)),t=this.rawencode(e)+"&secret_key="+this.secret;e.sign=this.hash(this.encode(t)).toUpperCase(),a=this.urlencode(e),s={"Content-Type":"application/x-www-form-urlencoded"}}else Object.keys(r).length&&(n+="?"+this.urlencode(r));return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}createRequest(e,t={}){return e.future?this.deepExtend({symbol:e.lowercaseId,contract_type:e.contractType},t):this.deepExtend({symbol:e.id},t)}handleErrors(e,t,i,r,s,n,o,c,d){if(void 0!==o){if("error_code"in o){const e=this.safeString(o,"error_code"),t=this.id+" "+n;throw this.throwExactlyMatchedException(this.exceptions,e,t),new a(t)}if("result"in o&&!o.result)throw new a(this.id+" "+n)}}}},t5Qd:function(e,t,i){e.exports=i("5Ekh").PassThrough},t6uJ:function(e,t,i){"use strict";var r=i("8kJ5"),s=i("O477"),a=i("fOyB"),n=i("cFST"),o=i("Wxe8"),c=a.assert,d=i("phCo"),h=i("DQGM");function u(e){if(!(this instanceof u))return new u(e);"string"===typeof e&&(c(n.hasOwnProperty(e),"Unknown curve "+e),e=n[e]),e instanceof n.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=u,u.prototype.keyPair=function(e){return new d(this,e)},u.prototype.keyFromPrivate=function(e,t){return d.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return d.fromPublic(this,e,t)},u.prototype.genKeyPair=function(e){e||(e={});for(var t=new s({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),a=this.n.sub(new r(2));;){var n=new r(t.generate(i));if(!(n.cmp(a)>0))return n.iaddn(1),this.keyFromPrivate(n)}},u.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(e,t,i,a){"object"===typeof i&&(a=i,i=null),a||(a={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new r(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),d=new s({hash:this.hash,entropy:o,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),u=this.n.sub(new r(1)),l=0;;l++){var f=a.k?a.k(l):new r(d.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var b=f.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return a.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new h({r:y,s:b,recoveryParam:v})}}}}}},u.prototype.verify=function(e,t,i,s){e=this._truncateToN(new r(e,16)),i=this.keyFromPublic(i,s);var a=(t=new h(t,"hex")).r,n=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;var o,c=n.invm(this.n),d=c.mul(e).umod(this.n),u=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(d,i.getPublic(),u)).isInfinity()&&o.eqXToP(a):!(o=this.g.mulAdd(d,i.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(a)},u.prototype.recoverPubKey=function(e,t,i,s){c((3&i)===i,"The recovery param is more than two bits"),t=new h(t,s);var a=this.n,n=new r(e),o=t.r,d=t.s,u=1&i,l=i>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");o=l?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var f=t.r.invm(a),p=a.sub(n).mul(f).umod(a),m=d.mul(f).umod(a);return this.g.mulAdd(p,o,m)},u.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new h(t,r)).recoveryParam)return t.recoveryParam;for(var s=0;s<4;s++){var a;try{a=this.recoverPubKey(e,t,s)}catch(e){continue}if(a.eq(i))return s}throw new Error("Unable to find valid recovery factor")}},tFbo:function(e,t,i){var r=t;r.utils=i("HpGB"),r.common=i("DDMh"),r.sha=i("viEW"),r.ripemd=i("/QGi"),r.hmac=i("r6R4"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},tXvY:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,AuthenticationError:n,ArgumentsRequired:o,ExchangeNotAvailable:c}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bw",name:"BW",countries:["CN"],rateLimit:1500,version:"v1",has:{cancelAllOrders:!1,cancelOrder:!0,cancelOrders:!1,CORS:!1,createDepositAddress:!1,createLimitOrder:!0,createMarketOrder:!1,createOrder:!0,deposit:!1,editOrder:!1,fetchBalance:!0,fetchBidsAsks:!1,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchL2OrderBook:!1,fetchLedger:!1,fetchMarkets:!0,fetchMyTrades:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrderBook:!0,fetchOrderBooks:!1,fetchOrders:!0,fetchTicker:!0,fetchTickers:!0,fetchTrades:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTradingLimits:!1,fetchTransactions:!1,fetchWithdrawals:!0,privateAPI:!1,publicAPI:!1,withdraw:!1},timeframes:{"1m":"1M","5m":"5M","15m":"15M","30m":"30M","1h":"1H","1w":"1W"},hostname:"bw.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/69436317-31128c80-0d52-11ea-91d1-eb7bb5818812.jpg",api:"https://www.{hostname}",www:"https://www.bw.com",doc:"https://github.com/bw-exchange/api_docs_en/wiki",fees:"https://www.bw.com/feesRate"},requiredCredentials:{apiKey:!0,secret:!0},fees:{trading:{tierBased:!0,percentage:!0,taker:.002,maker:.002,tiers:{taker:[[0,.002]],maker:[[0,.002]]}},funding:{}},exceptions:{exact:{999:n,1e3:c,5017:s}},api:{public:{get:["api/data/v1/klines","api/data/v1/ticker","api/data/v1/tickers","api/data/v1/trades","api/data/v1/entrusts","exchange/config/controller/website/marketcontroller/getByWebId","exchange/config/controller/website/currencycontroller/getCurrencyList"]},private:{get:["exchange/entrust/controller/website/EntrustController/getEntrustById","exchange/entrust/controller/website/EntrustController/getUserEntrustRecordFromCacheWithPage","exchange/entrust/controller/website/EntrustController/getUserEntrustList","exchange/fund/controller/website/fundwebsitecontroller/getwithdrawaddress","exchange/fund/controller/website/fundwebsitecontroller/getpayoutcoinrecord","exchange/entrust/controller/website/EntrustController/getUserEntrustList"],post:["exchange/fund/controller/website/fundcontroller/getPayinAddress","exchange/fund/controller/website/fundcontroller/getPayinCoinRecord","exchange/fund/controller/website/fundcontroller/findbypage","exchange/entrust/controller/website/EntrustController/addEntrust","exchange/entrust/controller/website/EntrustController/cancelEntrust"]}}})}async fetchMarkets(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteMarketcontrollerGetByWebId(e),i=this.safeValue(t,"datas",[]),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"marketId"),a=parseInt(t),n=this.safeStringUpper(e,"name");let[o,c]=n.split("_");o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=this.safeString(e,"sellerCurrencyId"),h=this.safeString(e,"buyerCurrencyId"),u=parseInt(d),l=parseInt(h),f=o+"/"+c,p=1===this.safeInteger(e,"state"),m=this.safeFloat(e,"defaultFee");r.push({id:t,active:p,numericId:a,symbol:f,base:o,quote:c,baseId:d,quoteId:h,baseNumericId:u,quoteNumericId:l,maker:m,taker:m,info:e,precision:{amount:this.safeInteger(e,"amountDecimal"),price:this.safeInteger(e,"priceDecimal")},limits:{amount:{min:this.safeFloat(e,"minAmount"),max:void 0},price:{min:0,max:void 0},cost:{min:0,max:void 0}}})}return r}async fetchCurrencies(e={}){const t=await this.publicGetExchangeConfigControllerWebsiteCurrencycontrollerGetCurrencyList(e),i=this.safeValue(t,"datas",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currencyId"),a=this.safeCurrencyCode(this.safeStringUpper(e,"name")),n=1===this.safeInteger(e,"state");r[a]={id:t,code:a,info:e,name:a,active:n,fee:this.safeFloat(e,"drawFee"),precision:void 0,limits:{amount:{min:this.safeFloat(e,"limitAmount",0),max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:parseFloat(this.safeInteger(e,"onceDrawLimit"))}}}}return r}parseTicker(e,t){let i=void 0;const r=this.safeString(e,0);r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0===i&&void 0!==t&&(i=t.symbol);const s=this.milliseconds(),a=parseFloat(this.safeValue(e,1)),n=this.safeValue(e,"bid",{}),o=this.safeValue(e,"ask",{});return{symbol:i,timestamp:s,datetime:this.iso8601(s),high:parseFloat(this.safeValue(e,2)),low:parseFloat(this.safeValue(e,3)),bid:parseFloat(this.safeValue(e,7)),bidVolume:this.safeFloat(n,"quantity"),ask:parseFloat(this.safeValue(e,8)),askVolume:this.safeFloat(o,"quantity"),vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:parseFloat(this.safeValue(e,5)),percentage:void 0,average:void 0,baseVolume:parseFloat(this.safeValue(e,4)),quoteVolume:parseFloat(this.safeValue(e,9)),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={marketId:i.id},s=await this.publicGetApiDataV1Ticker(this.extend(r,t)),a=this.safeValue(s,"datas",[]);return this.parseTicker(a,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetApiDataV1Tickers(t),r=this.safeValue(i,"datas",[]),s={};for(let a=0;a<r.length;a++){const t=this.parseTicker(r[a]),i=t.symbol;(void 0===e||this.inArray(i,e))&&(s[i]=t)}return s}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={marketId:this.market(e).id};void 0!==t&&(r.dataSize=t);const s=await this.publicGetApiDataV1Entrusts(this.extend(r,i)),a=this.safeValue(s,"datas",[]),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,n)}parseTrade(e,t){const i=this.safeTimestamp(e,2),r=this.safeFloat(e,5),s=this.safeFloat(e,6),a=this.safeString(e,1);let n=void 0;if(void 0!==a)if(a in this.markets_by_id)t=this.markets_by_id[a];else{const t=this.safeString(e,3),[i,r]=t.split("_");n=this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(r)}void 0===n&&void 0!==t&&(n=t.symbol);let o=void 0;void 0!==s&&void 0!==r&&(o=this.costToPrecision(n,r*s));const c="ask"===this.safeString(e,4)?"sell":"buy";return{id:void 0,timestamp:i,datetime:this.iso8601(i),symbol:n,order:void 0,type:"limit",side:c,takerOrMaker:void 0,price:r,amount:s,cost:parseFloat(o),fee:void 0,info:e}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.dataSize=i);const n=await this.publicGetApiDataV1Trades(this.extend(a,r)),o=this.safeValue(n,"datas",[]);return this.parseTrades(o,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[this.safeTimestamp(e,3),this.safeFloat(e,4),this.safeFloat(e,5),this.safeFloat(e,6),this.safeFloat(e,7),this.safeFloat(e,8)]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={marketId:a.id,type:this.timeframes[t],dataSize:500};void 0!==r&&(n.dataSize=r);const o=await this.publicGetApiDataV1Klines(this.extend(n,s)),c=this.safeValue(o,"datas",[]),d=this.parseOHLCVs(c,a,t,i,r);return this.sortBy(d,0)}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostExchangeFundControllerWebsiteFundcontrollerFindbypage(e),i=this.safeValue(t,"datas",{}),r=this.safeValue(i,"list",[]),s={info:t};for(let a=0;a<r.length;a++){const e=r[a],t=this.safeInteger(e,"currencyTypeId"),i=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"amount"),n.used=this.safeFloat(e,"freeze"),s[i]=n}return this.parseBalance(s)}async createOrder(e,t,i,r,s,n={}){if(void 0===s)throw new a(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c={amount:this.amountToPrecision(e,r),price:this.priceToPrecision(e,s),type:"buy"===i?1:0,rangeType:0,marketId:o.id},d=await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerAddEntrust(this.extend(c,n)),h=this.safeValue(d,"datas");return{id:this.safeString(h,"entrustId"),info:d,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:"open",fee:void 0,trades:void 0}}parseOrderStatus(e){return this.safeString({"-3":"canceled","-2":"canceled","-1":"canceled",0:"open",1:"canceled",2:"closed",3:"open",4:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"marketId");i in this.markets_by_id&&(t=this.markets_by_id[i]);const r=this.safeInteger(e,"createTime");let s=this.safeString(e,"type");"0"===s?s="sell":"1"===s&&(s="buy");const a=this.safeFloat(e,"amount"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"completeAmount");let c=this.safeFloat2(e,"availabelAmount","availableAmount"),d=this.safeFloat(e,"totalMoney");void 0!==o&&(void 0!==a&&void 0===c&&(c=a-o),void 0===d&&void 0!==n&&(d*=o));const h=this.parseOrderStatus(this.safeString(e,"status"));return{info:e,id:this.safeString(e,"entrustId"),timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,symbol:this.safeString(t,"symbol"),type:"limit",side:s,price:n,amount:a,cost:d,average:void 0,filled:o,remaining:c,status:h,fee:void 0,trades:void 0}}async fetchOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" fetchOrder requires a symbol argument");await this.loadMarkets();const r=this.market(t),s={marketId:r.id,entrustId:e},a=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetEntrustById(this.extend(s,i)),n=this.safeValue(a,"datas",{});return this.parseOrder(n,r)}async cancelOrder(e,t,i={}){if(void 0===t)throw new o(this.id+" cancelOrder requires a symbol argument");await this.loadMarkets();const r={marketId:this.market(t).id,entrustId:e};return{info:await this.privatePostExchangeEntrustControllerWebsiteEntrustControllerCancelEntrust(this.extend(r,i)),id:e}}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.pageSize=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustRecordFromCacheWithPage(this.extend(a,r)),c=this.safeValue(n,"datas",{}),d=this.safeValue(c,"entrustList",[]);return this.parseOrders(d,s,t,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==i&&(a.pageSize=i),void 0!==t&&(a.startDateTime=t);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,r)),c=this.safeValue(n,"datas",{}),d=this.safeValue(c,"entrustList",[]);return this.parseOrders(d,s,t,i)}async fetchOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchOpenOrders() requires a symbol argument");await this.loadMarkets();const s=this.market(e),a={marketId:s.id};void 0!==t&&(a.startDateTime=t),void 0!==i&&(a.pageSize=i);const n=await this.privateGetExchangeEntrustControllerWebsiteEntrustControllerGetUserEntrustList(this.extend(a,r)),c=this.safeValue(n,"datas",{}),d=this.safeValue(c,"entrustList",[]);return this.parseOrders(d,s,t,i)}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api,{hostname:this.hostname})+"/"+e;if("GET"===i?Object.keys(r).length&&(n+="?"+this.urlencode(r)):a=this.json(r),"private"===t){const e=this.milliseconds().toString();let t="";if("GET"===i){const e=this.keysort(r),i=Object.keys(e);for(let r=0;r<i.length;r++){const s=i[r];t+=s+e[s].toString()}}else t=a;const n=this.apiKey+e+t+this.secret,o=this.hash(this.encode(n),"md5");s||(s={}),s.Apiid=this.apiKey,s.Timestamp=e,s.Sign=o}return{url:n,method:i,body:a,headers:s}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currencyTypeName:this.currency(e).name},r=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinAddress(this.extend(i,t)),s=this.safeValue(r,"datas",{}),a=this.safeString(s,"address"),n=this.safeString(s,"memo");return this.checkAddress(a),{currency:e,address:this.checkAddress(a),tag:n,info:r}}parseTransactionStatus(e){return this.safeString({"-1":"canceled",0:"pending",1:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"depositId","withdrawalId"),r=this.safeString2(e,"depositAddress","withdrawalAddress"),s=this.safeString2(e,"currencyId","currencyTypeId");let a=void 0;s in this.currencies_by_id&&(t=this.currencies_by_id[s]),void 0===a&&void 0!==t&&(a=t.code);const n="depositId"in e?"deposit":"withdrawal",o=this.safeFloat2(e,"actuallyAmount","amount"),c=this.parseTransactionStatus(this.safeString2(e,"verifyStatus","state")),d=this.safeInteger(e,"createTime"),h=this.safeString(e,"txId");let u=void 0;const l=this.safeFloat(e,"fees");return void 0!==l&&(u={cost:l,currency:a}),{info:e,id:i,txid:h,timestamp:d,datetime:this.iso8601(d),addressFrom:void 0,address:r,addressTo:void 0,tagFrom:void 0,tag:void 0,tagTo:void 0,type:n,amount:o,currency:a,status:c,updated:void 0,fee:u}}async fetchDeposits(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchDeposits() requires a currency code argument");await this.loadMarkets();const s={currencyTypeName:this.currency(e).name};void 0!==i&&(s.pageSize=i);const a=await this.privatePostExchangeFundControllerWebsiteFundcontrollerGetPayinCoinRecord(this.extend(s,r)),n=this.safeValue(a,"datas",{}),c=this.safeValue(n,"list",[]);return this.parseTransactions(c,e,t,i)}async fetchWithdrawals(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchWithdrawals() requires a currency code argument");await this.loadMarkets();const s={currencyId:this.currency(e).id};void 0!==i&&(s.pageSize=i);const a=await this.privateGetExchangeFundControllerWebsiteFundwebsitecontrollerGetpayoutcoinrecord(this.extend(s,r)),n=this.safeValue(a,"datas",{}),c=this.safeValue(n,"list",[]);return this.parseTransactions(c,e,t,i)}handleErrors(e,t,i,r,s,n,o,c,d){if(!o)return;const h=this.safeValue(o,"resMsg"),u=this.safeString(h,"code");if("1"!==u){const e=this.id+" "+this.json(o);throw this.throwExactlyMatchedException(this.exceptions.exact,u,e),new a(e)}}}},ta2Q:function(e,t,i){"use strict";var r=i("siiD");function s(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=s,s.prototype._init=function(){},s.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},s.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},s.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,s,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return s},s.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(s,i);return t+=this._buffer(e,t),s},s.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},s.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},s.prototype._unpad=function(e){return e},s.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},tb2N:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,InsufficientFunds:a,OrderNotFound:n}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"tidebit",name:"TideBit",countries:["HK"],rateLimit:1e3,version:"v2",has:{fetchDepositAddress:!0,CORS:!0,fetchTickers:!0,fetchOHLCV:!0,withdraw:!0},timeframes:{"1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","2h":"120","4h":"240","12h":"720","1d":"1440","3d":"4320","1w":"10080"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39034921-e3acf016-4480-11e8-9945-a6086a1082fe.jpg",api:"https://www.tidebit.com",www:"https://www.tidebit.com",doc:["https://www.tidebit.com/documents/api/guide","https://www.tidebit.com/swagger/#/default"],referral:"http://bit.ly/2IX0LrM"},api:{public:{get:["markets","tickers","tickers/{market}","timestamp","trades","trades/{market}","order_book","order","k_with_pending_trades","k","depth"],post:[]},private:{get:["addresses/{address}","deposits/history","deposits/get_deposit","deposits/deposit_address","historys/orders","historys/vouchers","historys/accounts","historys/snapshots","linkage/get_status","members/me","order","orders","partners/orders/{id}/trades","referral_commissions/get_undeposited","referral_commissions/get_graph_data","trades/my","withdraws/bind_account_list","withdraws/get_withdraw_account","withdraws/fetch_bind_info"],post:["deposits/deposit_cash","favorite_markets/update","order/delete","orders","orders/multi","orders/clear","referral_commissions/deposit","withdraws/apply","withdraws/bind_bank","withdraws/bind_address"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.003,taker:.003},funding:{tierBased:!1,percentage:!0,withdraw:{}}},exceptions:{2002:a,2003:n}})}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetDepositAddress(this.extend(i,t));if("success"in r&&r.success){const t=this.safeString(r,"address"),i=this.safeString(r,"addressTag");return{currency:e,address:this.checkAddress(t),tag:i,info:r}}}async fetchMarkets(e={}){const t=await this.publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"id"),a=this.safeString(e,"name"),[n,o]=a.split("/"),c=this.safeCurrencyCode(n),d=this.safeCurrencyCode(o);i.push({id:s,symbol:a,base:c,quote:d,baseId:n,quoteId:o,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetMembersMe(e),i=this.safeValue(t,"accounts"),r={info:i};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"currency"),a=this.safeCurrencyCode(t),n=this.account();n.free=this.safeFloat(e,"balance"),n.used=this.safeFloat(e,"locked"),r[a]=n}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={market:r.id};void 0!==t&&(s.limit=t),s.market=r.id;const a=await this.publicGetDepth(this.extend(s,i)),n=this.safeTimestamp(a,"timestamp");return this.parseOrderBook(a,n)}parseTicker(e,t){const i=this.safeTimestamp(e,"at");e=this.safeValue(e,"ticker",{});let r=void 0;void 0!==t&&(r=t.symbol);const s=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"buy"),ask:this.safeFloat(e,"sell"),bidVolume:void 0,askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,change:void 0,percentage:void 0,previousClose:void 0,average:void 0,baseVolume:this.safeFloat(e,"vol"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a];let t=void 0,n=e;if(e in this.markets_by_id)t=this.markets_by_id[e],n=t.symbol;else{const t=e.slice(0,3),i=e.slice(3,6);n=this.safeCurrencyCode(t)+"/"+this.safeCurrencyCode(i)}const o=i[e];s[n]=this.parseTicker(o,t)}return s}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=await this.publicGetTickersMarket(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"created_at")),r=this.safeString(e,"id"),s=this.safeFloat(e,"price"),a=this.safeFloat(e,"volume"),n=this.safeFloat(e,"funds");let o=void 0;return void 0!==t&&(o=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,type:void 0,side:void 0,order:void 0,takerOrMaker:void 0,price:s,amount:a,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={market:s.id},n=await this.publicGetTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],e[1],e[2],e[3],e[4],e[5]]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e);void 0===r&&(r=30);const n={market:a.id,period:this.timeframes[t],limit:r};n.timestamp=void 0!==i?parseInt(i/1e3):18e5;const o=await this.publicGetK(this.extend(n,s));return"null"===o?[]:this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){return this.safeString({done:"closed",wait:"open",cancel:"canceled"},e,e)}parseOrder(e,t){let i=void 0;if(void 0!==t)i=t.symbol;else{const t=e.market;i=this.markets_by_id[t].symbol}const r=this.parse8601(this.safeString(e,"created_at")),s=this.parseOrderStatus(this.safeString(e,"state")),a=this.safeString(e,"id"),n=this.safeString(e,"ord_type"),o=this.safeString(e,"side"),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"volume"),h=this.safeFloat(e,"executed_volume"),u=this.safeFloat(e,"remaining_volume");let l=void 0;return void 0!==c&&void 0!==h&&(l=c*h),{id:a,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:void 0,status:s,symbol:i,type:n,side:o,price:c,amount:d,filled:h,remaining:u,cost:l,trades:void 0,fee:void 0,info:e}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={market:this.marketId(e),side:i,volume:r.toString(),ord_type:t};"limit"===t&&(n.price=s.toString());const o=await this.privatePostOrders(this.extend(n,a)),c=this.markets_by_id[o.market];return this.parseOrder(o,c)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privatePostOrderDelete(this.extend(r,i)),a=this.parseOrder(s),o=this.safeString(a,"status");if("closed"===o||"canceled"===o)throw new n(this.id+" "+this.json(a));return a}async withdraw(e,t,i,r,a={}){this.checkAddress(i),await this.loadMarkets();const n=this.currency(e),o=this.safeString(a,"id");if(void 0===o)throw new s(this.id+" withdraw() requires an extra `id` param (withdraw account id according to withdraws/bind_account_list endpoint");const c={id:o,currency_type:"coin",currency:n.id,body:t};return void 0!==r&&(c.memo=r),{info:await this.privatePostWithdrawsApply(this.extend(c,a)),id:void 0}}nonce(){return this.milliseconds()}encodeParams(e){return this.urlencode(this.keysort(e))}sign(e,t="public",i="GET",r={},s,a){const n="/api/"+this.version+"/"+this.implodeParams(e,r)+".json",o=this.omit(r,this.extractParams(e));let c=this.urls.api+n;if("public"===t)Object.keys(o).length&&(c+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.keysort(this.extend({access_key:this.apiKey,tonce:e},r)),o=this.urlencode(t),d=i+"|"+n+"|"+o,h=o+"&signature="+this.hmac(this.encode(d),this.encode(this.secret));"GET"===i?c+="?"+h:(a=h,s={"Content-Type":"application/x-www-form-urlencoded"})}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(400===e||void 0===o){const e=this.id+" "+n;if(void 0===o)throw new s(e);const t=this.safeValue(o,"error",{}),i=this.safeString(t,"code");this.throwExactlyMatchedException(this.exceptions,i,e)}}}},thXI:function(e,t,i){(t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i}).sha=i("jDN0"),t.sha1=i("HLui"),t.sha224=i("nWOd"),t.sha256=i("yD7y"),t.sha384=i("Y9G6"),t.sha512=i("2ozp")},tk5I:function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i("qykS").Buffer}catch(O){}function o(e,t,i){for(var s=0,a=Math.min(e.length,i),n=0,o=t;o<a;o++){var c,d=e.charCodeAt(o)-48;s<<=4,s|=c=d>=49&&d<=54?d-49+10:d>=17&&d<=22?d-17+10:d,n|=c}return r(!(240&n),"Invalid character in "+e),s}function c(e,t,i,s){for(var a=0,n=0,o=Math.min(e.length,i),c=t;c<o;c++){var d=e.charCodeAt(c)-48;a*=s,n=d>=49?d-49+10:d>=17?d-17+10:d,r(d>=0&&n<s,"Invalid character"),a+=n}return a}function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this._strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,a=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303),this._strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,d=0,h=i;h<o;h+=r)d=c(e,h,h+r,t),this.imuln(s),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==n){var u=1;for(d=c(e,h,e.length,t),h=0;h<n;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype._move=function(e){e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?a.prototype[Symbol.for("nodejs.util.inspect.custom")]=d:a.prototype.inspect=d;var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!==(a=o>>>24-s&16777215)||n!==this.length-1?h[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var d=u[e],f=l[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:h[d-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16,2)},n&&(a.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function f(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var d=1;d<r;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;h+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i._strip()}a.prototype.toArrayLike=function(e,t,i){this._strip();var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var n=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,a);return this["_toArrayLike"+("le"===t?"LE":"BE")](n,s),n},a.prototype._toArrayLikeLE=function(e,t){for(var i=0,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i++]=255&n,i<e.length&&(e[i++]=n>>8&255),i<e.length&&(e[i++]=n>>16&255),6===a?(i<e.length&&(e[i++]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i<e.length)for(e[i++]=r;i<e.length;)e[i++]=0},a.prototype._toArrayLikeBE=function(e,t){for(var i=e.length-1,r=0,s=0,a=0;s<this.length;s++){var n=this.words[s]<<a|r;e[i--]=255&n,i>=0&&(e[i--]=n>>8&255),i>=0&&(e[i--]=n>>16&255),6===a?(i>=0&&(e[i--]=n>>24&255),r=0,a=0):(r=n>>>24,a+=2)}if(i>=0)for(e[i--]=r;i>=0;)e[i--]=0},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this._strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this._strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this._strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,d=0,h=0|n[0],u=8191&h,l=h>>>13,f=0|n[1],p=8191&f,m=f>>>13,y=0|n[2],b=8191&y,v=y>>>13,g=0|n[3],w=8191&g,k=g>>>13,_=0|n[4],T=8191&_,S=_>>>13,x=0|n[5],O=8191&x,C=x>>>13,M=0|n[6],A=8191&M,E=M>>>13,I=0|n[7],B=8191&I,F=I>>>13,P=0|n[8],R=8191&P,q=P>>>13,L=0|n[9],D=8191&L,N=L>>>13,U=0|o[0],V=8191&U,G=U>>>13,j=0|o[1],H=8191&j,K=j>>>13,z=0|o[2],W=8191&z,X=z>>>13,Y=0|o[3],Z=8191&Y,J=Y>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ye=(d+(r=Math.imul(u,V))|0)+((8191&(s=(s=Math.imul(u,G))+Math.imul(l,V)|0))<<13)|0;d=((a=Math.imul(l,G))+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,V),s=(s=Math.imul(p,G))+Math.imul(m,V)|0,a=Math.imul(m,G);var be=(d+(r=r+Math.imul(u,H)|0)|0)+((8191&(s=(s=s+Math.imul(u,K)|0)+Math.imul(l,H)|0))<<13)|0;d=((a=a+Math.imul(l,K)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,V),s=(s=Math.imul(b,G))+Math.imul(v,V)|0,a=Math.imul(v,G),r=r+Math.imul(p,H)|0,s=(s=s+Math.imul(p,K)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,K)|0;var ve=(d+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,X)|0)+Math.imul(l,W)|0))<<13)|0;d=((a=a+Math.imul(l,X)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,V),s=(s=Math.imul(w,G))+Math.imul(k,V)|0,a=Math.imul(k,G),r=r+Math.imul(b,H)|0,s=(s=s+Math.imul(b,K)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,K)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,X)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,X)|0;var ge=(d+(r=r+Math.imul(u,Z)|0)|0)+((8191&(s=(s=s+Math.imul(u,J)|0)+Math.imul(l,Z)|0))<<13)|0;d=((a=a+Math.imul(l,J)|0)+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(T,V),s=(s=Math.imul(T,G))+Math.imul(S,V)|0,a=Math.imul(S,G),r=r+Math.imul(w,H)|0,s=(s=s+Math.imul(w,K)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,K)|0,r=r+Math.imul(b,W)|0,s=(s=s+Math.imul(b,X)|0)+Math.imul(v,W)|0,a=a+Math.imul(v,X)|0,r=r+Math.imul(p,Z)|0,s=(s=s+Math.imul(p,J)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,J)|0;var we=(d+(r=r+Math.imul(u,$)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,$)|0))<<13)|0;d=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,V),s=(s=Math.imul(O,G))+Math.imul(C,V)|0,a=Math.imul(C,G),r=r+Math.imul(T,H)|0,s=(s=s+Math.imul(T,K)|0)+Math.imul(S,H)|0,a=a+Math.imul(S,K)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,X)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(b,Z)|0,s=(s=s+Math.imul(b,J)|0)+Math.imul(v,Z)|0,a=a+Math.imul(v,J)|0,r=r+Math.imul(p,$)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,ee)|0;var ke=(d+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;d=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(A,V),s=(s=Math.imul(A,G))+Math.imul(E,V)|0,a=Math.imul(E,G),r=r+Math.imul(O,H)|0,s=(s=s+Math.imul(O,K)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(T,W)|0,s=(s=s+Math.imul(T,X)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,X)|0,r=r+Math.imul(w,Z)|0,s=(s=s+Math.imul(w,J)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,J)|0,r=r+Math.imul(b,$)|0,s=(s=s+Math.imul(b,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var _e=(d+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;d=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,V),s=(s=Math.imul(B,G))+Math.imul(F,V)|0,a=Math.imul(F,G),r=r+Math.imul(A,H)|0,s=(s=s+Math.imul(A,K)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,X)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,X)|0,r=r+Math.imul(T,Z)|0,s=(s=s+Math.imul(T,J)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(w,$)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(b,ie)|0,s=(s=s+Math.imul(b,re)|0)+Math.imul(v,ie)|0,a=a+Math.imul(v,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var Te=(d+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,de)|0)+Math.imul(l,ce)|0))<<13)|0;d=((a=a+Math.imul(l,de)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(R,V),s=(s=Math.imul(R,G))+Math.imul(q,V)|0,a=Math.imul(q,G),r=r+Math.imul(B,H)|0,s=(s=s+Math.imul(B,K)|0)+Math.imul(F,H)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(A,W)|0,s=(s=s+Math.imul(A,X)|0)+Math.imul(E,W)|0,a=a+Math.imul(E,X)|0,r=r+Math.imul(O,Z)|0,s=(s=s+Math.imul(O,J)|0)+Math.imul(C,Z)|0,a=a+Math.imul(C,J)|0,r=r+Math.imul(T,$)|0,s=(s=s+Math.imul(T,ee)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(b,ae)|0,s=(s=s+Math.imul(b,ne)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,de)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,de)|0;var Se=(d+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;d=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,V),s=(s=Math.imul(D,G))+Math.imul(N,V)|0,a=Math.imul(N,G),r=r+Math.imul(R,H)|0,s=(s=s+Math.imul(R,K)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,K)|0,r=r+Math.imul(B,W)|0,s=(s=s+Math.imul(B,X)|0)+Math.imul(F,W)|0,a=a+Math.imul(F,X)|0,r=r+Math.imul(A,Z)|0,s=(s=s+Math.imul(A,J)|0)+Math.imul(E,Z)|0,a=a+Math.imul(E,J)|0,r=r+Math.imul(O,$)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(T,ie)|0,s=(s=s+Math.imul(T,re)|0)+Math.imul(S,ie)|0,a=a+Math.imul(S,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(b,ce)|0,s=(s=s+Math.imul(b,de)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,de)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var xe=(d+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;d=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,H),s=(s=Math.imul(D,K))+Math.imul(N,H)|0,a=Math.imul(N,K),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,X)|0)+Math.imul(q,W)|0,a=a+Math.imul(q,X)|0,r=r+Math.imul(B,Z)|0,s=(s=s+Math.imul(B,J)|0)+Math.imul(F,Z)|0,a=a+Math.imul(F,J)|0,r=r+Math.imul(A,$)|0,s=(s=s+Math.imul(A,ee)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(C,ie)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(T,ae)|0,s=(s=s+Math.imul(T,ne)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,de)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,de)|0,r=r+Math.imul(b,ue)|0,s=(s=s+Math.imul(b,le)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0;var Oe=(d+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;d=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,X))+Math.imul(N,W)|0,a=Math.imul(N,X),r=r+Math.imul(R,Z)|0,s=(s=s+Math.imul(R,J)|0)+Math.imul(q,Z)|0,a=a+Math.imul(q,J)|0,r=r+Math.imul(B,$)|0,s=(s=s+Math.imul(B,ee)|0)+Math.imul(F,$)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(A,ie)|0,s=(s=s+Math.imul(A,re)|0)+Math.imul(E,ie)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,ne)|0,r=r+Math.imul(T,ce)|0,s=(s=s+Math.imul(T,de)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,de)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var Ce=(d+(r=r+Math.imul(b,pe)|0)|0)+((8191&(s=(s=s+Math.imul(b,me)|0)+Math.imul(v,pe)|0))<<13)|0;d=((a=a+Math.imul(v,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,Z),s=(s=Math.imul(D,J))+Math.imul(N,Z)|0,a=Math.imul(N,J),r=r+Math.imul(R,$)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,ee)|0,r=r+Math.imul(B,ie)|0,s=(s=s+Math.imul(B,re)|0)+Math.imul(F,ie)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(A,ae)|0,s=(s=s+Math.imul(A,ne)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,de)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,de)|0,r=r+Math.imul(T,ue)|0,s=(s=s+Math.imul(T,le)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,le)|0;var Me=(d+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;d=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,$),s=(s=Math.imul(D,ee))+Math.imul(N,$)|0,a=Math.imul(N,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(q,ie)|0,a=a+Math.imul(q,re)|0,r=r+Math.imul(B,ae)|0,s=(s=s+Math.imul(B,ne)|0)+Math.imul(F,ae)|0,a=a+Math.imul(F,ne)|0,r=r+Math.imul(A,ce)|0,s=(s=s+Math.imul(A,de)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,de)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,le)|0;var Ae=(d+(r=r+Math.imul(T,pe)|0)|0)+((8191&(s=(s=s+Math.imul(T,me)|0)+Math.imul(S,pe)|0))<<13)|0;d=((a=a+Math.imul(S,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(N,ie)|0,a=Math.imul(N,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,ne)|0,r=r+Math.imul(B,ce)|0,s=(s=s+Math.imul(B,de)|0)+Math.imul(F,ce)|0,a=a+Math.imul(F,de)|0,r=r+Math.imul(A,ue)|0,s=(s=s+Math.imul(A,le)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,le)|0;var Ee=(d+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(C,pe)|0))<<13)|0;d=((a=a+Math.imul(C,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(N,ae)|0,a=Math.imul(N,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,de)|0)+Math.imul(q,ce)|0,a=a+Math.imul(q,de)|0,r=r+Math.imul(B,ue)|0,s=(s=s+Math.imul(B,le)|0)+Math.imul(F,ue)|0,a=a+Math.imul(F,le)|0;var Ie=(d+(r=r+Math.imul(A,pe)|0)|0)+((8191&(s=(s=s+Math.imul(A,me)|0)+Math.imul(E,pe)|0))<<13)|0;d=((a=a+Math.imul(E,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,de))+Math.imul(N,ce)|0,a=Math.imul(N,de),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,le)|0;var Be=(d+(r=r+Math.imul(B,pe)|0)|0)+((8191&(s=(s=s+Math.imul(B,me)|0)+Math.imul(F,pe)|0))<<13)|0;d=((a=a+Math.imul(F,me)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(N,ue)|0,a=Math.imul(N,le);var Fe=(d+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(q,pe)|0))<<13)|0;d=((a=a+Math.imul(q,me)|0)+(s>>>13)|0)+(Fe>>>26)|0,Fe&=67108863;var Pe=(d+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(N,pe)|0))<<13)|0;return d=((a=Math.imul(N,me))+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=ye,c[1]=be,c[2]=ve,c[3]=ge,c[4]=we,c[5]=ke,c[6]=_e,c[7]=Te,c[8]=Se,c[9]=xe,c[10]=Oe,c[11]=Ce,c[12]=Me,c[13]=Ae,c[14]=Ee,c[15]=Ie,c[16]=Be,c[17]=Fe,c[18]=Pe,0!==d&&(c[19]=d,i.length++),i};function m(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),d=Math.max(0,a-e.length+1);d<=c;d++){var h=a-d,u=(0|e.words[h])*(0|t.words[d]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i._strip()}function y(e,t,i){return m(e,t,i)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=f),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?m(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},b.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},b.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},b.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<s;h+=o)for(var u=c,l=d,f=0;f<n;f++){var p=i[h+f],m=r[h+f],y=i[h+f+n],b=r[h+f+n],v=u*y-l*b;b=u*b+l*y,y=v,i[h+f]=p+y,r[h+f]=m+b,i[h+f+n]=p-y,r[h+f+n]=m-b,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},b.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},b.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},b.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},b.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0===(-8192&a))},b.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},b.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),d=new Array(r),h=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,d,r),this.transform(n,a,o,c,r,s),this.transform(d,a,h,u,r,s);for(var f=0;f<r;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i._strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),y(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var i=0,s=0;s<this.length;s++){var a=(0|this.words[s])*e,n=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=n>>>26,this.words[s]=67108863&n}return 0!==i&&(this.words[s]=i,this.length++),t?this.ineg():this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=e.words[r]>>>s&1}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this._strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"===typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var d=0;d<n;d++)c.words[d]=this.words[d];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,d=0;d<this.length;d++)this.words[d]=this.words[d+n];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=s);d--){var u=0|this.words[d];this.words[d]=h<<26-a|u>>>a,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i)&&!!(this.words[i]&s)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this._strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this._strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this._strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!==(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var d=0;d<o.length;d++)o.words[d]=0}var h=r.clone()._ishlnsubmul(s,1,c);0===h.negative&&(r=h,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o._strip(),r._strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=(1<<26)%e,s=0,a=this.length-1;a>=0;a--)s=(i*s+(0|this.words[a]))%e;return t?-s:s},a.prototype.modn=function(e){return this.modrn(e)},a.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var i=0,s=this.length-1;s>=0;s--){var a=(0|this.words[s])+67108864*i;this.words[s]=a/e|0,i=a%e}return this._strip(),t?this.ineg():this},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),d=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++d;for(var h=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(h),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(d)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new S(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i._strip(),i},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},s(w,g),w.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=4194303&s,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|s>>>22,s=a}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(k,g),s(_,g),s(T,g),T.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new k;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return v[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(e.umod(this.m)._forceRed(this)._move(e),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},S.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);0!==this.pow(h,d).cmp(c);)h.redIAdd(c);for(var u=this.pow(h,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,y=0;0!==m.cmp(o);y++)m=m.redSqr();r(y<p);var b=this.pow(u,new a(1).iushln(p-y-1));l=l.redMul(b),u=b.redSqr(),f=f.redMul(u),p=y}return l},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var d=t.words[r],h=c-1;h>=0;h--){var u=d>>h&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4===++o||0===r&&0===h)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new x(e)},s(x,S),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i("RoC8")(e))},twX1:function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},tyEE:function(e,t,i){var r=i("smmp");t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var s=e._cipher.decryptBlock(t);return r(s,i)}},uH1V:function(e,t,i){var r=i("ciOl"),s=i("YrLq"),a=i("uIec");for(var n in e.exports={Reader:a},s)s.hasOwnProperty(n)&&(e.exports[n]=s[n]);for(var o in r)r.hasOwnProperty(o)&&(e.exports[o]=r[o])},"uH4/":function(e,t,i){var r=i("+Gs+"),s=i("wfEq");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){var t;try{t=i("o3UF").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(r){t=function(e){this._initNamed(e)}}return s(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},uIec:function(e,t,i){(function(t){var r=i("ZERR"),s=i("YrLq"),a=i("ciOl").newInvalidAsn1Error;function n(e){if(!e||!t.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(n.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(n.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(n.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),n.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},n.prototype.peek=function(){return this.readByte(!0)},n.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128===(128&t)){if(0===(t&=127))throw a("Indefinite length not supported");if(t>4)throw a("encoding too long");if(this._size-e<t)return null;this._len=0;for(var i=0;i<t;i++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},n.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);return null===i?null:(this._offset=i,t)},n.prototype.readInt=function(){return this._readTag(s.Integer)},n.prototype.readBoolean=function(){return 0!==this._readTag(s.Boolean)},n.prototype.readEnumeration=function(){return this._readTag(s.Enumeration)},n.prototype.readString=function(e,i){e||(e=s.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return i?t.alloc(0):"";var o=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,i?o:o.toString("utf8")},n.prototype.readOID=function(e){e||(e=s.OID);var t=this.readString(e,!0);if(null===t)return null;for(var i=[],r=0,a=0;a<t.length;a++){var n=255&t[a];r<<=7,r+=127&n,0===(128&n)&&(i.push(r),r=0)}return r=i.shift(),i.unshift(r%40),i.unshift(r/40>>0),i.join(".")},n.prototype._readTag=function(e){r.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>4)throw a("Integer too long: "+this.length);if(this.length>this._size-i)return null;this._offset=i;for(var s=this._buf[this._offset],n=0,o=0;o<this.length;o++)n<<=8,n|=255&this._buf[this._offset++];return 128===(128&s)&&4!==o&&(n-=1<<8*o),n>>0},e.exports=n}).call(this,i("qykS").Buffer)},uS8B:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"foxbit",name:"FoxBit",countries:["BR"],has:{CORS:!1,createMarketOrder:!1},rateLimit:1e3,version:"v1",urls:{logo:"https://user-images.githubusercontent.com/1294454/27991413-11b40d42-647f-11e7-91ee-78ced874dd09.jpg",api:{public:"https://api.blinktrade.com/api",private:"https://api.blinktrade.com/tapi"},www:"https://foxbit.com.br/exchange",doc:"https://foxbit.com.br/api/"},comment:"Blinktrade API",api:{public:{get:["{currency}/ticker","{currency}/orderbook","{currency}/trades"]},private:{post:["D","F","U2","U4","U6","U18","U24","U26","U30","U34","U70"]}},markets:{"BTC/VEF":{id:"BTCVEF",symbol:"BTC/VEF",base:"BTC",quote:"VEF",brokerId:1,broker:"SurBitcoin"},"BTC/VND":{id:"BTCVND",symbol:"BTC/VND",base:"BTC",quote:"VND",brokerId:3,broker:"VBTC"},"BTC/BRL":{id:"BTCBRL",symbol:"BTC/BRL",base:"BTC",quote:"BRL",brokerId:4,broker:"FoxBit"},"BTC/PKR":{id:"BTCPKR",symbol:"BTC/PKR",base:"BTC",quote:"PKR",brokerId:8,broker:"UrduBit"},"BTC/CLP":{id:"BTCCLP",symbol:"BTC/CLP",base:"BTC",quote:"CLP",brokerId:9,broker:"ChileBit"}},options:{brokerId:"4"}})}async fetchBalance(e={}){await this.loadMarkets();const t={BalanceReqID:this.nonce()},i=await this.privatePostU2(this.extend(t,e)),r=this.safeValue(i.Responses,this.options.brokerId),s={info:i};if(void 0!==r){const e=Object.keys(this.currencies_by_id);for(let t=0;t<e.length;t++){const i=e[t],a=this.safeCurrencyCode(i);if(i in r){const e=this.account();let t=this.safeFloat(r,i+"_locked");void 0!==t&&(t*=1e-8);let n=this.safeFloat(r,i);void 0!==n&&(n*=1e-8),e.used=t,e.total=n,s[a]=e}}}return this.parseBalance(s)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e),s={currency:r.quote,crypto_currency:r.base},a=await this.publicGetCurrencyOrderbook(this.extend(s,i));return this.parseOrderBook(a)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={currency:i.quote,crypto_currency:i.base},s=await this.publicGetCurrencyTicker(this.extend(r,t)),a=this.milliseconds(),n="vol_"+i.quote.toLowerCase(),o=this.safeFloat(s,"last");return{symbol:e,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(s,"high"),low:this.safeFloat(s,"low"),bid:this.safeFloat(s,"buy"),bidVolume:void 0,ask:this.safeFloat(s,"sell"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(s,"vol"),quoteVolume:this.safeFloat(s,n),info:s}}parseTrade(e,t){const i=this.safeTimestamp(e,"date"),r=this.safeString(e,"tid");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeString(e,"side"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"amount");let c=void 0;return void 0!==n&&void 0!==o&&(c=o*n),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:s,type:void 0,side:a,order:void 0,takerOrMaker:void 0,price:n,amount:o,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={currency:s.quote,crypto_currency:s.base},n=await this.publicGetCurrencyTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"market"===t)throw new s(this.id+" allows limit orders only");const o=this.market(e),c="buy"===i?"1":"2",d={ClOrdID:this.nonce(),Symbol:o.id,Side:c,OrdType:"2",Price:a,OrderQty:r,BrokerID:o.brokerId},h=await this.privatePostD(this.extend(d,n));return{info:h,id:this.indexBy(h.Responses,"MsgType")[8].OrderID}}async cancelOrder(e,t,i={}){return await this.loadMarkets(),await this.privatePostF(this.extend({ClOrdID:e},i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api[t]+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(o).length&&(n+="?"+this.urlencode(o));else{this.checkRequiredCredentials();const t=this.nonce().toString(),i=this.extend({MsgType:e},o);a=this.json(i),s={APIKey:this.apiKey,Nonce:t,Signature:this.hmac(this.encode(t),this.encode(this.secret)),"Content-Type":"application/json"}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("Status"in o&&200!==o.Status)throw new s(this.id+" "+this.json(o));return o}}},uaRH:function(e,t,i){var r=t;r.der=i("eIKn"),r.pem=i("a/Al")},ubNZ:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeError:a,ExchangeNotAvailable:n,AuthenticationError:o,InvalidOrder:c,InsufficientFunds:d,OrderNotFound:h,DDoSProtection:u,PermissionDenied:l,AddressPending:f,OnMaintenance:p}=i("ucJe"),{TRUNCATE:m,DECIMAL_PLACES:y}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"bittrex",name:"Bittrex",countries:["US"],version:"v1.1",rateLimit:1500,certified:!0,has:{CORS:!0,createMarketOrder:!1,fetchDepositAddress:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:"emulated",fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchTickers:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!1},timeframes:{"1m":"oneMin","5m":"fiveMin","30m":"thirtyMin","1h":"hour","1d":"day"},hostname:"bittrex.com",urls:{logo:"https://user-images.githubusercontent.com/1294454/27766352-cf0b3c26-5ed5-11e7-82b7-f3826b7a97d8.jpg",api:{public:"https://{hostname}/api",account:"https://{hostname}/api",market:"https://{hostname}/api",v2:"https://{hostname}/api/v2.0/pub",v3:"https://api.bittrex.com/v3",v3public:"https://api.bittrex.com/v3"},www:"https://bittrex.com",doc:["https://bittrex.github.io/api/","https://bittrex.github.io/api/v3","https://www.npmjs.com/package/bittrex-node"],fees:["https://bittrex.zendesk.com/hc/en-us/articles/115003684371-BITTREX-SERVICE-FEES-AND-WITHDRAWAL-LIMITATIONS","https://bittrex.zendesk.com/hc/en-us/articles/115000199651-What-fees-does-Bittrex-charge-"]},api:{v3:{get:["account","addresses","addresses/{currencySymbol}","balances","balances/{currencySymbol}","currencies","currencies/{symbol}","deposits/open","deposits/closed","deposits/ByTxId/{txId}","deposits/{depositId}","orders/closed","orders/open","orders/{orderId}","ping","subaccounts/{subaccountId}","subaccounts","withdrawals/open","withdrawals/closed","withdrawals/ByTxId/{txId}","withdrawals/{withdrawalId}"],post:["addresses","orders","subaccounts","withdrawals"],delete:["orders/{orderId}","withdrawals/{withdrawalId}"]},v3public:{get:["markets","markets/summaries","markets/{marketSymbol}","markets/{marketSymbol}/summary","markets/{marketSymbol}/orderbook","markets/{marketSymbol}/trades","markets/{marketSymbol}/ticker","markets/{marketSymbol}/candles"]},v2:{get:["currencies/GetBTCPrice","currencies/GetWalletHealth","general/GetLatestAlert","market/GetTicks","market/GetLatestTick","Markets/GetMarketSummaries","market/GetLatestTick"]},public:{get:["currencies","markethistory","markets","marketsummaries","marketsummary","orderbook","ticker"]},account:{get:["balance","balances","depositaddress","deposithistory","order","orders","orderhistory","withdrawalhistory","withdraw"]},market:{get:["buylimit","buymarket","cancel","openorders","selllimit","sellmarket"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.0025,taker:.0025},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:5e-4,LTC:.01,DOGE:2,VTC:.02,PPC:.02,FTC:.2,RDD:2,NXT:2,DASH:.05,POT:.002,BLK:.02,EMC2:.2,XMY:.2,GLD:2e-4,SLR:.2,GRS:.2},deposit:{BTC:0,LTC:0,DOGE:0,VTC:0,PPC:0,FTC:0,RDD:0,NXT:0,DASH:0,POT:0,BLK:0,EMC2:0,XMY:0,GLD:0,SLR:0,GRS:0}}},exceptions:{exact:{APISIGN_NOT_PROVIDED:o,INVALID_SIGNATURE:o,INVALID_CURRENCY:a,INVALID_PERMISSION:o,INSUFFICIENT_FUNDS:d,QUANTITY_NOT_PROVIDED:c,MIN_TRADE_REQUIREMENT_NOT_MET:c,ORDER_NOT_OPEN:h,INVALID_ORDER:c,UUID_INVALID:h,RATE_NOT_PROVIDED:c,INVALID_MARKET:s,WHITELIST_VIOLATION_IP:l,DUST_TRADE_DISALLOWED_MIN_VALUE:c,RESTRICTED_MARKET:s,"We are down for scheduled maintenance, but we\u2019ll be back up shortly.":p},broad:{throttled:u,problem:n}},options:{parseOrderStatus:!1,hasAlreadyAuthenticatedSuccessfully:!1,symbolSeparator:"-",tag:{NXT:!0,CRYPTO_NOTE_PAYMENTID:!0,BITSHAREX:!0,RIPPLE:!0,NEM:!0,STELLAR:!0,STEEM:!0},subaccountId:void 0,fetchClosedOrdersMethod:"fetch_closed_orders_v3",fetchClosedOrdersFilterBySince:!0},commonCurrencies:{BITS:"SWIFT",CPC:"Capricoin"}})}costToPrecision(e,t){return this.decimalToPrecision(t,m,this.markets[e].precision.price,y)}feeToPrecision(e,t){return this.decimalToPrecision(t,m,this.markets[e].precision.price,y)}async fetchMarkets(e={}){const t=await this.v3publicGetMarkets(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"baseCurrencySymbol"),a=this.safeString(e,"quoteCurrencySymbol"),n=a+this.options.symbolSeparator+s,o=this.safeCurrencyCode(s),c=this.safeCurrencyCode(a),d=o+"/"+c,h={amount:8,price:this.safeInteger(e,"precision",8)},u="ONLINE"===this.safeString(e,"status");i.push({id:n,symbol:d,base:o,quote:c,baseId:s,quoteId:a,active:u,info:e,precision:h,limits:{amount:{min:this.safeFloat(e,"minTradeSize"),max:void 0},price:{min:Math.pow(10,-h.price),max:void 0}}})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.accountGetBalances(e),i=this.safeValue(t,"result"),r={info:i},s=this.indexBy(i,"Currency"),a=Object.keys(s);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),i=this.account(),o=s[e];i.free=this.safeFloat(o,"Available"),i.total=this.safeFloat(o,"Balance"),r[t]=i}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={market:this.marketId(e),type:"both"},s=await this.publicGetOrderbook(this.extend(r,i));let a=s.result;return"type"in i&&("buy"===i.type?a={buy:s.result,sell:[]}:"sell"===i.type&&(a={buy:[],sell:s.result})),this.parseOrderBook(a,void 0,"buy","sell","Rate","Quantity")}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i=this.safeValue(t,"result",[]),r={};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"Currency"),a=this.safeCurrencyCode(t),n=8,o=this.safeValue(e,"BaseAddress"),c=this.safeFloat(e,"TxFee");r[a]={id:t,code:a,address:o,info:e,type:e.CoinType,name:e.CurrencyLong,active:e.IsActive,fee:c,precision:n,limits:{amount:{min:Math.pow(10,-n),max:void 0},price:{min:Math.pow(10,-n),max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:c,max:void 0}}}}return r}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"TimeStamp"));let r=void 0;const s=this.safeString(e,"MarketName");void 0!==s&&(s in this.markets_by_id?t=this.markets_by_id[s]:r=this.parseSymbol(s)),void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"PrevDay"),n=this.safeFloat(e,"Last");let o=void 0,c=void 0;return void 0!==n&&void 0!==a&&(o=n-a,a>0&&(c=o/a*100)),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"High"),low:this.safeFloat(e,"Low"),bid:this.safeFloat(e,"Bid"),bidVolume:void 0,ask:this.safeFloat(e,"Ask"),askVolume:void 0,vwap:void 0,open:a,close:n,last:n,previousClose:void 0,change:o,percentage:c,average:void 0,baseVolume:this.safeFloat(e,"Volume"),quoteVolume:this.safeFloat(e,"BaseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketsummaries(t),r=this.safeValue(i,"result"),s=[];for(let a=0;a<r.length;a++){const e=this.parseTicker(r[a]);s.push(e)}return this.filterByArray(s,"symbol",e)}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={market:i.id},s=(await this.publicGetMarketsummary(this.extend(r,t))).result[0];return this.parseTicker(s,i)}parseTrade(e,t){const i=this.parse8601(e.TimeStamp+"+00:00");let r=void 0;"BUY"===e.OrderType?r="buy":"SELL"===e.OrderType&&(r="sell");const s=this.safeString2(e,"Id","ID");let a=void 0;void 0!==t&&(a=t.symbol);let n=void 0;const o=this.safeFloat(e,"Price"),c=this.safeFloat(e,"Quantity");return void 0!==c&&void 0!==o&&(n=o*c),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:a,id:s,order:void 0,type:"limit",takerOrMaker:void 0,side:r,price:o,amount:c,cost:n,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),n={market:s.id},o=await this.publicGetMarkethistory(this.extend(n,r));if("result"in o&&void 0!==o.result)return this.parseTrades(o.result,s,t,i);throw new a(this.id+" fetchTrades() returned undefined response")}parseOHLCV(e,t,i="1d",r,s){return[this.parse8601(e.T+"+00:00"),e.O,e.H,e.L,e.C,e.V]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={tickInterval:this.timeframes[t],marketName:a.id},o=await this.v2GetMarketGetTicks(this.extend(n,s));if("result"in o&&o.result)return this.parseOHLCVs(o.result,a,t,i,r)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.marketGetOpenorders(this.extend(s,r)),o=this.safeValue(n,"result",[]),c=this.parseOrders(o,a,t,i);return this.filterBySymbol(c,e)}async createOrder(e,t,i,r,s,n={}){if("limit"!==t)throw new a(this.id+" allows limit orders only");await this.loadMarkets();const o=this.market(e),c="marketGet"+this.capitalize(i)+t,d={market:o.id,quantity:this.amountToPrecision(e,r),rate:this.priceToPrecision(e,s)},h=await this[c](this.extend(d,n)),u=this.getOrderIdField();return{info:h,id:this.safeString(h.result,u),symbol:e,type:t,side:i,status:"open"}}getOrderIdField(){return"uuid"}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={};r[this.getOrderIdField()]=e;const s=await this.marketGetCancel(this.extend(r,i));return this.extend(this.parseOrder(s),{status:"canceled"})}async fetchDeposits(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id);const n=await this.accountGetDeposithistory(this.extend(s,r));return this.parseTransactions(n.result,a,void 0,i)}async fetchWithdrawals(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.currency=a.id);const n=await this.accountGetWithdrawalhistory(this.extend(s,r));return this.parseTransactions(n.result,a,t,i)}parseTransaction(e,t){const i=this.safeString2(e,"Id","PaymentUuid"),r=this.safeFloat(e,"Amount"),s=this.safeString2(e,"CryptoAddress","Address"),a=this.safeString(e,"TxId"),n=this.parse8601(this.safeString(e,"LastUpdated")),o=this.parse8601(this.safeString(e,"Opened")),c=o||n,d=void 0===o?"deposit":"withdrawal",h=this.safeString(e,"Currency"),u=this.safeCurrencyCode(h,t);let l="pending";if("deposit"===d)l="ok";else{const t=this.safeValue(e,"Authorized",!1),i=this.safeValue(e,"PendingPayment",!1),r=this.safeValue(e,"Canceled",!1);this.safeValue(e,"InvalidAddress",!1)?l="failed":r?l="canceled":i?l="pending":t&&void 0!==a&&(l="ok")}let f=this.safeFloat(e,"TxCost");return void 0===f&&"deposit"===d&&(f=0),{info:e,id:i,currency:u,amount:r,address:s,tag:void 0,status:l,type:d,updated:n,txid:a,timestamp:c,datetime:this.iso8601(c),fee:{currency:u,cost:f}}}parseSymbol(e){const[t,i]=e.split(this.options.symbolSeparator);return this.safeCurrencyCode(i)+"/"+this.safeCurrencyCode(t)}parseOrder(e,t){return"marketSymbol"in e?this.parseOrderV3(e,t):this.parseOrderV2(e,t)}parseOrders(e,t,i,r,s={}){return this.options.fetchClosedOrdersFilterBySince?super.parseOrders(e,t,i,r,s):super.parseOrders(e,t,void 0,r,s)}parseOrderStatus(e){return this.safeString({CLOSED:"closed",OPEN:"open",CANCELLED:"canceled",CANCELED:"canceled"},e,e)}parseOrderV3(e,t){const i=this.safeString(e,"marketSymbol");let r=void 0,s=void 0;if(void 0!==i){const[e,t]=i.split("-"),a=this.safeCurrencyCode(e),n=this.safeCurrencyCode(t);r=a+"/"+n,s=n}const a=this.safeStringLower(e,"direction"),n=this.safeString(e,"createdAt"),o=this.safeString(e,"updatedAt"),c=this.safeString(e,"closedAt");let d=void 0;void 0!==c?d=this.parse8601(c):o&&(d=this.parse8601(o));const h=this.parse8601(n),u=this.safeStringLower(e,"type"),l=this.safeFloat(e,"quantity"),f=this.safeFloat(e,"limit"),p=this.safeFloat(e,"fillQuantity"),m=this.safeFloat(e,"commission"),y=this.safeFloat(e,"proceeds"),b=this.safeStringLower(e,"status");let v=void 0,g=void 0;return void 0!==p&&(void 0!==y&&(p>0?v=y/p:0===y&&(v=0)),void 0!==l&&(g=l-p)),{id:this.safeString(e,"id"),timestamp:h,datetime:this.iso8601(h),lastTradeTimestamp:d,symbol:r,type:u,side:a,price:f,cost:y,average:v,amount:l,filled:p,remaining:g,status:b,fee:{cost:m,currency:s},info:e}}parseOrderV2(e,t){let i=this.safeString2(e,"OrderType","Type");const r="LIMIT_SELL"===i||"SELL"===i;("LIMIT_BUY"===i||"BUY"===i)&&(i="buy"),r&&(i="sell");let s=void 0;"Opened"in e&&e.Opened&&(s="open"),"Closed"in e&&e.Closed&&(s="closed"),"CancelInitiated"in e&&e.CancelInitiated&&(s="canceled"),"Status"in e&&this.options.parseOrderStatus&&(s=this.parseOrderStatus(this.safeString(e,"Status")));let a=void 0;if("Exchange"in e){const i=this.safeString(e,"Exchange");void 0!==i&&(a=i in this.markets_by_id?(t=this.markets_by_id[i]).symbol:this.parseSymbol(i))}else void 0!==t&&(a=t.symbol);let n=void 0;const o=this.safeString(e,"Opened");void 0!==o&&(n=this.parse8601(o+"+00:00"));const c=this.safeString(e,"Created");void 0!==c&&(n=this.parse8601(c+"+00:00"));let d=void 0;const h=this.safeString(e,"TimeStamp");void 0!==h&&(d=this.parse8601(h+"+00:00"));const u=this.safeString(e,"Closed");void 0!==u&&(d=this.parse8601(u+"+00:00")),void 0===n&&(n=d);let l=void 0;const f=this.safeFloat2(e,"Commission","CommissionPaid");if(void 0!==f)if(l={cost:f},void 0!==t)l.currency=t.quote;else if(void 0!==a){const e=a.split("/")[1];l.currency=this.safeCurrencyCode(e)}let p=this.safeFloat(e,"Limit"),m=this.safeFloat(e,"Price");const y=this.safeFloat(e,"Quantity"),b=this.safeFloat(e,"QuantityRemaining");let v=void 0;void 0!==y&&void 0!==b&&(v=y-b,"closed"===s&&b>0&&(s="canceled")),m||p&&v&&(m=p*v),p||m&&v&&(p=m/v);const g=this.safeFloat(e,"PricePerUnit");return{info:e,id:this.safeString2(e,"OrderUuid","OrderId"),timestamp:n,datetime:this.iso8601(n),lastTradeTimestamp:d,symbol:a,type:"limit",side:i,price:p,cost:m,average:g,amount:y,filled:v,remaining:b,status:s,fee:l}}async fetchOrder(e,t,i={}){await this.loadMarkets();let r=void 0;try{const t=this.getOrderIdField(),s={};s[t]=e,r=await this.accountGetOrder(this.extend(s,i))}catch(s){if(this.last_json_response){if("UUID_INVALID"===this.safeString(this.last_json_response,"message"))throw new h(this.id+" fetchOrder() error: "+this.last_http_response)}throw s}if(!r.result)throw new h(this.id+" order "+e+" not found");return this.parseOrder(r.result)}orderToTrade(e){const t=this.safeInteger2(e,"lastTradeTimestamp","timestamp");return{id:this.safeString(e,"id"),side:this.safeString(e,"side"),order:this.safeString(e,"id"),type:this.safeString(e,"type"),price:this.safeFloat(e,"average"),amount:this.safeFloat(e,"filled"),cost:this.safeFloat(e,"cost"),symbol:this.safeString(e,"symbol"),timestamp:t,datetime:this.iso8601(t),fee:this.safeValue(e,"fee"),info:e}}ordersToTrades(e){const t=[];for(let i=0;i<e.length;i++)t.push(this.orderToTrade(e[i]));return t}async fetchMyTrades(e,t,i,r={}){const s=await this.fetchClosedOrders(e,t,i,r);return this.ordersToTrades(s)}async fetchClosedOrders(e,t,i,r={}){const s=this.safeString(this.options,"fetchClosedOrdersMethod","fetch_closed_orders_v3");return await this[s](e,t,i,r)}async fetchClosedOrdersV2(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.market(e),s.market=a.id);const n=await this.accountGetOrderhistory(this.extend(s,r)),o=this.safeValue(n,"result",[]),c=this.parseOrders(o,a,t,i);return void 0!==e?this.filterBySymbol(c,e):c}async fetchClosedOrdersV3(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==i&&(s.pageSize=i),void 0!==t&&(s.startDate=this.ymdhms(t,"T")+"Z");let a=void 0;void 0!==e&&(a=this.market(e),s.marketSymbol=a.base+"-"+a.quote);const n=await this.v3GetOrdersClosed(this.extend(s,r)),o=this.parseOrders(n,a,t,i);return void 0!==e?this.filterBySymbol(o,e):o}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e),r={currency:i.id},s=await this.accountGetDepositaddress(this.extend(r,t));let a=this.safeString(s.result,"Address");const n=this.safeString(s,"message");if(!a||"ADDRESS_GENERATING"===n)throw new f(this.id+" the address for "+e+" is being generated (pending, not ready yet, retry again later)");let o=void 0;return i.type in this.options.tag&&(o=a,a=i.address),this.checkAddress(a),{currency:e,address:a,tag:o,info:s}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,quantity:t,address:i};void 0!==r&&(a.paymentid=r);const n=await this.accountGetWithdraw(this.extend(a,s)),o=this.safeValue(n,"result",{});return{info:n,id:this.safeString(o,"uuid")}}sign(e,t="public",i="GET",r={},s,a){let n=this.implodeParams(this.urls.api[t],{hostname:this.hostname})+"/";if("v2"!==t&&"v3"!==t&&"v3public"!==t&&(n+=this.version+"/"),"public"===t)n+=t+"/"+i.toLowerCase()+e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("v3public"===t)n+=e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("v2"===t)n+=e,Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("v3"===t){n+=e,Object.keys(r).length&&(n+="?"+this.rawencode(r));const t=this.hash(this.encode(""),"sha512","hex"),a=this.milliseconds().toString();let o=a+n+i+t;const c=this.safeValue(this.options,"subaccountId");void 0!==c&&(o+=c);const d=this.hmac(this.encode(o),this.encode(this.secret),"sha512");s={"Api-Key":this.apiKey,"Api-Timestamp":a,"Api-Content-Hash":t,"Api-Signature":d},void 0!==c&&(s["Api-Subaccount-Id"]=c)}else{this.checkRequiredCredentials(),n+=t+"/",("account"===t&&"withdraw"!==e||"openorders"===e)&&(n+=i.toLowerCase());const a={apikey:this.apiKey},o=this.safeValue(this.options,"disableNonce");void 0!==o&&o||(a.nonce=this.nonce()),n+=e+"?"+this.urlencode(this.extend(a,r)),s={apisign:this.hmac(this.encode(n),this.encode(this.secret),"sha512")}}return{url:n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,n,c,d,l){if(void 0!==c&&"{"===n[0]){let e=this.safeValue(c,"success");if(void 0===e)return;if("string"===typeof e&&(e="true"===e),!e){const e=this.safeString(c,"message"),t=this.id+" "+n;if("APIKEY_INVALID"===e)throw this.options.hasAlreadyAuthenticatedSuccessfully?new u(t):new o(t);if("INVALID_ORDER"===e){const e="cancel";if(i.indexOf(e)>=0){const e=i.split("?");if(e.length>1){const t=e[1].split("&"),i=t.length;let r=void 0;for(let e=0;e<i;e++){const i=t[e].split("=");if("uuid"===i[0]){r=i[1];break}}throw new h(void 0!==r?this.id+" cancelOrder "+r+" "+this.json(c):this.id+" cancelOrder "+this.json(c))}}}throw this.throwExactlyMatchedException(this.exceptions.exact,e,t),void 0!==e&&this.throwBroadlyMatchedException(this.exceptions.broad,e,t),new a(t)}}}async request(e,t="public",i="GET",r={},s,a){const n=await this.fetch2(e,t,i,r,s,a);return"account"!==t&&"market"!==t||(this.options.hasAlreadyAuthenticatedSuccessfully=!0),n}}},ucJe:function(e,t,i){"use strict";const r=i("hawN");e.exports=function e(t,i,r={}){for(const[s,a]of Object.entries(i)){const i=Object.assign(r,{[s]:class extends t{constructor(e){super(e),this.constructor=i,this.__proto__=i.prototype,this.name=s,this.message=e}}})[s];e(i,a,r)}return r}(Error,r)},upWy:function(e,t,i){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,r,s){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,n,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,r)}));case 4:return t.nextTick((function(){e.call(null,i,r,s)}));default:for(a=new Array(o-1),n=0;n<a.length;)a[n++]=arguments[n];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,i("5IsQ"))},uuNj:function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function s(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function a(e,t,i){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var n;"object"===typeof e?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{n=i("qykS").Buffer}catch(S){}function o(e,t,i){for(var r=0,s=Math.min(e.length,i),a=t;a<s;a++){var n=e.charCodeAt(a)-48;r<<=4,r|=n>=49&&n<=54?n-49+10:n>=17&&n<=22?n-17+10:15&n}return r}function c(e,t,i,r){for(var s=0,a=Math.min(e.length,i),n=t;n<a;n++){var o=e.charCodeAt(n)-48;s*=r,s+=o>=49?o-49+10:o>=17?o-17+10:o}return s}a.isBN=function(e){return e instanceof a||null!==e&&"object"===typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&s++,16===t?this._parseHex(e,s):this._parseBase(e,t,s),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},a.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var a,n,o=0;if("be"===i)for(s=e.length-1,a=0;s>=0;s-=3)n=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(s=0,a=0;s<e.length;s+=3)n=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[a]|=n<<o&67108863,this.words[a+1]=n>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,s,a=0;for(i=e.length-6,r=0;i>=t;i-=6)s=o(e,i,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303,(a+=24)>=26&&(a-=26,r++);i+6!==t&&(s=o(e,t,i+6),this.words[r]|=s<<a&67108863,this.words[r+1]|=s>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var a=e.length-i,n=a%r,o=Math.min(a,a-n)+i,d=0,h=i;h<o;h+=r)d=c(e,h,h+r,t),this.imuln(s),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==n){var u=1;for(d=c(e,h,e.length,t),h=0;h<n;h++)u*=t;this.imuln(u),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var s=0|e.words[0],a=0|t.words[0],n=s*a,o=67108863&n,c=n/67108864|0;i.words[0]=o;for(var d=1;d<r;d++){for(var h=c>>>26,u=67108863&c,l=Math.min(d,t.length-1),f=Math.max(0,d-e.length+1);f<=l;f++){var p=d-f|0;h+=(n=(s=0|e.words[p])*(a=0|t.words[f])+u)/67108864|0,u=67108863&n}i.words[d]=0|u,c=0|h}return 0!==c?i.words[d]=0|c:i.length--,i.strip()}a.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var s=0,a=0,n=0;n<this.length;n++){var o=this.words[n],c=(16777215&(o<<s|a)).toString(16);i=0!==(a=o>>>24-s&16777215)||n!==this.length-1?d[6-c.length]+c+i:c+i,(s+=2)>=26&&(s-=26,n--)}for(0!==a&&(i=a.toString(16)+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=h[e],f=u[e];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);i=(p=p.idivn(f)).isZero()?m+i:d[l-m.length]+m+i}for(this.isZero()&&(i="0"+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r("undefined"!==typeof n),this.toArrayLike(n,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,i){var s=this.byteLength(),a=i||Math.max(1,s);r(s<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var n,o,c="le"===t,d=new e(a),h=this.clone();if(c){for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[o]=n;for(;o<a;o++)d[o]=0}else{for(o=0;o<a-s;o++)d[o]=0;for(o=0;!h.isZero();o++)n=h.andln(255),h.iushrn(8),d[a-o-1]=n}return d},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return i>0&&(this.words[s]=~this.words[s]&67108863>>26-i),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,s=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<s:this.words[i]&~(1<<s),this.strip()},a.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var s=0,a=0;a<r.length;a++)t=(0|i.words[a])+(0|r.words[a])+s,this.words[a]=67108863&t,s=t>>>26;for(;0!==s&&a<i.length;a++)t=(0|i.words[a])+s,this.words[a]=67108863&t,s=t>>>26;if(this.length=i.length,0!==s)this.words[this.length]=s,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(i=this,r=e):(i=e,r=this);for(var a=0,n=0;n<r.length;n++)a=(t=(0|i.words[n])-(0|r.words[n])+a)>>26,this.words[n]=67108863&t;for(;0!==a&&n<i.length;n++)a=(t=(0|i.words[n])+a)>>26,this.words[n]=67108863&t;if(0===a&&n<i.length&&i!==this)for(;n<i.length;n++)this.words[n]=i.words[n];return this.length=Math.max(this.length,n),i!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,i){var r,s,a,n=e.words,o=t.words,c=i.words,d=0,h=0|n[0],u=8191&h,l=h>>>13,f=0|n[1],p=8191&f,m=f>>>13,y=0|n[2],b=8191&y,v=y>>>13,g=0|n[3],w=8191&g,k=g>>>13,_=0|n[4],T=8191&_,S=_>>>13,x=0|n[5],O=8191&x,C=x>>>13,M=0|n[6],A=8191&M,E=M>>>13,I=0|n[7],B=8191&I,F=I>>>13,P=0|n[8],R=8191&P,q=P>>>13,L=0|n[9],D=8191&L,N=L>>>13,U=0|o[0],V=8191&U,G=U>>>13,j=0|o[1],H=8191&j,K=j>>>13,z=0|o[2],W=8191&z,X=z>>>13,Y=0|o[3],Z=8191&Y,J=Y>>>13,Q=0|o[4],$=8191&Q,ee=Q>>>13,te=0|o[5],ie=8191&te,re=te>>>13,se=0|o[6],ae=8191&se,ne=se>>>13,oe=0|o[7],ce=8191&oe,de=oe>>>13,he=0|o[8],ue=8191&he,le=he>>>13,fe=0|o[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ye=(d+(r=Math.imul(u,V))|0)+((8191&(s=(s=Math.imul(u,G))+Math.imul(l,V)|0))<<13)|0;d=((a=Math.imul(l,G))+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,V),s=(s=Math.imul(p,G))+Math.imul(m,V)|0,a=Math.imul(m,G);var be=(d+(r=r+Math.imul(u,H)|0)|0)+((8191&(s=(s=s+Math.imul(u,K)|0)+Math.imul(l,H)|0))<<13)|0;d=((a=a+Math.imul(l,K)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(b,V),s=(s=Math.imul(b,G))+Math.imul(v,V)|0,a=Math.imul(v,G),r=r+Math.imul(p,H)|0,s=(s=s+Math.imul(p,K)|0)+Math.imul(m,H)|0,a=a+Math.imul(m,K)|0;var ve=(d+(r=r+Math.imul(u,W)|0)|0)+((8191&(s=(s=s+Math.imul(u,X)|0)+Math.imul(l,W)|0))<<13)|0;d=((a=a+Math.imul(l,X)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,V),s=(s=Math.imul(w,G))+Math.imul(k,V)|0,a=Math.imul(k,G),r=r+Math.imul(b,H)|0,s=(s=s+Math.imul(b,K)|0)+Math.imul(v,H)|0,a=a+Math.imul(v,K)|0,r=r+Math.imul(p,W)|0,s=(s=s+Math.imul(p,X)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,X)|0;var ge=(d+(r=r+Math.imul(u,Z)|0)|0)+((8191&(s=(s=s+Math.imul(u,J)|0)+Math.imul(l,Z)|0))<<13)|0;d=((a=a+Math.imul(l,J)|0)+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(T,V),s=(s=Math.imul(T,G))+Math.imul(S,V)|0,a=Math.imul(S,G),r=r+Math.imul(w,H)|0,s=(s=s+Math.imul(w,K)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,K)|0,r=r+Math.imul(b,W)|0,s=(s=s+Math.imul(b,X)|0)+Math.imul(v,W)|0,a=a+Math.imul(v,X)|0,r=r+Math.imul(p,Z)|0,s=(s=s+Math.imul(p,J)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,J)|0;var we=(d+(r=r+Math.imul(u,$)|0)|0)+((8191&(s=(s=s+Math.imul(u,ee)|0)+Math.imul(l,$)|0))<<13)|0;d=((a=a+Math.imul(l,ee)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,V),s=(s=Math.imul(O,G))+Math.imul(C,V)|0,a=Math.imul(C,G),r=r+Math.imul(T,H)|0,s=(s=s+Math.imul(T,K)|0)+Math.imul(S,H)|0,a=a+Math.imul(S,K)|0,r=r+Math.imul(w,W)|0,s=(s=s+Math.imul(w,X)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,X)|0,r=r+Math.imul(b,Z)|0,s=(s=s+Math.imul(b,J)|0)+Math.imul(v,Z)|0,a=a+Math.imul(v,J)|0,r=r+Math.imul(p,$)|0,s=(s=s+Math.imul(p,ee)|0)+Math.imul(m,$)|0,a=a+Math.imul(m,ee)|0;var ke=(d+(r=r+Math.imul(u,ie)|0)|0)+((8191&(s=(s=s+Math.imul(u,re)|0)+Math.imul(l,ie)|0))<<13)|0;d=((a=a+Math.imul(l,re)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(A,V),s=(s=Math.imul(A,G))+Math.imul(E,V)|0,a=Math.imul(E,G),r=r+Math.imul(O,H)|0,s=(s=s+Math.imul(O,K)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,K)|0,r=r+Math.imul(T,W)|0,s=(s=s+Math.imul(T,X)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,X)|0,r=r+Math.imul(w,Z)|0,s=(s=s+Math.imul(w,J)|0)+Math.imul(k,Z)|0,a=a+Math.imul(k,J)|0,r=r+Math.imul(b,$)|0,s=(s=s+Math.imul(b,ee)|0)+Math.imul(v,$)|0,a=a+Math.imul(v,ee)|0,r=r+Math.imul(p,ie)|0,s=(s=s+Math.imul(p,re)|0)+Math.imul(m,ie)|0,a=a+Math.imul(m,re)|0;var _e=(d+(r=r+Math.imul(u,ae)|0)|0)+((8191&(s=(s=s+Math.imul(u,ne)|0)+Math.imul(l,ae)|0))<<13)|0;d=((a=a+Math.imul(l,ne)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,V),s=(s=Math.imul(B,G))+Math.imul(F,V)|0,a=Math.imul(F,G),r=r+Math.imul(A,H)|0,s=(s=s+Math.imul(A,K)|0)+Math.imul(E,H)|0,a=a+Math.imul(E,K)|0,r=r+Math.imul(O,W)|0,s=(s=s+Math.imul(O,X)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,X)|0,r=r+Math.imul(T,Z)|0,s=(s=s+Math.imul(T,J)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,J)|0,r=r+Math.imul(w,$)|0,s=(s=s+Math.imul(w,ee)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,ee)|0,r=r+Math.imul(b,ie)|0,s=(s=s+Math.imul(b,re)|0)+Math.imul(v,ie)|0,a=a+Math.imul(v,re)|0,r=r+Math.imul(p,ae)|0,s=(s=s+Math.imul(p,ne)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,ne)|0;var Te=(d+(r=r+Math.imul(u,ce)|0)|0)+((8191&(s=(s=s+Math.imul(u,de)|0)+Math.imul(l,ce)|0))<<13)|0;d=((a=a+Math.imul(l,de)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(R,V),s=(s=Math.imul(R,G))+Math.imul(q,V)|0,a=Math.imul(q,G),r=r+Math.imul(B,H)|0,s=(s=s+Math.imul(B,K)|0)+Math.imul(F,H)|0,a=a+Math.imul(F,K)|0,r=r+Math.imul(A,W)|0,s=(s=s+Math.imul(A,X)|0)+Math.imul(E,W)|0,a=a+Math.imul(E,X)|0,r=r+Math.imul(O,Z)|0,s=(s=s+Math.imul(O,J)|0)+Math.imul(C,Z)|0,a=a+Math.imul(C,J)|0,r=r+Math.imul(T,$)|0,s=(s=s+Math.imul(T,ee)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,ee)|0,r=r+Math.imul(w,ie)|0,s=(s=s+Math.imul(w,re)|0)+Math.imul(k,ie)|0,a=a+Math.imul(k,re)|0,r=r+Math.imul(b,ae)|0,s=(s=s+Math.imul(b,ne)|0)+Math.imul(v,ae)|0,a=a+Math.imul(v,ne)|0,r=r+Math.imul(p,ce)|0,s=(s=s+Math.imul(p,de)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,de)|0;var Se=(d+(r=r+Math.imul(u,ue)|0)|0)+((8191&(s=(s=s+Math.imul(u,le)|0)+Math.imul(l,ue)|0))<<13)|0;d=((a=a+Math.imul(l,le)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,V),s=(s=Math.imul(D,G))+Math.imul(N,V)|0,a=Math.imul(N,G),r=r+Math.imul(R,H)|0,s=(s=s+Math.imul(R,K)|0)+Math.imul(q,H)|0,a=a+Math.imul(q,K)|0,r=r+Math.imul(B,W)|0,s=(s=s+Math.imul(B,X)|0)+Math.imul(F,W)|0,a=a+Math.imul(F,X)|0,r=r+Math.imul(A,Z)|0,s=(s=s+Math.imul(A,J)|0)+Math.imul(E,Z)|0,a=a+Math.imul(E,J)|0,r=r+Math.imul(O,$)|0,s=(s=s+Math.imul(O,ee)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,r=r+Math.imul(T,ie)|0,s=(s=s+Math.imul(T,re)|0)+Math.imul(S,ie)|0,a=a+Math.imul(S,re)|0,r=r+Math.imul(w,ae)|0,s=(s=s+Math.imul(w,ne)|0)+Math.imul(k,ae)|0,a=a+Math.imul(k,ne)|0,r=r+Math.imul(b,ce)|0,s=(s=s+Math.imul(b,de)|0)+Math.imul(v,ce)|0,a=a+Math.imul(v,de)|0,r=r+Math.imul(p,ue)|0,s=(s=s+Math.imul(p,le)|0)+Math.imul(m,ue)|0,a=a+Math.imul(m,le)|0;var xe=(d+(r=r+Math.imul(u,pe)|0)|0)+((8191&(s=(s=s+Math.imul(u,me)|0)+Math.imul(l,pe)|0))<<13)|0;d=((a=a+Math.imul(l,me)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,H),s=(s=Math.imul(D,K))+Math.imul(N,H)|0,a=Math.imul(N,K),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,X)|0)+Math.imul(q,W)|0,a=a+Math.imul(q,X)|0,r=r+Math.imul(B,Z)|0,s=(s=s+Math.imul(B,J)|0)+Math.imul(F,Z)|0,a=a+Math.imul(F,J)|0,r=r+Math.imul(A,$)|0,s=(s=s+Math.imul(A,ee)|0)+Math.imul(E,$)|0,a=a+Math.imul(E,ee)|0,r=r+Math.imul(O,ie)|0,s=(s=s+Math.imul(O,re)|0)+Math.imul(C,ie)|0,a=a+Math.imul(C,re)|0,r=r+Math.imul(T,ae)|0,s=(s=s+Math.imul(T,ne)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,ne)|0,r=r+Math.imul(w,ce)|0,s=(s=s+Math.imul(w,de)|0)+Math.imul(k,ce)|0,a=a+Math.imul(k,de)|0,r=r+Math.imul(b,ue)|0,s=(s=s+Math.imul(b,le)|0)+Math.imul(v,ue)|0,a=a+Math.imul(v,le)|0;var Oe=(d+(r=r+Math.imul(p,pe)|0)|0)+((8191&(s=(s=s+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;d=((a=a+Math.imul(m,me)|0)+(s>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,W),s=(s=Math.imul(D,X))+Math.imul(N,W)|0,a=Math.imul(N,X),r=r+Math.imul(R,Z)|0,s=(s=s+Math.imul(R,J)|0)+Math.imul(q,Z)|0,a=a+Math.imul(q,J)|0,r=r+Math.imul(B,$)|0,s=(s=s+Math.imul(B,ee)|0)+Math.imul(F,$)|0,a=a+Math.imul(F,ee)|0,r=r+Math.imul(A,ie)|0,s=(s=s+Math.imul(A,re)|0)+Math.imul(E,ie)|0,a=a+Math.imul(E,re)|0,r=r+Math.imul(O,ae)|0,s=(s=s+Math.imul(O,ne)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,ne)|0,r=r+Math.imul(T,ce)|0,s=(s=s+Math.imul(T,de)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,de)|0,r=r+Math.imul(w,ue)|0,s=(s=s+Math.imul(w,le)|0)+Math.imul(k,ue)|0,a=a+Math.imul(k,le)|0;var Ce=(d+(r=r+Math.imul(b,pe)|0)|0)+((8191&(s=(s=s+Math.imul(b,me)|0)+Math.imul(v,pe)|0))<<13)|0;d=((a=a+Math.imul(v,me)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,Z),s=(s=Math.imul(D,J))+Math.imul(N,Z)|0,a=Math.imul(N,J),r=r+Math.imul(R,$)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,ee)|0,r=r+Math.imul(B,ie)|0,s=(s=s+Math.imul(B,re)|0)+Math.imul(F,ie)|0,a=a+Math.imul(F,re)|0,r=r+Math.imul(A,ae)|0,s=(s=s+Math.imul(A,ne)|0)+Math.imul(E,ae)|0,a=a+Math.imul(E,ne)|0,r=r+Math.imul(O,ce)|0,s=(s=s+Math.imul(O,de)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,de)|0,r=r+Math.imul(T,ue)|0,s=(s=s+Math.imul(T,le)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,le)|0;var Me=(d+(r=r+Math.imul(w,pe)|0)|0)+((8191&(s=(s=s+Math.imul(w,me)|0)+Math.imul(k,pe)|0))<<13)|0;d=((a=a+Math.imul(k,me)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,$),s=(s=Math.imul(D,ee))+Math.imul(N,$)|0,a=Math.imul(N,ee),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(q,ie)|0,a=a+Math.imul(q,re)|0,r=r+Math.imul(B,ae)|0,s=(s=s+Math.imul(B,ne)|0)+Math.imul(F,ae)|0,a=a+Math.imul(F,ne)|0,r=r+Math.imul(A,ce)|0,s=(s=s+Math.imul(A,de)|0)+Math.imul(E,ce)|0,a=a+Math.imul(E,de)|0,r=r+Math.imul(O,ue)|0,s=(s=s+Math.imul(O,le)|0)+Math.imul(C,ue)|0,a=a+Math.imul(C,le)|0;var Ae=(d+(r=r+Math.imul(T,pe)|0)|0)+((8191&(s=(s=s+Math.imul(T,me)|0)+Math.imul(S,pe)|0))<<13)|0;d=((a=a+Math.imul(S,me)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,ie),s=(s=Math.imul(D,re))+Math.imul(N,ie)|0,a=Math.imul(N,re),r=r+Math.imul(R,ae)|0,s=(s=s+Math.imul(R,ne)|0)+Math.imul(q,ae)|0,a=a+Math.imul(q,ne)|0,r=r+Math.imul(B,ce)|0,s=(s=s+Math.imul(B,de)|0)+Math.imul(F,ce)|0,a=a+Math.imul(F,de)|0,r=r+Math.imul(A,ue)|0,s=(s=s+Math.imul(A,le)|0)+Math.imul(E,ue)|0,a=a+Math.imul(E,le)|0;var Ee=(d+(r=r+Math.imul(O,pe)|0)|0)+((8191&(s=(s=s+Math.imul(O,me)|0)+Math.imul(C,pe)|0))<<13)|0;d=((a=a+Math.imul(C,me)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,ae),s=(s=Math.imul(D,ne))+Math.imul(N,ae)|0,a=Math.imul(N,ne),r=r+Math.imul(R,ce)|0,s=(s=s+Math.imul(R,de)|0)+Math.imul(q,ce)|0,a=a+Math.imul(q,de)|0,r=r+Math.imul(B,ue)|0,s=(s=s+Math.imul(B,le)|0)+Math.imul(F,ue)|0,a=a+Math.imul(F,le)|0;var Ie=(d+(r=r+Math.imul(A,pe)|0)|0)+((8191&(s=(s=s+Math.imul(A,me)|0)+Math.imul(E,pe)|0))<<13)|0;d=((a=a+Math.imul(E,me)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,ce),s=(s=Math.imul(D,de))+Math.imul(N,ce)|0,a=Math.imul(N,de),r=r+Math.imul(R,ue)|0,s=(s=s+Math.imul(R,le)|0)+Math.imul(q,ue)|0,a=a+Math.imul(q,le)|0;var Be=(d+(r=r+Math.imul(B,pe)|0)|0)+((8191&(s=(s=s+Math.imul(B,me)|0)+Math.imul(F,pe)|0))<<13)|0;d=((a=a+Math.imul(F,me)|0)+(s>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(D,ue),s=(s=Math.imul(D,le))+Math.imul(N,ue)|0,a=Math.imul(N,le);var Fe=(d+(r=r+Math.imul(R,pe)|0)|0)+((8191&(s=(s=s+Math.imul(R,me)|0)+Math.imul(q,pe)|0))<<13)|0;d=((a=a+Math.imul(q,me)|0)+(s>>>13)|0)+(Fe>>>26)|0,Fe&=67108863;var Pe=(d+(r=Math.imul(D,pe))|0)+((8191&(s=(s=Math.imul(D,me))+Math.imul(N,pe)|0))<<13)|0;return d=((a=Math.imul(N,me))+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=ye,c[1]=be,c[2]=ve,c[3]=ge,c[4]=we,c[5]=ke,c[6]=_e,c[7]=Te,c[8]=Se,c[9]=xe,c[10]=Oe,c[11]=Ce,c[12]=Me,c[13]=Ae,c[14]=Ee,c[15]=Ie,c[16]=Be,c[17]=Fe,c[18]=Pe,0!==d&&(c[19]=d,i.length++),i};function p(e,t,i){return(new m).mulp(e,t,i)}function m(e,t){this.x=e,this.y=t}Math.imul||(f=l),a.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):i<63?l(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,s=0,a=0;a<i.length-1;a++){var n=s;s=0;for(var o=67108863&r,c=Math.min(a,t.length-1),d=Math.max(0,a-e.length+1);d<=c;d++){var h=a-d,u=(0|e.words[h])*(0|t.words[d]),l=67108863&u;o=67108863&(l=l+o|0),s+=(n=(n=n+(u/67108864|0)|0)+(l>>>26)|0)>>>26,n&=67108863}i.words[a]=o,r=n,n=s}return 0!==r?i.words[a]=r:i.length--,i.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),i=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},m.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,s=0;s<t;s++)r|=(1&e)<<t-s-1,e>>=1;return r},m.prototype.permute=function(e,t,i,r,s,a){for(var n=0;n<a;n++)r[n]=t[e[n]],s[n]=i[e[n]]},m.prototype.transform=function(e,t,i,r,s,a){this.permute(a,e,t,i,r,s);for(var n=1;n<s;n<<=1)for(var o=n<<1,c=Math.cos(2*Math.PI/o),d=Math.sin(2*Math.PI/o),h=0;h<s;h+=o)for(var u=c,l=d,f=0;f<n;f++){var p=i[h+f],m=r[h+f],y=i[h+f+n],b=r[h+f+n],v=u*y-l*b;b=u*b+l*y,y=v,i[h+f]=p+y,r[h+f]=m+b,i[h+f+n]=p-y,r[h+f+n]=m-b,f!==o&&(v=c*u-d*l,l=c*l+d*u,u=v)}},m.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,s=0;for(i=i/2|0;i;i>>>=1)s++;return 1<<s+1+r},m.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var s=e[r];e[r]=e[i-r-1],e[i-r-1]=s,s=t[r],t[r]=-t[i-r-1],t[i-r-1]=-s}},m.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var s=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&s,i=s<67108864?0:s/67108864|0}return e},m.prototype.convert13b=function(e,t,i,s){for(var a=0,n=0;n<t;n++)a+=0|e[n],i[2*n]=8191&a,a>>>=13,i[2*n+1]=8191&a,a>>>=13;for(n=2*t;n<s;++n)i[n]=0;r(0===a),r(0===(-8192&a))},m.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},m.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),s=this.makeRBT(r),a=this.stub(r),n=new Array(r),o=new Array(r),c=new Array(r),d=new Array(r),h=new Array(r),u=new Array(r),l=i.words;l.length=r,this.convert13b(e.words,e.length,n,r),this.convert13b(t.words,t.length,d,r),this.transform(n,a,o,c,r,s),this.transform(d,a,h,u,r,s);for(var f=0;f<r;f++){var p=o[f]*h[f]-c[f]*u[f];c[f]=o[f]*u[f]+c[f]*h[f],o[f]=p}return this.conjugate(o,c,r),this.transform(o,c,l,a,r,s),this.conjugate(l,a,r),this.normalize13b(l,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&t);t>>=26,t+=s/67108864|0,t+=a>>>26,this.words[i]=67108863&a}return 0!==t&&(this.words[i]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,s=i%26;t[i]=(e.words[r]&1<<s)>>>s}return t}(e);if(0===t.length)return new a(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var s=i.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(i=i.mul(s));return i},a.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,s=(e-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var n=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<i;this.words[t]=c|n,n=o>>>26-i}n&&(this.words[t]=n,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,i){var s;r("number"===typeof e&&e>=0),s=t?(t-t%26)/26:0;var a=e%26,n=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=i;if(s-=n,s=Math.max(0,s),c){for(var d=0;d<n;d++)c.words[d]=this.words[d];c.length=n}if(0===n);else if(this.length>n)for(this.length-=n,d=0;d<this.length;d++)this.words[d]=this.words[d+n];else this.words[0]=0,this.length=1;var h=0;for(d=this.length-1;d>=0&&(0!==h||d>=s);d--){var u=0|this.words[d];this.words[d]=h<<26-a|u>>>a,h=u&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,s=1<<t;return!(this.length<=i)&&!!(this.words[i]&s)},a.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,i){var s,a,n=e.length+i;this._expand(n);var o=0;for(s=0;s<e.length;s++){a=(0|this.words[s+i])+o;var c=(0|e.words[s])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[s+i]=67108863&a}for(;s<this.length-i;s++)o=(a=(0|this.words[s+i])+o)>>26,this.words[s+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,s=0;s<this.length;s++)o=(a=-(0|this.words[s])+o)>>26,this.words[s]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),s=e,n=0|s.words[s.length-1];0!==(i=26-this._countBits(n))&&(s=s.ushln(i),r.iushln(i),n=0|s.words[s.length-1]);var o,c=r.length-s.length;if("mod"!==t){(o=new a(null)).length=c+1,o.words=new Array(o.length);for(var d=0;d<o.length;d++)o.words[d]=0}var h=r.clone()._ishlnsubmul(s,1,c);0===h.negative&&(r=h,o&&(o.words[c]=1));for(var u=c-1;u>=0;u--){var l=67108864*(0|r.words[s.length+u])+(0|r.words[s.length+u-1]);for(l=Math.min(l/n|0,67108863),r._ishlnsubmul(s,l,u);0!==r.negative;)l--,r.negative=0,r._ishlnsubmul(s,1,u),r.isZero()||(r.negative^=1);o&&(o.words[u]=l)}return o&&o.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:o||null,mod:r}},a.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(s=o.div.neg()),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.iadd(e)),{div:s,mod:n}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(s=o.div.neg()),{div:s,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(n=o.mod.neg(),i&&0!==n.negative&&n.isub(e)),{div:o.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var s,n,o},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),a=i.cmp(r);return a<0||1===s&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(t*i+(0|this.words[s]))%e;return i},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*t;this.words[i]=s/e|0,t=s%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new a(1),n=new a(0),o=new a(0),c=new a(1),d=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++d;for(var h=i.clone(),u=t.clone();!t.isZero();){for(var l=0,f=1;0===(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(s.isOdd()||n.isOdd())&&(s.iadd(h),n.isub(u)),s.iushrn(1),n.iushrn(1);for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(u)),o.iushrn(1),c.iushrn(1);t.cmp(i)>=0?(t.isub(i),s.isub(o),n.isub(c)):(i.isub(t),o.isub(s),c.isub(n))}return{a:o,b:c,gcd:i.iushln(d)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,n=new a(1),o=new a(0),c=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)n.isOdd()&&n.iadd(c),n.iushrn(1);for(var u=0,l=1;0===(i.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(i.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o)):(i.isub(t),o.isub(n))}return(s=0===t.cmpn(1)?n:o).cmpn(0)<0&&s.iadd(e),s},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var s=t.cmp(i);if(s<0){var a=t;t=i,i=a}else if(0===s||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0===(1&this.words[0])},a.prototype.isOdd=function(){return 1===(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,s=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=s,this;for(var a=s,n=i;0!==a&&n<this.length;n++){var o=0|this.words[n];a=(o+=a)>>>26,o&=67108863,this.words[n]=o}return 0!==a&&(this.words[n]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],s=0|e.words[i];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new _(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"===typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i.strip(),i},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},s(v,b),v.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=4194303&s,r=10;r<e.length;r++){var a=0|e.words[r];e.words[r-10]=(4194303&a)<<4|s>>>22,s=a}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},s(g,b),s(w,b),s(k,b),k.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,s=67108863&r;r>>>=26,e.words[i]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new g;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},_.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new a(1)).iushrn(2);return this.pow(e,i)}for(var s=this.m.subn(1),n=0;!s.isZero()&&0===s.andln(1);)n++,s.iushrn(1);r(!s.isZero());var o=new a(1).toRed(this),c=o.redNeg(),d=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new a(2*h*h).toRed(this);0!==this.pow(h,d).cmp(c);)h.redIAdd(c);for(var u=this.pow(h,s),l=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=n;0!==f.cmp(o);){for(var m=f,y=0;0!==m.cmp(o);y++)m=m.redSqr();r(y<p);var b=this.pow(u,new a(1).iushln(p-y-1));l=l.redMul(b),u=b.redSqr(),f=f.redMul(u),p=y}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new a(1);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new a(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var s=i[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var d=t.words[r],h=c-1;h>=0;h--){var u=d>>h&1;s!==i[0]&&(s=this.sqr(s)),0!==u||0!==n?(n<<=1,n|=u,(4===++o||0===r&&0===h)&&(s=this.mul(s,i[n]),o=0,n=0)):o=0}c=26}return s},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new T(e)},s(T,_),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),a=s;return s.cmp(this.m)>=0?a=s.isub(this.m):s.cmpn(0)<0&&(a=s.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=i.isub(r).iushrn(this.shift),n=s;return s.cmp(this.m)>=0?n=s.isub(this.m):s.cmpn(0)<0&&(n=s.iadd(this.m)),n._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i("RoC8")(e))},uyLk:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"luno",name:"luno",countries:["GB","SG","ZA"],rateLimit:1e3,version:"1",has:{CORS:!1,fetchTickers:!0,fetchOrder:!0,fetchOrders:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchTradingFee:!0,fetchTradingFees:!0},urls:{referral:"https://www.luno.com/invite/44893A",logo:"https://user-images.githubusercontent.com/1294454/27766607-8c1a69d8-5ede-11e7-930c-540b5eb9be24.jpg",api:"https://api.mybitx.com/api",www:"https://www.luno.com",doc:["https://www.luno.com/en/api","https://npmjs.org/package/bitx","https://github.com/bausmeier/node-bitx"]},api:{public:{get:["orderbook","orderbook_top","ticker","tickers","trades"]},private:{get:["accounts/{id}/pending","accounts/{id}/transactions","balance","fee_info","funding_address","listorders","listtrades","orders/{id}","quotes/{id}","withdrawals","withdrawals/{id}"],post:["accounts","postorder","marketorder","stoporder","funding_address","withdrawals","send","quotes","oauth2/grant"],put:["quotes/{id}"],delete:["quotes/{id}","withdrawals/{id}"]}}})}async fetchMarkets(e={}){const t=await this.publicGetTickers(e),i=[];for(let r=0;r<t.tickers.length;r++){const e=t.tickers[r],s=e.pair,a=s.slice(0,3),n=s.slice(3,6),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c;i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e})}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetBalance(e),i=this.safeValue(t,"balance",[]),r={info:t};for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"asset"),a=this.safeCurrencyCode(t),n=this.safeFloat(e,"reserved"),o=this.safeFloat(e,"unconfirmed"),c=this.safeFloat(e,"balance"),d=this.account();d.used=this.sum(n,o),d.total=this.sum(c,o),r[a]=d}return this.parseBalance(r)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();let r="publicGetOrderbook";void 0!==t&&t<=100&&(r+="Top");const s={pair:this.marketId(e)},a=await this[r](this.extend(s,i)),n=this.safeInteger(a,"timestamp");return this.parseOrderBook(a,n,"bids","asks","price","volume")}parseOrder(e,t){const i=this.safeInteger(e,"creation_timestamp"),r="PENDING"===e.state?"open":"closed",s="ASK"===e.type?"sell":"buy",a=this.safeString(e,"pair");let n=void 0;a in this.markets_by_id&&(t=this.markets_by_id[a]),void 0!==t&&(n=t.symbol);const o=this.safeFloat(e,"limit_price"),c=this.safeFloat(e,"limit_volume"),d=this.safeFloat(e,"fee_counter"),h=this.safeFloat(e,"fee_base"),u=this.safeFloat(e,"base"),l=this.safeFloat(e,"counter");let f=void 0;void 0!==c&&void 0!==u&&(f=Math.max(0,c-u));const p={currency:void 0};return d?(p.cost=d,void 0!==t&&(p.currency=t.quote)):(p.cost=h,void 0!==t&&(p.currency=t.base)),{id:this.safeString(e,"order_id"),datetime:this.iso8601(i),timestamp:i,lastTradeTimestamp:void 0,status:r,symbol:n,type:void 0,side:s,price:o,amount:c,filled:u,cost:l,remaining:f,trades:void 0,fee:p,info:e}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.privateGetOrdersId(this.extend(r,i));return this.parseOrder(s)}async fetchOrdersByState(e,t,i,r,s={}){await this.loadMarkets();const a={};let n=void 0;void 0!==e&&(a.state=e),void 0!==t&&(n=this.market(t),a.pair=n.id);const o=await this.privateGetListorders(this.extend(a,s)),c=this.safeValue(o,"orders",[]);return this.parseOrders(c,n,i,r)}async fetchOrders(e,t,i,r={}){return await this.fetchOrdersByState(void 0,e,t,i,r)}async fetchOpenOrders(e,t,i,r={}){return await this.fetchOrdersByState("PENDING",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return await this.fetchOrdersByState("COMPLETE",e,t,i,r)}parseTicker(e,t){const i=this.safeInteger(e,"timestamp");let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"last_trade");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:void 0,low:void 0,bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:this.safeFloat(e,"rolling_24_hour_volume"),quoteVolume:void 0,info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r=this.indexBy(i.tickers,"pair"),s=Object.keys(r),a={};for(let n=0;n<s.length;n++){const e=s[n],t=this.markets_by_id[e],i=t.symbol,o=r[e];a[i]=this.parseTicker(o,t)}return a}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={pair:i.id},s=await this.publicGetTicker(this.extend(r,t));return this.parseTicker(s,i)}parseTrade(e,t){const i=this.safeString(e,"order_id");let r=void 0,s=void 0;void 0!==i?(s="ASK"===e.type?"sell":"buy",r="sell"===s&&e.is_buy?"maker":"buy"!==s||e.is_buy?"taker":"maker"):s=e.is_buy?"buy":"sell";const a=this.safeFloat(e,"fee_base"),n=this.safeFloat(e,"fee_counter");let o=void 0,c=void 0;void 0!==a?0!==a&&(o=t.base,c=a):void 0!==n&&0!==n&&(o=t.quote,c=n);const d=this.safeInteger(e,"timestamp");return{info:e,id:void 0,timestamp:d,datetime:this.iso8601(d),symbol:t.symbol,order:i,type:void 0,side:s,takerOrMaker:r,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"volume"),cost:this.safeFloat(e,"counter"),fee:{cost:c,currency:o}}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={pair:s.id};void 0!==t&&(a.since=t);const n=await this.publicGetTrades(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={pair:s.id};void 0!==t&&(n.since=t),void 0!==i&&(n.limit=i);const o=await this.privateGetListtrades(this.extend(n,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}async fetchTradingFees(e={}){await this.loadMarkets();const t=await this.privateGetFeeInfo(e);return{info:t,maker:this.safeFloat(t,"maker_fee"),taker:this.safeFloat(t,"taker_fee")}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();let n="privatePost";const o={pair:this.marketId(e)};"market"===t?(n+="Marketorder",o.type=i.toUpperCase(),"buy"===i?o.counter_volume=r:o.base_volume=r):(n+="Postorder",o.volume=r,o.price=s,o.type="buy"===i?"BID":"ASK");const c=await this[n](this.extend(o,a));return{info:c,id:c.order_id}}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={order_id:e};return await this.privatePostStoporder(this.extend(r,i))}sign(e,t="public",i="GET",r={},s,a){let n=this.urls.api+"/"+this.version+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));if(Object.keys(o).length&&(n+="?"+this.urlencode(o)),"private"===t){this.checkRequiredCredentials();let e=this.encode(this.apiKey+":"+this.secret);e=this.stringToBase64(e),s={Authorization:"Basic "+this.decode(e)}}return{url:n,method:i,body:a,headers:s}}async request(e,t="public",i="GET",r={},a,n){const o=await this.fetch2(e,t,i,r,a,n);if("error"in o)throw new s(this.id+" "+this.json(o));return o}}},"v+hw":function(e,t,i){"use strict";const{ROUND_UP:r,ROUND_DOWN:s}=i("rwG2"),{NotSupported:a}=i("ucJe"),n=e=>{const t=e.slice(0,-1),i=e.slice(-1);let r=void 0;if("y"===i)r=31536e3;else if("M"===i)r=2592e3;else if("w"===i)r=604800;else if("d"===i)r=86400;else if("h"===i)r=3600;else if("m"===i)r=60;else{if("s"!==i)throw new a("timeframe unit "+i+" is not supported");r=1}return t*r};e.exports={aggregate(e){const t={};for(let i=0;i<e.length;i++){const[r,s]=e[i];s>0&&(t[r]=(t[r]||0)+s)}return Object.keys(t).map(e=>[parseFloat(e),parseFloat(t[e])])},parseTimeframe:n,roundTimeframe:(e,t,i=s)=>{const a=1e3*n(e);return t-t%a+(i===r?a:0)},buildOHLCVC:(e,t="1m",i=-1/0,r=1/0)=>{const s=1e3*n(t),a=[],[o,,c,d,h,u,l]=[0,1,2,3,4,5,6],f=Math.min(e.length-1,r);for(let n=0;n<=f;n++){const t=e[n];if(t.timestamp<i)continue;const r=Math.floor(t.timestamp/s)*s,f=a.length-1;-1===f||r>=a[f][o]+s?a.push([r,t.price,t.price,t.price,t.price,t.amount,1]):(a[f][c]=Math.max(a[f][c],t.price),a[f][d]=Math.min(a[f][d],t.price),a[f][h]=t.price,a[f][u]+=t.amount,a[f][l]++)}return a},ROUND_UP:r,ROUND_DOWN:s,implodeParams:(e,t)=>{if(!Array.isArray(t)){const i=Object.keys(t);for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(t[s])||(e=e.replace("{"+s+"}",t[s]))}}return e},extractParams:e=>{const t=/{([\w-]+)}/g,i=[];let r=t.exec(e);for(;r;)i.push(r[1]),r=t.exec(e);return i}}},vHoy:function(e,t,i){(function(t){var i;i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=i}).call(this,i("pCvA"))},vY55:function(e,t,i){i("JxtV")._,i("JxtV");e.exports={privateExport:function(e,t){return{n:e.n.toBuffer(),e:e.e,d:e.d.toBuffer(),p:e.p.toBuffer(),q:e.q.toBuffer(),dmp1:e.dmp1.toBuffer(),dmq1:e.dmq1.toBuffer(),coeff:e.coeff.toBuffer()}},privateImport:function(e,t,i){if(!(t.n&&t.e&&t.d&&t.p&&t.q&&t.dmp1&&t.dmq1&&t.coeff))throw Error("Invalid key data");e.setPrivate(t.n,t.e,t.d,t.p,t.q,t.dmp1,t.dmq1,t.coeff)},publicExport:function(e,t){return{n:e.n.toBuffer(),e:e.e}},publicImport:function(e,t,i){if(!t.n||!t.e)throw Error("Invalid key data");e.setPublic(t.n,t.e)},autoImport:function(t,i){return!(!i.n||!i.e)&&(i.d&&i.p&&i.q&&i.dmp1&&i.dmq1&&i.coeff?(e.exports.privateImport(t,i),!0):(e.exports.publicImport(t,i),!0))}}},vb3U:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=i("8kJ5");function s(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function a(t,i){if(t<56)return e.from([t+i]);var r=o(t),s=o(i+55+r.length/2);return e.from(s+r,"hex")}function n(e){return"0x"===e.slice(0,2)}function o(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function c(t){if(!e.isBuffer(t)){if("string"===typeof t)return n(t)?e.from((i="string"!==typeof(s=t)?s:n(s)?s.slice(2):s).length%2?"0"+i:i,"hex"):e.from(t);if("number"===typeof t)return t?function(t){var i=o(t);return e.from(i,"hex")}(t):e.from([]);if(null===t||void 0===t)return e.from([]);if(t instanceof Uint8Array)return e.from(t);if(r.isBN(t))return e.from(t.toArray());throw new Error("invalid type")}var i,s;return t}t.encode=function t(i){if(Array.isArray(i)){for(var r=[],s=0;s<i.length;s++)r.push(t(i[s]));var n=e.concat(r);return e.concat([a(n.length,192),n])}var o=c(i);return 1===o.length&&o[0]<128?o:e.concat([a(o.length,128),o])},t.decode=function(t,i){if(void 0===i&&(i=!1),!t||0===t.length)return e.from([]);var r=function t(i){var r,a,n,o,c,d=[],h=i[0];if(h<=127)return{data:i.slice(0,1),remainder:i.slice(1)};if(h<=183){if(r=h-127,n=128===h?e.from([]):i.slice(1,r),2===r&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:i.slice(r)}}if(h<=191){if(a=h-182,r=s(i.slice(1,a).toString("hex"),16),(n=i.slice(a,r+a)).length<r)throw new Error("invalid RLP");return{data:n,remainder:i.slice(r+a)}}if(h<=247){for(r=h-191,o=i.slice(1,r);o.length;)c=t(o),d.push(c.data),o=c.remainder;return{data:d,remainder:i.slice(r)}}a=h-246,r=s(i.slice(1,a).toString("hex"),16);var u=a+r;if(u>i.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(o=i.slice(a,u)).length)throw new Error("invalid rlp, List has a invalid length");for(;o.length;)c=t(o),d.push(c.data),o=c.remainder;return{data:d,remainder:i.slice(u)}}(c(t));if(i)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},t.getLength=function(t){if(!t||0===t.length)return e.from([]);var i=c(t),r=i[0];if(r<=127)return i.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var a=r-246;return a+s(i.slice(1,a).toString("hex"),16)}}).call(this,i("qykS").Buffer)},viEW:function(e,t,i){"use strict";t.sha1=i("hwY2"),t.sha224=i("Mjob"),t.sha256=i("a/ED"),t.sha384=i("qwGt"),t.sha512=i("HbDv")},vrtS:function(e,t,i){var r=i("JxtV")._,s=i("Te/i"),a=i("JxtV"),n=i("gkJv");e.exports.Key=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.setOptions=function(e){var t=n[e.signingScheme],i=n[e.encryptionScheme];t===i?this.signingScheme=this.encryptionScheme=i.makeScheme(this,e):(this.encryptionScheme=i.makeScheme(this,e),this.signingScheme=t.makeScheme(this,e))},e.prototype.setPrivate=function(e,t,i,n,o,c,d,h){if(!(e&&t&&i&&e.length>0&&(r.isNumber(t)||t.length>0)&&i.length>0))throw Error("Invalid RSA private key");this.n=new s(e),this.e=r.isNumber(t)?t:a.get32IntFromBuffer(t,0),this.d=new s(i),n&&o&&c&&d&&h&&(this.p=new s(n),this.q=new s(o),this.dmp1=new s(c),this.dmq1=new s(d),this.coeff=new s(h)),this.$$recalculateCache()},e.prototype.$doPrivate=function(e){if(this.p||this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.sign=function(e){return this.signingScheme.sign.apply(this.signingScheme,arguments)},e.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},Object.defineProperty(e.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),Object.defineProperty(e.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),Object.defineProperty(e.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),e.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},e}()},"w+uW":function(e,t,i){"use strict";var r=i("m4tc"),s=function(e){this.name=e.name,this.type=e.type,this.subscriptions=e.subscriptions||{},this.requestManager=null};s.prototype.setRequestManager=function(e){this.requestManager=e},s.prototype.attachToObject=function(e){var t=this.buildCall(),i=this.name.split(".");i.length>1?(e[i[0]]=e[i[0]]||{},e[i[0]][i[1]]=t):e[i[0]]=t},s.prototype.buildCall=function(){var e=this;return function(){e.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var t=new r({subscription:e.subscriptions[arguments[0]],requestManager:e.requestManager,type:e.type});return t.subscribe.apply(t,arguments)}},e.exports={subscriptions:s,subscription:r}},w7gO:function(e,t,i){var r=i("sOO9"),s=i("so/P"),a=e.exports;for(var n in r)r.hasOwnProperty(n)&&(a[n]=r[n]);function o(e){if("string"===typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=o(e),r.request.call(this,e,t)},a.get=function(e,t){return e=o(e),r.get.call(this,e,t)}},w8x0:function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},wIgF:function(e,t,i){"use strict";const r=i("OjXq"),{BadSymbol:s,ExchangeNotAvailable:a,ArgumentsRequired:n,PermissionDenied:o,AuthenticationError:c,ExchangeError:d,OrderNotFound:h,DDoSProtection:u,InvalidNonce:l,InsufficientFunds:f,CancelPending:p,InvalidOrder:m,InvalidAddress:y,NotSupported:b}=i("ucJe"),{TRUNCATE:v,DECIMAL_PLACES:g}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"kraken",name:"Kraken",countries:["US"],version:"0",rateLimit:3e3,certified:!0,has:{createDepositAddress:!0,fetchDepositAddress:!0,fetchTradingFee:!0,fetchTradingFees:!0,CORS:!1,fetchCurrencies:!0,fetchTickers:!0,fetchOHLCV:!0,fetchOrder:!0,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchWithdrawals:!0,fetchDeposits:!0,withdraw:!0,fetchLedgerEntry:!0,fetchLedger:!0},marketsByAltname:{},timeframes:{"1m":1,"5m":5,"15m":15,"30m":30,"1h":60,"4h":240,"1d":1440,"1w":10080,"2w":21600},urls:{logo:"https://user-images.githubusercontent.com/1294454/27766599-22709304-5ede-11e7-9de1-9f33732e1509.jpg",api:{public:"https://api.kraken.com",private:"https://api.kraken.com",zendesk:"https://support.kraken.com/hc/en-us/articles"},www:"https://www.kraken.com",doc:"https://www.kraken.com/features/api",fees:"https://www.kraken.com/en-us/features/fee-schedule"},fees:{trading:{tierBased:!0,percentage:!0,taker:.0026,maker:.0016,tiers:{taker:[[0,.0026],[5e4,.0024],[1e5,.0022],[25e4,.002],[5e5,.0018],[1e6,.0016],[25e5,.0014],[5e6,.0012],[1e7,1e-4]],maker:[[0,.0016],[5e4,.0014],[1e5,.0012],[25e4,.001],[5e5,8e-4],[1e6,6e-4],[25e5,4e-4],[5e6,2e-4],[1e7,0]]}},funding:{tierBased:!1,percentage:!1,withdraw:{BTC:.001,ETH:.005,XRP:.02,XLM:2e-5,LTC:.02,DOGE:2,ZEC:1e-4,ICN:.02,REP:.01,ETC:.005,MLN:.003,XMR:.05,DASH:.005,GNO:.01,EOS:.5,BCH:.001,XTZ:.05,USD:5,EUR:5,CAD:10,JPY:300},deposit:{BTC:0,ETH:0,XRP:0,XLM:0,LTC:0,DOGE:0,ZEC:0,ICN:0,REP:0,ETC:0,MLN:0,XMR:0,DASH:0,GNO:0,EOS:0,BCH:0,XTZ:.05,USD:5,EUR:0,CAD:5,JPY:0}}},api:{zendesk:{get:["205893708-What-is-the-minimum-order-size-","201396777-What-are-the-deposit-fees-","201893608-What-are-the-withdrawal-fees-"]},public:{get:["Assets","AssetPairs","Depth","OHLC","Spread","Ticker","Time","Trades"]},private:{post:["AddOrder","AddExport","Balance","CancelOrder","ClosedOrders","DepositAddresses","DepositMethods","DepositStatus","ExportStatus","GetWebSocketsToken","Ledgers","OpenOrders","OpenPositions","QueryLedgers","QueryOrders","QueryTrades","RetrieveExport","RemoveExport","TradeBalance","TradesHistory","TradeVolume","Withdraw","WithdrawCancel","WithdrawInfo","WithdrawStatus"]}},commonCurrencies:{XBT:"BTC",XDG:"DOGE"},options:{cacheDepositMethodsOnFetchDepositAddress:!0,depositMethods:{},delistedMarketsById:{},inactiveCurrencies:["CAD","USD","JPY","GBP"]},exceptions:{"EQuery:Invalid asset pair":s,"EAPI:Invalid key":c,"EFunding:Unknown withdraw key":d,"EFunding:Invalid amount":f,"EService:Unavailable":a,"EDatabase:Internal error":a,"EService:Busy":a,"EQuery:Unknown asset":d,"EAPI:Rate limit exceeded":u,"EOrder:Rate limit exceeded":u,"EGeneral:Internal error":a,"EGeneral:Temporary lockout":u,"EGeneral:Permission denied":o}})}costToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e].precision.price,g)}feeToPrecision(e,t){return this.decimalToPrecision(t,v,this.markets[e].precision.amount,g)}async fetchMinOrderAmounts(){const e=(await this.zendeskGet205893708WhatIsTheMinimumOrderSize()).split('<td class="wysiwyg-text-align-right">');if(e.length<3)throw new b(this.id+" fetchMinOrderAmounts HTML page markup has changed: https://support.kraken.com/hc/en-us/articles/205893708-What-is-the-minimum-order-size-");const t={};for(let i=2;i<e.length;i++){const r=e[i].split("</td>")[0];if("To Be Announced"!==r){const e=r.split(" ");if(2===e.length){const i=parseFloat(e[0]);t[this.safeCurrencyCode(e[1])]=i}}}return t}async fetchMarkets(e={}){const t=await this.publicGetAssetPairs(e),i=await this.fetchMinOrderAmounts(),r=Object.keys(t.result);let s=[];for(let a=0;a<r.length;a++){const e=r[a],n=t.result[e],o=n.base,c=n.quote,d=this.safeCurrencyCode(o),h=this.safeCurrencyCode(c),u=e.indexOf(".d")>=0,l=u?n.altname:d+"/"+h;let f=void 0;"fees_maker"in n&&(f=parseFloat(n.fees_maker[0][1])/100);const p={amount:n.lot_decimals,price:n.pair_decimals};let m=Math.pow(10,-p.amount);d in i&&(m=i[d]),s.push({id:e,symbol:l,base:d,quote:h,baseId:o,quoteId:c,darkpool:u,info:n,altname:n.altname,maker:f,taker:parseFloat(n.fees[0][1])/100,active:!0,precision:p,limits:{amount:{min:m,max:Math.pow(10,p.amount)},price:{min:Math.pow(10,-p.price),max:void 0},cost:{min:0,max:void 0}}})}return s=this.appendInactiveMarkets(s),this.marketsByAltname=this.indexBy(s,"altname"),s}safeCurrencyCode(e,t){return e.length>3&&(0!==e.indexOf("X")&&0!==e.indexOf("Z")||(e=e.slice(1))),super.safeCurrencyCode(e,t)}appendInactiveMarkets(e){const t={amount:8,price:8},i={min:0,max:void 0},r={min:Math.pow(10,-t.price),max:void 0},s={darkpool:!1,info:void 0,maker:void 0,taker:void 0,active:!1,precision:t,limits:{amount:{min:Math.pow(10,-t.amount),max:Math.pow(10,t.amount)},price:r,cost:i}},a=[];for(let n=0;n<a.length;n++)e.push(this.extend(s,a[n]));return e}async fetchCurrencies(e={}){const t=await this.publicGetAssets(e),i=this.safeValue(t,"result"),r=Object.keys(i),s={};for(let a=0;a<r.length;a++){const e=r[a],t=i[e],n=this.safeCurrencyCode(this.safeString(t,"altname")),o=this.safeInteger(t,"decimals"),c=!this.inArray(n,this.options.inactiveCurrencies);s[n]={id:e,code:n,info:t,name:n,active:c,fee:void 0,precision:o,limits:{amount:{min:Math.pow(10,-o),max:Math.pow(10,o)},price:{min:Math.pow(10,-o),max:Math.pow(10,o)},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:Math.pow(10,o)}}}}return s}async fetchTradingFees(e={}){await this.loadMarkets(),this.checkRequiredCredentials();const t=await this.privatePostTradeVolume(e),i=this.safeFloat(t.result,"volume"),r=this.fees.trading.tiers;let s=r.taker[1],a=r.maker[1];for(let n=0;n<r.taker.length;n++)i>=r.taker[n][0]&&(s=r.taker[n][1]);for(let n=0;n<r.maker.length;n++)i>=r.maker[n][0]&&(a=r.maker[n][1]);return{info:t,maker:a,taker:s}}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r=this.market(e);if(r.darkpool)throw new d(this.id+" does not provide an order book for darkpool symbol "+e);const s={pair:r.id};void 0!==t&&(s.count=t);const a=(await this.publicGetDepth(this.extend(s,i))).result[r.id];return this.parseOrderBook(a)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);const s=parseFloat(e.v[1]),a=parseFloat(e.p[1]);let n=void 0;void 0!==s&&void 0!==a&&(n=s*a);const o=parseFloat(e.c[0]);return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:parseFloat(e.h[1]),low:parseFloat(e.l[1]),bid:parseFloat(e.b[0]),bidVolume:void 0,ask:parseFloat(e.a[0]),askVolume:void 0,vwap:a,open:this.safeFloat(e,"o"),close:o,last:o,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:s,quoteVolume:n,info:e}}async fetchTickers(e,t={}){await this.loadMarkets(),e=void 0===e?this.symbols:e;const i=[];for(let o=0;o<this.symbols.length;o++){const e=this.symbols[o],t=this.markets[e];t.active&&!t.darkpool&&i.push(t.id)}const r={pair:i.join(",")},s=(await this.publicGetTicker(this.extend(r,t))).result,a=Object.keys(s),n={};for(let o=0;o<a.length;o++){const t=a[o],i=this.markets_by_id[t],r=i.symbol,c=s[t];this.inArray(r,e)&&(n[r]=this.parseTicker(c,i))}return n}async fetchTicker(e,t={}){if(await this.loadMarkets(),e.indexOf(".d")>=0)throw new d(this.id+" does not provide a ticker for darkpool symbol "+e);const i=this.market(e),r={pair:i.id},s=(await this.publicGetTicker(this.extend(r,t))).result[i.id];return this.parseTicker(s,i)}parseOHLCV(e,t,i="1m",r,s){return[1e3*e[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[6])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={pair:a.id,interval:this.timeframes[t]};void 0!==i&&(n.since=parseInt((i-1)/1e3));const o=(await this.publicGetOHLC(this.extend(n,s))).result[a.id];return this.parseOHLCVs(o,a,t,i,r)}parseLedgerEntryType(e){return this.safeString({trade:"trade",withdrawal:"transaction",deposit:"transaction",transfer:"transfer",margin:"margin"},e,e)}parseLedgerEntry(e,t){const i=this.safeString(e,"id");let r=void 0;const s=this.safeString(e,"refid"),a=this.parseLedgerEntryType(this.safeString(e,"type")),n=this.safeCurrencyCode(this.safeString(e,"asset"),t);let o=this.safeFloat(e,"amount");o<0?(r="out",o=Math.abs(o)):r="in";const c=this.safeFloat(e,"time");let d=void 0;void 0!==c&&(d=parseInt(1e3*c));const h={cost:this.safeFloat(e,"fee"),currency:n};return{info:e,id:i,direction:r,account:void 0,referenceId:s,referenceAccount:void 0,type:a,currency:n,amount:o,before:void 0,after:this.safeFloat(e,"balance"),status:"ok",timestamp:d,datetime:this.iso8601(d),fee:h}}async fetchLedger(e,t,i,r={}){await this.loadMarkets();const s={};let a=void 0;void 0!==e&&(a=this.currency(e),s.asset=a.id),void 0!==t&&(s.start=parseInt(t/1e3));const n=await this.privatePostLedgers(this.extend(s,r)),o=this.safeValue(n,"result",{}),c=this.safeValue(o,"ledger",{}),d=Object.keys(c),h=[];for(let u=0;u<d.length;u++){const e=d[u],t=c[e];t.id=e,h.push(t)}return this.parseLedger(h,a,t,i)}async fetchLedgerEntriesByIds(e,t,i={}){await this.loadMarkets(),e=e.join(",");const r=this.extend({id:e},i),s=(await this.privatePostQueryLedgers(r)).result,a=Object.keys(s),n=[];for(let o=0;o<a.length;o++){const e=a[o],t=s[e];t.id=e,n.push(t)}return this.parseLedger(n)}async fetchLedgerEntry(e,t,i={}){return(await this.fetchLedgerEntriesByIds([e],t,i))[0]}parseTrade(e,t){let i=void 0,r=void 0,s=void 0,a=void 0,n=void 0,o=void 0,c=void 0,d=void 0;const h=this.safeString(e,"pair"),u=this.findMarketByAltnameOrId(h);let l=void 0;if(void 0!==u?t=u:void 0!==h&&(t=this.getDelistedMarketById(h)),void 0!==t&&(l=t.symbol),Array.isArray(e)){i=parseInt(1e3*e[2]),r="s"===e[3]?"sell":"buy",s="l"===e[4]?"limit":"market",a=parseFloat(e[0]),n=parseFloat(e[1]),e.length>6&&(o=e[6])}else if("ordertxid"in e&&(c=e.ordertxid,o=this.safeString2(e,"id","postxid"),i=this.safeTimestamp(e,"time"),r=e.type,s=e.ordertype,a=this.safeFloat(e,"price"),n=this.safeFloat(e,"vol"),"fee"in e)){let i=void 0;t&&(i=t.quote),d={cost:this.safeFloat(e,"fee"),currency:i}}return{id:o,order:c,info:e,timestamp:i,datetime:this.iso8601(i),symbol:l,type:s,side:r,takerOrMaker:void 0,price:a,amount:n,cost:a*n,fee:d}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a=s.id,n={pair:a};if(void 0!==t&&(n.since=1e6*t,n.since=t.toString()+"000000"),void 0!==i&&1e3!==i){if(this.safeValue(this.options,"fetchTradesWarning",!0))throw new d(this.id+" fetchTrades() cannot serve "+i.toString()+" trades without breaking the pagination, see https://github.com/ccxt/ccxt/issues/5698 for more details. Set exchange.options['fetchTradesWarning'] to acknowledge this warning and silence it.")}const o=(await this.publicGetTrades(this.extend(n,r))).result,c=o[a],h=c.length;if(h<=0)return[];const u=c[h-1],l=this.safeString(o,"last");return u.push(l),this.parseTrades(c,s,t,i)}async fetchBalance(e={}){const t=await this.privatePostBalance(e),i=this.safeValue(t,"result",{}),r={info:i},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],t=this.safeCurrencyCode(e),n=this.account();n.total=this.safeFloat(i,e),r[t]=n}return this.parseBalance(r)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={pair:this.market(e).id,type:i,ordertype:t,volume:this.amountToPrecision(e,r)};("limit"===t||!("market"===t)&&void 0!==s)&&(n.price=this.priceToPrecision(e,s));const o=await this.privatePostAddOrder(this.extend(n,a));let c=this.safeValue(o.result,"txid");if(void 0!==c&&Array.isArray(c)){c=c.length>1?c:c[0]}return{id:c,info:o,timestamp:void 0,datetime:void 0,lastTradeTimestamp:void 0,symbol:e,type:t,side:i,price:s,amount:r,cost:void 0,average:void 0,filled:void 0,remaining:void 0,status:void 0,fee:void 0,trades:void 0}}findMarketByAltnameOrId(e){return e in this.marketsByAltname?this.marketsByAltname[e]:e in this.markets_by_id?this.markets_by_id[e]:void 0}getDelistedMarketById(e){if(void 0===e)return e;let t=this.safeValue(this.options.delistedMarketsById,e);if(void 0!==t)return t;let i=3,r=3,s=6;8===e.length?(i=4,r=4,s=8):7===e.length&&(i=4,r=4,s=7);const a=e.slice(0,i),n=e.slice(r,s),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n);return t={symbol:o+"/"+c,base:o,quote:c,baseId:a,quoteId:n},this.options.delistedMarketsById[e]=t,t}parseOrderStatus(e){return this.safeString({pending:"open",open:"open",closed:"closed",canceled:"canceled",expired:"expired"},e,e)}parseOrder(e,t){const i=this.safeValue(e,"descr",{}),r=this.safeString(i,"type"),s=this.safeString(i,"ordertype"),a=this.safeString(i,"pair"),n=this.findMarketByAltnameOrId(a);let o=void 0;void 0!==n?t=n:void 0!==a&&(t=this.getDelistedMarketById(a));const c=this.safeTimestamp(e,"opentm"),d=this.safeFloat(e,"vol"),h=this.safeFloat(e,"vol_exec"),u=d-h;let l=void 0;const f=this.safeFloat(e,"cost");let p=this.safeFloat(i,"price");void 0!==p&&0!==p||(p=this.safeFloat(i,"price2")),void 0!==p&&0!==p||(p=this.safeFloat(e,"price",p));const m=this.safeFloat(e,"price");if(void 0!==t&&(o=t.symbol,"fee"in e)){const i=e.oflags;l={cost:this.safeFloat(e,"fee"),rate:void 0},i.indexOf("fciq")>=0?l.currency=t.quote:i.indexOf("fcib")>=0&&(l.currency=t.base)}const y=this.parseOrderStatus(this.safeString(e,"status"));return{id:this.safeString(e,"id"),info:e,timestamp:c,datetime:this.iso8601(c),lastTradeTimestamp:void 0,status:y,symbol:o,type:s,side:r,price:p,cost:f,amount:d,filled:h,average:m,remaining:u,fee:l}}parseOrders(e,t,i,r,s={}){const a=[],n=Object.keys(e);let o=void 0;void 0!==t&&(o=t.symbol);for(let c=0;c<n.length;c++){const i=n[c],r=this.extend({id:i},e[i]);a.push(this.extend(this.parseOrder(r,t),s))}return this.filterBySymbolSinceLimit(a,o,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r=await this.privatePostQueryOrders(this.extend({trades:!0,txid:e},i)),s=r.result,a=this.parseOrder(this.extend({id:e},s[e]));return this.extend({info:r},a)}async fetchOrdersByIds(e,t,i={}){await this.loadMarkets();const r=await this.privatePostQueryOrders(this.extend({trades:!0,txid:e.join(",")},i)),s=this.safeValue(r,"result",{}),a=[],n=Object.keys(s);for(let o=0;o<n.length;o++){const e=n[o],t=s[e],i=this.parseOrder(this.extend({id:e},t));a.push(i)}return a}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));const a=(await this.privatePostTradesHistory(this.extend(s,r))).result.trades,n=Object.keys(a);for(let c=0;c<n.length;c++)a[n[c]].id=n[c];const o=this.parseTrades(a,void 0,t,i);return void 0===e?o:this.filterBySymbol(o,e)}async cancelOrder(e,t,i={}){await this.loadMarkets();let r=void 0;try{r=await this.privatePostCancelOrder(this.extend({txid:e},i))}catch(s){if(this.last_http_response&&this.last_http_response.indexOf("EOrder:Unknown order")>=0)throw new h(this.id+" cancelOrder() error "+this.last_http_response);throw s}return r}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));const a=await this.privatePostOpenOrders(this.extend(s,r)),n=this.parseOrders(a.result.open,void 0,t,i);return void 0===e?n:this.filterBySymbol(n,e)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();const s={};void 0!==t&&(s.start=parseInt(t/1e3));const a=await this.privatePostClosedOrders(this.extend(s,r)),n=this.parseOrders(a.result.closed,void 0,t,i);return void 0===e?n:this.filterBySymbol(n,e)}async fetchDepositMethods(e,t={}){await this.loadMarkets();const i={asset:this.currency(e).id};return(await this.privatePostDepositMethods(this.extend(i,t))).result}parseTransactionStatus(e){return this.safeString({Initial:"pending",Pending:"pending",Success:"ok",Settled:"pending",Failure:"failed",Partial:"ok"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"refid"),r=this.safeString(e,"txid"),s=this.safeTimestamp(e,"time"),a=this.safeString(e,"asset"),n=this.safeCurrencyCode(a,t),o=this.safeString(e,"info"),c=this.safeFloat(e,"amount"),d=this.parseTransactionStatus(this.safeString(e,"status")),h=this.safeString(e,"type");let u=this.safeFloat(e,"fee");return void 0===u&&"deposit"===h&&(u=0),{info:e,id:i,currency:n,amount:c,address:o,tag:void 0,status:d,type:h,updated:void 0,txid:r,timestamp:s,datetime:this.iso8601(s),fee:{currency:n,cost:u}}}parseTransactionsByType(e,t,i,r,s){const a=[];for(let n=0;n<t.length;n++){const i=this.parseTransaction(this.extend({type:e},t[n]));a.push(i)}return this.filterByCurrencySinceLimit(a,i,r,s)}async fetchDeposits(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new n(this.id+" fetchDeposits requires a currency code argument");const s={asset:this.currency(e).id},a=await this.privatePostDepositStatus(this.extend(s,r));return this.parseTransactionsByType("deposit",a.result,e,t,i)}async fetchWithdrawals(e,t,i,r={}){if(await this.loadMarkets(),void 0===e)throw new n(this.id+" fetchWithdrawals requires a currency code argument");const s={asset:this.currency(e).id},a=await this.privatePostWithdrawStatus(this.extend(s,r));return this.parseTransactionsByType("withdrawal",a.result,e,t,i)}async createDepositAddress(e,t={}){const i=await this.fetchDepositAddress(e,this.extend({new:"true"},t)),r=this.safeString(i,"address");return this.checkAddress(r),{currency:e,address:r,info:i}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i=this.currency(e);let r=this.safeString(t,"method");if(void 0===r){if(!this.options.cacheDepositMethodsOnFetchDepositAddress)throw new d(this.id+' fetchDepositAddress() requires an extra `method` parameter. Use fetchDepositMethods ("'+e+'") to get a list of available deposit methods or enable the exchange property .options["cacheDepositMethodsOnFetchDepositAddress"] = true');e in this.options.depositMethods||(this.options.depositMethods[e]=await this.fetchDepositMethods(e)),r=this.options.depositMethods[e][0].method}const s={asset:i.id,method:r},a=await this.privatePostDepositAddresses(this.extend(s,t)),n=a.result;if(n.length<1)throw new y(this.id+" privatePostDepositAddresses() returned no addresses");const o=this.safeString(n[0],"address"),c=this.safeString2(n[0],"tag","memo");return this.checkAddress(o),{currency:e,address:o,tag:c,info:a}}async withdraw(e,t,i,r,s={}){if(this.checkAddress(i),"key"in s){await this.loadMarkets();const i={asset:this.currency(e).id,amount:t},r=await this.privatePostWithdraw(this.extend(i,s));return{info:r,id:r.result}}throw new d(this.id+" withdraw requires a 'key' parameter (withdrawal key name, as set up on your account)")}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+t+"/"+e;if("public"===t)Object.keys(r).length&&(n+="?"+this.urlencode(r));else if("private"===t){this.checkRequiredCredentials();const e=this.nonce().toString();a=this.urlencode(this.extend({nonce:e},r));const t=this.encode(e+a),i=this.hash(t,"sha256","binary"),o=this.stringToBinary(this.encode(n)),c=this.binaryConcat(o,i),d=this.base64ToBinary(this.secret),h=this.hmac(c,d,"sha512","base64");s={"API-Key":this.apiKey,"API-Sign":this.decode(h),"Content-Type":"application/x-www-form-urlencoded"}}else n="/"+e;return n=this.urls.api[t]+n,{url:n,method:i,body:a,headers:s}}nonce(){return this.milliseconds()}handleErrors(e,t,i,r,s,n,o,c,h){if(520===e)throw new a(this.id+" "+e.toString()+" "+t);if(n.indexOf("Invalid order")>=0)throw new m(this.id+" "+n);if(n.indexOf("Invalid nonce")>=0)throw new l(this.id+" "+n);if(n.indexOf("Insufficient funds")>=0)throw new f(this.id+" "+n);if(n.indexOf("Cancel pending")>=0)throw new p(this.id+" "+n);if(n.indexOf("Invalid arguments:volume")>=0)throw new m(this.id+" "+n);if("{"===n[0]&&"string"!==typeof o&&"error"in o){if(o.error.length){const e=this.id+" "+n;for(let t=0;t<o.error.length;t++){const i=o.error[t];this.throwExactlyMatchedException(this.exceptions,i,e)}throw new d(e)}}}}},wJrE:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,ArgumentsRequired:a,InvalidNonce:n,OrderNotFound:o,InvalidOrder:c,DDoSProtection:d,BadRequest:h,AuthenticationError:u}=i("ucJe"),{ROUND:l}=i("rwG2");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"latoken",name:"Latoken",countries:["KY"],version:"v1",rateLimit:2e3,certified:!1,userAgent:this.userAgents.chrome,has:{CORS:!1,publicAPI:!0,privateAPI:!0,cancelOrder:!0,cancelAllOrders:!0,createMarketOrder:!1,createOrder:!0,fetchBalance:!0,fetchCanceledOrders:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchMyTrades:!0,fetchOpenOrders:!0,fetchOrder:!1,fetchOrdersByStatus:!0,fetchOrderBook:!0,fetchTicker:!0,fetchTickers:!0,fetchTime:!0,fetchTrades:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/61511972-24c39f00-aa01-11e9-9f7c-471f1d6e5214.jpg",api:"https://api.latoken.com",www:"https://latoken.com",doc:["https://api.latoken.com"]},api:{public:{get:["ExchangeInfo/time","ExchangeInfo/limits","ExchangeInfo/pairs","ExchangeInfo/pairs/{currency}","ExchangeInfo/pair","ExchangeInfo/currencies","ExchangeInfo/currencies/{symbol}","MarketData/tickers","MarketData/ticker/{symbol}","MarketData/orderBook/{symbol}","MarketData/orderBook/{symbol}/{limit}","MarketData/trades/{symbol}","MarketData/trades/{symbol}/{limit}"]},private:{get:["Account/balances","Account/balances/{currency}","Order/status","Order/active","Order/get_order","Order/trades"],post:["Order/new","Order/test-order","Order/cancel","Order/cancel_all"]}},fees:{trading:{tierBased:!1,percentage:!0,maker:.001,taker:.001}},commonCurrencies:{TSL:"Treasure SL"},options:{createOrderMethod:"private_post_order_new"},exceptions:{exact:{"Signature or ApiKey is not valid":u,"Request is out of time":n,"Symbol must be specified":h},broad:{"Request limit reached":d,Pair:h,"Price needs to be greater than":c,"Amount needs to be greater than":c,"The Symbol field is required":c,"OrderType is not valid":c,"Side is not valid":c,"Cancelable order whit":o,Order:o}}})}nonce(){return this.milliseconds()}async fetchTime(e={}){const t=await this.publicGetExchangeInfoTime(e);return this.safeInteger(t,"unixTimeMiliseconds")}async fetchMarkets(e={}){const t=await this.publicGetExchangeInfoPairs(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quotedCurrency"),o=this.safeInteger(e,"pairId"),c=this.safeCurrencyCode(a),d=this.safeCurrencyCode(n),h=c+"/"+d,u={price:this.safeInteger(e,"pricePrecision"),amount:this.safeInteger(e,"amountPrecision")},l={amount:{min:this.safeFloat(e,"minQty"),max:void 0},price:{min:Math.pow(10,-u.price),max:void 0},cost:{min:void 0,max:void 0}};i.push({id:s,numericId:o,info:e,symbol:h,base:c,quote:d,baseId:a,quoteId:n,active:void 0,precision:u,limits:l})}return i}async fetchCurrencies(e={}){const t=await this.publicGetExchangeInfoCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeInteger(e,"currencyId"),n=this.safeCurrencyCode(s),o=this.safeInteger(e,"precission"),c=this.safeFloat(e,"fee"),d=void 0;i[n]={id:s,numericId:a,code:n,info:e,name:n,active:d,fee:c,precision:o,limits:{amount:{min:void 0,max:void 0},price:{min:void 0,max:void 0},cost:{min:void 0,max:void 0},withdraw:{min:void 0,max:void 0}}}}return i}calculateFee(e,t,i,r,s,a="taker",n={}){const o=this.markets[e];let c="quote";const d=o[a];let h=r*d,u=o.precision.price;return"sell"===i?h*=s:(c="base",u=o.precision.amount),h=this.decimalToPrecision(h,l,u,this.precisionMode),{type:a,currency:o[c],rate:d,cost:parseFloat(h)}}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccountBalances(e),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeCurrencyCode(s),n=this.safeFloat(e,"frozen"),o=this.safeFloat(e,"pending"),c=this.sum(n,o),d={free:this.safeFloat(e,"available"),used:c,total:this.safeFloat(e,"amount")};i[a]=d}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={symbol:this.market(e).id,limit:10};void 0!==t&&(r.limit=t);const s=await this.publicGetMarketDataOrderBookSymbolLimit(this.extend(r,i));return this.parseOrderBook(s,void 0,"bids","asks","price","quantity")}parseTicker(e,t){let i=void 0;const r=this.safeString(e,"symbol");r in this.markets_by_id&&(t=this.markets_by_id[r]),void 0===i&&void 0!==t&&(i=t.symbol);const s=this.safeFloat(e,"open"),a=this.safeFloat(e,"close");let n=void 0;void 0!==s&&void 0!==a&&(n=a-s);const o=this.safeFloat(e,"priceChange"),c=this.nonce();return{symbol:i,timestamp:c,datetime:this.iso8601(c),low:this.safeFloat(e,"low"),high:this.safeFloat(e,"high"),bid:void 0,bidVolume:void 0,ask:void 0,askVolume:void 0,vwap:void 0,open:s,close:a,last:a,previousClose:void 0,change:n,percentage:o,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={symbol:i.id},s=await this.publicGetMarketDataTickerSymbol(this.extend(r,t));return this.parseTicker(s,i)}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetMarketDataTickers(t),r={};for(let s=0;s<i.length;s++){const t=this.parseTicker(i[s]),a=t.symbol;(void 0===e||this.inArray(a,e))&&(r[a]=t)}return r}parseTrade(e,t){let i=this.safeInteger2(e,"timestamp","time");void 0!==i&&i<12309408e5&&(i*=1e3);const r=this.safeFloat(e,"price"),s=this.safeFloat(e,"amount"),a=this.safeString(e,"side");let n=void 0;void 0!==s&&void 0!==r&&(n=s*r);let o=void 0;void 0!==t&&(o=t.symbol);const c=this.safeString(e,"id"),d=this.safeString(e,"orderId"),h=this.safeFloat(e,"commission");let u=void 0;return void 0!==h&&(u={cost:h,currency:void 0}),{info:e,timestamp:i,datetime:this.iso8601(i),symbol:o,id:c,order:d,type:void 0,takerOrMaker:void 0,side:a,price:r,amount:s,cost:n,fee:u}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={symbol:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetMarketDataTradesSymbol(this.extend(a,r)),o=this.safeValue(n,"trades",[]);return this.parseTrades(o,s,t,i)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new a(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const s=this.market(e),n={symbol:s.id},o=await this.privateGetOrderTrades(this.extend(n,r)),c=this.safeValue(o,"trades",[]);return this.parseTrades(c,s,t,i)}parseOrderStatus(e){return this.safeString({active:"open",partiallyFilled:"open",filled:"closed",cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString(e,"orderId"),r=this.safeTimestamp(e,"timeCreated"),s=this.safeString(e,"symbol");let a=s;s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0!==t&&(a=t.symbol);const n=this.safeString(e,"side"),o=this.safeString(e,"orderType"),c=this.safeFloat(e,"price"),d=this.safeFloat(e,"amount"),h=this.safeFloat(e,"executedAmount");let u=void 0;void 0!==d&&void 0!==h&&(u=d-h);const l=this.parseOrderStatus(this.safeString(e,"orderStatus"));let f=void 0;void 0!==h&&void 0!==c&&(f=h*c);const p=this.safeTimestamp(e,"timeFilled");let m=void 0;return void 0!==p&&p>0&&(m=p),{id:i,info:e,timestamp:r,datetime:this.iso8601(r),lastTradeTimestamp:m,status:l,symbol:a,type:o,side:n,price:c,cost:f,amount:d,filled:h,average:void 0,remaining:u,fee:void 0}}async fetchOpenOrders(e,t,i,r={}){return this.fetchOrdersWithMethod("private_get_order_active",e,t,i,r)}async fetchClosedOrders(e,t,i,r={}){return this.fetchOrdersByStatus("filled",e,t,i,r)}async fetchCanceledOrders(e,t,i,r={}){return this.fetchOrdersByStatus("cancelled",e,t,i,r)}async fetchOrdersByStatus(e,t,i,r,s={}){const a={status:e};return this.fetchOrdersWithMethod("private_get_order_status",t,i,r,this.extend(a,s))}async fetchOrdersWithMethod(e,t,i,r,s={}){if(void 0===t)throw new a(this.id+" fetchOrdersWithMethod requires a symbol argument");await this.loadMarkets();const n=this.market(t),o={symbol:n.id};void 0!==r&&(o.limit=r);const c=await this[e](this.extend(o,s));return this.parseOrders(c,n,i,r)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateGetOrderGetOrder(this.extend(r,i));return this.parseOrder(s)}async createOrder(e,t,i,r,a,n={}){if(await this.loadMarkets(),"limit"!==t)throw new s(this.id+" allows limit orders only");const o={symbol:this.marketId(e),side:i,price:this.priceToPrecision(e,a),amount:this.amountToPrecision(e,r),orderType:t},c=this.safeString(this.options,"createOrderMethod","private_post_order_new"),d=await this[c](this.extend(o,n));return this.parseOrder(d)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privatePostOrderCancel(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){if(void 0===e)throw new a(this.id+" cancelAllOrders requires a symbol argument");await this.loadMarkets();const i=this.marketId(e),r={symbol:i},s=await this.privatePostOrderCancelAll(this.extend(r,t)),n=[],o=this.safeValue(s,"cancelledOrders",[]);for(let a=0;a<o.length;a++){const e=this.parseOrder({symbol:i,orderId:o[a],orderStatus:"canceled"});n.push(e)}return n}sign(e,t="public",i="GET",r,s,a){let n="/api/"+this.version+"/"+this.implodeParams(e,r),o=this.omit(r,this.extractParams(e));if("private"===t){const e=this.nonce();o=this.extend({timestamp:e},o)}const c=this.urlencode(o);if(Object.keys(o).length&&(n+="?"+c),"private"===t){this.checkRequiredCredentials();const e=this.hmac(this.encode(n),this.encode(this.secret));s={"X-LA-KEY":this.apiKey,"X-LA-SIGNATURE":e},"POST"===i&&(s["Content-Type"]="application/x-www-form-urlencoded",a=c)}return{url:this.urls.api+n,method:i,body:a,headers:s}}handleErrors(e,t,i,r,a,n,o,c,d){if(!o)return;const h=this.safeString(o,"message"),u=this.id+" "+n;void 0!==h&&(this.throwExactlyMatchedException(this.exceptions.exact,h,u),this.throwBroadlyMatchedException(this.exceptions.broad,h,u));const l=this.safeValue(o,"error",{}),f=this.safeString(l,"message");if(void 0!==f)throw this.throwExactlyMatchedException(this.exceptions.exact,f,u),this.throwBroadlyMatchedException(this.exceptions.broad,f,u),new s(u)}}},wLqY:function(e,t,i){"use strict";const r=i("OjXq"),{AuthenticationError:s,ExchangeError:a,ArgumentsRequired:n,InvalidAddress:o,OrderNotFound:c,NotSupported:d,DDoSProtection:h,InsufficientFunds:u,InvalidOrder:l}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"gateio",name:"Gate.io",countries:["CN"],version:"2",rateLimit:1e3,has:{CORS:!1,createMarketOrder:!1,fetchTickers:!0,withdraw:!0,fetchDeposits:!0,fetchWithdrawals:!0,fetchTransactions:!0,createDepositAddress:!0,fetchDepositAddress:!0,fetchClosedOrders:!1,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrderTrades:!0,fetchOrders:!0,fetchOrder:!0,fetchMyTrades:!0},timeframes:{"1m":"60","5m":"300","10m":"600","15m":"900","30m":"1800","1h":"3600","2h":"7200","4h":"14400","6h":"21600","12h":"43200","1d":"86400","1w":"604800"},urls:{logo:"https://user-images.githubusercontent.com/1294454/31784029-0313c702-b509-11e7-9ccc-bc0da6a0e435.jpg",api:{public:"https://data.gate.io/api",private:"https://data.gate.io/api"},www:"https://gate.io/",doc:"https://gate.io/api2",fees:["https://gate.io/fee","https://support.gate.io/hc/en-us/articles/115003577673"],referral:"https://www.gate.io/signup/2436035"},api:{public:{get:["candlestick2/{id}","pairs","marketinfo","marketlist","tickers","ticker/{id}","orderBook/{id}","trade/{id}","tradeHistory/{id}","tradeHistory/{id}/{tid}"]},private:{post:["balances","depositAddress","newAddress","depositsWithdrawals","buy","sell","cancelOrder","cancelAllOrders","getOrder","openOrders","tradeHistory","withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,maker:.002,taker:.002}},exceptions:{exact:{4:h,5:s,6:s,7:d,8:d,9:d,15:h,16:c,17:c,20:l,21:u},errorCodeNames:{1:"Invalid request",2:"Invalid version",3:"Invalid request",4:"Too many attempts",5:"Invalid sign",6:"Invalid sign",7:"Currency is not supported",8:"Currency is not supported",9:"Currency is not supported",10:"Verified failed",11:"Obtaining address failed",12:"Empty params",13:"Internal error, please report to administrator",14:"Invalid user",15:"Cancel order too fast, please wait 1 min and try again",16:"Invalid order id or order is already closed",17:"Invalid orderid",18:"Invalid amount",19:"Not permitted or trade is disabled",20:"Your order size is too small",21:"You don't have enough fund"}},options:{fetchTradesMethod:"public_get_tradehistory_id",limits:{cost:{min:{BTC:1e-4,ETH:.001,USDT:1}}}}})}async fetchMarkets(e={}){const t=await this.publicGetMarketinfo(e),i=this.safeValue(t,"pairs");if(!i)throw new a(this.id+" fetchMarkets got an unrecognized response");const r=[];for(let s=0;s<i.length;s++){const e=i[s],t=Object.keys(e)[0],a=e[t],n=t.split("_"),o=n.length;let c=n[0],d=n[1];o>2&&(c=n[0]+"_"+n[1],d=n[2]);const h=this.safeCurrencyCode(c),u=this.safeCurrencyCode(d),l=h+"/"+u,f={amount:8,price:a.decimal_places},p={min:a.min_amount,max:void 0},m={min:Math.pow(10,-a.decimal_places),max:void 0},y=p.min*m.min,b={amount:p,price:m,cost:{min:this.safeFloat(this.options.limits.cost.min,u,y),max:void 0}},v=!0;r.push({id:t,symbol:l,base:h,quote:u,baseId:c,quoteId:d,info:e,active:v,maker:a.fee/100,taker:a.fee/100,precision:f,limits:b})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privatePostBalances(e),i={info:t};let r=this.safeValue(t,"available",{});Array.isArray(r)&&(r={});const s=this.safeValue(t,"locked",{}),a=Object.keys(r);for(let n=0;n<a.length;n++){const e=a[n],t=this.safeCurrencyCode(e),o=this.account();o.free=this.safeFloat(r,e),o.used=this.safeFloat(s,e),i[t]=o}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={id:this.marketId(e)},s=await this.publicGetOrderBookId(this.extend(r,i));return this.parseOrderBook(s)}parseOHLCV(e,t,i="1m",r,s){return[parseInt(e[0]),parseFloat(e[5]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[2]),parseFloat(e[1])]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={id:a.id,group_sec:this.timeframes[t]};if(void 0!==r){const e=this.parseTimeframe(t),i=parseInt(e*r/3600);n.range_hour=Math.max(0,i-1)}const o=await this.publicGetCandlestick2Id(this.extend(n,s)),c=this.safeValue(o,"data",[]);return this.parseOHLCVs(c,a,t,i,r)}parseTicker(e,t){const i=this.milliseconds();let r=void 0;t&&(r=t.symbol);const s=this.safeFloat(e,"last"),a=this.safeFloat(e,"percentChange");let n=void 0,o=void 0,c=void 0;if(void 0!==s&&void 0!==a){const e=a/100;n=s/this.sum(1,e),o=s-n,c=this.sum(s,n)/2}return n=this.safeFloat(e,"open",n),o=this.safeFloat(e,"change",o),{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat2(e,"high24hr","high"),low:this.safeFloat2(e,"low24hr","low"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:n,close:s,last:s,previousClose:void 0,change:o,percentage:a,average:c,baseVolume:this.safeFloat(e,"quoteVolume"),quoteVolume:this.safeFloat(e,"baseVolume"),info:e}}async fetchTickers(e,t={}){await this.loadMarkets();const i=await this.publicGetTickers(t),r={},s=Object.keys(i);for(let a=0;a<s.length;a++){const e=s[a],[t,n]=e.split("_");let o=t.toUpperCase(),c=n.toUpperCase();o=this.safeCurrencyCode(o),c=this.safeCurrencyCode(c);const d=o+"/"+c;let h=void 0;d in this.markets&&(h=this.markets[d]),e in this.markets_by_id&&(h=this.markets_by_id[e]),r[d]=this.parseTicker(i[e],h)}return r}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r=await this.publicGetTickerId(this.extend({id:i.id},t));return this.parseTicker(r,i)}parseTrade(e,t){let i=this.safeTimestamp2(e,"timestamp","time_unix");i=this.safeTimestamp(e,"time",i);const r=this.safeString2(e,"tradeID","id"),s=this.safeString2(e,"orderid","orderNumber"),a=this.safeFloat2(e,"rate","price"),n=this.safeFloat(e,"amount"),o=this.safeString(e,"type");let c=void 0;void 0!==a&&void 0!==n&&(c=a*n);let d=void 0;return void 0!==t&&(d=t.symbol),{id:r,info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,order:s,type:void 0,side:o,takerOrMaker:void 0,price:a,amount:n,cost:c,fee:void 0}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={id:s.id},n=this.safeString(this.options,"fetchTradesMethod","public_get_tradehistory_id"),o=await this[n](this.extend(a,r));return this.parseTrades(o.data,s,t,i)}async fetchOrders(e,t,i,r={}){const s=await this.privatePostOpenOrders(r);return this.parseOrders(s.orders,void 0,t,i)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderNumber:e,currencyPair:this.marketId(t)},s=await this.privatePostGetOrder(this.extend(r,i));return this.parseOrder(s.order)}parseOrderStatus(e){return this.safeString({cancelled:"canceled"},e,e)}parseOrder(e,t){const i=this.safeString2(e,"orderNumber","id");let r=void 0;const s=this.safeString(e,"currencyPair");s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0!==t&&(r=t.symbol);const a=this.safeTimestamp2(e,"timestamp","ctime"),n=this.safeTimestamp(e,"mtime"),o=this.parseOrderStatus(this.safeString(e,"status"));let c=this.safeString(e,"type");"1"===c?c="sell":"2"===c&&(c="buy");const d=this.safeFloat2(e,"initialRate","price"),h=this.safeFloat(e,"filledRate"),u=this.safeFloat2(e,"initialAmount","amount"),l=this.safeFloat(e,"filledAmount"),f=this.safeFloat2(e,"leftAmount","left"),p=this.safeFloat(e,"feeValue"),m=this.safeString(e,"feeCurrency"),y=this.safeCurrencyCode(m);let b=this.safeFloat(e,"feePercentage");return void 0!==b&&(b/=100),{id:i,datetime:this.iso8601(a),timestamp:a,lastTradeTimestamp:n,status:o,symbol:r,type:"limit",side:c,price:d,cost:void 0,amount:u,filled:l,remaining:f,average:h,trades:void 0,fee:{cost:p,currency:y,rate:b},info:e}}async createOrder(e,t,i,r,s,n={}){if("market"===t)throw new a(this.id+" allows limit orders only");await this.loadMarkets();const o="privatePost"+this.capitalize(i),c=this.market(e),d={currencyPair:c.id,rate:s,amount:r},h=await this[o](this.extend(d,n));return this.parseOrder(this.extend({status:"open",type:i,initialAmount:r},h),c)}async cancelOrder(e,t,i={}){if(void 0===t)throw new n(this.id+" cancelOrder requires symbol argument");await this.loadMarkets();const r={orderNumber:e,currencyPair:this.marketId(t)};return await this.privatePostCancelOrder(this.extend(r,i))}async queryDepositAddress(e,t,i={}){await this.loadMarkets();const r=this.currency(t);e="privatePost"+e+"Address";const s={currency:r.id},a=await this[e](this.extend(s,i));let n=this.safeString(a,"addr"),c=void 0;if(void 0!==n&&n.indexOf("address")>=0)throw new o(this.id+" queryDepositAddress "+n);if("XRP"===t){const e=n.split(" ");n=e[0],c=e[1]}return{currency:r,address:n,tag:c,info:a}}async createDepositAddress(e,t={}){return await this.queryDepositAddress("New",e,t)}async fetchDepositAddress(e,t={}){return await this.queryDepositAddress("Deposit",e,t)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;void 0!==e&&(s=this.market(e));const a=await this.privatePostOpenOrders(r);return this.parseOrders(a.orders,s,t,i)}async fetchOrderTrades(e,t,i,r,s={}){if(void 0===t)throw new n(this.id+" fetchMyTrades requires a symbol argument");await this.loadMarkets();const a=this.market(t),o={currencyPair:a.id,orderNumber:e},c=await this.privatePostTradeHistory(this.extend(o,s));return this.parseTrades(c.trades,a,i,r)}async fetchMyTrades(e,t,i,r={}){if(void 0===e)throw new n(this.id+" fetchMyTrades requires symbol param");await this.loadMarkets();const s=this.market(e),a={currencyPair:s.id},o=await this.privatePostTradeHistory(this.extend(a,r));return this.parseTrades(o.trades,s,t,i)}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,amount:t,address:i};return void 0!==r&&(a.address+=" "+r),{info:await this.privatePostWithdraw(this.extend(a,s)),id:void 0}}sign(e,t="public",i="GET",r={},s,a){const n="private"===t?t+"/":"";let o=this.urls.api[t]+this.version+"/1/"+n+this.implodeParams(e,r);const c=this.omit(r,this.extractParams(e));if("public"===t)Object.keys(c).length&&(o+="?"+this.urlencode(c));else{this.checkRequiredCredentials();const e={nonce:this.nonce()};a=this.urlencode(this.extend(e,c));const t=this.hmac(this.encode(a),this.encode(this.secret),"sha512");s={Key:this.apiKey,Sign:t,"Content-Type":"application/x-www-form-urlencoded"}}return{url:o,method:i,body:a,headers:s}}async fetchTransactionsByType(e,t,i,r,s={}){await this.loadMarkets();const a={};void 0!==i&&(a.start=i);const n=await this.privatePostDepositsWithdrawals(this.extend(a,s));let o=void 0;if(void 0===e){const e=this.safeValue(n,"deposits",[]),t=this.safeValue(n,"withdraws",[]);o=this.arrayConcat(e,t)}else o=this.safeValue(n,e,[]);let c=void 0;return void 0!==t&&(c=this.currency(t)),this.parseTransactions(o,c,i,r)}async fetchTransactions(e,t,i,r={}){return await this.fetchTransactionsByType(void 0,e,t,i,r)}async fetchDeposits(e,t,i,r={}){return await this.fetchTransactionsByType("deposits",e,t,i,r)}async fetchWithdrawals(e,t,i,r={}){return await this.fetchTransactionsByType("withdraws",e,t,i,r)}parseTransaction(e,t){const i=this.safeString(e,"currency"),r=this.safeCurrencyCode(i,t),s=this.safeString(e,"id"),a=this.safeString(e,"txid"),n=this.safeFloat(e,"amount");let o=this.safeString(e,"address");"false"===o&&(o=void 0);const c=this.safeTimestamp(e,"timestamp");return{info:e,id:s,txid:a,currency:r,amount:n,address:o,tag:void 0,status:this.parseTransactionStatus(this.safeString(e,"status")),type:this.parseTransactionType(s[0]),timestamp:c,datetime:this.iso8601(c),fee:void 0}}parseTransactionStatus(e){return this.safeString({PEND:"pending",REQUEST:"pending",DMOVE:"pending",CANCEL:"failed",DONE:"ok"},e,e)}parseTransactionType(e){return this.safeString({d:"deposit",w:"withdrawal"},e,e)}handleErrors(e,t,i,r,s,a,n,o,c){if(void 0===n)return;if("false"!==this.safeString(n,"result",""))return;const d=this.safeString(n,"code"),h=this.safeString(n,"message",a);if(void 0!==d){const e=this.safeString(this.exceptions.errorCodeNames,d,h);this.throwExactlyMatchedException(this.exceptions.exact,d,e)}}}},wQuK:function(e,t,i){var r=i("wfEq"),s=i("LpNI");function a(e){s.call(this,e),this.enc="pem"}r(a,s),e.exports=a,a.prototype.encode=function(e,t){for(var i=s.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],a=0;a<i.length;a+=64)r.push(i.slice(a,a+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},wTN5:function(e,t,i){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var s=0,a=0,n=6;n>=0;n-=2){for(var o=0;o<=24;o+=8)s<<=1,s|=t>>>o+n&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>>o+n&1}for(n=6;n>=0;n-=2){for(o=1;o<=25;o+=8)a<<=1,a|=t>>>o+n&1;for(o=1;o<=25;o+=8)a<<=1,a|=e>>>o+n&1}i[r+0]=s>>>0,i[r+1]=a>>>0},t.rip=function(e,t,i,r){for(var s=0,a=0,n=0;n<4;n++)for(var o=24;o>=0;o-=8)s<<=1,s|=t>>>o+n&1,s<<=1,s|=e>>>o+n&1;for(n=4;n<8;n++)for(o=24;o>=0;o-=8)a<<=1,a|=t>>>o+n&1,a<<=1,a|=e>>>o+n&1;i[r+0]=s>>>0,i[r+1]=a>>>0},t.pc1=function(e,t,i,r){for(var s=0,a=0,n=7;n>=5;n--){for(var o=0;o<=24;o+=8)s<<=1,s|=t>>o+n&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+n&1}for(o=0;o<=24;o+=8)s<<=1,s|=t>>o+n&1;for(n=1;n<=3;n++){for(o=0;o<=24;o+=8)a<<=1,a|=t>>o+n&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+n&1}for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+n&1;i[r+0]=s>>>0,i[r+1]=a>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,s){for(var a=0,n=0,o=r.length>>>1,c=0;c<o;c++)a<<=1,a|=e>>>r[c]&1;for(c=o;c<r.length;c++)n<<=1,n|=t>>>r[c]&1;i[s+0]=a>>>0,i[s+1]=n>>>0},t.expand=function(e,t,i){var r=0,s=0;r=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)r<<=6,r|=e>>>a&63;for(a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=s>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,r=0;r<4;r++){i<<=4,i|=s[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){i<<=4,i|=s[256+64*r+(t>>>18-6*r&63)]}return i>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<a.length;i++)t<<=1,t|=e>>>a[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var s=[],a=0;a<t;a+=i)s.push(r.slice(a,a+i));return s.join(" ")}},wYIF:function(e,t,i){var r=i("/mWR").errors,s=i("k5DU").XMLHttpRequest,a=i("sOO9"),n=i("w7gO"),o=function(e,t){t=t||{},this.withCredentials=t.withCredentials||!1,this.timeout=t.timeout||0,this.headers=t.headers,this.agent=t.agent,this.connected=!1;var i=!0===t.keepAlive||!1!==t.keepAlive;this.host=e||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new n.Agent({keepAlive:i}):this.httpAgent=new a.Agent({keepAlive:i}))};o.prototype._prepareRequest=function(){var e;if("undefined"!==typeof XMLHttpRequest)e=new XMLHttpRequest;else{e=new s;var t={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};this.agent&&(t.httpsAgent=this.agent.https,t.httpAgent=this.agent.http,t.baseUrl=this.agent.baseUrl),e.nodejsSet(t)}return e.open("POST",this.host,!0),e.setRequestHeader("Content-Type","application/json"),e.timeout=this.timeout,e.withCredentials=this.withCredentials,this.headers&&this.headers.forEach((function(t){e.setRequestHeader(t.name,t.value)})),e},o.prototype.send=function(e,t){var i=this,s=this._prepareRequest();s.onreadystatechange=function(){if(4===s.readyState&&1!==s.timeout){var e=s.responseText,a=null;try{e=JSON.parse(e)}catch(n){a=r.InvalidResponse(s.responseText)}i.connected=!0,t(a,e)}},s.ontimeout=function(){i.connected=!1,t(r.ConnectionTimeout(this.timeout))};try{s.send(JSON.stringify(e))}catch(a){this.connected=!1,t(r.InvalidConnection(this.host))}},o.prototype.disconnect=function(){},o.prototype.supportsSubscriptions=function(){return!1},e.exports=o},wfEq:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},wuJa:function(e,t,i){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,n=i("peDq"),o=i("Ih9J"),c=i("pRMk").Buffer;e.exports=function(e,t){var i,d=e.toString(),h=d.match(r);if(h){var u="aes"+h[1],l=c.from(h[2],"hex"),f=c.from(h[3].replace(/[\r\n]/g,""),"base64"),p=n(t,l.slice(0,8),parseInt(h[1],10)).key,m=[],y=o.createDecipheriv(u,p,l);m.push(y.update(f)),m.push(y.final()),i=c.concat(m)}else{var b=d.match(a);i=new c(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:d.match(s)[1],data:i}}},"x+kU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners={}}return e.prototype.addEventListener=function(e,t){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t.handleEvent||t)},e.prototype.removeEventListener=function(e,t){if(e=e.toLowerCase(),this.listeners[e]){var i=this.listeners[e].indexOf(t.handleEvent||t);i<0||this.listeners[e].splice(i,1)}},e.prototype.dispatchEvent=function(e){var t=e.type.toLowerCase();if(e.target=this,this.listeners[t])for(var i=0,r=this.listeners[t];i<r.length;i++){r[i].call(this,e)}var s=this["on"+t];return s&&s.call(this,e),!0},e}();t.XMLHttpRequestEventTarget=r},xFKm:function(e,t){e.exports=function(e){if("string"!==typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},xL3g:function(e,t,i){"use strict";var r=i("PoH+");e.exports=function(e){var t,i=this;return this.net.getId().then((function(e){return t=e,i.getBlock(0)})).then((function(i){var s="private";return"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3"===i.hash&&1===t&&(s="main"),"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303"===i.hash&&2===t&&(s="morden"),"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d"===i.hash&&3===t&&(s="ropsten"),"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177"===i.hash&&4===t&&(s="rinkeby"),"0xbf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a"===i.hash&&5===t&&(s="goerli"),"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9"===i.hash&&42===t&&(s="kovan"),r.isFunction(e)&&e(null,s),s})).catch((function(t){if(!r.isFunction(e))throw t;e(t)}))}},xP2n:function(e,t){const i=(e,t)=>{let i=[];for(var r=0;r<e;++r)i.push(t(r));return i};e.exports={generate:i,replicate:(e,t)=>i(e,()=>t),concat:(e,t)=>e.concat(t),flatten:e=>{let t=[];for(let i=0,r=e.length;i<r;++i)for(let s=0,a=e[i].length;s<a;++s)t.push(e[i][s]);return t},chunksOf:(e,t)=>{let i=[];for(let r=0,s=t.length;r<s;r+=e)i.push(t.slice(r,r+e));return i}}},"xQh+":function(e,t,i){"use strict";var r=Object.prototype.hasOwnProperty,s=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(i[r]=e[r]);return i};e.exports={arrayToObject:n,assign:function(e,t){return Object.keys(t).reduce((function(e,i){return e[i]=t[i],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],r=0;r<t.length;++r)for(var a=t[r],n=a.obj[a.prop],o=Object.keys(n),c=0;c<o.length;++c){var d=o[c],h=n[d];"object"===typeof h&&null!==h&&-1===i.indexOf(h)&&(t.push({obj:n,prop:d}),i.push(h))}return function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(s(i)){for(var r=[],a=0;a<i.length;++a)"undefined"!==typeof i[a]&&r.push(i[a]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,i){var r=e.replace(/\+/g," ");if("iso-8859-1"===i)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(s){return r}},encode:function(e,t,i){if(0===e.length)return e;var r="string"===typeof e?e:String(e);if("iso-8859-1"===i)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",n=0;n<r.length;++n){var o=r.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?s+=r.charAt(n):o<128?s+=a[o]:o<2048?s+=a[192|o>>6]+a[128|63&o]:o<55296||o>=57344?s+=a[224|o>>12]+a[128|o>>6&63]+a[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(n)),s+=a[240|o>>18]+a[128|o>>12&63]+a[128|o>>6&63]+a[128|63&o])}return s},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,i,a){if(!i)return t;if("object"!==typeof i){if(s(t))t.push(i);else{if(!t||"object"!==typeof t)return[t,i];(a&&(a.plainObjects||a.allowPrototypes)||!r.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(i);var o=t;return s(t)&&!s(i)&&(o=n(t,a)),s(t)&&s(i)?(i.forEach((function(i,s){if(r.call(t,s)){var n=t[s];n&&"object"===typeof n&&i&&"object"===typeof i?t[s]=e(n,i,a):t.push(i)}else t[s]=i})),t):Object.keys(i).reduce((function(t,s){var n=i[s];return r.call(t,s)?t[s]=e(t[s],n,a):t[s]=n,t}),o)}}},xTpk:function(e,t,i){"use strict";var r=i("upWy");function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var i=this,a=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return a||n?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(s,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(s,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},xYmC:function(e,t,i){"use strict";const r=i("OjXq"),{ExchangeError:s,BadRequest:a,InvalidNonce:n,RequestTimeout:o,ExchangeNotAvailable:c,InsufficientFunds:d,OrderNotFound:h,InvalidOrder:u,DDoSProtection:l,AuthenticationError:f,BadSymbol:p}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"crex24",name:"CREX24",countries:["EE"],rateLimit:500,version:"v2",has:{cancelAllOrders:!0,CORS:!1,editOrder:!0,fetchBidsAsks:!0,fetchClosedOrders:!0,fetchCurrencies:!0,fetchDepositAddress:!0,fetchDeposits:!0,fetchFundingFees:!1,fetchMyTrades:!0,fetchOHLCV:!0,fetchOpenOrders:!0,fetchOrder:!0,fetchOrders:!0,fetchOrderTrades:!0,fetchTickers:!0,fetchTradingFee:!1,fetchTradingFees:!1,fetchTransactions:!0,fetchWithdrawals:!0,withdraw:!0},timeframes:{"1m":"1m","3m":"3m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1mo"},urls:{logo:"https://user-images.githubusercontent.com/1294454/47813922-6f12cc00-dd5d-11e8-97c6-70f957712d47.jpg",api:"https://api.crex24.com",www:"https://crex24.com",referral:"https://crex24.com/?refid=slxsjsjtil8xexl9hksr",doc:"https://docs.crex24.com/trade-api/v2",fees:"https://crex24.com/fees"},api:{public:{get:["currencies","instruments","tickers","recentTrades","orderBook","ohlcv"]},trading:{get:["orderStatus","orderTrades","activeOrders","orderHistory","tradeHistory","tradeFee","moneyTransferStatus"],post:["placeOrder","modifyOrder","cancelOrdersById","cancelOrdersByInstrument","cancelAllOrders"]},account:{get:["balance","depositAddress","moneyTransfers","moneyTransferStatus","previewWithdrawal"],post:["withdraw"]}},fees:{trading:{tierBased:!0,percentage:!0,taker:.001,maker:-1e-4},funding:{tierBased:!1,percentage:!1,withdraw:{},deposit:{}}},commonCurrencies:{YOYO:"YOYOW",BCC:"BCH"},options:{fetchOrdersMethod:"tradingGetOrderHistory",fetchClosedOrdersMethod:"tradingGetOrderHistory",fetchTickersMethod:"publicGetTicker24hr",defaultTimeInForce:"GTC",defaultLimitOrderType:"limit",hasAlreadyAuthenticatedSuccessfully:!1,warnOnFetchOpenOrdersWithoutSymbol:!0,parseOrderToPrecision:!1,newOrderRespType:"RESULT"},exceptions:{exact:{"Parameter 'filter' contains invalid value.":a,"Mandatory parameter 'instrument' is missing.":a,"The value of parameter 'till' must be greater than or equal to the value of parameter 'from'.":a,"Failed to verify request signature.":f,"Nonce error. Make sure that the value passed in the 'X-CREX24-API-NONCE' header is greater in each consecutive request than in the previous one for the corresponding API-Key provided in 'X-CREX24-API-KEY' header.":n,"Market orders are not supported by the instrument currently.":u,"Parameter 'instrument' contains invalid value.":p},broad:{"API Key":f,"Insufficient funds":d,"has been delisted.":p}}})}nonce(){return this.milliseconds()}async fetchMarkets(e={}){const t=await this.publicGetInstruments(e),i=[];for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"quoteCurrency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=o+"/"+c,h=this.safeValue(e,"tickSize"),u=this.safeValue(e,"minPrice"),l=this.safeFloat(e,"minVolume"),f={amount:this.precisionFromString(this.numberToString(l)),price:this.precisionFromString(this.numberToString(h))},p="active"===e.state;i.push({id:s,symbol:d,base:o,quote:c,baseId:a,quoteId:n,info:e,active:p,precision:f,limits:{amount:{min:l,max:void 0},price:{min:u,max:void 0},cost:{min:void 0,max:void 0}}})}return i}async fetchCurrencies(e={}){const t=await this.publicGetCurrencies(e),i={};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"symbol"),a=this.safeCurrencyCode(s),n=this.safeInteger(e,"withdrawalPrecision"),o=this.safeValue(e,"BaseAddress"),c=e.depositsAllowed&&e.withdrawalsAllowed&&!e.isDelisted,d=e.isFiat?"fiat":"crypto";i[a]={id:s,code:a,address:o,info:e,type:d,name:this.safeString(e,"name"),active:c,fee:this.safeFloat(e,"flatWithdrawalFee"),precision:n,limits:{amount:{min:Math.pow(10,-n),max:Math.pow(10,n)},price:{min:Math.pow(10,-n),max:Math.pow(10,n)},cost:{min:void 0,max:void 0},deposit:{min:this.safeFloat(e,"minDeposit"),max:void 0},withdraw:{min:this.safeFloat(e,"minWithdrawal"),max:this.safeFloat(e,"maxWithdrawal")}}}}return i}async fetchBalance(e={}){await this.loadMarkets();const t=await this.accountGetBalance(this.extend({},e)),i={info:t};for(let r=0;r<t.length;r++){const e=t[r],s=this.safeString(e,"currency"),a=this.safeCurrencyCode(s),n=this.account();n.free=this.safeFloat(e,"available"),n.used=this.safeFloat(e,"reserved"),i[a]=n}return this.parseBalance(i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument:this.market(e).id};void 0!==t&&(r.limit=t);const s=await this.publicGetOrderBook(this.extend(r,i));return this.parseOrderBook(s,void 0,"buyLevels","sellLevels","price","volume")}parseTicker(e,t){const i=this.parse8601(this.safeString(e,"timestamp"));let r=void 0;const s=this.safeString(e,"instrument");if(void 0!==(t=this.safeValue(this.markets_by_id,s,t)))r=t.symbol;else if(void 0!==s){const[e,t]=s.split("-");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}const a=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bid"),bidVolume:void 0,ask:this.safeFloat(e,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:this.safeFloat(e,"percentChange"),average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument:i.id},a=await this.publicGetTickers(this.extend(r,t));if(a.length<1)throw new s(this.id+" fetchTicker could not load quotes for symbol "+e);return this.parseTicker(a[0],i)}async fetchTickers(e,t={}){await this.loadMarkets();const i={};if(void 0!==e){const t=this.marketIds(e);i.instrument=t.join(",")}const r=await this.publicGetTickers(this.extend(i,t));return this.parseTickers(r,e)}parseTickers(e,t){const i=[];for(let r=0;r<e.length;r++)i.push(this.parseTicker(e[r]));return this.filterByArray(i,"symbol",t)}parseTrade(e,t){const i=this.parse8601(this.safeString(e,"timestamp")),r=this.safeFloat(e,"price"),s=this.safeFloat(e,"volume");let a=void 0;void 0!==r&&void 0!==s&&(a=s*r);const n=this.safeString(e,"id"),o=this.safeString(e,"side"),c=this.safeString(e,"orderId");let d=void 0;const h=this.safeString(e,"instrument");void 0!==(t=this.safeValue(this.markets_by_id,h,t))&&(d=t.symbol);let u=void 0;const l=this.safeString(e,"feeCurrency"),f=this.safeCurrencyCode(l),p=this.safeFloat(e,"fee");void 0!==p&&(u={cost:p,currency:f});return{info:e,timestamp:i,datetime:this.iso8601(i),symbol:d,id:n,order:c,type:void 0,takerOrMaker:void 0,side:o,price:r,cost:a,amount:s,fee:u}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument:s.id};void 0!==i&&(a.limit=i);const n=await this.publicGetRecentTrades(this.extend(a,r));return this.parseTrades(n,s,t,i)}parseOHLCV(e,t,i="1m",r,s){const a=this.safeString(e,"timestamp");return[this.parse8601(a),this.safeFloat(e,"open"),this.safeFloat(e,"high"),this.safeFloat(e,"low"),this.safeFloat(e,"close"),this.safeFloat(e,"volume")]}async fetchOHLCV(e,t="1m",i,r,s={}){await this.loadMarkets();const a=this.market(e),n={granularity:this.timeframes[t],instrument:a.id};void 0!==r&&(n.limit=r);const o=await this.publicGetOhlcv(this.extend(n,s));return this.parseOHLCVs(o,a,t,i,r)}parseOrderStatus(e){const t={submitting:"open",unfilledActive:"open",partiallyFilledActive:"open",filled:"closed",partiallyFilledCancelled:"canceled",unfilledCancelled:"canceled"};return e in t?t[e]:e}parseOrder(e,t){const i=this.parseOrderStatus(this.safeString(e,"status"));let r=void 0;const s=this.safeString(e,"instrument");if(void 0!==s)if(s in this.markets_by_id)t=this.markets_by_id[s];else{const[e,t]=s.split("-");r=this.safeCurrencyCode(e)+"/"+this.safeCurrencyCode(t)}void 0===r&&void 0!==t&&(r=t.symbol);const a=this.parse8601(this.safeString(e,"timestamp"));let n=this.safeFloat(e,"price");const o=this.safeFloat(e,"volume"),c=this.safeFloat(e,"remainingVolume");let d=void 0;const h=this.parse8601(this.safeString(e,"lastUpdate"));let u=void 0;void 0!==c&&void 0!==o&&(d=o-c,this.options.parseOrderToPrecision&&(d=parseFloat(this.amountToPrecision(r,d))),d=Math.max(d,0),void 0!==n&&(u=n*d));const l=this.safeString(e,"id"),f=this.safeString(e,"type");"market"===f&&0===n&&void 0!==u&&void 0!==d&&u>0&&d>0&&(n=u/d);const p=this.safeString(e,"side");let m=void 0;return void 0!==u&&(d&&(m=u/d),this.options.parseOrderToPrecision&&(u=parseFloat(this.costToPrecision(r,u)))),{info:e,id:l,timestamp:a,datetime:this.iso8601(a),lastTradeTimestamp:h,symbol:r,type:f,side:p,price:n,amount:o,cost:u,average:m,filled:d,remaining:c,status:i,fee:void 0,trades:void 0}}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n=this.market(e),o={instrument:n.id,volume:this.amountToPrecision(e,r),type:t,side:i};let c=!1,d=!1;if("limit"===t?c=!0:"stopLimit"===t&&(c=!0,d=!0),c){if(void 0===s)throw new u(this.id+" createOrder method requires a price argument for a "+t+" order");o.price=this.priceToPrecision(e,s)}if(d){const i=this.safeFloat(a,"stopPrice");if(void 0===i)throw new u(this.id+" createOrder method requires a stopPrice extra param for a "+t+" order");o.stopPrice=this.priceToPrecision(e,i)}const h=await this.tradingPostPlaceOrder(this.extend(o,a));return this.parseOrder(h,n)}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={id:e},s=await this.tradingGetOrderStatus(this.extend(r,i));if(s.length<1)throw new h(this.id+" fetchOrder could not fetch order id "+e);return this.parseOrder(s[0])}async fetchOrders(e,t,i,r={}){await this.loadMarkets();const s={};if(void 0!==t&&(s.from=this.ymdhms(t,"T")),void 0!==i&&(s.limit=i),void 0!==e){const t=this.market(e);s.instrument=t.id}const a=this.safeString(this.options,"fetchOrdersMethod","tradingGetOrderHistory"),n=await this[a](this.extend(s,r));return this.parseOrders(n)}async fetchOrdersByIds(e,t,i,r={}){await this.loadMarkets();const s={id:e.join(",")},a=await this.tradingGetOrderStatus(this.extend(s,r));return this.parseOrders(a,void 0,t,i)}async fetchOpenOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id);const n=await this.tradingGetActiveOrders(this.extend(a,r));return this.parseOrders(n,s,t,i)}async fetchClosedOrders(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id),void 0!==t&&(a.from=this.ymdhms(t,"T")),void 0!==i&&(a.limit=i);const n=this.safeString(this.options,"fetchClosedOrdersMethod","tradingGetOrderHistory"),o=await this[n](this.extend(a,r));return this.parseOrders(o,s,t,i)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={ids:[parseInt(e)]},s=await this.tradingPostCancelOrdersById(this.extend(r,i));return this.parseOrder(s)}async cancelAllOrders(e,t={}){return await this.tradingPostCancelAllOrders(t)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.market(e),a.instrument=s.id),void 0!==t&&(a.from=this.ymdhms(t,"T")),void 0!==i&&(a.limit=i);const n=await this.tradingGetTradeHistory(this.extend(a,r));return this.parseTrades(n,s,t,i)}async fetchTransactions(e,t,i,r={}){await this.loadMarkets();let s=void 0;const a={};void 0!==e&&(s=this.currency(e),a.currency=s.id),void 0!==t&&(a.from=this.ymd(t,"T"));const n=await this.accountGetMoneyTransfers(this.extend(a,r));return this.parseTransactions(n,s,t,i)}async fetchDeposits(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"deposit"},r))}async fetchWithdrawals(e,t,i,r={}){return this.fetchTransactions(e,t,i,this.extend({type:"withdrawal"},r))}parseTransactionStatus(e){return this.safeString({pending:"pending",success:"ok",failed:"failed"},e,e)}parseTransaction(e,t){const i=this.safeString(e,"id"),r=this.safeString(e,"address"),s=this.safeString(e,"paymentId"),a=this.safeValue(e,"txId"),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(n,t),c=this.safeString(e,"type"),d=this.parse8601(this.safeString(e,"createdAt")),h=this.parse8601(this.safeString(e,"processedAt")),u=this.parseTransactionStatus(this.safeString(e,"status")),l=this.safeFloat(e,"amount"),f={cost:this.safeFloat(e,"fee"),currency:o};return{info:e,id:i,txid:a,timestamp:d,datetime:this.iso8601(d),address:r,tag:s,type:c,amount:l,currency:o,status:u,updated:h,fee:f}}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.accountGetDepositAddress(this.extend(i,t)),s=this.safeString(r,"address"),a=this.safeString(r,"paymentId");return{currency:e,address:this.checkAddress(s),tag:a,info:r}}async withdraw(e,t,i,r,s={}){this.checkAddress(i),await this.loadMarkets();const a={currency:this.currency(e).id,address:i,amount:parseFloat(this.currencyToPrecision(e,t))};void 0!==r&&(a.paymentId=r);const n=await this.accountPostWithdraw(this.extend(a,s));return this.parseTransaction(n)}sign(e,t="public",i="GET",r={},s,a){let n="/"+this.version+"/"+t+"/"+this.implodeParams(e,r);const o=this.omit(r,this.extractParams(e));"GET"===i&&Object.keys(o).length&&(n+="?"+this.urlencode(o));const c=this.urls.api+n;if("trading"===t||"account"===t){this.checkRequiredCredentials();const e=this.nonce().toString(),t=this.base64ToBinary(this.secret);let o=n+e;s={"X-CREX24-API-KEY":this.apiKey,"X-CREX24-API-NONCE":e},"POST"===i&&(s["Content-Type"]="application/json",o+=a=this.json(r));const c=this.stringToBase64(this.hmac(this.encode(o),t,"sha512","binary"));s["X-CREX24-API-SIGN"]=this.decode(c)}return{url:c,method:i,body:a,headers:s}}handleErrors(e,t,i,r,n,d,h,u,p){if(!this.isJsonEncodedObject(d))return;if(e>=200&&e<300)return;const m=this.safeString(h,"errorDescription"),y=this.id+" "+d;if(this.throwExactlyMatchedException(this.exceptions.exact,m,y),this.throwBroadlyMatchedException(this.exceptions.broad,m,y),400===e)throw new a(y);if(401===e)throw new f(y);if(403===e)throw new f(y);if(429===e)throw new l(y);if(500===e)throw new s(y);if(503===e)throw new c(y);if(504===e)throw new o(y);throw new s(y)}}},xeyG:function(e,t,i){var r=i("8gph"),s=i("pRMk").Buffer,a=i("ql4I"),n=i("wfEq"),o=i("S2bg"),c=i("smmp"),d=i("3qw6");function h(e,t,i,n){a.call(this);var c=s.alloc(4,0);this._cipher=new r.AES(t);var h=this._cipher.encryptBlock(c);this._ghash=new o(h),i=function(e,t,i){if(12===t.length)return e._finID=s.concat([t,s.from([0,0,0,1])]),s.concat([t,s.from([0,0,0,2])]);var r=new o(i),a=t.length,n=a%16;r.update(t),n&&(n=16-n,r.update(s.alloc(n,0))),r.update(s.alloc(8,0));var c=8*a,h=s.alloc(8);h.writeUIntBE(c,0,8),r.update(h),e._finID=r.state;var u=s.from(e._finID);return d(u),u}(this,i,h),this._prev=s.from(i),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}n(h,a),h.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=s.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),s=0;s<r;++s)i+=e[s]^t[s];return i}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},h.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=h},y9a5:function(e,t,i){var r=i("8kJ5"),s=i("Wxe8");function a(e){this.rand=e||new s.Rand}e.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var s=new r(this.rand.generate(i))}while(s.cmp(e)>=0);return s},a.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},a.prototype.test=function(e,t,i){var s=e.bitLength(),a=r.mont(e),n=new r(1).toRed(a);t||(t=Math.max(1,s/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var d=e.shrn(c),h=o.toRed(a);t>0;t--){var u=this._randrange(new r(2),o);i&&i(u);var l=u.toRed(a).redPow(d);if(0!==l.cmp(n)&&0!==l.cmp(h)){for(var f=1;f<c;f++){if(0===(l=l.redSqr()).cmp(n))return!1;if(0===l.cmp(h))break}if(f===c)return!1}}return!0},a.prototype.getDivisor=function(e,t){var i=e.bitLength(),s=r.mont(e),a=new r(1).toRed(s);t||(t=Math.max(1,i/48|0));for(var n=e.subn(1),o=0;!n.testn(o);o++);for(var c=e.shrn(o),d=n.toRed(s);t>0;t--){var h=this._randrange(new r(2),n),u=e.gcd(h);if(0!==u.cmpn(1))return u;var l=h.toRed(s).redPow(c);if(0!==l.cmp(a)&&0!==l.cmp(d)){for(var f=1;f<o;f++){if(0===(l=l.redSqr()).cmp(a))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(d))break}if(f===o)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},yCtF:function(e,t,i){(function(t){var r=i("PoH+"),s=i("8kJ5"),a=i("ePSE"),n=i("ZYG8"),o=i("BGdb"),c=i("fS3h"),d=function(e){return s.isBN(e)},h=function(e){return e&&e.constructor&&"BigNumber"===e.constructor.name},u=function(e){try{return a.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},l=function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(e)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(e))||f(e))},f=function(e){e=e.replace(/^0x/i,"");for(var t=g(e.toLowerCase()).replace(/^0x/i,""),i=0;i<40;i++)if(parseInt(t[i],16)>7&&e[i].toUpperCase()!==e[i]||parseInt(t[i],16)<=7&&e[i].toLowerCase()!==e[i])return!1;return!0},p=function(e){var t="";e=(e=(e=(e=(e=n.encode(e)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var i=0;i<e.length;i++){var r=e.charCodeAt(i).toString(16);t+=r.length<2?"0"+r:r}return"0x"+t},m=function(e){if(r.isNull(e)||r.isUndefined(e))return e;if(!isFinite(e)&&!b(e))throw new Error('Given input "'+e+'" is not a number.');var t=u(e),i=t.toString(16);return t.lt(new s(0))?"-0x"+i.substr(1):"0x"+i},y=function(e){if(e=e.toString(16),!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16));return t},b=function(e){return(r.isString(e)||r.isNumber(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},v="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",g=function(e){d(e)&&(e=e.toString()),b(e)&&/^0x/i.test(e.toString())&&(e=y(e));var t=o.keccak256(e);return t===v?null:t};g._Hash=o;e.exports={BN:s,isBN:d,isBigNumber:h,toBN:u,isAddress:l,isBloom:function(e){return c.isBloom(e)},isUserEthereumAddressInBloom:function(e,t){return c.isUserEthereumAddressInBloom(e,t)},isContractAddressInBloom:function(e,t){return c.isContractAddressInBloom(e,t)},isTopic:function(e){return c.isTopic(e)},isTopicInBloom:function(e,t){return c.isTopicInBloom(e,t)},isInBloom:function(e,t){return c.isInBloom(e,t)},checkAddressChecksum:f,utf8ToHex:p,hexToUtf8:function(e){if(!b(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');for(var t="",i=0,r=(e=(e=(e=(e=(e=e.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,s=0;s<r;s+=2)i=parseInt(e.substr(s,2),16),t+=String.fromCharCode(i);return n.decode(t)},hexToNumber:function(e){if(!e)return e;if(r.isString(e)&&!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return u(e).toNumber()},hexToNumberString:function(e){if(!e)return e;if(r.isString(e)&&!b(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return u(e).toString(10)},numberToHex:m,toHex:function(e,i){if(l(e))return i?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if(r.isBoolean(e))return i?"bool":e?"0x01":"0x00";if(t.isBuffer(e))return"0x"+e.toString("hex");if(r.isObject(e)&&!h(e)&&!d(e))return i?"string":p(JSON.stringify(e));if(r.isString(e)){if(0===e.indexOf("-0x")||0===e.indexOf("-0X"))return i?"int256":m(e);if(0===e.indexOf("0x")||0===e.indexOf("0X"))return i?"bytes":e;if(!isFinite(e))return i?"string":p(e)}return i?e<0?"int256":"uint256":m(e)},hexToBytes:y,bytesToHex:function(e){for(var t=[],i=0;i<e.length;i++)t.push((e[i]>>>4).toString(16)),t.push((15&e[i]).toString(16));return"0x"+t.join("")},isHex:function(e){return(r.isString(e)||r.isNumber(e))&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},isHexStrict:b,leftPad:function(e,t,i){var r=/^0x/i.test(e)||"number"===typeof e,s=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(r?"0x":"")+new Array(s).join(i||"0")+e},rightPad:function(e,t,i){var r=/^0x/i.test(e)||"number"===typeof e,s=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(r?"0x":"")+e+new Array(s).join(i||"0")},toTwosComplement:function(e){return"0x"+u(e).toTwos(256).toString(16,64)},sha3:g,sha3Raw:function(e){return null===(e=g(e))?v:e}}}).call(this,i("qykS").Buffer)},yD7y:function(e,t,i){var r=i("wfEq"),s=i("KSsY"),a=i("pRMk").Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,s.call(this,64,56)}function d(e,t,i){return i^e&(t^i)}function h(e,t,i){return e&t|i&(e|t)}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,y=0|this._h,b=0;b<16;++b)i[b]=e.readInt32BE(4*b);for(;b<64;++b)i[b]=0|(((t=i[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+i[b-7]+f(i[b-15])+i[b-16];for(var v=0;v<64;++v){var g=y+l(c)+d(c,p,m)+n[v]+i[v]|0,w=u(r)+h(r,s,a)|0;y=m,m=p,p=c,c=o+g|0,o=a,a=s,s=r,r=g+w|0}this._a=r+this._a|0,this._b=s+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},yFCW:function(e,t,i){"use strict";var r=null;e.exports=function(e,t){return function(i,s){i=i||null;var a=!1!==(s=s||{}).global;if(null===r&&a&&(r=e["@@any-promise/REGISTRATION"]||null),null!==r&&null!==i&&r.implementation!==i)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==i&&"undefined"!==typeof s.Promise?{Promise:s.Promise,implementation:i}:t(i),a&&(e["@@any-promise/REGISTRATION"]=r)),r}}},yoUs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("1sp3"),s=i("QOjt");t.keccak256=function(e){return"0x"+r.keccak_256(s.arrayify(e))}},yuDq:function(e,t,i){e.exports=i("A/eZ")},z1Oi:function(e,t,i){"use strict";var r=i("eAlZ"),s=i("NCU5"),a=i("5EA2");function n(e,t){return void 0===e?t:(r.isBoolean(e,a.COMPRESSED_TYPE_INVALID),e)}e.exports=function(e){return{privateKeyVerify:function(t){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,i){r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),i=n(i,!0);var o=e.privateKeyExport(t,i);return s.privateKeyExport(t,o,i)},privateKeyImport:function(t){if(r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),(t=s.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(a.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,i){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(i,a.TWEAK_TYPE_INVALID),r.isBufferLength(i,32,a.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,i)},privateKeyTweakMul:function(t,i){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),r.isBuffer(i,a.TWEAK_TYPE_INVALID),r.isBufferLength(i,32,a.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,i)},publicKeyCreate:function(t,i){return r.isBuffer(t,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(t,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),i=n(i,!0),e.publicKeyCreate(t,i)},publicKeyConvert:function(t,i){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),i=n(i,!0),e.publicKeyConvert(t,i)},publicKeyVerify:function(t){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,i,s){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(i,a.TWEAK_TYPE_INVALID),r.isBufferLength(i,32,a.TWEAK_LENGTH_INVALID),s=n(s,!0),e.publicKeyTweakAdd(t,i,s)},publicKeyTweakMul:function(t,i,s){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(i,a.TWEAK_TYPE_INVALID),r.isBufferLength(i,32,a.TWEAK_LENGTH_INVALID),s=n(s,!0),e.publicKeyTweakMul(t,i,s)},publicKeyCombine:function(t,i){r.isArray(t,a.EC_PUBLIC_KEYS_TYPE_INVALID),r.isLengthGTZero(t,a.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var s=0;s<t.length;++s)r.isBuffer(t[s],a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t[s],33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID);return i=n(i,!0),e.publicKeyCombine(t,i)},signatureNormalize:function(t){return r.isBuffer(t,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,a.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){r.isBuffer(t,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(t,64,a.ECDSA_SIGNATURE_LENGTH_INVALID);var i=e.signatureExport(t);return s.signatureExport(i)},signatureImport:function(t){r.isBuffer(t,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,a.ECDSA_SIGNATURE_LENGTH_INVALID);var i=s.signatureImport(t);if(i)return e.signatureImport(i);throw new Error(a.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){r.isBuffer(t,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isLengthGTZero(t,a.ECDSA_SIGNATURE_LENGTH_INVALID);var i=s.signatureImportLax(t);if(i)return e.signatureImport(i);throw new Error(a.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,i,s){r.isBuffer(t,a.MSG32_TYPE_INVALID),r.isBufferLength(t,32,a.MSG32_LENGTH_INVALID),r.isBuffer(i,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(i,32,a.EC_PRIVATE_KEY_LENGTH_INVALID);var n=null,o=null;return void 0!==s&&(r.isObject(s,a.OPTIONS_TYPE_INVALID),void 0!==s.data&&(r.isBuffer(s.data,a.OPTIONS_DATA_TYPE_INVALID),r.isBufferLength(s.data,32,a.OPTIONS_DATA_LENGTH_INVALID),n=s.data),void 0!==s.noncefn&&(r.isFunction(s.noncefn,a.OPTIONS_NONCEFN_TYPE_INVALID),o=s.noncefn)),e.sign(t,i,o,n)},verify:function(t,i,s){return r.isBuffer(t,a.MSG32_TYPE_INVALID),r.isBufferLength(t,32,a.MSG32_LENGTH_INVALID),r.isBuffer(i,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(i,64,a.ECDSA_SIGNATURE_LENGTH_INVALID),r.isBuffer(s,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(s,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,i,s)},recover:function(t,i,s,o){return r.isBuffer(t,a.MSG32_TYPE_INVALID),r.isBufferLength(t,32,a.MSG32_LENGTH_INVALID),r.isBuffer(i,a.ECDSA_SIGNATURE_TYPE_INVALID),r.isBufferLength(i,64,a.ECDSA_SIGNATURE_LENGTH_INVALID),r.isNumber(s,a.RECOVERY_ID_TYPE_INVALID),r.isNumberInInterval(s,-1,4,a.RECOVERY_ID_VALUE_INVALID),o=n(o,!0),e.recover(t,i,s,o)},ecdh:function(t,i){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(i,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(i,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,i)},ecdhUnsafe:function(t,i,s){return r.isBuffer(t,a.EC_PUBLIC_KEY_TYPE_INVALID),r.isBufferLength2(t,33,65,a.EC_PUBLIC_KEY_LENGTH_INVALID),r.isBuffer(i,a.EC_PRIVATE_KEY_TYPE_INVALID),r.isBufferLength(i,32,a.EC_PRIVATE_KEY_LENGTH_INVALID),s=n(s,!0),e.ecdhUnsafe(t,i,s)}}}},zH8T:function(e,t,i){"use strict";e.exports=i("yFCW")(window,(function(){if("undefined"===typeof window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}))},zIi3:function(e,t){var i=function(e){return function(){return new Promise((function(t,i){var r,s=function(i){var r={},s=i.target.files.length,a=0;[].map.call(i.target.files,(function(i){var n=new FileReader;n.onload=function(n){var o=new Uint8Array(n.target.result);if("directory"===e){var c=i.webkitRelativePath;r[c.slice(c.indexOf("/")+1)]={type:"text/plain",data:o},++a===s&&t(r)}else if("file"===e){var d=i.webkitRelativePath;t({type:mimetype.lookup(d),data:o})}else t(o)},n.readAsArrayBuffer(i)}))};"directory"===e?((r=document.createElement("input")).addEventListener("change",s),r.type="file",r.webkitdirectory=!0,r.mozdirectory=!0,r.msdirectory=!0,r.odirectory=!0,r.directory=!0):((r=document.createElement("input")).addEventListener("change",s),r.type="file");var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),r.dispatchEvent(a)}))}};e.exports={data:i("data"),file:i("file"),directory:i("directory")}},zRfg:function(e,t,i){(function(t){const r=i("LOya"),s=i("8kJ5");var a=function(){};function n(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function o(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function c(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function d(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function h(e){var t=typeof e;if("string"===t)return r.isHexPrefixed(e)?new s(r.stripHexPrefix(e),16):new s(e,10);if("number"===t)return new s(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function u(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var i=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==i&&3===i.length)return{method:t[1],args:i[1].split(","),retargs:i[2].split(",")};var r=t[2].split(",");return 1===r.length&&""===r[0]&&(r=[]),{method:t[1],args:r}}function l(e,i){var a,n,u,f;if("address"===e)return l("uint160",h(i));if("bool"===e)return l("uint8",i?1:0);if("string"===e)return l("bytes",t.from(i,"utf8"));if(y(e)){if("undefined"===typeof i.length)throw new Error("Not an array?");if("dynamic"!==(a=d(e))&&0!==a&&i.length>a)throw new Error("Elements exceed array size: "+a);for(f in u=[],e=e.slice(0,e.lastIndexOf("[")),"string"===typeof i&&(i=JSON.parse(i)),i)u.push(l(e,i[f]));if("dynamic"===a){var p=l("uint256",i.length);u.unshift(p)}return t.concat(u)}if("bytes"===e)return i=t.from(i),u=t.concat([l("uint256",i.length),i]),i.length%32!==0&&(u=t.concat([u,r.zeros(32-i.length%32)])),u;if(e.startsWith("bytes")){if((a=o(e))<1||a>32)throw new Error("Invalid bytes<N> width: "+a);return r.setLengthRight(i,32)}if(e.startsWith("uint")){if((a=o(e))%8||a<8||a>256)throw new Error("Invalid uint<N> width: "+a);if((n=h(i)).bitLength()>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(t,"be",32)}if(e.startsWith("int")){if((a=o(e))%8||a<8||a>256)throw new Error("Invalid int<N> width: "+a);if((n=h(i)).bitLength()>a)throw new Error("Supplied int exceeds width: "+a+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(t,"be",32)}if(e.startsWith("ufixed")){if(a=c(e),(n=h(i))<0)throw new Error("Supplied ufixed is negative");return l("uint256",n.mul(new s(2).pow(new s(a[1]))))}if(e.startsWith("fixed"))return a=c(e),l("int256",h(i).mul(new s(2).pow(new s(a[1]))));throw new Error("Unsupported or invalid type: "+e)}function f(e,i,r){var a,n,o,c;if("string"===typeof e&&(e=p(e)),"address"===e.name)return f(e.rawType,i,r).toArrayLike(t,"be",20).toString("hex");if("bool"===e.name)return f(e.rawType,i,r).toString()===new s(1).toString();if("string"===e.name){var d=f(e.rawType,i,r);return t.from(d,"utf8").toString()}if(e.isArray){for(o=[],a=e.size,"dynamic"===e.size&&(r=f("uint256",i,r).toNumber(),a=f("uint256",i,r).toNumber(),r+=32),c=0;c<a;c++){var h=f(e.subArray,i,r);o.push(h),r+=e.subArray.memoryUsage}return o}if("bytes"===e.name)return r=f("uint256",i,r).toNumber(),a=f("uint256",i,r).toNumber(),i.slice(r+32,r+32+a);if(e.name.startsWith("bytes"))return i.slice(r,r+e.size);if(e.name.startsWith("uint")){if((n=new s(i.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+n.bitLength());return n}if(e.name.startsWith("int")){if((n=new s(i.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+n.bitLength());return n}if(e.name.startsWith("ufixed")){if(a=new s(2).pow(new s(e.size[1])),!(n=f("uint256",i,r)).mod(a).isZero())throw new Error("Decimals not supported yet");return n.div(a)}if(e.name.startsWith("fixed")){if(a=new s(2).pow(new s(e.size[1])),!(n=f("int256",i,r)).mod(a).isZero())throw new Error("Decimals not supported yet");return n.div(a)}throw new Error("Unsupported or invalid type: "+e.name)}function p(e){var t,i,r;if(y(e)){t=d(e);var s=e.slice(0,e.lastIndexOf("["));return s=p(s),i={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:s.memoryUsage*t,subArray:s}}switch(e){case"address":r="uint160";break;case"bool":r="uint8";break;case"string":r="bytes"}if(i={rawType:r,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?i.size=o(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(i.size=c(e)),e.startsWith("bytes")&&"bytes"!==e&&(i.size<1||i.size>32))throw new Error("Invalid bytes<N> width: "+i.size);if((e.startsWith("uint")||e.startsWith("int"))&&(i.size%8||i.size<8||i.size>256))throw new Error("Invalid int/uint<N> width: "+i.size);return i}function m(e){return"string"===e||"bytes"===e||"dynamic"===d(e)}function y(e){return e.lastIndexOf("]")===e.length-1}function b(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}a.eventID=function(e,i){var s=e+"("+i.map(n).join(",")+")";return r.keccak256(t.from(s))},a.methodID=function(e,t){return a.eventID(e,t).slice(0,4)},a.rawEncode=function(e,i){var r=[],s=[],a=0;e.forEach((function(e){if(y(e)){var t=d(e);a+="dynamic"!==t?32*t:32}else a+=32}));for(var o=0;o<e.length;o++){var c=n(e[o]),h=l(c,i[o]);m(c)?(r.push(l("uint256",a)),s.push(h),a+=h.length):r.push(h)}return t.concat(r.concat(s))},a.rawDecode=function(e,i){var r=[];i=t.from(i);for(var s=0,a=0;a<e.length;a++){var o=p(n(e[a])),c=f(o,i,s);s+=o.memoryUsage,r.push(c)}return r},a.simpleEncode=function(e){var i=Array.prototype.slice.call(arguments).slice(1),r=u(e);if(i.length!==r.args.length)throw new Error("Argument count mismatch");return t.concat([a.methodID(r.method,r.args),a.rawEncode(r.args,i)])},a.simpleDecode=function(e,t){var i=u(e);if(!i.retargs)throw new Error("No return values in method");return a.rawDecode(i.retargs,t)},a.stringify=function(e,t){var i=[];for(var r in e){var s=e[r],a=t[r];a=/^[^\[]+\[.*\]$/.test(s)?a.map((function(e){return b(s,e)})).join(", "):b(s,a),i.push(a)}return i},a.solidityHexValue=function(e,i,s){var n,c;if(y(e)){var u=e.replace(/\[.*?\]/,"");if(!y(u)){var l=d(e);if("dynamic"!==l&&0!==l&&i.length>l)throw new Error("Elements exceed array size: "+l)}var f=i.map((function(e){return a.solidityHexValue(u,e,256)}));return t.concat(f)}if("bytes"===e)return i;if("string"===e)return t.from(i,"utf8");if("bool"===e){s=s||8;var p=Array(s/4).join("0");return t.from(i?p+"1":p+"0","hex")}if("address"===e){var m=20;return s&&(m=s/8),r.setLengthLeft(i,m)}if(e.startsWith("bytes")){if((n=o(e))<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return r.setLengthRight(i,n)}if(e.startsWith("uint")){if((n=o(e))%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if((c=h(i)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c.bitLength());return s=s||n,c.toArrayLike(t,"be",s/8)}if(e.startsWith("int")){if((n=o(e))%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if((c=h(i)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c.bitLength());return s=s||n,c.toTwos(n).toArrayLike(t,"be",s/8)}throw new Error("Unsupported or invalid type: "+e)},a.solidityPack=function(e,i){if(e.length!==i.length)throw new Error("Number of types are not matching the values");for(var r=[],s=0;s<e.length;s++){var o=n(e[s]),c=i[s];r.push(a.solidityHexValue(o,c,null))}return t.concat(r)},a.soliditySHA3=function(e,t){return r.keccak256(a.solidityPack(e,t))},a.soliditySHA256=function(e,t){return r.sha256(a.solidityPack(e,t))},a.solidityRIPEMD160=function(e,t){return r.ripemd160(a.solidityPack(e,t),!0)},a.fromSerpent=function(e){for(var t,i=[],r=0;r<e.length;r++){var s=e[r];if("s"===s)i.push("bytes");else if("b"===s){for(var a="bytes",n=r+1;n<e.length&&((t=e[n])>="0"&&t<="9");)a+=e[n]-"0",n++;r=n-1,i.push(a)}else if("i"===s)i.push("int256");else{if("a"!==s)throw new Error("Unsupported or invalid type: "+s);i.push("int256[]")}}return i},a.toSerpent=function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];if("bytes"===r)t.push("s");else if(r.startsWith("bytes"))t.push("b"+o(r));else if("int256"===r)t.push("i");else{if("int256[]"!==r)throw new Error("Unsupported or invalid type: "+r);t.push("a")}}return t.join("")},e.exports=a}).call(this,i("qykS").Buffer)},"zl+m":function(e,t,i){"use strict";const r=i("OjXq"),{TICK_SIZE:s}=i("rwG2"),{AuthenticationError:a,ExchangeError:n,ArgumentsRequired:o,PermissionDenied:c,InvalidOrder:d,OrderNotFound:h,DDoSProtection:u,NotSupported:l,ExchangeNotAvailable:f,InsufficientFunds:p}=i("ucJe");e.exports=class extends r{describe(){return this.deepExtend(super.describe(),{id:"deribit",name:"Deribit",countries:["NL"],version:"v1",userAgent:void 0,rateLimit:2e3,has:{CORS:!0,editOrder:!0,fetchOrder:!0,fetchOrders:!1,fetchOpenOrders:!0,fetchClosedOrders:!0,fetchMyTrades:!0,fetchTickers:!1},urls:{test:"https://test.deribit.com",logo:"https://user-images.githubusercontent.com/1294454/41933112-9e2dd65a-798b-11e8-8440-5bab2959fcb8.jpg",api:"https://www.deribit.com",www:"https://www.deribit.com",doc:["https://docs.deribit.com","https://github.com/deribit"],fees:"https://www.deribit.com/pages/information/fees",referral:"https://www.deribit.com/reg-1189.4038"},api:{public:{get:["ping","test","getinstruments","index","getcurrencies","getorderbook","getlasttrades","getsummary","stats","getannouncments"]},private:{get:["account","getopenorders","positions","orderhistory","orderstate","tradehistory","newannouncements"],post:["buy","sell","edit","cancel","cancelall"]}},exceptions:{9999:c,1e4:a,10001:n,10002:d,10003:d,10004:h,10005:d,10006:d,10007:d,10008:d,10009:p,10010:h,10011:d,10012:d,10013:c,10014:c,10015:c,10016:c,10017:c,10019:c,10020:n,10022:d,10023:d,10024:d,10025:d,10026:d,10027:d,10028:u,10029:h,10030:n,10031:n,10032:d,10033:l,10034:d,10035:d,11035:d,11036:d,11037:d,11038:d,11039:d,11040:d,11041:d,11042:c,11044:h,11045:n,11046:n,11047:n,11048:n,11050:n,11051:f,11030:n,11031:n},precisionMode:s,options:{fetchTickerQuotes:!0}})}async fetchMarkets(e={}){const t=await this.publicGetGetinstruments(e),i=this.safeValue(t,"result"),r=[];for(let s=0;s<i.length;s++){const e=i[s],t=this.safeString(e,"instrumentName"),a=this.safeString(e,"baseCurrency"),n=this.safeString(e,"currency"),o=this.safeCurrencyCode(a),c=this.safeCurrencyCode(n),d=this.safeString(e,"kind"),h="future"===d,u="option"===d,l=this.safeValue(e,"isActive"),f={amount:this.safeFloat(e,"minTradeAmount"),price:this.safeFloat(e,"tickSize")};r.push({id:t,symbol:t,base:o,quote:c,active:l,precision:f,limits:{amount:{min:this.safeFloat(e,"minTradeAmount"),max:void 0},price:{min:this.safeFloat(e,"tickSize"),max:void 0},cost:{min:void 0,max:void 0}},type:d,spot:!1,future:h,option:u,info:e})}return r}async fetchBalance(e={}){await this.loadMarkets();const t=await this.privateGetAccount(e),i={info:t},r=this.safeValue(t,"result",{}),s=this.safeString(r,"currency"),a=this.safeCurrencyCode(s),n=this.account();return n.free=this.safeFloat(r,"availableFunds"),n.used=this.safeFloat(r,"maintenanceMargin"),n.total=this.safeFloat(r,"equity"),i[a]=n,this.parseBalance(i)}async fetchDepositAddress(e,t={}){await this.loadMarkets();const i={currency:this.currency(e).id},r=await this.privateGetAccount(this.extend(i,t)),s=this.safeValue(r,"result",{});return{currency:e,address:this.safeString(s,"depositAddress"),tag:void 0,info:r}}parseTicker(e,t){const i=this.safeInteger(e,"created");let r=void 0;const s=this.safeString(e,"instrumentName");s in this.markets_by_id&&(t=this.markets_by_id[s]),void 0===r&&void 0!==t&&(r=t.symbol);const a=this.safeFloat(e,"last");return{symbol:r,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(e,"high"),low:this.safeFloat(e,"low"),bid:this.safeFloat(e,"bidPrice"),bidVolume:void 0,ask:this.safeFloat(e,"askPrice"),askVolume:void 0,vwap:void 0,open:void 0,close:a,last:a,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:void 0,quoteVolume:this.safeFloat(e,"volume"),info:e}}async fetchTicker(e,t={}){await this.loadMarkets();const i=this.market(e),r={instrument:i.id},s=await this.publicGetGetsummary(this.extend(r,t));return this.parseTicker(s.result,i)}parseTrade(e,t){const i=this.safeString(e,"tradeId"),r=this.safeString(e,"orderId");let s=void 0;void 0!==t&&(s=t.symbol);const a=this.safeInteger(e,"timeStamp"),n=this.safeString2(e,"side","direction"),o=this.safeFloat(e,"price"),c=this.safeFloat(e,"quantity");let d=void 0;void 0!==c&&void 0!==o&&(d=c*o);let h=void 0;const u=this.safeFloat(e,"fee");if(void 0!==u){const t=this.safeString(e,"feeCurrency");h={cost:u,currency:this.safeCurrencyCode(t)}}return{id:i,info:e,timestamp:a,datetime:this.iso8601(a),symbol:s,order:r,type:void 0,side:n,takerOrMaker:void 0,price:o,amount:c,cost:d,fee:h}}async fetchTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument:s.id};a.limit=void 0!==i?i:1e4;const n=await this.publicGetGetlasttrades(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}async fetchOrderBook(e,t,i={}){await this.loadMarkets();const r={instrument:this.market(e).id},s=await this.publicGetGetorderbook(this.extend(r,i)),a=this.safeInteger(s,"usOut")/1e3,n=this.parseOrderBook(s.result,a,"bids","asks","price","quantity");return this.extend(n,{nonce:this.safeInteger(s,"tstamp")})}parseOrderStatus(e){return this.safeString({open:"open",cancelled:"canceled",filled:"closed"},e,e)}parseOrder(e,t){const i=this.safeInteger(e,"created"),r=this.safeInteger(e,"lastUpdate");let s=this.safeInteger2(e,"tstamp","modified");const a=this.safeString(e,"orderId"),n=this.safeFloat(e,"price"),o=this.safeFloat(e,"avgPrice"),c=this.safeFloat(e,"quantity"),d=this.safeFloat(e,"filledQuantity");void 0===s&&void 0!==d&&d>0&&(s=r);let h=void 0,u=void 0;void 0!==d&&(void 0!==c&&(h=c-d),void 0!==n&&(u=n*d));const l=this.parseOrderStatus(this.safeString(e,"state")),f=this.safeStringLower(e,"direction");let p=this.safeFloat(e,"commission");void 0!==p&&(p=Math.abs(p));const m={cost:p,currency:"BTC"},y=this.safeString(e,"type"),b=this.safeString(e,"instrument");let v=void 0;return b in this.markets_by_id&&(v=this.markets_by_id[b].symbol),{info:e,id:a,timestamp:i,datetime:this.iso8601(i),lastTradeTimestamp:s,symbol:v,type:y,side:f,price:n,amount:c,cost:u,average:o,filled:d,remaining:h,status:l,fee:m,trades:void 0}}async fetchOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privateGetOrderstate(this.extend(r,i)),a=this.safeValue(s,"result");if(void 0===a)throw new h(this.id+" fetchOrder() "+this.json(s));return this.parseOrder(a)}async createOrder(e,t,i,r,s,a={}){await this.loadMarkets();const n={instrument:this.marketId(e),quantity:r,type:t};void 0!==s&&(n.price=s);const o="privatePost"+this.capitalize(i),c=await this[o](this.extend(n,a)),d=this.safeValue(c.result,"order");return void 0===d?c:this.parseOrder(d)}async editOrder(e,t,i,r,s,a,n={}){await this.loadMarkets();const o={orderId:e};void 0!==s&&(o.quantity=s),void 0!==a&&(o.price=a);const c=await this.privatePostEdit(this.extend(o,n));return this.parseOrder(c.result.order)}async cancelOrder(e,t,i={}){await this.loadMarkets();const r={orderId:e},s=await this.privatePostCancel(this.extend(r,i));return this.parseOrder(s.result.order)}async fetchOpenOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={instrument:s.id},n=await this.privateGetGetopenorders(this.extend(a,r));return this.parseOrders(n.result,s,t,i)}async fetchClosedOrders(e,t,i,r={}){if(void 0===e)throw new o(this.id+" fetchClosedOrders() requires a `symbol` argument");await this.loadMarkets();const s=this.market(e),a={instrument:s.id},n=await this.privateGetOrderhistory(this.extend(a,r));return this.parseOrders(n.result,s,t,i)}async fetchMyTrades(e,t,i,r={}){await this.loadMarkets();const s=this.market(e),a={instrument:s.id};void 0!==i&&(a.count=i);const n=await this.privateGetTradehistory(this.extend(a,r)),o=this.safeValue(n,"result",[]);return this.parseTrades(o,s,t,i)}nonce(){return this.milliseconds()}sign(e,t="public",i="GET",r={},s,a){const n="/api/"+this.version+"/"+t+"/"+e;let o=this.urls.api+n;if("public"===t)Object.keys(r).length&&(o+="?"+this.urlencode(r));else{this.checkRequiredCredentials();const e=this.nonce().toString();let t="_="+e+"&_ackey="+this.apiKey+"&_acsec="+this.secret+"&_action="+n;Object.keys(r).length&&(r=this.keysort(r),t+="&"+this.urlencode(r));const c=this.hash(this.encode(t),"sha256","base64");s={"x-deribit-sig":this.apiKey+"."+e+"."+this.decode(c)},"GET"!==i?(s["Content-Type"]="application/x-www-form-urlencoded",a=this.urlencode(r)):Object.keys(r).length&&(o+="?"+this.urlencode(r))}return{url:o,method:i,body:a,headers:s}}handleErrors(e,t,i,r,s,a,o,c,d){if(!o)return;const h=this.safeString(o,"error");if(void 0!==h&&"0"!==h){const e=this.id+" "+a;throw this.throwExactlyMatchedException(this.exceptions,h,e),new n(e)}}}},zn3x:function(e,t,i){"use strict";var r=i("wfEq"),s=i("pRMk").Buffer,a=i("ql4I"),n=s.alloc(128),o=64;function c(e,t){a.call(this,"digest"),"string"===typeof t&&(t=s.from(t)),this._alg=e,this._key=t,t.length>o?t=e(t):t.length<o&&(t=s.concat([t,n],o));for(var i=this._ipad=s.allocUnsafe(o),r=this._opad=s.allocUnsafe(o),c=0;c<o;c++)i[c]=54^t[c],r[c]=92^t[c];this._hash=[i]}r(c,a),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,e]))},e.exports=c},zxuB:function(e,t,i){var r=i("pRMk").Buffer,s=i("smmp");function a(e,t,i){var a=t.length,n=s(t,e._cache);return e._cache=e._cache.slice(a),e._prev=r.concat([e._prev,i?t:n]),n}t.encrypt=function(e,t,i){for(var s,n=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){n=r.concat([n,a(e,t,i)]);break}s=e._cache.length,n=r.concat([n,a(e,t.slice(0,s),i)]),t=t.slice(s)}return n}}}]);